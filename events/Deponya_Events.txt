add_namespace = deponya_idyll
add_namespace = deponya_military
add_namespace = deponya_loyalists
add_namespace = deponya_whisperers
add_namespace = deponya_hamlets
add_namespace = deponya_association

add_namespace = deponya_princely
add_namespace = deponya_lake_war
add_namespace = deponya_lake_cooperation

add_namespace = deponya_vartai_war
add_namespace = deponya_vartai_diplomacy
add_namespace = deponya_reformisten

add_namespace = deponya_grimhoof
add_namespace = deponya_flavour


######################
### Agrarian Idyll ###
######################

country_event = { 
	id = deponya_idyll.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_idyll.1"}
	title = deponya_idyll.1.t
	desc = deponya_idyll.1.d

	picture = GFX_farm_event
	is_triggered_only = yes

	option = {
		name = deponya_idyll.1.a
	}
}

#####################
## Princely Vassal ##
#####################

country_event = { ### Focus Return of the Empire
	id = deponya_princely.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.1"}
	title = deponya_princely.1.t
	desc = deponya_princely.1.d

	picture = GFX_event_lake_city
	is_triggered_only = yes

	option = {
		name = deponya_idyll.1.a
	}
}

country_event = { ### Focus Reforged Empire, Reforged Soldiers
	id = deponya_princely.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.2"}
	title = deponya_princely.2.t
	desc = deponya_princely.2.d

	picture = GFX_event_pony_soldiers_sunset
	is_triggered_only = yes

	option = {
		name = deponya_idyll.2.a
		add_war_support = 0.025
	}
}

country_event = { ### Focus Coffee Time Invitations
	id = deponya_princely.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.3"}
	title = deponya_princely.3.t
	desc = deponya_princely.3.d

	picture = GFX_event_exu_news
	is_triggered_only = yes

	option = { ### Spider Whisperers
		name = deponya_idyll.3.a
		add_popularity = { ideology = democratic popularity = 0.1 }
	}
	option = { ### Loyal Hamlets & Revolutionaries
		name = deponya_idyll.3.b
		add_popularity = { ideology = communism popularity = 0.1 }
	}
	option = { ### Spider Whisperers
		name = deponya_idyll.3.c
		add_popularity = { ideology = fascism popularity = 0.1 }
	}
}

country_event = { #### Focus Return of the Golden Age
	id = deponya_princely.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.4"}
	title = deponya_princely.4.t
	desc = deponya_princely.4.d

	picture = GFX_event_lake_city
	is_triggered_only = yes

	option = { ### Military idea
		name = deponya_princely.4.a
		add_ideas = DEP_princely_military_idea
	}
	option = { ### Economy idea
		name = deponya_princely.4.b
		add_ideas = DEP_princely_economy_idea
	}
}

country_event = { #### Focus Glory of the Empire
	id = deponya_princely.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.5"}
	title = deponya_princely.5.t
	desc = deponya_princely.5.d

	picture = GFX_event_lake_city
	is_triggered_only = yes

	option = {
		name = deponya_princely.5.a
		add_stability = 0.05
		if = {
			limit = {
				has_government = democratic
			}
			add_popularity = { ideology = democratic popularity = 0.05 }
		}
		else_if = {
			limit = {
				has_government = fascism
			}
			add_popularity = { ideology = fascism popularity = 0.05 }
		}
		else_if = {
			limit = {
				has_government = communism
			}
			add_popularity = { ideology = communism popularity = 0.05 }
		}
		else = {
			add_popularity = { ideology = neutrality popularity = 0.05 }
		}
	}
}

country_event = { #### Focus Princess Honey Berry
	id = deponya_princely.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.6"}
	title = deponya_princely.6.t
	desc = deponya_princely.6.d

	picture = GFX_event_palace_hall
	is_triggered_only = yes

	option = {
		name = deponya_princely.6.a
		add_stability = 0.025
	}
}
country_event = { #### Focus Svetigrad-Maneceaster Line
	id = deponya_princely.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_princely.7"}
	title = deponya_princely.7.t
	desc = deponya_princely.7.d

	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = deponya_princely.7.a
		add_political_power = -15
	}
}

#################################
### Vartai Reformisten Events ###
#################################

country_event = { ### HLQ event when DEP disrupts resources
	id = deponya_reformisten.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_reformisten.1"}
	title = deponya_reformisten.1.t
	desc = deponya_reformisten.1.d

	picture = GFX_event_old_mine
	is_triggered_only = yes

	option = {
		name = deponya_reformisten.1.a
		if = {
			limit = {
				NOT = {
					has_dlc = "La Resistance"
				}
			}
			add_timed_idea = {
				idea = DEP_HLQ_less_resources
				days = 80
			}
		}
	}
}

country_event = { ### HLQ event when DEP blows up factories
	id = deponya_reformisten.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_reformisten.2"}
	title = deponya_reformisten.2.t
	desc = deponya_reformisten.2.d

	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = deponya_reformisten.2.a
		if = {
			limit = {
				NOT = {
					has_dlc = "La Resistance"
				}
			}
			random_core_state = {
				limit = {
					OR = {
						industrial_complex > 0
						arms_factory > 0
					}
				}
				50 = {
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				50 = {
					damage_building = {
						type = arms_factory
						damage = 1
					}
				}
			}
			random_core_state = {
				limit = {
					OR = {
						industrial_complex > 0
						arms_factory > 0
					}
				}
				50 = {
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				50 = {
					damage_building = {
						type = arms_factory
						damage = 1
					}
				}
			}
		}
	}
}

country_event = { ### HLQ event when DEP attacks a prison camp
	id = deponya_reformisten.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_reformisten.3"}
	title = deponya_reformisten.3.t
	desc = deponya_reformisten.3.d

	picture = GFX_event_griffon_camp
	is_triggered_only = yes

	option = {
		name = deponya_reformisten.3.a
	}
}

###############################
### Vartai Diplomacy Events ###
###############################

country_event = { ### Focus Ancient Borders of Eygsic
	id = deponya_vartai_diplomacy.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_vartai_diplomacy.1"}
	title = deponya_vartai_diplomacy.1.t
	desc = deponya_vartai_diplomacy.1.d

	picture = GFX_event_forest_quaint
	is_triggered_only = yes

	option = { ### boosts production efficiency cap
		name = deponya_vartai_diplomacy.1.a
		custom_effect_tooltip = DEP_study_vartai_production_factory_max_efficiency_factor_modifiers_tooltip
		add_to_variable = { DEP_eygsic_spider_production_factory_max_efficiency_factor_var = 0.075 }
		force_update_dynamic_modifier = yes
	}
	option = { ### boosts crystals
		name = deponya_vartai_diplomacy.1.b
		custom_effect_tooltip = DEP_study_vartai_crystals_modifiers_tooltip
		add_to_variable = { DEP_eygsic_spider_crystals_var = 8 }
		force_update_dynamic_modifier = yes
	}
	option = { ### boosts consumer goods
		name = deponya_vartai_diplomacy.1.c
		custom_effect_tooltip = DEP_study_vartai_consumer_goods_factor_modifiers_tooltip
		add_to_variable = { DEP_eygsic_spider_consumer_goods_var = -0.05 }
		force_update_dynamic_modifier = yes
	}
}

######################
### Agrarian Idyll ###
######################

country_event = { 
	id = deponya_idyll.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_idyll.1"}
	title = deponya_idyll.1.t
	desc = deponya_idyll.1.d

	picture = GFX_farm_event
	is_triggered_only = yes

	option = {
		name = deponya_idyll.1.a
	}
}

######################
### Flavour Events ###
######################

country_event = {
	id = deponya_flavour.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_flavour.1"}
	title = deponya_flavour.1.t
	desc = deponya_flavour.1.d

	picture = GFX_event_medieval_city_winter
	is_triggered_only = yes

	option = {
		name = deponya_flavour.1.a

	}
}


country_event = {
	id = deponya_flavour.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_flavour.2"}
	title = deponya_flavour.2.t
	desc = deponya_flavour.2.d

	picture = GFX_event_winter_forest
	is_triggered_only = yes

	option = {
		name = deponya_flavour.2.a

	}
}


country_event = {
	id = deponya_flavour.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_flavour.3"}
	title = deponya_flavour.3.t
	desc = deponya_flavour.3.d

	picture = GFX_event_medieval_village
	is_triggered_only = yes

	option = {
		name = deponya_flavour.3.a

	}
}


country_event = {
	id = deponya_flavour.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event deponya_flavour.4"}
	title = deponya_flavour.4.t
	desc = deponya_flavour.4.d

	picture = GFX_event_lodge
	is_triggered_only = yes

	option = {
		name = deponya_flavour.4.a

	}
}