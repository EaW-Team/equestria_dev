add_namespace = rivercity
add_namespace = rivercity_news

### Intro Event ###
#country_event = {
#	id = rivercity.1

#	title = rivercity.1.t
#	desc = rivercity.1.d
#	picture = GFX_event_lake_city
#
#	is_triggered_only = yes
#
#	immediate = {
#		hidden_effect = {
#			country_event = { id = rivercity.2 days = 10 }
#		}
#	}
#
#	option = {
#		name = rivercity.1.a
#	}
#}

### Intro ###
country_event = {
	id = rivercity.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.2"}
	title = rivercity.2.t
	desc = rivercity.2.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.2.a
	}
}

### OHSTakes Power
country_event = {
	id = rivercity.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.3"}
	title = rivercity.3.t
	desc = rivercity.3.d
	picture = GFX_event_river_city_3

	is_triggered_only = yes

	#Full Takeover
	option = {
		name = rivercity.3.a
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			create_country_leader = {
				name = "Arclight"
				#desc = "POLITICS_ARCLIGHT_DESC"
				picture = "Arclight.tga"
				expire = "1965.1.1"
				ideology = oligarchism
				traits = {
					head_of_ohs
					democratic_sympathies
				}
			}
		}
		else = {
			create_country_leader = {
				name = "Arclight"
				#desc = "POLITICS_ARCLIGHT_DESC"
				picture = "Arclight.tga"
				expire = "1965.1.1"
				ideology = oligarchism
				traits = {
					ohs_director
					dictator
					democratic_sympathies
				}
			}
		}

		if = {
			limit = {
				has_idea = RCT_arclight
			}
			remove_ideas = RCT_arclight
			add_political_power = 150
		}
		
		set_politics = { ruling_party = neutrality elections_allowed = no }
		set_party_name = { ideology = neutrality long_name = RCT_ohs_party_long name = RCT_ohs_party }
		add_stability = -0.25
		set_country_flag = RCT_OHS_in_power
	}

	#Puppet River Swirl
	option = {
		name = rivercity.3.b
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			create_country_leader = {
				name = "Arclight"
				#desc = "POLITICS_ARCLIGHT_DESC"
				picture = "Arclight.tga"
				expire = "1965.1.1"
				ideology = oligarchism
				traits = {
					head_of_ohs
					democratic_sympathies
				}
			}
		}
		else = {
			create_country_leader = {
				name = "Arclight"
				#desc = "POLITICS_ARCLIGHT_DESC"
				picture = "Arclight.tga"
				expire = "1965.1.1"
				ideology = oligarchism
				traits = {
					ohs_director
					dictator
					democratic_sympathies
				}
			}
		}

		if = {
			limit = {
				has_idea = RCT_arclight
			}
			remove_ideas = RCT_arclight
			add_political_power = 150
		}
		
		set_politics = { ruling_party = neutrality elections_allowed = no }
		set_party_name = { ideology = neutrality long_name = RCT_ohs_party_long name = RCT_ohs_party }
		add_ideas = RCT_river_swirl_puppet
		add_stability = -0.15
		set_country_flag = RCT_river_swirl_is_a_puppet
	}
}


country_event = { #New Treasury Officer
	id = rivercity.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.8"}
	title = rivercity.8.t
	desc = rivercity.8.d
	picture = GFX_event_river_swirl

	trigger = {
		original_tag = RCT
		has_government = democratic
		NOT = { 
			has_idea = RCT_unstable_government 
			has_country_flag = Promoted_Cousin_Pumpkin
		}
		amount_taken_ideas = {
			amount < 3
			slots = { political_advisor }
		}
		has_country_leader = { ruling_only = yes name = "River Swirl" }
	}

	mean_time_to_happen = {
		months = 1
	}

	fire_only_once = yes

	option = { #Promote some low level administrator
		name = rivercity.8.a
		add_political_power = -100
		custom_effect_tooltip = RCT_idiot
		custom_effect_tooltip = RCT_babushka_mad
	}
	option = { #Put Cousin Pumpkin Swirl Incharge
		name = rivercity.8.b
		hidden_effect = {
			set_country_flag = Promoted_Cousin_Pumpkin
		}
		custom_effect_tooltip = RCT_babushka
		set_country_flag = { flag = Cousin_Pumpkin_timeout value = 1 days = 180 }
		add_ideas = RCT_pumpkin_swirl
	}
}

country_event = {
	id = rivercity.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.9"}
	title = rivercity.9.t
	desc = rivercity.9.d
	picture = GFX_event_bank_vault

	trigger = {
		original_tag = RCT
		has_government = democratic
		has_idea = RCT_pumpkin_swirl 
		NOT = { has_country_flag = Cousin_Pumpkin_timeout }
	}

	mean_time_to_happen = {
		months = 6
	}

	fire_only_once = yes

	option = {
		name = rivercity.9.a
		set_country_flag = Cousin_Pumpkin_Is_Better
		swap_ideas = {
			add_idea = RCT_pumpkin_swirl2
			remove_idea = RCT_pumpkin_swirl
		}
	}
}

################################################
########	Government Problems Events	########
################################################

country_event = {#The first issue comes up. The poverty crisis. The Socialist Party can support it, or block it.
	id = rivercity.13 #First
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.13"}
	title = rivercity.13.t
	desc = rivercity.13.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {#The Harmonists force the bill through
		name = rivercity.13.a
		set_variable = { socialist_obstruction = 0 }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}

					has_country_flag = RCT_AI_OHS#The OHS wants the Socialists to interfere once and only once, to unlock Emergency Powers
					has_game_rule = {
						rule = RCT_ai_behavior
						option = OHS
					}
				}
			}
		}

		hidden_effect = {
			random_list = {#days to hours applied
				70 = {set_country_flag = RCT_bill_succeeds 	country_event = {id = rivercity.14 days = 4 random = 48}}
				30 = {set_country_flag = RCT_bill_fails country_event = {id = rivercity.14 days = 4 random = 48}}
			}
			country_event = {id = rivercity.16 days = 9 random = 24}
		}
	}
	option = {#The Socialists shoot the bill down
		name = rivercity.13.b
		set_variable = { socialist_obstruction = 1 }
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}

					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}

					has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}
				}
			}
			}

		if = {
			limit = {
				NOT = {
					has_country_flag = RCT_effin_gommies
				}
			}
			hidden_effect = {
				country_event = {id = rivercity.26 days = 5 random = 24}
			}
		}
		hidden_effect = {
			random_list = {#days to hours applied
				70 = {set_country_flag = RCT_public_blames_harmonists 	country_event = {id = rivercity.15 days = 4 random = 48}}
				30 = {set_country_flag = RCT_public_blames_you country_event = {id = rivercity.15 days = 4 random = 48}}
			}
			country_event = {id = rivercity.16 days = 9 random = 24}
		}
	}
}

country_event = {#Response to the Harmonist attempt at
	id = rivercity.14 #First
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.14"}
	title = rivercity.14.t
	desc = rivercity.14.d
	picture = GFX_event_river_swirl

	is_triggered_only = yes

	option = {#The Harmonists force the bill through
		name = rivercity.14.a

		if = {
			limit = {
				has_country_flag = RCT_bill_succeeds
			}
			add_political_power = 25
			add_popularity = { ideology = democratic popularity = 0.03}
			decrease_poverty = yes
		}
		else = {
			add_stability = -0.05
			add_popularity = { ideology = communism popularity = 0.05}
		}
	}
}

country_event = {#Response to the Socialist attempt to block
	id = rivercity.15 #First
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.15"}
	title = rivercity.15.t
	desc = rivercity.15.d
	picture = GFX_event_river_city_2

	is_triggered_only = yes

	option = {#
		name = rivercity.15.a

		if = {
			limit = {
				has_country_flag = RCT_public_blames_harmonists
			}
			add_stability = -0.03
			add_popularity = { ideology = democratic popularity = -0.04}
		}
		else = {
			add_stability = -0.05
			add_popularity = { ideology = communism popularity = -0.04}
		}
	}
}

country_event = {#Second Issue - the Rural/Urban Divide
	id = rivercity.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.16"}
	title = rivercity.16.t
	desc = rivercity.16.d
	picture = GFX_event_river_city_3

	is_triggered_only = yes

	option = {#The Harmonists invest in the rural outskirts
		name = rivercity.16.a
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
		hidden_effect = {
			random_list = {#days to hours applied
				70 = {set_country_flag = RCT_rural_success 	country_event = {id = rivercity.17 days = 4 random = 48}}
				30 = {set_country_flag = RCT_rural_failure country_event = {id = rivercity.17 days = 4 random = 48}}
			}
			country_event = {id = rivercity.19 days = 8 random = 24}
		}
	}

	option = {#The Socialists force a compromise, diluting the bill, diverting spending into the cities
		name = rivercity.16.b
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}

					has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}

					has_country_flag = RCT_AI_OHS
					has_game_rule = {
						rule = RCT_ai_behavior
						option = OHS
					}
				}
			}
		}
		add_to_variable = { socialist_obstruction = 1 }
		if = {
			limit = {
				NOT = {
					has_country_flag = RCT_effin_gommies
				}
			}
			hidden_effect = {
				country_event = {id = rivercity.26 days = 5 random = 24}
			}
		}
		hidden_effect = {
			random_list = {#days to hours applied
				70 = {set_country_flag = RCT_mixed_investment_works 	country_event = {id = rivercity.18 days = 4 random = 48}}
				30 = {set_country_flag = RCT_mixed_investment_fails country_event = {id = rivercity.18 days = 4 random = 48}}
			}
			country_event = {id = rivercity.19 days = 9 random = 24}
		}
	}
}

country_event = {#Rural investment results
	id = rivercity.17 #First
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.17"}
	title = rivercity.17.t
	desc = rivercity.17.d
	picture = GFX_event_river_swirl

	is_triggered_only = yes

	option = {
		name = rivercity.17.a
		if = {
			limit = {
				has_country_flag = RCT_rural_success
			}
			add_political_power = 25
			add_popularity = { ideology = democratic popularity = 0.04}
		}
		else = {
			add_political_power = -50
			add_popularity = { ideology = communism popularity = 0.06}
		}
	}

}

country_event = {#Mixed investment results
	id = rivercity.18 #First
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.18"}
	title = rivercity.18.t
	desc = rivercity.18.d
	picture = GFX_event_river_city_3

	is_triggered_only = yes

	option = {
		name = rivercity.18.a
		if = {
			limit = {
				has_country_flag = RCT_mixed_investment_works
			}
			add_political_power = 25
			add_popularity = { ideology = communism popularity = 0.05}
		}
		else = {
			add_political_power = -50
			add_popularity = { ideology = democratic popularity = 0.04}
		}
	}
}

country_event = {#Third Issue - The Talzar Commune
	id = rivercity.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.19"}
	title = rivercity.19.t
	desc = rivercity.19.d
	picture = GFX_event_river_city_3

	is_triggered_only = yes

	option = {#Send the Harmonist-supported negotiator, Wildheart
		name = rivercity.19.a
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
		hidden_effect = {#days to hours applied
			random_list = {
				70 = {set_country_flag = RCT_wildheart_success 	country_event = {id = rivercity.20 days = 4 random = 48}}
				30 = {set_country_flag = RCT_wildheart_failure country_event = {id = rivercity.20 days = 4 random = 48}}
			}
			country_event = {id = rivercity.22 days = 10 random = 24}	#days to hours applied
		}
	}

	option = {#Send the Socialist-supported negotiator, Nova Whirl
		name = rivercity.19.b
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}

					has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}
					has_country_flag = RCT_AI_OHS
					has_game_rule = {
						rule = RCT_ai_behavior
						option = OHS
					}
				}
			}
		}
		add_to_variable = { socialist_obstruction = 1 }
		if = {
			limit = {
				NOT = {
					has_country_flag = RCT_effin_gommies
				}
			}
			hidden_effect = {
				country_event = {id = rivercity.26 days = 7 random = 24}#days to hours applied
			}
		}
		hidden_effect = {
			random_list = {#days to hours applied
				70 = {set_country_flag = RCT_novaswirl_talz_success	country_event = {id = rivercity.21 days = 4 random = 48}}
				30 = {set_country_flag = RCT_novaswirl_talz_failure country_event = {id = rivercity.21 days = 4 random = 48}}
			}
			country_event = {id = rivercity.22 days = 10 random = 24}
		}
	}
}

country_event = {#Hector's negotiations
	id = rivercity.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.20"}
	title = rivercity.20.t
	desc = rivercity.20.d
	picture = GFX_event_river_swirl

	is_triggered_only = yes

	option = {
		name = rivercity.20.a
		if = {
			limit = {
				has_country_flag = RCT_wildheart_success
			}
			add_political_power = 25
			add_popularity = { ideology = democratic popularity = 0.04}
		}
		else = {
			add_political_power = -50
			add_stability = -0.05
			add_popularity = { ideology = democratic popularity = -0.05}
		}
	}
}

country_event = {#Nova Whirl's attempt
	id = rivercity.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.21"}
	title = rivercity.21.t
	desc = rivercity.21.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.21.a
		if = {
			limit = {
				has_country_flag = RCT_novaswirl_talz_success
			}
			add_political_power = 25
			add_popularity = { ideology = communism popularity = 0.05}
		}
		else = {
			add_political_power = -50
			add_stability = -0.05
			add_popularity = { ideology = communism popularity = -0.05}
		}
	}
}

country_event = {#Vote of No Confidence - Snap Election
	id = rivercity.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.22"}
	title = rivercity.22.t
	desc = rivercity.22.d
	picture = GFX_event_the_vote

	is_triggered_only = yes

	option = {#days to hours applied
		name = rivercity.22.a

		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_OHS
					has_game_rule = {
						rule = RCT_ai_behavior
						option = OHS
					}
				}
			}
		}
		add_stability = -0.30
		set_country_flag = RCT_election_is_on
		hidden_effect = {
			country_event = {id = rivercity.23 days = 9 random = 24}
		}
		custom_effect_tooltip = RCT_electioneering_active
	}
	option = {
		name = rivercity.22.b
		trigger = {
			has_country_flag = RCT_emergency_mesures_active
		}
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}

					has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}

					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
		add_stability = -0.1
		set_country_flag = RCT_harmony_prevails
		remove_ideas = RCT_unstable_government

	}
}

country_event = {#First Debate
	id = rivercity.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.23"}
	title = rivercity.23.t
	desc = rivercity.23.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {#days to hours applied
		name = rivercity.23.a
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
		add_popularity = { ideology = democratic popularity = 0.05}
		hidden_effect = {
			country_event = {id = rivercity.24 days = 9 random = 24}
		}
	}
	option = {#days to hours applied
		name = rivercity.23.b
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}
				}
				has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
				has_game_rule = {
					rule = RCT_ai_behavior
					option = DEMOCRATIC_ALTERNATE
				}
			}
		}
		add_popularity = { ideology = communism popularity = 0.05}
		hidden_effect = {
			country_event = {id = rivercity.24 days = 9 random = 24}
		}
	}
}

country_event = {#Second Debate
	id = rivercity.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.24"}
	title = rivercity.24.t
	desc = rivercity.24.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.24.a
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}

					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
		add_popularity = { ideology = democratic popularity = 0.05}
	}
	option = {
		name = rivercity.24.b
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = RCT_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = RCT_AI_DEMOCRATIC_HISTORICAL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_HISTORICAL
					}
					has_country_flag = RCT_AI_DEMOCRATIC_ALTERNATE
					has_game_rule = {
						rule = RCT_ai_behavior
						option = DEMOCRATIC_ALTERNATE
					}
				}
			}
		}
		add_popularity = { ideology = communism popularity = 0.05}
	}
}

country_event = {#Result Of The Election - Fired By Completing the first Focus
	id = rivercity.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.25"}
	title = rivercity.25.t
	desc = rivercity.25.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.25.a
		clr_country_flag = RCT_election_is_on
		remove_ideas = RCT_unstable_government

		if = {
			limit = {
				OR = {
					check_variable = { party_popularity@communism > party_popularity@democratic }
					AND = {
						is_ai = yes
						OR = {
							has_country_flag = RCT_AI_NOVAWHIRL
							has_game_rule = {
								rule = RCT_ai_behavior
								option = NOVAWHIRL
							}

							has_country_flag = RCT_AI_CARAMEL
							has_game_rule = {
								rule = RCT_ai_behavior
								option = CARAMEL
							}
						}
					}
				}
			}
			set_country_flag = RCT_communism_prevails
			set_politics = { ruling_party = communism elections_allowed = no }
		}
		else = {#Then River Swirl Wins
			set_country_flag = RCT_harmony_prevails
		}

	}
}


country_event = {##The Emergency Powers Bill
	id = rivercity.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.26"}
	title = rivercity.26.t
	desc = rivercity.26.d
	picture = GFX_event_celestia_poster

	is_triggered_only = yes

	option = {
		name = rivercity.26.a
		set_country_flag = RCT_effin_gommies
		custom_effect_tooltip = RCT_gommies_tooltip
	}
}

country_event = {##Red Saturday
	id = rivercity.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.27"}
	title = rivercity.27.t
	desc = rivercity.27.d
	picture = GFX_event_eqs_communists

	is_triggered_only = yes

	option = {#Caramel's militia seize control of the state
		name = rivercity.27.a
		set_country_flag = RCT_caramels_coup
		ai_chance = {
			factor = 150
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_NOVAWHIRL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = NOVAWHIRL
					}
				}
			}
		}
		hidden_effect = {
			country_event = {id = rivercity.1932 days = 90 random = 720}
			complete_national_focus = RCT_proletarian_dictatorship
		}
		kill_country_leader = yes
		RIV_leave_fed = yes
		create_country_leader = {
			name = "Caramel Haze"
			picture = "Caramel_Haze_Com.tga"
			desc = "POLITICS_CARAMELHAZE_DESC"
			expire = "1965.1.1"
			ideology = anti_revisionism
		}
		add_ideas = RCT_caramels_stubbornness
		hidden_effect = {
			set_cosmetic_tag = RCT_caramel
			every_other_country = {
				limit = { is_guaranteed_by = ROOT }
				diplomatic_relation = {
					country = FROM
					relation = guarantee
					active = no
				}
			}
		}
	}
	option = {#Nova's spies intercept Caramel and remove him from power
		name = rivercity.27.b
		set_country_flag = RCT_nova_remains
		hidden_effect = {#Nova is far less likely to get Hector's revolt
			complete_national_focus = RCT_independent_socialism
			random_list = {#days to hours applied
				75 = {}
				25 = {country_event = {id = rivercity.1932 days = 90 random = 720}}
			}
		}
		if = {
			limit = { has_unit_leader = 652 }
			remove_unit_leader = 652
		}
		ai_chance = {
			factor = 250
			modifier = {
				factor = 0
				OR = {
					has_country_flag = RCT_AI_CARAMEL
					has_game_rule = {
						rule = RCT_ai_behavior
						option = CARAMEL
					}
				}
			}
		}
	}
}

country_event = {##Nova Whirl's ultimatum
	id = rivercity.1917
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1917"}
	title = rivercity.1917.t
	desc = rivercity.1917.d
	picture = GFX_event_celestia_poster

	is_triggered_only = yes

	option = {
		name = rivercity.1917.a
		ai_chance = {
			factor = 0
			modifier = {
				add = 1000
				OR = {
					has_government = communism
					communism > 0.3
				}
			}
		}
		every_country = {
			limit = {
				is_subject_of = ROOT
			}
			hidden_effect = {
				get_current_autonomy_level = yes
				get_current_government_type = yes
				end_puppet_this = yes
			}
			FROM = {
				puppet = PREV
			}
			hidden_effect = {
				restore_previous_government_type = yes
				set_previous_autonomy_level = yes
			}
		}
		every_state = {
			limit = { is_core_of = ROOT }
			add_core_of = FROM
		}
		every_unit_leader = {
			set_nationality = FROM
		}
		FROM = {
			transfer_technology = yes
			annex_country = {
				target = ROOT transfer_troops = yes
			}
			RIV_unlock_locked_templates = yes
		}
	}
	option = {
		name = rivercity.1917.b
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_government = communism
					communism > 0.3
				}
			}
		}
		every_state = {
			limit = { is_core_of = ROOT }
			add_core_of = FROM
		}
		FROM = {
			create_wargoal = { target = ROOT type = puppet_wargoal_focus}
		}
	}
}

country_event = {##Event for sending agitators into riverlands countries
	id = rivercity.1918
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1918"}
	title = rivercity.1918.t
	desc = rivercity.1918.d
	picture = GFX_event_eqs_communists

	is_triggered_only = yes

	option = {
		name = rivercity.1918.a
		if = {
			limit = {
				tag = NIM
			}
			add_ideas = RCT_communist_infiltrators_NIM
		}
		else = {
			add_ideas = RCT_communist_infiltrators
		}
		custom_effect_tooltip = RCT_fight_communists
	}
}
country_event = {##Event for sending militia into riverlands countries
	id = rivercity.1919
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1919"}
	title = rivercity.1919.t
	desc = rivercity.1919.d
	picture = GFX_event_eqs_communists

	is_triggered_only = yes

	option = {
		name = rivercity.1919.a
		if = {
			limit = {
				has_idea = RCT_militants1
			}
			swap_ideas = {
				remove_idea = RCT_militants1
				add_idea = RCT_militants2
			}
		}
		if = {
			limit = {
				has_idea = RCT_militants2
			}
			swap_ideas = {
				remove_idea = RCT_militants2
				add_idea = RCT_militants3
			}
		}
		else = {
			add_ideas = RCT_militants1
		}
		custom_effect_tooltip = RCT_fight_communists
	}
}

country_event = {#Event that activates Militant Socialists that have infiltrated a country
	id = rivercity.1920
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1920"}
	title = rivercity.1920.t
	desc = rivercity.1920.d
	picture = GFX_event_celestia_poster

	is_triggered_only = yes

	option = {
		name = rivercity.1920.a
		if = {
			limit = {
				has_idea = RCT_militants1
			}
			swap_ideas = {
				remove_idea = RCT_militants1
				add_idea = RCT_militants1_activated
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_militants2
			}
			swap_ideas = {
				remove_idea = RCT_militants2
				add_idea = RCT_militants2_activated
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_militants3
			}
			swap_ideas = {
				remove_idea = RCT_militants3
				add_idea = RCT_militants3_activated
			}
		}
	}
}

country_event = {#Event for adding the 'KGB' to a country via decision->event
	id = rivercity.1921
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1921"}
	title = rivercity.1921.t
	desc = rivercity.1921.d
	picture = GFX_event_eqs_communists

	is_triggered_only = yes

	option = {
		name = rivercity.1921.a
		if = {
			limit = {
				has_idea = RCT_KGB_1
			}
			swap_ideas = {
				remove_idea = RCT_KGB_1
				add_idea = RCT_KGB_2
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_KGB_2
			}
			swap_ideas = {
				remove_idea = RCT_KGB_2
				add_idea = RCT_KGB_3
			}
		}
		else = {
			add_ideas = RCT_KGB_1
		}
	}
}

country_event = {#Solidarity - Annexed into RCT if you have over a certain % of Communism support. AI should probably always accept
	id = rivercity.1922
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1922"}
	title = rivercity.1922.t
	desc = rivercity.1922.d
	picture = GFX_event_eqs_communists

	is_triggered_only = yes

	option = {
		name = rivercity.1922.a
		ai_chance = {
			factor = 100
		}
		every_country = {
			limit = {
				is_subject_of = ROOT
			}
			hidden_effect = {
				get_current_autonomy_level = yes
				get_current_government_type = yes
				end_puppet_this = yes
			}
			FROM = {
				puppet = PREV
			}
			hidden_effect = {
				restore_previous_government_type = yes
				set_previous_autonomy_level = yes
			}
		}
		every_state = {
			limit = { is_core_of = ROOT }
			add_core_of = FROM
		}
		every_unit_leader = {
			set_nationality = FROM
		}
		FROM = {
			transfer_technology = yes
			annex_country = {
				target = ROOT transfer_troops = yes
			}
			RIV_unlock_locked_templates = yes
		}
	}
	option = {
		name = rivercity.1922.b
		ai_chance = {
			factor = 0
		}
		every_state = {
			limit = { is_core_of = ROOT }
			add_core_of = FROM
		}
		FROM = {
			create_wargoal = { target = ROOT type = annex_everything }
		}
	}
}

country_event = {#You find proof that Nova Whirl is behind the propaganda
	id = rivercity.1923
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1923"}
	title = rivercity.1923.t
	desc = rivercity.1923.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.1923.a
		ROOT ={
			add_opinion_modifier = { target = RCT modifier = RCT_proof_nova_is_a_traitor }
			set_country_flag = has_discovered_novas_treason
		}
		for_each_scope_loop = {
			array = global.river_coalition_members
			if = {
				limit = {
					NOT ={
						OR = {
							has_government = communism
							original_tag = RCT
						}
					}
				}
				add_opinion_modifier = { target = RCT modifier = RCT_proof_nova_is_a_traitor }
				RIV_decrease_socialist_indoctrination = yes
			}
		}
	}
}

country_event = {#You fail to find proof that Nova Whirl is behind the propaganda
	id = rivercity.1924
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1924"}
	title = rivercity.1924.t
	desc = rivercity.1924.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.1924.a

	}
}

country_event = {#People are asked to vote on Nova's expulsion from the River Community
	id = rivercity.1925
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1925"}
	title = rivercity.1925.t
	desc = rivercity.1925.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {#yes
		name = rivercity.1925.a
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_opinion = { target = RCT value > 0 }
					has_government = communism
				}
			}
		}
		add_to_variable = { var = FROM.votes value = 1 }
	}
	option = {#no
		name = rivercity.1925.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 100
				OR = {
					has_opinion = { target = RCT value > 0 }
					has_government = communism
				}
			}
		}
		subtract_from_variable = { var = FROM.votes value = 1 }	##at the end, if votes is less than 1, the vote fails and the voter is expelled. If it's >0, RCT is expelled and their propaganda is too
	}
}

country_event = {#The result of the vote comes back. If votes > 0, then that means more people voted to kick her out than not, so she's kicked out. If not, then you get kicked out for your insolence and your slanderous laundering of accusations
	id = rivercity.1926
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1926"}
	title = rivercity.1926.t
	desc = rivercity.1926.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.1926.a
		if = {
			limit = {
				check_variable = { votes > 0 }
			}
			RCT = { leave_faction = yes }
		}
		else = {
			leave_faction = yes
		}
		for_each_scope_loop = {
			array = global.river_coalition_members
			country_event = { id = rivercity.1938}
		}
	}
}

country_event = {#Event that gives you awful debuffs if you take over the River Fed as a Communist. Sadly, it has to be a MTTH event as it can occur through either war or peace. Don't hurt me guys >.>
	id = rivercity.1927
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1927"}
	title = rivercity.1927.t
	desc = rivercity.1927.d
	picture = GFX_event_river_city

	trigger = {
		original_tag = RCT
		has_government = communism
		OR = {
			has_country_flag = RCT_caramels_coup
			has_country_flag = RCT_nova_remains
			has_country_flag = RCT_caramel_took_power
		}
		617 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		580 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		645 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		649 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		619 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		637 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		544 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
		387 = {
			owner = {
				OR = {
					tag = ROOT
					is_subject_of = ROOT
				}
			}
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = rivercity.1927.a
		add_ideas = RCT_cultural_divides
		add_ideas = RCT_antisocialist_militia
		add_ideas = RCT_disparate_economies
		add_ideas = RCT_disintegrated_armies
		set_country_flag = RCT_commie_crash
	}
}

country_event = {#Events for ponies resisting your attempt to impose a monoculture on them
	id = rivercity.1928
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1928"}
	title = rivercity.1928.t
	desc = rivercity.1928.d
	picture = GFX_event_river_city

	trigger = {#Has both a trigger and is_triggered_only because it's meant to re-trigger itself in 200ish days, but ONLY if you haven't either left off your efforts to deal with it, or have solved it completely
		OR = {
			has_idea = RCT_cultural_divides_2
			has_idea = RCT_cultural_divides_3
		}
	}
	is_triggered_only = yes

	option = {#the efforts will proceed
		name = rivercity.1928.a
		add_political_power = -35
		add_stability = -0.02
		hidden_effect = {
			country_event = {
				id = rivercity.19281 days = 120 random = 480 #days to hours applied
			}
		}
	}
	option = {#revert the efforts for benefits, but you increase the severity of your national spirit
		name = rivercity.1928.b
		add_political_power = 50
		add_stability = 0.02
		hidden_effect = {
			country_event = {
				id = rivercity.19281 days = 160 random = 480 #days to hours applied
			}
		}
		if = {
			limit = {
				has_idea = RCT_cultural_divides_2
			}
			swap_ideas = {
				remove_idea = RCT_cultural_divides_2
				add_idea = RCT_cultural_divides
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_cultural_divides_3
			}
			swap_ideas = {
				remove_idea = RCT_cultural_divides_3
				add_idea = RCT_cultural_divides_2
			}
		}

	}
}

country_event = {#Events for ponies resisting your attempt to impose a monoculture on them
	id = rivercity.19281
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.19281"}
	hidden = yes

	is_triggered_only = yes

	option = {
		country_event = rivercity.1928
	}
}

country_event = {#Events for ponies resisting your attempt to reorganise the army
	id = rivercity.1929
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1929"}
	title = rivercity.1929.t
	desc = rivercity.1929.d
	picture = GFX_event_stg_red_army

	trigger = {#Has both a trigger and is_triggered_only because it's meant to re-trigger itself in 200ish days, but ONLY if you haven't either left off your efforts to deal with it, or have solved it completely
		OR = {
			has_idea = RCT_disintegrated_armies_2
			has_idea = RCT_disintegrated_armies_3
		}
	}
	is_triggered_only = yes

	option = {#the efforts will proceed
		name = rivercity.1929.a
		add_political_power = -35
		add_war_support = -0.02
		hidden_effect = {
			country_event = {
				id = rivercity.19291 days = 120 random = 480 #days to hours applied
			}
		}
	}
	option = {#revert the efforts for benefits, but you increase the severity of your national spirit
		name = rivercity.1929.b
		add_political_power = 50
		add_war_support = 0.02
		hidden_effect = {
			country_event = {
				id = rivercity.19291 days = 160 random = 480 #days to hours applied
			}
		}
		if = {
			limit = {
				has_idea = RCT_disintegrated_armies_2
			}
			swap_ideas = {
				remove_idea = RCT_disintegrated_armies_2
				add_idea = RCT_disintegrated_armies
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_disintegrated_armies_3
			}
			swap_ideas = {
				remove_idea = RCT_disintegrated_armies_3
				add_idea = RCT_disintegrated_armies_2
			}
		}

	}
}

country_event = {#Events for ponies resisting your attempt to impose a monoculture on them
	id = rivercity.19291
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.19291"}
	hidden = yes

	is_triggered_only = yes

	option = {
		country_event = rivercity.1929
	}
}

country_event = {#Events for ponies resisting your attempt to reorganise their economies
	id = rivercity.1930
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1930"}
	title = rivercity.1930.t
	desc = rivercity.1930.d
	picture = GFX_event_minitrue

	trigger = {#Has both a trigger and is_triggered_only because it's meant to re-trigger itself in 200ish days, but ONLY if you haven't either left off your efforts to deal with it, or have solved it completely
		OR = {
			has_idea = RCT_disparate_economies_2
			has_idea = RCT_disparate_economies_3
		}
	}
	is_triggered_only = yes

	option = {#the efforts will proceed
		name = rivercity.1930.a
		add_political_power = -75
		hidden_effect = {
			country_event = {
				id = rivercity.19301 days = 120 random = 480 #days to hours applied
			}
		}
	}
	option = {#revert the efforts for benefits, but you increase the severity of your national spirit
		name = rivercity.1930.b
		add_political_power = 75
		hidden_effect = {
			country_event = {
				id = rivercity.19301 days = 160 random = 480 #days to hours applied
			}
		}
		if = {
			limit = {
				has_idea = RCT_disparate_economies_2
			}
			swap_ideas = {
				remove_idea = RCT_disparate_economies_2
				add_idea = RCT_disparate_economies
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_disparate_economies_3
			}
			swap_ideas = {
				remove_idea = RCT_disparate_economies_3
				add_idea = RCT_disparate_economies_2
			}
		}

	}
}

country_event = {#Events for ponies resisting your attempt to impose a monoculture on them
	id = rivercity.19301
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.19301"}
	hidden = yes

	is_triggered_only = yes

	option = {
		country_event = rivercity.1930
	}
}

country_event = {#Events for ponies resisting your attempt to eradicate the militia
	id = rivercity.1931
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1931"}
	title = rivercity.1931.t
	desc = rivercity.1931.d
	picture = GFX_event_minitrue

	trigger = {#Has both a trigger and is_triggered_only because it's meant to re-trigger itself in 200ish days, but ONLY if you haven't either left off your efforts to deal with it, or have solved it completely
		OR = {
			has_idea = RCT_antisocialist_militia_2
			has_idea = RCT_antisocialist_militia_3
		}
	}
	is_triggered_only = yes

	option = {#the efforts will proceed
		name = rivercity.1931.a
		add_political_power = -25
		add_stability = -0.01
		add_war_support = -0.01
		hidden_effect = {
			country_event = {
				id = rivercity.19311 days = 120 random = 480 #days to hours applied
			}
		}
	}
	option = {#revert the efforts for benefits, but you increase the severity of your national spirit
		name = rivercity.1931.b
		add_political_power = 50
		add_stability = 0.01
		add_war_support = 0.01
		hidden_effect = {
			country_event = {
				id = rivercity.19311 days = 160 random = 480 #days to hours applied
			}
		}
		if = {
			limit = {
				has_idea = RCT_antisocialist_militia_2
			}
			swap_ideas = {
				remove_idea = RCT_antisocialist_militia_2
				add_idea = RCT_antisocialist_militia
			}
		}
		else_if = {
			limit = {
				has_idea = RCT_antisocialist_militia_3
			}
			swap_ideas = {
				remove_idea = RCT_antisocialist_militia_3
				add_idea = RCT_antisocialist_militia_2
			}
		}

	}
}

country_event = {#Events for ponies resisting your attempt to impose a monoculture on them
	id = rivercity.19311
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.19311"}
	hidden = yes

	is_triggered_only = yes

	option = {
		country_event = rivercity.1931
	}
}

country_event = {#Hector revolts
	id = rivercity.1932
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1932"}
	title = rivercity.1932.t
	desc = rivercity.1932.d
	picture = GFX_event_pony_soldiers_sunset

	is_triggered_only = yes

	option = {
		name = rivercity.1932.a
		start_civil_war = {
			ideology = neutrality
			size = 0.4
			keep_unit_leaders = {652}
		}
		set_country_flag = RCT_hector_revolted_against_you
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = RCT
				}
				if = {
					limit = { is_in_faction = yes }
					RIV_set_cosmetic_tag = yes
				}
				if = {
					limit = { ROOT = { has_unit_leader = 650 } }
					event_target:RCT_Hector = { set_nationality = PREV }
				}
				if = {
					limit = { ROOT = { has_unit_leader = 649 } }
					event_target:RCT_Katarina = { set_nationality = PREV }
				}
				if = {
					limit = { ROOT = { has_unit_leader = 655 } }
					event_target:RCT_Brilliant_Specter = { set_nationality = PREV }
				}
				if = {
					limit = { ROOT = { has_unit_leader = 656 } }
					event_target:RCT_Brilliant_Shade = { set_nationality = PREV }
				}
				if = {
					limit = { has_unit_leader = 657 }
					event_target:RCT_Gear_Tail = { set_nationality = ROOT }
				}
				if = {
					limit = { has_unit_leader = 658 }
					event_target:RCT_Two_Tail = { set_nationality = ROOT }
				}
				set_country_flag = RCT_hector_revolt
				load_focus_tree = RCT_hector
				load_oob = "RCT_hector_units"
				for_each_scope_loop = {
					array = global.river_coalition_members
					add_ai_strategy = {
						id = PREV
						type = alliance
						value = 200
					}
				}
				every_other_country = {
					limit = { is_griffon_continent_griffon_country = yes }
					add_ai_strategy = {
						id = PREV
						type = alliance
						value = -200
					}
					PREV = {
						add_ai_strategy = {
							id = PREV
							type = alliance
							value = -200
						}
					}
				}
			}
		}
	}
}

country_event = {#Caramel revolts
	id = rivercity.1933
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1933"}
	title = rivercity.1933.t
	desc = rivercity.1933.d
	picture = GFX_event_pony_soldiers_sunset

	is_triggered_only = yes
	trigger = {
		NOT = {
			has_completed_focus = RCT_reform_the_disharmonists
		}
	}

	option = {
		name = rivercity.1933.a
		hidden_effect = {
			set_capital = 620
		}
		start_civil_war = {
			ideology = communism
			size = 0.3
			capital = 619
			states = { 619 682 }
			keep_unit_leaders = { 650 649 }
		}
		hidden_effect = {
			random_other_country = {
				limit = {
					original_tag = RCT
				}
				set_country_flag = RCT_caramels_coup
				set_country_flag = RCT_caramel_revolt
				load_focus_tree = RCT_caramel
				load_oob = "RCT_caramel_units"

				if = {
					limit = { ROOT = { has_unit_leader = 652 } }
					event_target:RCT_Caramel_Haze = { set_nationality = PREV }
				}
				if = {
					limit = {
						ROOT = {
							has_completed_focus = RCT_disappear_skr_leadership
						}
					}
					load_oob = "RCT_caramel_bonus_units"
				}
				create_country_leader = {
					name = "Caramel Haze"
					picture = "Caramel_Haze_Com.tga"
					desc = "POLITICS_CARAMELHAZE_DESC"
					expire = "1965.1.1"
					ideology = anti_revisionism
				}
				every_other_country = {
					limit = { is_griffon_continent_griffon_country = yes }
					add_ai_strategy = {
						id = PREV
						type = alliance
						value = -200
					}
					PREV = {
						add_ai_strategy = {
							id = PREV
							type = alliance
							value = -200
						}
					}
				}
			}
		}
	}
}

country_event = {#Invitation to The River Games
	id = rivercity.1934
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1934"}
	title = rivercity.1934.t
	desc = rivercity.1934.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.1934.a
		add_political_power = 10
		ai_chance = {
			factor = 1000
		}
		set_country_flag = is_competing_in_the_river_games
		add_opinion_modifier = {
			target = FROM
			modifier = took_part_in_river_games
		}
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = took_part_in_river_games
		}
		set_variable = { var = eventswon value = 0}
	}
	option = {
		name = rivercity.1934.b
	}
}

country_event = {#River games begin - The games are - Sprint, Swimming, Long Jump, Javelin, and Fencing
	id = rivercity.1935
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1935"}
	title = rivercity.1935.t
	desc = rivercity.1935.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	trigger = {
		has_war = no
	}

	immediate = {
		hidden_effect = {
			every_country = {
				limit = {
					has_country_flag = is_competing_in_the_river_games
					can_form_river_fed = no
				}
				random_state = {
					limit = {
						owner = {
							PREV = { is_core_of = PREV }
						}
					}
					set_state_flag = state_competes_in_river_games
				}
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = NIM
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = BAK
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = LCT
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = DMT
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = WIT
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = RCT
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = FRE
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = FIR
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = NCH
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = FBK
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = WAT
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = GRY
				}
				set_state_flag = state_competes_in_river_games
			}
			random_state = {
				limit = {
					owner = {
						has_country_flag = is_competing_in_the_river_games
						PREV = { is_core_of = PREV }
					}
					is_core_of = HLQ
				}
				set_state_flag = state_competes_in_river_games
			}
		}
	}

	option = {
		name = rivercity.1935.a
		hidden_effect = {
			if = {#NIM has the best chance to win the sprint
				limit = {
					any_of = {
						array = NIM.core_states
						var:v = {
							has_state_flag = state_competes_in_river_games
						}
					}
				}
				random_list = {
					70 = {
						random_state = {
							limit = {
								is_core_of = NIM
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_sprint
							add_to_variable = { var = eventswon value = 1}
						}
					}
					30 = {
						random_state = {
							limit = {
								NOT = { is_core_of = NIM }
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_sprint
							add_to_variable = { var = eventswon value = 1}
						}
					}
				}

			}
			else = {
				random_state = {
					limit = {
						has_state_flag = state_competes_in_river_games
					}
					save_global_event_target_as = won_river_games_sprint
					add_to_variable = { var = eventswon value = 1}
				}
			}
			if = {#BAK has the best chance to win the sailing
				limit = {
					any_of = {
						array = BAK.core_states
						var:v = {
							has_state_flag = state_competes_in_river_games
						}
					}
				}
				random_list = {
					75 = {
						random_state = {
							limit = {
								is_core_of = BAK
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_sailing
							add_to_variable = { var = eventswon value = 1}
						}
					}
					25 = {
						random_state = {
							limit = {
								NOT = { is_core_of = BAK }
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_sailing
							add_to_variable = { var = eventswon value = 1}
						}
					}
				}

			}
			else = {
				random_state = {
					limit = {
						has_state_flag = state_competes_in_river_games
					}
					save_global_event_target_as = won_river_games_sailing
					add_to_variable = { var = eventswon value = 1}
				}
			}
			if = {#LCT has a bunch of practised Long Jumpers
				limit = {
					any_of = {
						array = LCT.core_states
						var:v = {
							has_state_flag = state_competes_in_river_games
						}
					}
				}
				random_list = {
					65 = {
						random_state = {
							limit = {
								is_core_of = LCT
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_longjump
							add_to_variable = { var = eventswon value = 1}
						}
					}
					35 = {
						random_state = {
							limit = {
								NOT = { is_core_of = LCT }
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_longjump
							add_to_variable = { var = eventswon value = 1}
						}
					}
				}

			}
			else = {
				random_state = {
					limit = {
						has_state_flag = state_competes_in_river_games
					}
					save_global_event_target_as = won_river_games_longjump
					add_to_variable = { var = eventswon value = 1}
				}
			}
			if = {#DMT has the best chance of winning the Javelin event - strong arms
				limit = {
					any_of = {
						array = DMT.core_states
						var:v = {
							has_state_flag = state_competes_in_river_games
						}
					}
				}
				random_list = {
					70 = {
						random_state = {
							limit = {
								is_core_of = DMT
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_javelin
							add_to_variable = { var = eventswon value = 1}
						}
					}
					30 = {
						random_state = {
							limit = {
								NOT = { is_core_of = DMT }
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_javelin
							add_to_variable = { var = eventswon value = 1}
						}
					}
				}

			}
			else = {
				random_state = {
					limit = {
						has_state_flag = state_competes_in_river_games
					}
					save_global_event_target_as = won_river_games_javelin
					add_to_variable = { var = eventswon value = 1}
				}
			}
			if = {#WIT has the best fencers - what else do the nobles do all day?
				limit = {
					any_of = {
						array = WIT.core_states
						var:v = {
							has_state_flag = state_competes_in_river_games
						}
					}
				}
				random_list = {
					60 = {
						random_state = {
							limit = {
								is_core_of = WIT
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_fencing
							add_to_variable = { var = eventswon value = 1}
						}
					}
					40 = {
						random_state = {
							limit = {
								NOT = { is_core_of = WIT }
								has_state_flag = state_competes_in_river_games
							}
							save_global_event_target_as = won_river_games_fencing
							add_to_variable = { var = eventswon value = 1}
						}
					}
				}

			}
			else = {
				random_state = {
					limit = {
						has_state_flag = state_competes_in_river_games
					}
					save_global_event_target_as = won_river_games_fencing
					add_to_variable = { var = eventswon value = 1}
				}
			}
			hidden_effect = {
				every_state = {
					limit = { has_state_flag = state_competes_in_river_games }
					set_variable = { owner.eventswon = eventswon }
					clear_variable = eventswon
				}
			}
			every_country = {
				limit = {
					has_country_flag = is_competing_in_the_river_games
				}
				news_event = {
					id = rivercity.1936
				}
			}
		}
	}

}

news_event = {#The final event - this one is shown for RCT as well as everyone else. For RCT it increases Federation Standing no matter what. For everyone else it gives 20 PP per event won.
	id = rivercity.1936
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1936"}
	title = rivercity.1936.t
	desc = rivercity.1936.d
	picture = GFX_news_event_friendship_games

	is_triggered_only = yes

	option = {
		name = rivercity.1936.a
		if = {
			limit = {
				NOT = { original_tag = RCT }
				check_variable = { eventswon = 1}
			}
			add_political_power = 20
		}
		else_if = {
			limit = {
				NOT = { original_tag = RCT }
				check_variable = { eventswon = 2}
			}
			add_political_power = 40
		}
		else_if = {
			limit = {
				NOT = { original_tag = RCT }
				check_variable = { eventswon = 3}
			}
			add_political_power = 60
		}
		else_if = {
			limit = {
				NOT = { original_tag = RCT }
				check_variable = { eventswon = 4}
			}
			add_political_power = 80
		}
		else_if = {
			limit = {
				NOT = { original_tag = RCT }
			}
			add_political_power = 100
		}
		clr_country_flag = is_competing_in_the_river_games
		hidden_effect = {
			every_state = {
				limit = { has_state_flag = state_competes_in_river_games }
				clr_state_flag = state_competes_in_river_games
			}
			if = {
				limit = {
					original_tag = RCT
				}
				country_event = { id = rivercity.1937 days = 1400}#re-fire the River Games in 4 years time
			}
		}

	}
}

country_event = {#Event that re-fires the River Games after every four years
	id = rivercity.1937
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1937"}
	title = rivercity.1937.t
	desc = rivercity.1937.d
	picture = GFX_event_lake_city

	is_triggered_only = yes

	option = {
		name = rivercity.1937.a
		set_country_flag = is_competing_in_the_river_games
		every_other_country = {
			limit = {
				OR = {
					is_river_fed_member = yes
					has_idea = HLQ_honourary_member
				}
			}
			country_event = {id = rivercity.1934}
		}
		hidden_effect = {
			country_event = {
				id = rivercity.1935 days = 15 random = 48 #days to hours implemented
			}
		}

	}
}

country_event = {#players are told about the result of the vote
	id = rivercity.1938
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1938"}
	title = rivercity.1938.t
	desc = rivercity.1938.d
	picture = GFX_event_lake_city

	is_triggered_only = yes

	option = {
		name = rivercity.1938.a
		add_opinion_modifier = {
			target = FROM modifier = distrustful_relations
		}
	}
}

country_event = {#Helquill informed that RCT is agitating
	id = rivercity.1939
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1939"}
	title = rivercity.1939.t
	desc = rivercity.1939.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.1939.a
		add_ideas = RCT_influence
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

country_event = {#Helquill informed that RCT is shipping guns to harmonist rebels
	id = rivercity.1940
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1940"}
	title = rivercity.1940.t
	desc = rivercity.1940.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.1940.a
		swap_ideas = { add_idea = RCT_influence2 remove_idea = RCT_influence }
	}
}

country_event = {#Helquill informed that RCT is sending officers to lead harmonist rebels
	id = rivercity.1941
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1941"}
	title = rivercity.1941.t
	desc = rivercity.1941.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.1941.a
		swap_ideas = { add_idea = RCT_influence3 remove_idea = RCT_influence2 }
		custom_effect_tooltip = RCT_influence_tooltip
	}
}
country_event = {#Helquill informed that Harmonists have started a revolution
	id = rivercity.1942
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1942"}
	title = rivercity.1942.t
	desc = rivercity.1942.d
	picture = GFX_event_democratic_opposition

	is_triggered_only = yes

	option = {
		name = rivercity.1942.a
		start_civil_war = {
			ideology = democratic
			size = party_popularity@democratic
		}
		random_other_country = {
			limit = {
				original_tag = ROOT
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 3000
				producer = RCT
			}
			add_ai_strategy = {
				id = FROM
				type = alliance
				value = 200
			}
			remove_opinion_modifier = {
				target = FROM modifier = distrustful_relations
			}
			add_opinion_modifier = {
				target = FROM modifier = friendly_government
			}
			FROM = {
				hidden_effect = {
					if = {
						limit = { threat < 50 }
						add_threat = 50
						set_global_flag = cw_threat_added
					}
				}
				add_to_war = {
					targeted_alliance = PREV enemy = ROOT
				}
				hidden_effect = {
					if = {
						limit = { has_global_flag = cw_threat_added }
						add_threat = -50
						clr_global_flag = cw_threat_added
					}
				}
				add_ai_strategy = {
					id = ROOT
					type = alliance
					value = 200
				}
				add_ai_strategy = {
					id = ROOT
					type = support
					value = 100
				}
			}
		}
	}
}

country_event = {#Helquill told they must join with River Swirl or else
	id = rivercity.1943
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1943"}
	title = rivercity.1943.t
	desc = rivercity.1943.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {#submit
		name = rivercity.1943.a
		add_political_power = -100
		if = {
			limit = { is_in_faction = yes }
			leave_faction = yes
		}
		if = {
			limit = { has_dlc = "Together for Victory" }
			hidden_effect = {
				get_current_government_type = yes
			}
			FROM = {
				puppet = ROOT
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_dominion
				}
			}
			hidden_effect = {
				restore_previous_government_type = yes
			}
		}
		else = {
			FROM = {
				puppet = ROOT
			}
		}
	}
	option = {#assert independence
		name = rivercity.1943.b
		FROM = {
			create_wargoal = {
				target = ROOT type = puppet_wargoal_focus
			}
		}
		ai_chance = {
			factor = 0
			modifier = {
				add = 1000
				has_opinion = {
					target = FROM
					value < -20
				}
				OR = {
					strength_ratio = { tag = FROM ratio > 0.8 }
					is_in_faction = yes
					AND = {
						any_of_scopes = {
							array = global.majors
							NOT = {
								tag = FROM
								is_in_faction_with = FROM
							}
							is_major = yes
							exists = yes
							has_guaranteed = ROOT
						}
					}
				}
			}
		}
	}
}

country_event = {#Helquill told they must join with River Swirl or else
	id = rivercity.1944
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1944"}
	title = rivercity.1944.t
	desc = rivercity.1944.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {#submit
		name = rivercity.1944.a
		if = {
			limit = { has_dlc = "Together for Victory" }
			effect_tooltip = {
				puppet = FROM
			}
		}
		else = {
			effect_tooltip = {
				puppet = FROM
			}
		}
	}
}

country_event = {#Helquill told they must join with River Swirl or else
	id = rivercity.1945
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.1945"}
	title = rivercity.1945.t
	desc = rivercity.1945.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {#submit
		name = rivercity.1945.a
		effect_tooltip = {
			create_wargoal = {
				target = FROM type = puppet_wargoal_focus
			}
		}
	}
}

country_event = {
	id = rivercity.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.28"}
	title = rivercity.28.t
	desc = rivercity.28.d
	picture = GFX_event_unicorn_worker

	is_triggered_only = yes

	option = {
		name = rivercity.28.a
	}
}

country_event = {
	id = rivercity.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.29"}
	title = rivercity.29.t
	desc = rivercity.29.d
	picture = GFX_event_river_city

	is_triggered_only = yes

	option = {
		name = rivercity.29.a
		add_tech_bonus = {
			name = land_doc_bonus
			bonus = 0.5
			uses = 1
			category = land_doctrine
			category = air_doctrine
		}
		army_experience = 10
		air_experience = 5
	}
}

country_event = {
	id = rivercity.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.30"}
	title = rivercity.30.t
	desc = rivercity.30.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = {
		name = rivercity.30.a
		add_tech_bonus = {
			name = land_doc_bonus
			bonus = 1.0
			uses = 1
			category = land_doctrine
		}
	}
}

country_event = { ####################### Asking LCT for bomber technology
	id = rivercity.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.31"}
	title = rivercity.31.t
	desc = rivercity.31.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ##################### yes
		name = rivercity.31.a
		add_tech_bonus = {
			name = tactical_bombers
			bonus = 0.5
			uses = 1
			category = tactical_bomber
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = tactical_bombers
				bonus = 1.0
				uses = 1
				category = tactical_bomber
				ahead_reduction = 2
			}
		}
	}

	option = { #################### No
		name = rivercity.31.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = { ################# Asking WIT for stuff
	id = rivercity.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.32"}
	title = rivercity.32.t
	desc = rivercity.32.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ################# yes
		name = rivercity.32.a
		add_tech_bonus = {
			name = magical_bonus
			bonus = 0.5
			uses = 1
			category = magical_tech
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = magical_bonus
				bonus = 1.0
				uses = 1
				category = magical_tech
				ahead_reduction = 2
			}
		}
	}

	option = { #################### No
		name = rivercity.32.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = { ################ Asking FRE for stuff
	id = rivercity.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.33"}
	title = rivercity.33.t
	desc = rivercity.33.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ############## Yes
		name = rivercity.33.a
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 0.5
			uses = 1
			technology = magical_weapons
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				technology = magical_weapons
				ahead_reduction = 2
			}
		}
	}

	option = { ########### No
		name = rivercity.33.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = { ######################### Asking NIM for stuff
	id = rivercity.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.34"}
	title = rivercity.34.t
	desc = rivercity.34.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ###################### Yes
		name = rivercity.34.a
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 0.5
			uses = 1
			category = infantry_weapons
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
				ahead_reduction = 2
			}
		}
	}

	option = { ############## No
		name = rivercity.34.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = {  #################### Asking Bak for marines
	id = rivercity.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.35"}
	title = rivercity.35.t
	desc = rivercity.35.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { #################### Yes
		name = rivercity.35.a
		add_tech_bonus = {
			name = marine_bonus
			bonus = 0.5
			uses = 1
			category = marine_tech
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = marine_bonus
				bonus = 1.0
				uses = 1
				category = marine_tech
				ahead_reduction = 2
			}
		}
	}

	option = { ############### No
		name = rivercity.35.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = { ############# asking DMT for artillery
	id = rivercity.36
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.36"}
	title = rivercity.36.t
	desc = rivercity.36.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ################## yes
		name = rivercity.36.a
		add_tech_bonus = {
			name = arty_bonus
			bonus = 0.5
			uses = 1
			category = artillery
			ahead_reduction = 2
		}
		FROM = {
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1.0
				uses = 1
				category = artillery
				ahead_reduction = 2
			}
		}
	}

	option = { ############# No
		name = rivercity.36.b
		FROM = { country_event = rivercity.38 }
	}
}

country_event = { ########## Asking DEP for stuff
	id = rivercity.37
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.37"}
	title = rivercity.37.t
	desc = rivercity.37.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = { ########## Yes
		name = rivercity.37.a
		add_ideas = RCT_accept
		FROM = {
			set_country_flag = RCT_dep_aid
		}
	}

	option = { ##### No
		name = rivercity.37.b
		country_event = rivercity.38
	}
}

country_event = { ############### When the allies say no to trade
	id = rivercity.38
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.38"}
	title = rivercity.38.t
	desc = rivercity.38.d
	picture = GFX_event_camelot

	is_triggered_only = yes

	option = {
		name = rivercity.38.a
	}
}

# country_event = { ############### UNUSED
# id = rivercity.39

# title = rivercity.39.t
# desc = rivercity.39.d
# picture = GFX_event_celestia_poster

# is_triggered_only = yes

# option = {
# name = rivercity.39.a

# }
# }

# country_event = { #### Gets special forces commander
# id = rivercity.40

# title = rivercity.40.t
# desc = rivercity.40.d
# picture = GFX_event_pony_soldiers_sunset

# is_triggered_only = yes

# option = {
# name = rivercity.40.a
# }
# }

country_event = { ### Working with Molly to Overthrow DMT
	id = rivercity.300
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.300"}
	title = rivercity.300.t
	desc = {
		trigger = { DMT = { has_government = fascism } }
		text = rivercity.300.d_fas
	}
	desc = {
		trigger = { DMT = { has_government = communism } }
		text = rivercity.300.d_com
	}

	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.300.a
		hidden_effect = {
			if = {
				limit = {
					is_ai = yes
				}
				random_list = {
					90 = { country_event = { id = rivercity.301 days = 1 } } #yes
					10 = { country_event = { id = rivercity.302 days = 1 } } #no
				}
			}
			else = {
				random_list = {
					99 = { country_event = { id = rivercity.301 days = 1 } } #yes
					1 = { country_event = { id = rivercity.302 days = 1 } } #no
				}
			}
		}
	}
}

country_event = { ### Molly Agrees
	id = rivercity.301
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.301"}
	title = rivercity.301.t
	desc = {
		trigger = { DMT = { has_government = fascism } }
		text = rivercity.301.d_fas
	}
	desc = {
		trigger = { DMT = { has_government = communism } }
		text = rivercity.301.d_com
	}

	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.301.a
		set_country_flag = RCT_DMT_Coup
		unlock_decision_tooltip = RCT_prepare_the_coup_dogs
	}
}

country_event = { ### Molly Refuses
	id = rivercity.302
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.302"}
	title = rivercity.302.t
	desc = {
		trigger = { DMT = { has_government = fascism } }
		text = rivercity.302.d_fas
	}
	desc = {
		trigger = { DMT = { has_government = communism } }
		text = rivercity.302.d_com
	}
	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.302.a
		if = {
			limit = {
				has_idea = DMT_molly_in_exile
			}
			remove_ideas = DMT_molly_in_exile
		}
	}
}

country_event = { ### The Coup Attempt
	id = rivercity.303
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.303"}
	title = rivercity.303.t
	desc = {
		trigger = {
			has_government = fascism
		}
		text = rivercity.303.d_fas
	}
	desc = {
		trigger = {
			has_government = communism
		}
		text = rivercity.303.d_com
	}
	picture = GFX_event_cave

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = { save_event_target_as = coup_initator }
		}
	}

	option = { # Sucseeds
		name = rivercity.303.a
		ai_chance = {
			factor = 10
		}
		custom_effect_tooltip = rivercity.303.a_tt
		effect_tooltip = {
			create_country_leader = {
				name = "Princess Molly"
				desc = "POLITICS_MOLLY_DESC"
				picture = "DiamondDogPrincess.tga"
				expire = "1953.3.1"
				ideology = liberalism
				female = yes
			}
			set_politics = { ruling_party = democratic }
			add_popularity = {
				ideology = democratic
				popularity = 0.25
			}
			if = {
				limit = { FROM = { is_river_fed_member = yes } }
				RIV = {
					add_to_faction = ROOT
				}
			}
		}
		country_event = { id = rivercity.304 hours = 24 }
		hidden_effect = {
			FROM = { country_event = { id = rivercity.306 hours = 23 } }
		}
	}

	option = { # Fails
		name = rivercity.303.b
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = rivercity.303.b_tt
		effect_tooltip = {
			if = {
				limit = { is_in_faction_with = FROM }
				leave_faction = yes
			}
			add_opinion_modifier = { target = FROM modifier = enemies }
			create_wargoal = { type = puppet_wargoal_focus target = FROM }
		}
		country_event = { id = rivercity.305 hours = 24 }
		hidden_effect = {
			FROM = { country_event = { id = rivercity.3061 hours = 23 } }
		}
	}
}

country_event = { ### Coup Succeeds - Dog Event
	id = rivercity.304
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.304"}
	title = rivercity.304.t
	desc = {
		trigger = { has_government = fascism }
		text = rivercity.304.d_fas
	}
	desc = {
		trigger = { has_government = communism }
		text = rivercity.304.d_com
	}

	is_triggered_only = yes

	picture = GFX_event_cave

	option = {
		name = rivercity.304.a
		create_country_leader = {
			name = "Princess Molly"
			desc = "POLITICS_MOLLY_DESC"
			picture = "DiamondDogPrincess.tga"
			expire = "1953.3.1"
			ideology = liberalism
			female = yes
		}
		set_politics = { ruling_party = democratic }
		add_popularity = {
			ideology = democratic
			popularity = 0.25
		}
		if = {
			limit = { event_target:coup_initator = { is_river_fed_member = yes } }
			random_country = {
				limit = {
					is_river_fed_member = yes
					is_faction_leader = yes
				}
				add_to_faction = ROOT
			}
		}
	}
}

country_event = { ### Coup Fails
	id = rivercity.305
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.305"}
	title = rivercity.305.t
	desc = {
		trigger = { has_government = fascism }
		text = rivercity.305.d_fas
	}
	desc = {
		trigger = {	has_government = communism }
		text = rivercity.305.d_com
	}
	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.305.a
		if = {
			limit = { is_in_faction_with = event_target:coup_initator }
			leave_faction = yes
		}
		add_opinion_modifier = { target = event_target:coup_initator modifier = enemies }
		create_wargoal = { type = puppet_wargoal_focus target = event_target:coup_initator }
	}
}

country_event = { ### Coup Succeeds - RCT Event
	id = rivercity.306
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.306"}
	title = rivercity.306.t
	desc = {
		trigger = { FROM = { has_government = fascism } }
		text = rivercity.306.d_fas
	}
	desc = {
		trigger = {	FROM = { has_government = communism } }
		text = rivercity.306.d_com
	}

	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.306.a
		add_political_power = 50
		add_stability = 0.05
		if = {
			limit = {
				has_idea = DMT_molly_in_exile
			}
			remove_ideas = DMT_molly_in_exile
		}
	}
}

country_event = { ### Coup Fails - RCT Event
	id = rivercity.3061
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.3061"}
	title = rivercity.3061.t
	desc = {
		trigger = { FROM = { has_government = fascism } }
		text = rivercity.3061.d_fas
	}
	desc = {
		trigger = {	FROM = { has_government = communism } }
		text = rivercity.3061.d_com
	}

	picture = GFX_event_cave

	is_triggered_only = yes

	option = {
		name = rivercity.3061.a
		effect_tooltip = {
			FROM = { add_opinion_modifier = { target = ROOT modifier = enemies } }
		}
		if = {
			limit = {
				has_idea = DMT_molly_in_exile
			}
			remove_ideas = DMT_molly_in_exile
		}
	}
}

country_event = { ############### Watertown : Convince them
	id = rivercity.307
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.307"}
	title = rivercity.307.t
	desc = rivercity.307.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = { save_event_target_as = rivercity }
		}
	}

	option = { ################ Maybe
		name = rivercity.307.a
		ai_chance = {
			base = 100
		}
		add_popularity = { ideology = democratic popularity = 0.08}
		add_ideas = RCT_WAT_Influence1
		hidden_effect = {
			country_event = { id = rivercity.309 days = 75 random = 1800 }#days to hours applied
			FROM = {
				country_event = { id = rivercity.317 hours = 1 }
			}
		}
	}
	option = { ################## Watertown : Nah
		name = rivercity.307.b
		ai_chance = {
			base = 0
		}
		add_political_power = -15
		FROM = {
			country_event = { id = rivercity.308 days = 1 }
		}
	}
}

country_event = { ############### Watertown : they don't wanna
	id = rivercity.308
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.308"}
	title = rivercity.308.t
	desc = rivercity.308.d
	picture = GFX_event_eqc_mustang_car

	is_triggered_only = yes

	option = { ################ to bad
		name = rivercity.308.a
	}
}

country_event = { ############### Watertown : see who you troughly are
	id = rivercity.309
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.309"}
	title = rivercity.309.t
	desc = rivercity.309.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.309.a
		add_popularity = { ideology = democratic popularity = 0.06}
		swap_ideas = {
			remove_idea = RCT_WAT_Influence1
			add_idea = RCT_WAT_Influence2
		}
		hidden_effect = {
			country_event = { id = rivercity.311 days = 75 random = 1800 }#days to hours applied
			event_target:rivercity = {
				country_event = { id = rivercity.310 hours = 1 }
			}
		}
	}
}

country_event = { ############### Watertown : see who you troughly are : River edition
	id = rivercity.310
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.310"}
	title = rivercity.310.t
	desc = rivercity.310.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.310.a
	}
}

country_event = { ############### Watertown : we are not diffent, you and me
	id = rivercity.311
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.311"}
	title = rivercity.311.t
	desc = rivercity.311.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.311.a
		add_popularity = { ideology = democratic popularity = 0.06}
		swap_ideas = {
			remove_idea = RCT_WAT_Influence2
			add_idea = RCT_WAT_Influence3
		}
		hidden_effect = {
			country_event = { id = rivercity.313 days = 75 random = 1800 }#days to hours applied
			event_target:rivercity = {
				country_event = { id = rivercity.312 hours = 1 }
			}
		}
	}
}

country_event = { ############### Watertown : we are not diffent, you and me : River editiom
	id = rivercity.312
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.312"}
	title = rivercity.312.t
	desc = rivercity.312.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.312.a
	}
}

country_event = { ############### Watertown : We Are Harmony
	id = rivercity.313
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.313"}
	title = rivercity.313.t
	desc = rivercity.313.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.313.a
		create_country_leader = {
			name = "Keeper Eathelin"
			desc = ""
			picture = "Eathelin.tga"
			expire = "1965.1.1"
			ideology = liberalism
			female = yes
			traits = {

			}
		}
		set_politics = {
			ruling_party = democratic
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.15
		}
		add_stability = 0.1
		add_political_power = 100
		if = {
			limit = {
				is_in_faction = no
			}
			event_target:rivercity = { add_to_faction = ROOT }
		}
		event_target:rivercity = {
			country_event = { id = rivercity.314 hours = 1 }
		}
	}
}

country_event = { ############### Watertown : WAT flips : River editiom
	id = rivercity.314
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.314"}
	title = rivercity.314.t
	desc = rivercity.314.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.314.a
	}
}

country_event = { ############### Watertown : they are willing to talk
	id = rivercity.317
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.317"}
	title = rivercity.317.t
	desc = rivercity.317.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.317.a
	}
}

country_event = { ############### Equestria Support : River Calls For Aid
	id = rivercity.318
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.318"}
	title = rivercity.318.t
	desc = rivercity.318.d
	picture = GFX_event_palace_hall

	is_triggered_only = yes

	option = {
		name = rivercity.318.a	#tech_sharing
		trigger = { has_dlc = "Together for Victory"}
		ai_chance = { factor = 15 }
		add_political_power = -25
		FROM = {
			country_event = { days = 1 id = rivercity.319 }
		}
		add_to_tech_sharing_group = Equestria_exchange_mission
	}

	option = { ################ Send them Research Studies
		name = rivercity.318.b
		ai_chance = {
			base = 15
		}
		add_political_power = -25
		FROM = {
			add_tech_bonus = {
				name = RCT_EQS_Industry_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = RCT_EQS_electronics_bonus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = RCT_EQS_infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			country_event = { id = rivercity.320 days = 1 }
		}
	}
	option = { ################ Send them Both
		name = rivercity.318.c
		trigger = { has_dlc = "Together for Victory"}
		ai_chance = {
			base = 100
		}
		add_political_power = -50
		add_to_tech_sharing_group = Equestria_exchange_mission
		FROM = {
			add_tech_bonus = {
				name = RCT_EQS_Industry_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = RCT_EQS_electronics_bonus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = RCT_EQS_infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			country_event = { id = rivercity.321 days = 1 }
		}
	}
	option = { ################ Nah
		name = rivercity.318.e
		ai_chance = {
			base = 1
		}
		FROM = {
			country_event = { id = rivercity.322 days = 1 }
		}
	}
}

country_event = { ###############Equestria Support : Tech-group
	id = rivercity.319
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.319"}
	title = rivercity.319.t
	desc = rivercity.319.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.319.a
		add_to_tech_sharing_group = Equestria_exchange_mission
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_Helped }
	}
}

country_event = { ############### Equestria Support : Sience
	id = rivercity.320
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.320"}
	title = rivercity.320.t
	desc = rivercity.320.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.320.a
		effect_tooltip = {
			add_tech_bonus = {
				name = RCT_EQS_Industry_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = RCT_EQS_electronics_bonus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = RCT_EQS_infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_Helped }
	}
}

country_event = { ############### Equestria Support : Everything
	id = rivercity.321
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.321"}
	title = rivercity.321.t
	desc = rivercity.321.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.321.a
		add_to_tech_sharing_group = Equestria_exchange_mission
		effect_tooltip = {
			add_tech_bonus = {
				name = RCT_EQS_Industry_bonus
				bonus = 1.0
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = RCT_EQS_electronics_bonus
				bonus = 1.0
				uses = 1
				category = electronics
			}
			add_tech_bonus = {
				name = RCT_EQS_infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_Helped_a_Lot }
	}
}

country_event = { ############### Equestria Support : Nothing
	id = rivercity.322
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.322"}
	title = rivercity.322.t
	desc = rivercity.322.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################
		name = rivercity.322.a
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_didnt_Helped }
	}
}

country_event = { ############### Equestria aid : Hello Hello Hello
	id = rivercity.323
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.323"}
	title = rivercity.323.t
	desc = rivercity.323.d
	picture = GFX_event_hearthswarming

	is_triggered_only = yes

	option = { ################ Send them Weapons
		name = rivercity.323.a
		ai_chance = {
			base = 99
		}
		send_equipment = {
			equipment = infantry_equipment
			amount = 1200
			target = FROM
		}
		send_equipment = {
			equipment = support_equipment
			amount = 250
			target = FROM
		}
		send_equipment = {
			equipment = light_tank_equipment
			amount = 50
			target = FROM
		}
		add_ai_strategy = {
			id = FROM
			type = support
			value = 50
		}
		add_ai_strategy = {
			id = FROM
			type = befriend
			value = 20
		}
		FROM = {
			country_event = { id = rivercity.324 days = 1 }
		}
	}
	option = { ################ nope
		name = rivercity.323.b
		ai_chance = { factor = 1 }
		FROM = {
			country_event = { days = 1 id = rivercity.325 }
		}
	}
}

country_event = { ############### Equestria aid : yes
	id = rivercity.324
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.324"}
	title = rivercity.324.t
	desc = rivercity.324.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = rivercity.324.a
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_Exchange_mission_buddies }
		reverse_add_opinion_modifier = { target = FROM modifier = RCT_EQS_Exchange_mission_buddies }
	}
}

country_event = { ###############  Equestria aid : no
	id = rivercity.325
	immediate = {log = "[GetDateText]: [Root.GetName]: event rivercity.325"}
	title = rivercity.325.t
	desc = rivercity.325.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes

	option = {
		name = rivercity.325.a
		add_opinion_modifier = { target = FROM modifier = RCT_EQS_didnt_Helped_in_Exchange }
	}
}
