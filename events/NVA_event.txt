add_namespace = NVA_debug
add_namespace = senkinh_intro
add_namespace = senkinh_misc
add_namespace = senkinh_monarch
add_namespace = senkinh_republic
add_namespace = senkinh_military
add_namespace = senkinh_socialists

#######debug
#选国策  choose focus debug
country_event = {
	id = NVA_debug.1
	title = NVA_debug.1.t
	desc = expNVA_debugeriment.1.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes

	option = {
		name = NVA_debug.1.a
		load_focus_tree = NVA_introgame
	}
	option = {
		name = NVA_debug.1.b
		load_focus_tree = NVA_rankinpart1
	}
    option = {
		name = NVA_debug.1.c
        load_focus_tree = NVA_rankinpart2
	}
    option = {
		name = NVA_debug.1.d
		load_focus_tree = NVA_zeyshan_reform
        set_politics = {
            ruling_party = democratic
            elections_allowed = no
        }
	}
}

############################## Intro Events ##############################

country_event = {
    id = senkinh_intro.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.1"}
    title = senkinh_intro.1.t
    desc = senkinh_intro.1.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.1.a
        add_stability = 0.01
    }
}

country_event = {
    id = senkinh_intro.2
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.2"}
    title = senkinh_intro.2.t
    desc = senkinh_intro.2.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.2.a
        add_stability = -0.05
    }
}

country_event = {
    id = senkinh_intro.3
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.3"}
    title = senkinh_intro.3.t
    desc = senkinh_intro.3.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.3.a
        NVA_rankin = {
            add_trait = {
                trait = NVA_incompetent_king_1
            }
        }
    }
}

country_event = {
    id = senkinh_intro.4
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.4"}
    title = senkinh_intro.4.t
    desc = senkinh_intro.4.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.4.a
        swap_ideas = {
		    remove_idea = NVA_uncooperative_military_idea1
			add_idea = NVA_uncooperative_military_idea2
		}
        hidden_effect = {
            country_lock_all_division_template = yes
        }
    }
}

country_event = {
    id = senkinh_intro.5
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.5"}
    title = senkinh_intro.5.t
    desc = senkinh_intro.5.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.5.a
        
    }
}

country_event = {
    id = senkinh_intro.6
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.6"}
    title = senkinh_intro.6.t
    desc = senkinh_intro.6.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.6.a
        
    }
}

country_event = {
    id = senkinh_intro.7
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_intro.7"}
    title = senkinh_intro.7.t
    desc = senkinh_intro.7.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_intro.7.a
        load_focus_tree = NVA_rankinpart1
        set_country_flag = NVA_rankin_in_politics
    }
}

########################### Mil / Econ Events ############################

country_event = {
    id = senkinh_misc.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.1"}
    title = senkinh_misc.1.t
    desc = senkinh_misc.1.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_misc.1.a
        
    }
    option = {
        name = senkinh_misc.1.b
        
    }
}

country_event = {
    id = senkinh_misc.2
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.2"}
    title = senkinh_misc.2.t
    desc = senkinh_misc.2.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_misc.2.a

    }
    option = {
        name = senkinh_misc.2.b
        
    }
}

country_event = {
    id = senkinh_misc.3
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.3"}
    title = senkinh_misc.3.t
    desc = senkinh_misc.3.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_misc.3.a
        add_corps_commander_role = {
			character = NVA_mugwort
			traits={ kirin_race_trait media_personality trait_hanpoa_student }
			skill=2
			attack_skill=1
			defense_skill=2
			planning_skill=1
			logistics_skill=3
		}
        add_corps_commander_role = {
			character = NVA_huo_fanshuang
			traits={ kirin_race_trait promising_general trait_hanpoa_student }
			skill=2
			attack_skill=2
			defense_skill=2
			planning_skill=2
			logistics_skill=1
		}
        add_corps_commander_role = {
			character = NVA_chu_fenghuan
			traits={ kirin_race_trait trait_berserker media_personality trait_hanpoa_student }
			skill=2
			attack_skill=3
			defense_skill=2
			planning_skill=1
			logistics_skill=1
		}
        hidden_effect = {
            NVA_mugwort = {
                add_timed_unit_leader_trait = {
                    trait = recently_promoted
                    days = 90
                }
                add_advisor_role = {
                    advisor = {
                        slot = high_command
                        cost = 100
                        idea_token = NVA_mugwort_high_command
                        traits = {
                            army_entrenchment_2
                        }
                    }
                }
            }
            NVA_huo_fanshuang = {
                add_timed_unit_leader_trait = {
                    trait = recently_promoted
                    days = 90
                }
                add_advisor_role = {
                    advisor = {
                        slot = army_chief
                        cost = 100
                        idea_token = NVA_huo_fanshuang_high_command
                        traits = {
                            army_chief_morale_2
                        }
                    }
                }
            }
            NVA_chu_fenghuan = {
                add_timed_unit_leader_trait = {
                    trait = recently_promoted
                    days = 90
                }
                add_advisor_role = {
                    advisor = {
                        slot = high_command
                        cost = 50
                        idea_token = NVA_chu_fenghuan_high_command
                        traits = {
                            army_infantry_1
                        }
                    }
                }
            }
            NVA_liu_xing = {
                add_unit_leader_trait = trait_hanpoa_student
            }
        }
    }
}

country_event = {
    id = senkinh_misc.4
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.4"}
    title = senkinh_misc.4.t
    desc = senkinh_misc.4.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_misc.4.a
        custom_effect_tooltip = NVA_hanpoa_decisions_tt
        hidden_effect = {
            set_country_flag = NVA_hanpoa_activated
        }
    }
}

country_event = { #lankir onaction 
    id = senkinh_misc.5
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.5"}
    title = senkinh_misc.5.t
    desc = senkinh_misc.5.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = senkinh_misc.5.a
        custom_effect_tooltip = NVA_lankir_decisions_tt
        hidden_effect = {
            set_country_flag = NVA_lankir_occupation_started
            release_puppet = KXN
			KXN = {
				load_focus_tree = generic_zebra_focus
				set_cosmetic_tag = NVA_lankir_puppet
				kill_ideology_leader = neutrality
				set_politics = {
					ruling_party = neutrality
				}
				set_party_name = {
					ideology = neutrality
					name = KXN_administration_neutrality_party
					long_name = KXN_administration_neutrality_party_long
				}
                set_party_name = {
					ideology = democratic
					name = KXN_administration_democratic_party
					long_name = KXN_administration_democratic_party_long
				}
				add_country_leader_role = {
					character = KXN_chai_yik_wing
					promote_leader = yes
					country_leader = {
						desc = "NVA_chai_yik_wing_desc"
						expire = "1965.1.1"
						ideology = khakistocracy
						traits = { prince_of_terror }
					}
				}
			}
			1085 = {
				set_state_name = KXN_renjiang_name
				set_province_name = {
					id = 16573
					name = KXN_new_solstice_vp_name
				}
				set_province_name = {
					id = 4399
					name = KXN_new_razorgrain_vp_name
				}
			}
			1086 = {
				set_state_name = KXN_lan_tsao_name
				set_province_name = {
					id = 16579
					name = KXN_new_orchid_vp_name
				}
				set_province_name = {
					id = 16608
					name = KXN_new_arrowroot_vp_name
				}
				set_province_name = {
					id = 16639
					name = KXN_new_durum_vp_name
				}
			}
        }
        
    }
}

# Sen Kinh - Khamrin option to ally against Lan Kir 
# 1/4 - Ask Sen Kinh players yes/no
country_event = {
    id = senkinh_misc.6
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.6"}
    title = senkinh_misc.6.t
    desc = senkinh_misc.6.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = { # Good idea
        name = senkinh_misc.6.a

        KHM = {
            country_event = senkinh_misc.7
        }

        ai_chance = { base = 1 }
    }

    option = { # Don't need them
        name = senkinh_misc.6.b

        ai_chance = { base = 0 }
    }
}
# 2/4 - Ask Khamrin player yes/no
country_event = {
    id = senkinh_misc.7
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.7"}
    title = senkinh_misc.7.t
    desc = senkinh_misc.7.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = { # We'll ally with them
        name = senkinh_misc.7.a

        NVA = { 
            country_event = senkinh_misc.8
        }

        ai_chance = { base = 1 }
        
    }

    option = { # Don't need them
        name = senkinh_misc.7.b

        NVA = { 
            country_event = senkinh_misc.9 
        }

        ai_chance = { base = 0 }
    }
}
# 3/4 - Khamrin said yes
country_event = {
    id = senkinh_misc.8
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.8"}
    title = senkinh_misc.8.t
    desc = senkinh_misc.8.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        create_faction = NVA_anti_lan_kir_faction

        add_to_faction = KHM

        # Lan Kir needs to cap both
        set_major = yes
        KHM = { set_major = yes }

        set_global_flag = NVA_KHM_alliance_happened

        name = senkinh_misc.8.a        
    }
}
# 4/4 - Khamrin said no
country_event = {
    id = senkinh_misc.9
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.9"}
    title = senkinh_misc.9.t
    desc = senkinh_misc.9.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = senkinh_misc.9.a        
    }
}

# Lan-Kir defeated - faction breaks up
country_event = {
    id = senkinh_misc.10
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_misc.10"}
    title = senkinh_misc.10.t
    desc = senkinh_misc.10.d

    picture = GFX_NVA_event
    is_triggered_only = yes
    fire_only_once = yes

    option = {
        dismantle_faction = yes

        set_major = no
        KHM = { set_major = no }

        name = senkinh_misc.10.a        
    }
}

############################# Rankin Events ##############################

country_event = {
    id = senkinh_monarch.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.1"}
    title = senkinh_monarch.1.t
    desc = senkinh_monarch.1.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.1.a
        set_power_balance = {
            id = NVA_new_king_bop
            set_default = yes
        }
        hidden_effect = {
            set_country_flag = NVA_BOP_start
        }
    }
}

country_event = {
    id = senkinh_monarch.2
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.2"}
    title = senkinh_monarch.2.t
    desc = senkinh_monarch.2.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.2.a
        add_political_power = 50
        add_power_balance_value = {
            id = NVA_new_king_bop
            value = -0.1
        }
    }
}

country_event = {
    id = senkinh_monarch.3
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.3"}
    title = senkinh_monarch.3.t
    desc = senkinh_monarch.3.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.3.a
        army_experience = 25
        add_power_balance_value = {
            id = NVA_new_king_bop
            value = 0.1
        }
    }
}

country_event = { #railway project completed
    id = senkinh_monarch.4
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.4"}
    title = senkinh_monarch.4.t
    desc = senkinh_monarch.4.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.4.a
        increase_society_development_gradual = yes
    }
}

country_event = {
    id = senkinh_monarch.5
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.5"}
    title = senkinh_monarch.5.t
    desc = senkinh_monarch.5.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.5.a
        add_trait = {
            character = NVA_rich_aunt
            slot = political_advisor
            trait = NVA_rich_family_head
       }
    }
}

country_event = {
    id = senkinh_monarch.6
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_monarch.6"}
    title = senkinh_monarch.6.t
    desc = senkinh_monarch.6.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_monarch.6.a
        add_trait = {
            character = NVA_the_advocate
            slot = political_advisor
            trait = NVA_union_boss
       }
    }
}


############################## Republic Events ##############################

country_event = {
    id = senkinh_republic.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.1"}
    title = senkinh_republic.1.t
    desc = senkinh_republic.1.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.1.a
        set_politics = {
            ruling_party = democratic
            elections_allowed = no
        }
    }
}
country_event = {
    id = senkinh_republic.2
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.2"}
    title = senkinh_republic.2.t
    desc = senkinh_republic.2.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.2.a
        
    }
}
country_event = {
    id = senkinh_republic.3
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.3"}
    title = senkinh_republic.3.t
    desc = senkinh_republic.3.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.3.a
        
    }
}
country_event = {
    id = senkinh_republic.4
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.4"}
    title = senkinh_republic.4.t
    desc = senkinh_republic.4.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.4.a
        
    }
}
country_event = {
    id = senkinh_republic.5
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.5"}
    title = senkinh_republic.5.t
    desc = senkinh_republic.5.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.5.a
        
    }
}
country_event = {
    id = senkinh_republic.6
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.6"}
    title = senkinh_republic.6.t
    desc = senkinh_republic.6.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.6.a
        
    }
}
country_event = {
    id = senkinh_republic.7
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.7"}
    title = senkinh_republic.7.t
    desc = senkinh_republic.7.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.7.a
        
    }
}
country_event = {
    id = senkinh_republic.8
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.8"}
    title = senkinh_republic.8.t
    desc = senkinh_republic.8.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.8.a
        
    }
}
country_event = {
    id = senkinh_republic.9
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.9"}
    title = senkinh_republic.9.t
    desc = senkinh_republic.9.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.9.a
        
    }
}
country_event = {
    id = senkinh_republic.10
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.10"}
    title = senkinh_republic.10.t
    desc = senkinh_republic.10.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.10.a
        if = {
            limit = {
                has_country_flag = NVA_commission_first_one
            }
            set_country_flag = NVA_commission_first_two
        }
        else = {
            set_country_flag = NVA_commission_first_one
        }
    }
    option = {
        name = senkinh_republic.10.b
        if = {
            limit = {
                has_country_flag = NVA_cambaist_first_one
            }
            set_country_flag = NVA_cambaist_first_two
        }
        else = {
            set_country_flag = NVA_cambaist_first_one
        }
    }
}
country_event = {
    id = senkinh_republic.11
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.11"}
    title = senkinh_republic.11.t
    desc = senkinh_republic.11.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.11.a
        
    }
}
country_event = {
    id = senkinh_republic.12
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_republic.12"}
    title = senkinh_republic.12.t
    desc = senkinh_republic.12.d

    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_republic.12.a
        
    }
}

########################### Military path events ######################

country_event = {
    id = senkinh_military.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_military.1"}
    title = senkinh_military.1.t
    desc = {
        text = senkinh_military.1.d_occupation
        trigger = {
            has_country_flag = NVA_lankir_occupation_started
        }
    }
    desc = {
        text = senkinh_military.1.d_preoccupation
        trigger = {
            NOT = { has_country_flag = NVA_lankir_occupation_started }
        }
    }
    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_military.1.a

        remove_power_balance = {
            id = NVA_new_king_bop
        }

        set_politics = {
            ruling_party = fascism
            elections_allowed = no
        }

        # TODO: add military coup stuff
    }
}

########################### Socialist path events #####################

country_event = {
    id = senkinh_socialists.1
    immediate = {log = "[GetDateText]: [Root.GetName]: event senkinh_socialists.1"}
    title = senkinh_socialists.1.t
    desc = {
        text = senkinh_socialists.1.d_occupation
        trigger = {
            has_country_flag = NVA_lankir_occupation_started
        }
    }
    desc = {
        text = senkinh_socialists.1.d_preoccupation
        trigger = {
            NOT = { has_country_flag = NVA_lankir_occupation_started }
        }
    }
    picture = GFX_NVA_event
    is_triggered_only = yes

    option = {
        name = senkinh_socialists.1.a

        remove_power_balance = {
            id = NVA_new_king_bop
        }

        set_politics = {
            ruling_party = communism
            elections_allowed = no
        }

        # TODO: add socialist coup stuff
    }
}