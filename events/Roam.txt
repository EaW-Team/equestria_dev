#Hi code frumentary, this is the place for future content! Ave Kaiser!

add_namespace = newsroam
add_namespace = roam
add_namespace = roam_curse
add_namespace = roam_trade_agreements
add_namespace = roam_dam
add_namespace = roam_lansin_uprising

news_event = { #Republican Nova losing the civil war
	id = newsroam.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event newsroam.10"}
	title = newsroam.1.t
	desc = newsroam.1.d
	picture = GFX_news_event_colthage
	major = yes
	is_triggered_only = yes

	option = {
		name = newsroam.1.a
		trigger = {
				has_government = democratic
			}
	}
	option = {
		name = newsroam.1.b
		trigger = {
				has_government = communism
			}
	}
	option = {
		name = newsroam.1.c
		trigger = {
				has_government = neutrality
			}
	}
	option = {
		name = newsroam.1.e
		trigger = {
				has_government = fascism
			}
	}
}

news_event = { # Roaman Civil War
	id = newsroam.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event newsroam.2"}
	title = newsroam.2.t
	desc = newsroam.2.d
	picture = GFX_news_event_colthage
	major = yes
	is_triggered_only = yes

	option = {
		name = newsroam.2.a
	}
}

country_event = { # State of Roaman Economy
	id = roam.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.2"}
	title = roam.1.t
	desc = roam.1.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.1.a
	}
}

country_event = { # The Crusade goes on
	id = roam.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.2"}
	title = roam.2.t
	desc = roam.2.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.2.a
	}
}

country_event = { # Spirit of the Cities
	id = roam.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.3"}
	title = roam.3.t
	desc = roam.3.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.3.a
	}
}

country_event = { # Memories of the Arks
	id = roam.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.4"}
	title = roam.4.t
	desc = roam.4.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.4.a
	}
}

country_event = { # Forge of Zebrica
	id = roam.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.5"}
	title = roam.5.t
	desc = roam.5.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.5.a
		custom_effect_tooltip = ROA_forge_of_zebrica_mil_tt
		hidden_effect = {
			every_core_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					arms_factory > 1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	option = {
		name = roam.5.b
		custom_effect_tooltip = ROA_forge_of_zebrica_civ_tt
		hidden_effect = {
			every_core_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
					industrial_complex > 1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

country_event = { # Activation of resistance mechanic - triggered after GFS's capitulation
	id = roam.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.6"}
	title = roam.6.t
	desc = roam.6.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	immediate = {
		set_country_flag = resistance_mechanic_active
		hidden_effect = {
			resistance_dm_calculations = yes
		}
	}

	option = {
		name = roam.6.a
		add_dynamic_modifier = {
			modifier = ROA_resistance_dm
		}
	}
}

country_event = { # Deactivation of resistance mechanic - TODO: find where to trigger this
	id = roam.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.7"}
	title = roam.7.t
	desc = roam.7.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	immediate = {
		clr_country_flag = resistance_mechanic_active
	}

	option = {
		name = roam.7.a
		remove_dynamic_modifier = {
			modifier = ROA_resistance_dm
		}
	}
}
country_event = { #ROA wanna order our ships for their navy
	id = roam.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.8"}
	title = roam.8.t
	desc = roam.8.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = { # yes - big ships
		name = roam.8.a
		trigger = {
			has_country_flag = ordered_big_ships
		}
		ROA = { country_event = { id = roam.11 days = 2 } }
		two_random_industrial_complex = yes
	}
	option = { # yes - small ships
		name = roam.8.b
		trigger = {
			has_country_flag = ordered_small_ships
		}
		ROA = { country_event = { id = roam.11 days = 2 } }
		two_random_industrial_complex = yes
	}
	option = { # yes - medium ships
		name = roam.8.c
		trigger = {
			has_country_flag = ordered_medium_ships
		}
		ROA = { country_event = { id = roam.11 days = 2 } }
		three_random_industrial_complex = yes
	}
	option = {		#no
		name = roam.8.e
		add_political_power = 25
		clr_country_flag = ordered_big_ships
		clr_country_flag = ordered_small_ships
		clr_country_flag = ordered_medium_ships
	}
}
country_event = { #responce on ship order request for Roam
	id = roam.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.11"}
	title = roam.11.t
	desc = roam.11.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {		#good
		name = roam.11.a
		if = {
			limit = {
				FROM = { tag = CNT }
			}
			create_equipment_variant = {
				name = "Boğaz Class"
				type = ship_hull_heavy_1
				#name_group = CNT_BB_HISTORICAL		#change to ROA name list later
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bc_1
					front_1_custom_slot = ship_anti_air_1
					mid_1_custom_slot = empty
					mid_2_custom_slot = ship_secondaries_1
					rear_1_custom_slot = ship_heavy_battery_1
				}
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_1
					creator = "CNT" 
					version_name = "Boğaz Class"
				}
				name = "Domina" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
		}
		else_if = {
			limit = {
				FROM = { tag = AES }
			}
			create_equipment_variant = {
				name = "Minelayer Class"				# minelayer		
				type = ship_hull_light_1
				#name_group = AES_DD_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = light_ship_engine_1
					fixed_ship_torpedo_slot = ship_torpedo_1
					mid_1_custom_slot = ship_mine_layer_1
					rear_1_custom_slot = ship_mine_layer_1
				}
			}
			create_equipment_variant = {
				name = "Royal Class"
				type = ship_hull_cruiser_1
				#name_group = AES_CL_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
					mid_1_custom_slot = ship_torpedo_1
					mid_2_custom_slot = empty
					rear_1_custom_slot = ship_mine_layer_1
				}
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "AES" 
					version_name = "Royal Class"
				}
				name = "Tisha" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "AES" 
					version_name = "Royal Class"
				}
				name = "Paksali" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "AES" 
					version_name = "Minelayer Class"
				}
				name = "M-1" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "AES" 
					version_name = "Minelayer Class"
				}
				name = "M-2" 
				requested_factories = 1
				progress = 0.91
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "AES" 
					version_name = "Minelayer Class"
				}
				name = "M-3" 
				requested_factories = 1
				progress = 0.92
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "AES" 
					version_name = "Minelayer Class"
				}
				name = "M-4" 
				requested_factories = 1
				progress = 0.93
				amount = 1
			}
		}
		# Dassal ships 
		else_if = {
			limit = {
				FROM = { tag = CTH }
			}
			create_equipment_variant = {
				name = "Colthage Class"
				type = ship_hull_heavy_1
				name_group = GENERIC_ANIMALS
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_2
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_2
					fixed_ship_secondaries_slot = ship_secondaries_1
					fixed_ship_armor_slot = ship_armor_bc_1
					front_1_custom_slot = empty
					mid_1_custom_slot = empty
					mid_2_custom_slot = ship_anti_air_2
					rear_1_custom_slot = ship_heavy_battery_2
				}
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_1
					creator = "CTH" 
					version_name = "Colthage Class"
				}
				name = "Lumina" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
		}
		else_if = {
			limit = {
				FROM = { tag = CTL }
			}
			create_equipment_variant = {
				name = "Majava Class"
				type = ship_hull_light_1
				#name_group = OLE_DD_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = light_ship_engine_1
					fixed_ship_torpedo_slot = ship_torpedo_1
					mid_1_custom_slot = empty
					rear_1_custom_slot = ship_depth_charge_1
				}
			}
			create_equipment_variant = {
				name = "Hjortland Class"
				type = ship_hull_cruiser_1
				#name_group = OLE_CL_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_1
					fixed_ship_secondaries_slot = ship_secondaries_1
					mid_1_custom_slot = ship_anti_air_1
					mid_2_custom_slot = ship_secondaries_1
					rear_1_custom_slot = ship_medium_battery_1
				}
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "CTL" 
					version_name = "Hjortland Class"
				}
				name = "Polista" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_1
					creator = "CTL" 
					version_name = "Hjortland Class"
				}
				name = "Nissali" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "CTL" 
					version_name = "Majava Class"
				}
				name = "D-1" 
				requested_factories = 1
				progress = 0.90
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "CTL" 
					version_name = "Majava Class"
				}
				name = "D-2" 
				requested_factories = 1
				progress = 0.91
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "CTL" 
					version_name = "Majava Class"
				}
				name = "D-3" 
				requested_factories = 1
				progress = 0.92
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_light_1
					creator = "CTL" 
					version_name = "Majava Class"
				}
				name = "D-4" 
				requested_factories = 1
				progress = 0.93
				amount = 1
			}
		}
	}
	option = {		#damn, they refused
		name = roam.10.b
		add_political_power = 50
	}
}
country_event = { # Legates Contest
	id = roam.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam.12"}
	title = roam.12.t
	desc = roam.12.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam.12.a
	}
}

# Trade Agreements

country_event = { # An Offer
	id = roam_trade_agreements.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_trade_agreements.1"}
	title = roam_trade_agreements.1.t
	desc = roam_trade_agreements.1.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = { # Yes
		name = roam_trade_agreements.1.a
		add_political_power = 50
		add_ideas = ROA_trading_agreement_idea
		ROA = {
			country_event = roam_trade_agreements.2
		}
		ai_chance = {
			base = 20
			modifier = {
       			factor = 0
				has_opinion = {
    				target = ROA
    				value < 10
				}
    		}
		}
	}
	option = { # No
		name = roam_trade_agreements.1.b
		ROA = {
			country_event = roam_trade_agreements.3
		}
	}
	after = {
		ROA = { clr_country_flag = ROA_trade_agreements_in_progress }
	}
}

country_event = { # Accepted
	id = roam_trade_agreements.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_trade_agreements.2"}
	title = roam_trade_agreements.2.t
	desc = roam_trade_agreements.2.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam_trade_agreements.2.a
		custom_effect_tooltip = ROA_modify_agreements_tt
		effect_tooltip = {
			add_to_variable = { ROA_trade_agreements_dm_production_factory_max_efficiency_factor = 0.01 tooltip = production_factory_max_efficiency_factor_tt }
			add_to_variable = { ROA_trade_agreements_dm_production_factory_efficiency_gain_factor = 0.01 tooltip = production_factory_efficiency_gain_factor_tt }
			add_to_variable = { ROA_trade_agreements_dm_consumer_goods_factor = -0.02 tooltip = consumer_goods_factor_tt }
		}
	}
}

country_event = { # Rejected
	id = roam_trade_agreements.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_trade_agreements.3"}
	title = roam_trade_agreements.3.t
	desc = roam_trade_agreements.3.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam_trade_agreements.3.a
	}
}

# Dam project

country_event = { # An Offer - an event for controller of state 1080
	id = roam_dam.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.1"}
	title = roam_dam.1.t
	desc = roam_dam.1.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = { # Yes
		name = roam_dam.1.a
		ROA = {
			country_event = {
				id = roam_dam.2
				days = 1
			}
		}
	}
	option = { # No
		name = roam_dam.1.b
		ROA = {
			country_event = {
				id = roam_dam.3
				days = 1
			}
		}
	}
}

country_event = { # Accepted
	id = roam_dam.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.2"}
	title = roam_dam.2.t
	desc = roam_dam.2.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = {
		name = roam_dam.2.a
		ROA = {
			activate_mission = ROA_kismaneyo_dam_building_mission
			add_timed_idea = {
				idea = ROA_dam_building_idea
				days = 240
			}
		}
		hidden_effect = {
			FROM = {
				activate_mission = ROA_kismaneyo_dam_building_mission
			}
		}
	}
}

country_event = { # Rejected - Should we build it on our own?
	id = roam_dam.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.3"}
	title = roam_dam.3.t
	desc = roam_dam.3.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	option = { # Why Not
		name = roam_dam.3.a
		activate_mission = ROA_wellspring_dam_building_mission
		add_timed_idea = {
			idea = ROA_dam_building_idea
			days = 360
		}
	}
	option = {
		name = roam_dam.3.b
	}
}

country_event = { # Kismaneyo Dam is finished
	id = roam_dam.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.4"}
	title = roam_dam.4.t
	desc = roam_dam.4.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			1131 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = 16645
				}
			}
			1080 = {
				add_dynamic_modifier = {
					modifier = ROA_dam_dm
				}
			}
			set_country_flag = Kismaneyo_Dam_finished
		}
	}

	option = {
		name = roam_dam.4.a
		effect_tooltip = {
			1131 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = 16645
				}
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
			1080 = {
				add_dynamic_modifier = {
					modifier = ROA_dam_dm
				}
			}
		}
	}
}

country_event = { # Wellspring Dam is finished
	id = roam_dam.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.5"}
	title = roam_dam.5.t
	desc = roam_dam.5.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			920 = {
				add_building_construction = {
					type = dam_mountain
					level = 1
					instant_build = yes
					province = 17134
				}
				improve_state_category = yes
			}
			922 = {
				improve_state_category = yes
			}
			set_country_flag = Wellspring_Dam_finished
		}
	}

	option = {
		name = roam_dam.5.a
		effect_tooltip = {
			920 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = 17134
				}
				improve_state_category = yes
			}
			922 = {
				improve_state_category = yes
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}
}

country_event = { # Nissali Dam is finished
	id = roam_dam.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_dam.6"}
	title = roam_dam.6.t
	desc = roam_dam.6.d
	picture = GFX_event_polar_city

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			921 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = 17129
				}
				improve_state_category = yes
			}
			908 = {
				improve_state_category = yes
			}
		}
	}

	option = {
		name = roam_dam.6.a
		effect_tooltip = {
			921 = {
				add_building_construction = {
					type = dam
					level = 1
					instant_build = yes
					province = 17129
				}
				improve_state_category = yes
			}
			908 = {
				improve_state_category = yes
			}
			custom_effect_tooltip = {
				localization_key = building_state_modifier|dam
				INDENT = "    "
			}
		}
	}
}

#

country_event = { # Augustus gets cursed
	id = roam_curse.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.1"}
	title = roam_curse.1.t
	desc = roam_curse.1.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			add_country_leader_trait = ROA_augustus_curse
			set_country_flag = ROA_augustus_curse_flag
			country_event = {
				id = roam_lansin_uprising.1
				days = 20
			}
			country_event = {
				id = roam_curse.4
				days = 650
			}
		}
	}

	option = {
		name = roam_curse.1.a
		activate_mission = ROA_curse_mission
	}
}

country_event = { # Augustus cures curse
	id = roam_curse.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.2"}
	title = roam_curse.2.t
	desc = roam_curse.2.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			remove_country_leader_trait = ROA_augustus_curse
			set_country_leader_portrait = {
				portrait = "gfx/leaders/ROA/ROA_Augustus.tga" # TODO - check if it work
			}
			clr_country_flag = ROA_augustus_curse_flag
			if = {
				limit = {
					has_country_leader_with_trait = ROA_augustus_curse_2
				}
				remove_country_leader_trait = ROA_augustus_curse_2
			}
			else = {
				remove_country_leader_trait = ROA_augustus_curse
			}
			country_event = {
				id = roam_curse.7
				days = 15
			}
		}
	}

	option = {
		name = roam_curse.2.a
	}
}

country_event = { # Augustus dies of curse
	id = roam_curse.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.3"}
	title = roam_curse.3.t
	desc = roam_curse.3.d

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = ROA_augustus_curse_flag
			set_country_leader_portrait = {
				portrait = "gfx/leaders/ROA/ROA_Augustus_dead.tga"
			}
			clr_country_flag = uprising_mechanic_active
			remove_ideas = ROA_uprising_alert_idea
			set_country_flag = augustus_dead
			set_variable = { legate_power_var = power_balance_value } # Used for divs amount calculation for legate's uprising
		}
	}
	after = {
		hidden_effect = {
			remove_power_balance = {
				id = ROA_bop
			}
		}
	}
	option = { # Alsa & Dassal will start a Civil War
		name = roam_curse.3.a
		trigger = {
			has_character = ROA_alsa
			has_character = ROA_dassal
		}
		hidden_effect = {
			country_event = {
				id = roam_curse.5
				days = 15
			}
		}
	}
	option = { # Dassal supported Lansin's uprising, so Alsa has no contestant
		name = roam_curse.3.b
		trigger = {
			has_character = ROA_alsa
			NOT = { has_character = ROA_dassal }
		}
		new_leader_is_alsa = yes
	}
	option = { # Alsa supported Lansin's uprising, so Dassal has no contestant
		name = roam_curse.3.c
		trigger = {
			has_character = ROA_dassal
			NOT = { has_character = ROA_alsa }
		}
		new_leader_is_dassal = yes
	}
}

country_event = { # Augustus is getting worse
	id = roam_curse.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.4"}
	title = roam_curse.4.t
	desc = roam_curse.4.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_country_leader_portrait = {
				portrait = "gfx/leaders/ROA/ROA_Augustus_sick.tga"
			}
		}
	}

	option = {
		name = roam_curse.4.a
		swap_ruler_traits = {
    		remove = ROA_augustus_curse
    		add = ROA_augustus_curse_2
		}
	}
}

country_event = { # Augustus is dead, we're fucked - Civil War 'Alsa vs Dassal vs Lansin'
	id = roam_curse.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.5"}
	title = roam_curse.5.t
	desc = roam_curse.5.d

	is_triggered_only = yes
	fire_only_once = yes

	after = {
		hidden_effect = {
			drop_cosmetic_tag = yes
			ROA_civil_war_effect = yes
			if = {
				limit = {
					has_country_flag = play_lansin
				}
				event_target:lansin_uprising = { change_tag_from = ROA }
				clr_country_flag = play_lansin
			}
			load_focus_tree = {
				tree = roam_focus
				keep_completed = yes
			}
			news_event = newsroam.2
		}
	}

	option = { # Play Alsa - if BOP was on Alsa's side, you can't choose Dassal
		name = roam_curse.5.a
		trigger = {
			is_power_balance_in_range = {
				id = ROA_bop
				range < ROA_bop_balance
			}
		}
		kill_country_leader = yes
		new_leader_is_alsa = yes
	}
	option = { # Play Dassal - if BOP was on Dassal's side, you can't choose Alsa
		name = roam_curse.5.b
		trigger = {
			is_power_balance_in_range = {
				id = ROA_bop
				range > ROA_bop_balance
			}
		}
		kill_country_leader = yes
		new_leader_is_dassal = yes
	}
	option = { # Play Alsa - choice between Alsa & Dassal if BOP was in centre
		name = roam_curse.5.c
		trigger = {
			is_power_balance_in_range = {
				id = ROA_bop
				range = ROA_bop_balance
			}
		}
		kill_country_leader = yes
		new_leader_is_alsa = yes
	}
	option = { # Play Dassal - choice between Alsa & Dassal if BOP was in centre
		name = roam_curse.5.e
		trigger = {
			is_power_balance_in_range = {
				id = ROA_bop
				range = ROA_bop_balance
			}
		}
		kill_country_leader = yes
		new_leader_is_dassal = yes
	}
	option = { # Play Lansin if he's not yet dead
		name = roam_curse.5.f
		trigger = {
			NOT = { has_country_flag = uprising_suppressed }
			NOT = { has_country_flag = uprising_happened }
		}
		custom_effect_tooltip = play_lansin_tt
		set_country_flag = play_lansin
		hidden_effect = {
			if = {
				limit = {
					is_power_balance_in_range = {
						id = ROA_bop
						range < ROA_bop_balance
					}
				}
				kill_country_leader = yes
				new_leader_is_alsa = yes
			}
			else_if = {
				limit = {
					is_power_balance_in_range = {
						id = ROA_bop
						range > ROA_bop_balance
					}
				}
				kill_country_leader = yes
				new_leader_is_dassal = yes
			}
			else = {
				random_list = {
					50 = {
						kill_country_leader = yes
						new_leader_is_dassal = yes
					}
					50 = {
						kill_country_leader = yes
						new_leader_is_dassal = yes
					}
				}
			}
		}
	}
}

country_event = { # End of Civil War
	id = roam_curse.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.6"}
	title = roam_curse.6.t
	desc = roam_curse.6.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = roam_curse.6.a
	}
}

country_event = { # Augustus changes ideology
	id = roam_curse.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.7"}
	title = roam_curse.7.t
	desc = roam_curse.7.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = roam_curse.7.a
		hidden_effect = { # Swaps popularities of fascism and neutrality
			set_temp_variable =  { neu_var = party_popularity_100@neutrality }
			set_temp_variable =  { dem_var = party_popularity_100@democratic }
			set_temp_variable =  { fas_var = party_popularity_100@fascism }
			set_temp_variable =  { com_var = party_popularity_100@communism }
			set_popularities = {
				fascism =  neu_var
				democratic =  dem_var
				neutrality =  fas_var
				communism =  com_var
			}
		}
		add_country_leader_role = {
			character = "ROA_kaiser_augustus"
			promote_leader = yes
			country_leader = {
				ideology = despotism
				expire = "1965.1.1.1"
			}
		}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}
}

country_event = { # Our economy is crumbling
	id = roam_curse.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_curse.8"}
	title = roam_curse.8.t
	desc = roam_curse.8.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_variable = { ROA_civil_war_chaos_dm_consumer_goods_factor = 0.4 }
			set_variable = { ROA_civil_war_chaos_dm_production_speed_buildings_factor = -0.2 }
			set_variable = { ROA_civil_war_chaos_dm_production_factory_max_efficiency_factor = -0.2 }
		}
	}

	option = {
		name = roam_curse.8.a
		if = {
			limit = { has_idea = no_poverty }
			swap_ideas = { add_idea = poverty remove_idea = no_poverty }
			set_variable = { poverty_var = token:poverty1 }
		}
		else_if = {
			limit = { has_idea = poverty1 }
			swap_ideas = { add_idea = poverty remove_idea = poverty1 }
			set_variable = { poverty_var = token:poverty1 }
		}
		else_if = {
			limit = { has_idea = poverty2 }
			swap_ideas = { add_idea = poverty remove_idea = poverty1 }
			set_variable = { poverty_var = token:poverty2 }
		}
		else_if = {
			limit = { has_idea = poverty3 }
			swap_ideas = { add_idea = poverty remove_idea = poverty1 }
			set_variable = { poverty_var = token:poverty3 }
		}
		else_if = {
			limit = { has_idea = poverty4 }
			swap_ideas = { add_idea = poverty remove_idea = poverty1 }
			set_variable = { poverty_var = token:poverty4 }
		}
		else_if = {
			limit = { has_idea = poverty5 }
			swap_ideas = { add_idea = poverty remove_idea = poverty1 }
			set_variable = { poverty_var = token:poverty5 }
		}
		add_dynamic_modifier = {
			modifier = ROA_civil_war_chaos_dm
		}
	}
}

#

country_event = { # Activation of Uprising Mechanic
	id = roam_lansin_uprising.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.1"}
	title = roam_lansin_uprising.1.t
	desc = roam_lansin_uprising.1.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		set_country_flag = uprising_mechanic_active
		set_variable = { ROA_divs_calibration_var = 4 }
	}

	option = {
		name = roam_lansin_uprising.1.a
		add_ideas = ROA_uprising_alert_idea
		activate_mission = ROA_uprising_mission
		activate_mission = ROA_uprising_mission_timeout
		custom_effect_tooltip = generic_skip_one_line_tt
		unlock_decision_tooltip = ROA_dassal_lansin_bop_dec
		unlock_decision_tooltip = ROA_alsa_lansin_bop_dec
	}
}
country_event = { # Point of No Return - triggered by mission
	id = roam_lansin_uprising.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.2"}
	title = roam_lansin_uprising.2.t
	desc = roam_lansin_uprising.2.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		clr_country_flag = uprising_mechanic_active
		hidden_effect = {
			country_event = {
				id = roam_lansin_uprising.3
				days = 10
			}
			remove_ideas = ROA_uprising_alert_idea
		}
	}

	option = {
		name = roam_lansin_uprising.2.a
	}
}

country_event = { # Actual Uprising
	id = roam_lansin_uprising.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.3"}
	title = roam_lansin_uprising.3.t
	desc = roam_lansin_uprising.3.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	option = { # Play Augustus
		name = roam_lansin_uprising.3.a
		hidden_effect = {
			ROA_civil_war_effect = yes
		}
	}
	option = { # Play Lansin
		name = roam_lansin_uprising.3.b
		hidden_effect = {
			ROA_civil_war_effect = yes
		}
		event_target:lansin_uprising = { change_tag_from = ROA }
	}
}

country_event = { # Suppression of Uprising
	id = roam_lansin_uprising.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.4"}
	title = roam_lansin_uprising.4.t
	desc = roam_lansin_uprising.4.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		clr_country_flag = uprising_mechanic_active
		set_country_flag = uprising_suppressed
	}

	option = {
		name = roam_lansin_uprising.4.a
		remove_ideas = ROA_uprising_alert_idea
		# TODO - maybe make some event chain to murder Lansin?
	}
}

country_event = { # Random Uprising Event - 
	id = roam_lansin_uprising.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.5"}
	title = roam_lansin_uprising.5.t
	desc = roam_lansin_uprising.5.d

	is_triggered_only = yes

	option = {
		name = roam_lansin_uprising.5.a
		increase_lansin_uprising_strength = yes
	}
}

country_event = { # Random Uprising Event - 
	id = roam_lansin_uprising.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.6"}
	title = roam_lansin_uprising.6.t
	desc = roam_lansin_uprising.6.d

	is_triggered_only = yes

	option = {
		name = roam_lansin_uprising.6.a
		increase_lansin_uprising_strength_by_two = yes
	}
}

country_event = { # Random Uprising Event - 
	id = roam_lansin_uprising.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.7"}
	title = roam_lansin_uprising.7.t
	desc = roam_lansin_uprising.7.d

	is_triggered_only = yes

	option = {
		name = roam_lansin_uprising.7.a
		increase_lansin_uprising_probability = yes
	}
}

country_event = { # Lansin loses support due to Augustus's coolnest
	id = roam_lansin_uprising.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.9"}
	title = roam_lansin_uprising.9.t
	desc = roam_lansin_uprising.9.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = roam_lansin_uprising.9.a
		decrease_lansin_uprising_probability_by_two = yes
		decrease_lansin_uprising_strength_by_two = yes
	}
}

country_event = { # Lansin destabilizes the army
	id = roam_lansin_uprising.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event roam_lansin_uprising.10"}
	title = roam_lansin_uprising.10.t
	desc = roam_lansin_uprising.10.d
	picture = GFX_event_polar_city

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = roam_lansin_uprising.10.a
		if = {
			limit = {
				has_equipment = { infantry_equipment > 999 }
			}
			add_equipment_to_stockpile = {
                type = infantry_equipment
             	amount = -1000
           	}
		}
		else_if = {
			limit = {
				has_manpower > 2999
			}
			add_manpower = -3000
		}
		else = {
			add_political_power = -40
		}
	}
}