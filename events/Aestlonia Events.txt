add_namespace = aestlonia
add_namespace = aestloniamidgame

country_event = { ############## introductory event
	id = aestlonia.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.1"}
	title = aestlonia.1.t
	desc = aestlonia.1.d
	picture = GFX_event_exu_news

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.1.a
		add_political_power = 25
	}
}


country_event = { ############## ripping up the act
	id = aestlonia.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.2"}
	title = aestlonia.2.t
	desc = aestlonia.2.d
	picture = GFX_event_democratic_protest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.2.a
		remove_ideas = AES_unity_act_spirit
		set_country_leader_ideology = conservatism

		custom_effect_tooltip = AES_subideology_change
		country_event = aestlonia.3

	}
}

country_event = { ############## reaction to getting rid of the act
	id = aestlonia.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.3"}
	title = aestlonia.3.t
	desc = aestlonia.3.d
	picture = GFX_event_democratic_protest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.3.a
        add_political_power = -10
		hidden_effect = {
			country_event = { id = aestlonia.20 days = 3 }
		}
	}
}

country_event = { ############## Golden Sayif visits Zaida 
	id = aestlonia.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.4"}
	title = aestlonia.4.t
	desc = aestlonia.4.d
	picture = GFX_event_exu_news

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.4.a
		country_event = aestlonia.5
	}
}

country_event = { ############## event deciding if Aestlonia will be on the defensive or will attack Karkad
	id = aestlonia.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.5"}
	title = aestlonia.5.t
	desc = aestlonia.5.d
	picture = GFX_event_pony_soldiers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.5.a
		add_political_power = 50
		add_stability = 0.1
		custom_effect_tooltip = AES_focus_warning_preparation_tree
		custom_effect_tooltip = AES_peace_deal_warning
		complete_national_focus = AES_wait_for_them
		ai_chance = { factor = 100 }
	}
	option = {
		name = aestlonia.5.b
		custom_effect_tooltip = AES_focus_warning_preparation_tree
		custom_effect_tooltip = AES_emergency_troops_spawn
		complete_national_focus = AES_taking_our_chances
		set_country_flag = AES_attack_first
		hidden_effect = {
			division_template = {
				name = "Emergency Battalion"
				force_allow_recruiting = yes
				is_locked = no

				regiments = {
					infantry = { x = 0 y = 0 }
		            infantry = { x = 0 y = 1 }
		            infantry = { x = 0 y = 2 }
		            infantry = { x = 1 y = 0 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Emergency Battalion\" start_experience_factor = 0 start_equipment_factor = 1.0"
					OWNER = ROOT
				}
				create_unit = {
					division = "division_template = \"Emergency Battalion\" start_experience_factor = 0 start_equipment_factor = 1.0"
					OWNER = ROOT
				}
				create_unit = {
					division = "division_template = \"Emergency Battalion\" start_experience_factor = 0 start_equipment_factor = 1.0"
					OWNER = ROOT
				}
				create_unit = {
					division = "division_template = \"Emergency Battalion\" start_experience_factor = 0 start_equipment_factor = 1.0"
					OWNER = ROOT
				}

			}
			country_event = {
				id = aestlonia.9
				days = 1
			}
		}
		ai_chance = { factor = 0 }
	}
}

country_event = { ############## event about Golden Sayif reacting to badly trained but plentiful recruits
	id = aestlonia.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.6"}
	title = aestlonia.6.t
	desc = aestlonia.6.d
	picture = GFX_event_pony_soldiers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.6.a
	}
}

country_event = { ############## event about Golden Sayif reacting to professional soldiers
	id = aestlonia.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.7"}
	title = aestlonia.7.t
	desc = aestlonia.7.d
	picture = GFX_event_pony_soldiers_sunset

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.7.a
	}
}

country_event = { ############## event about Zaida meeting with the leader of national worker union, Steel Raud
	id = aestlonia.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.8"}
	title = aestlonia.8.t
	desc = aestlonia.8.d
	picture = GFX_event_old_mine

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.8.a
		custom_effect_tooltip = AES_steel_raud_general_added_intro
		custom_effect_tooltip = AES_steel_raud_general_added
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		hidden_effect = {
			add_corps_commander_role = {
				Character = AES_steel_raud
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
				desc = "AES_steel_raud_desc"
				traits={ winter_specialist rock_girl pony_race_trait }
			}
		}
	}
}

country_event = { ############## event about deciding if Aestlonia should ask Maretonia for help against the war with Karkad
	id = aestlonia.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.9"}
	title = aestlonia.9.t
	desc = aestlonia.9.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.9.a
		MTO = {
			country_event = {
				id = aestlonia.10
				days = 1
			}
		}
		ai_chance = { factor = 100 }
	}
	option = {
		name = aestlonia.9.b
		set_country_flag = AES_maretonia_refused
		activate_mission = AES_war_timer
		custom_effect_tooltip = AES_35_days_warning
		custom_effect_tooltip = AES_peace_deal_warning
		ai_chance = { factor = 0 }
	}
}

country_event = { ############## event Maretonia receives, asking if they want to join the pre-emptive attack against Karkad
	id = aestlonia.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.10"}
	title = aestlonia.10.t
	desc = aestlonia.10.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.10.a
		AES = {
			country_event = {
				id = aestlonia.11
				days = 1
			}
		}
		custom_effect_tooltip = AES_35_days_warning
		ai_chance = { factor = 100 }
	}
	option = {
		name = aestlonia.10.b
		AES = {
			country_event = {
				id = aestlonia.12
				days = 1
			}
		}
		ai_chance = { factor = 0 }
	}
}

country_event = { ############## Maretonia accepts to help
	id = aestlonia.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.11"}
	title = aestlonia.11.t
	desc = aestlonia.11.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.11.a
		add_political_power = 25
		custom_effect_tooltip = AES_35_days_warning
		custom_effect_tooltip = AES_peace_deal_warning
		set_country_flag = AES_maretonia_accepted
		activate_mission = AES_war_timer_v2
	}
	
}

country_event = { ############## Maretonia refuses to help
	id = aestlonia.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.12"}
	title = aestlonia.12.t
	desc = aestlonia.12.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.12.a
		add_political_power = -15
		custom_effect_tooltip = AES_35_days_warning
		custom_effect_tooltip = AES_peace_deal_warning
		set_country_flag = AES_maretonia_refused
		activate_mission = AES_war_timer
	}
	
}

country_event = { ############## Karkad gets asked to surrender in the defensive path for Aestlonia
	id = aestlonia.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.13"}
	title = aestlonia.13.t
	desc = aestlonia.13.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.13.a
		add_political_power = 25
		white_peace = AES
		white_peace = MTO
		AES = {
			transfer_state = 804
			transfer_state = 1022
			transfer_state = 794
			transfer_state = 1023
		}
		MTO = {
			transfer_state = 1003
			transfer_state = 1004
			transfer_state = 797
			transfer_state = 1002
			transfer_state = 214
		}
		ai_chance = { factor = 100 }
		remove_wargoal = {
			type = all
			target = AES
		}
		remove_wargoal = {
			type = all
			target = MTO
		}
	}

	option = {
		name = aestlonia.13.b
		add_political_power = -75
		AES = {
			country_event = {
				id = aestlonia.14
				days = 1
			}
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Karkad refuses to surrender
	id = aestlonia.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.14"}
	title = aestlonia.14.t
	desc = aestlonia.14.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.14.a
		add_political_power = -15
	}
	
}

country_event = { ############## Karkad gets asked to surrender in the offensive path for Aestlonia
	id = aestlonia.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.15"}
	title = aestlonia.13.t
	desc = aestlonia.15.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.13.a
		add_political_power = 25
		if = {
			limit = {
				AES = {
					has_country_flag = AES_maretonia_accepted
				}
			}
			white_peace = AES
			white_peace = MTO
			AES = {
				transfer_state = 804
				transfer_state = 1022
				transfer_state = 794
				transfer_state = 1023
			}
			MTO = {
				transfer_state = 1003
				transfer_state = 1004
				transfer_state = 797
				transfer_state = 1002
				transfer_state = 214
			}
			remove_wargoal = {
				type = all
				target = AES
			}
			remove_wargoal = {
				type = all
				target = MTO
			}
		}
		else = {
			white_peace = AES
			AES = {
				transfer_state = 804
				transfer_state = 1022
				transfer_state = 794
				transfer_state = 1023
			}
			remove_wargoal = {
				type = all
				target = AES
			}
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestlonia.13.b
		add_political_power = -75
		AES = {
			country_event = {
				id = aestlonia.14
				days = 1
			}
		}
		ai_chance = { factor = 0 }
	}
	
}


country_event = { ############## Victory over Karkad (fired by on_actions)
	id = aestlonia.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.16"}
	title = aestlonia.16.t
	desc = aestlonia.16.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.16.a
		complete_national_focus = AES_righteous_victory
		load_focus_tree = AES_postwar_tree
		hidden_effect = {
			if = {
				limit = {
					AES = {
						has_country_flag = AES_maretonia_accepted
					}
				}
				remove_wargoal = {
					type = all
					target = KAR
				}
				MTO = {
					remove_wargoal = {
						type = all
						target = KAR
					}
				}
			}
			else = {
				remove_wargoal = {
					type = all
					target = KAR
				}
			}
			country_event = {
				id = aestlonia.22
				days = 1
			}
		}
	}
	
}

country_event = { ############## event Equestria receives from Aestlonia, AES asking for any equipment EQS can spare
	id = aestlonia.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.17"}
	title = aestlonia.17.t
	desc = aestlonia.17.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.17.a
		send_equipment = {
			equipment = infantry_equipment_0
			amount = 400
			target = AES
		}
		send_equipment = {
			equipment = support_equipment
			amount = 200
			target = AES
		}
		send_equipment = {
			equipment = artillery_equipment
			amount = 10
			target = AES
		}
		hidden_effect = {
			AES = {
				country_event = {
					id = aestlonia.18
					days = 1
				}
			}
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestlonia.17.b
		hidden_effect = {
			AES = {
				country_event = {
					id = aestlonia.19
					days = 1
				}
			}
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Equestria sends equipment
	id = aestlonia.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.18"}
	title = aestlonia.18.t
	desc = aestlonia.18.d
	picture = GFX_event_equestrian_ships

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.18.a
		custom_effect_tooltip = AES_equipment_received
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		capital_scope = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
	}
	
}

country_event = { ############## Equestria refuses to send equipment
	id = aestlonia.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.19"}
	title = aestlonia.19.t
	desc = aestlonia.19.d
	picture = GFX_event_exu_news

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.19.a
	}
	
}

country_event = { ############## Cultists attack Zarmarej as a response to the act being ripped up
	id = aestlonia.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.20"}
	title = aestlonia.20.t
	desc = aestlonia.20.d
	picture = GFX_event_winter_forest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.20.a
		add_political_power = -15
		army_experience = 15
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
		save_current_manpower = yes
		1017 = {
			add_manpower = -100
			damage_building = {
			  type = infrastructure
			  damage = 1
			}
		}
		restore_previous_manpower = yes
		ai_chance = { factor = 100 }
	}
	option = {
		name = aestlonia.20.b
		add_stability = -0.1
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		save_current_manpower = yes
		1017 = {
			add_manpower = -500
			damage_building = {
			  type = infrastructure
			  damage = 3
			}
		}
		restore_previous_manpower = yes
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Cultists protest the building of roads in the wilderness
	id = aestlonia.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.21"}
	title = aestlonia.21.t
	desc = aestlonia.21.d
	picture = GFX_event_forest_depression

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.21.a
		add_political_power = 15
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestlonia.21.b
		add_political_power = -30
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Aestlonia gets debuffs after victory event as economy collapses and politics finally collapse on itself
	id = aestlonia.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.22"}
	title = aestlonia.22.t
	desc = aestlonia.22.d
	picture = GFX_event_winter_sun

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.22.a
		add_ideas = AES_economy_crash
		add_ideas = AES_unstable_politics
	}
	
}


country_event = { ############## warning of war with KAR
	id = aestlonia.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestlonia.23"}
	title = aestlonia.23.t
	desc = aestlonia.23.d
	picture = GFX_event_winter_forest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestlonia.23.a
	}
	
}


##### Mid-game tree events #####

country_event = { ############## First event of the mid-game tree, about Zaida realizing she has limited time to try to recover her image
	id = aestloniamidgame.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.1"}
	title = aestloniamidgame.1.t
	desc = aestloniamidgame.1.d
	picture = GFX_event_attacked_convoy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.1.a
		add_political_power = -15
	
	}
	
}

country_event = { ############## Event explaining the political situation, talking about the popularity of the parties and how it might affect things
	id = aestloniamidgame.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.2"}
	title = aestloniamidgame.2.t
	desc = aestloniamidgame.2.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.2.a
		custom_effect_tooltip = AES_party_popularity_system
		custom_effect_tooltip = AES_zaida_image_warning
	}
	
}

country_event = { ############## Event about golden sayif asking for more funding to hunt the cultists
	id = aestloniamidgame.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.3"}
	title = aestloniamidgame.3.t
	desc = aestloniamidgame.3.d
	picture = GFX_event_generic_pony_soldier

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.3.a
		add_to_variable = { AES_military_consumer_goods_factor_var = 0.05 tooltip = AES_give_marshal_funding_midgame_tree_tt }
		add_to_variable = { AES_military_experience_gain_var = 0.05}
		add_stability = 0.1
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.3.b
        add_political_power = 15
		ai_chance = { factor = 0 }
	}

	option = {
		name = aestloniamidgame.3.c
        add_to_variable = { AES_military_consumer_goods_factor_var = -0.05 tooltip = AES_refuse_marshal_funding_midgame_tree_tt }
		add_political_power = -15
		add_stability = -0.1
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Event where Zaida meets with the Qalams
	id = aestloniamidgame.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.4"}
	title = aestloniamidgame.4.t
	desc = aestloniamidgame.4.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.4.a
		add_political_power = 15
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.4.b
        add_stability = 0.1
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		random_core_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				is_owned_and_controlled_by = ROOT
				NOT = {
					state = 793
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		ai_chance = { factor = 0 }
	}

	option = {
		name = aestloniamidgame.4.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_stability = -0.1
		add_popularity = {
			ideology = democratic
			popularity = -0.1
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Event where Zaida meets with Storm
	id = aestloniamidgame.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.5"}
	title = aestloniamidgame.5.t
	desc = aestloniamidgame.5.d
	picture = GFX_event_winter_sun

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.5.a
		add_political_power = 50
		add_stability = 0.1
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.5.b
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_political_power = -50
        add_stability = -0.2
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Event where Zaida meets with Raud once more
	id = aestloniamidgame.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.6"}
	title = aestloniamidgame.6.t
	desc = aestloniamidgame.6.d
	picture = GFX_event_bronzhill_communist_party

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.6.a
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.6.b
		add_stability = 0.1
		add_war_support = 0.1
		add_popularity = {
			ideology = communism
			popularity = 0.15
		}
		random_core_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				is_owned_and_controlled_by = ROOT
				NOT = {
					state = 793
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		ai_chance = { factor = 0 }
	}

	option = {
		name = aestloniamidgame.6.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_stability = -0.1
        add_war_support = -0.1
		add_popularity = {
			ideology = communism
			popularity = -0.15
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Event where Zaida decides what ideology to stand for, for now
	id = aestloniamidgame.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.7"}
	title = aestloniamidgame.7.t
	desc = aestloniamidgame.7.d
	picture = GFX_event_we_can_do_it

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.7.a
		add_ideas = AES_harmonic_policy
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.7.b
		add_ideas = AES_communist_policy
		ai_chance = { factor = 0 }
	}

	option = {
		name = aestloniamidgame.7.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_stability = -0.05
		add_ideas = AES_supremacist_policy
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## First event of the expansion tree where Zaida states her mission
	id = aestloniamidgame.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.8"}
	title = aestloniamidgame.8.t
	desc = aestloniamidgame.8.d
	picture = GFX_event_hearthswarming

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.8.a
		custom_effect_tooltip = AES_party_popularity_system
		custom_effect_tooltip = AES_zaida_image_warning
		MTO = { 
			remove_resource_rights = 793
			remove_resource_rights = 791
		}
	}
	
}

country_event = { ############## Maretonian event about Aestlonia asking them to be integrated into them
	id = aestloniamidgame.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.9"}
	title = aestloniamidgame.9.t
	desc = aestloniamidgame.9.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.9.a
		custom_effect_tooltip = AES_end_game_warning
		hidden_effect = {
			AES = {
				country_event = { id = aestloniamidgame.10 days = 1 }
			}
		}
		ai_chance = { factor = 10 }
	}

	option = {
		name = aestloniamidgame.9.b
		custom_effect_tooltip = AES_end_game_warning
		AES = {
			country_event = { id = aestloniamidgame.12 days = 1 }
		}
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.9.c
		add_political_power = 100
		add_war_support = 0.15
		AES = {
			country_event = { id = aestloniamidgame.14 days = 1 }
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Maretonia peacefully joins Aestlonia with no demands
	id = aestloniamidgame.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.10"}
	title = aestloniamidgame.10.t
	desc = aestloniamidgame.10.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.10.a
		MTO = {
			transfer_navy = {
				target = AES
			}
		}
		set_country_flag = { flag = bypass_annex_compliance days = 1 value = 1 }
		annex_country = {
			target = MTO
			transfer_troops = yes
		}
		MTO = {
			every_core_state = {
				add_compliance = 20
			}
		}
		MTO = { add_to_ROOT_potential_cores = yes }
	}
	
}

country_event = { ############## Duchess of Maretonia congratulates Zaida for the peaceful unification
	id = aestloniamidgame.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.11"}
	title = aestloniamidgame.11.t
	desc = aestloniamidgame.11.d
	picture = GFX_event_hearthswarming

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.11.a
		add_political_power = 10
	}
	
}

country_event = { ############## Maretonia demands economic development for integration
	id = aestloniamidgame.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.12"}
	title = aestloniamidgame.12.t
	desc = aestloniamidgame.12.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.12.a
		add_timed_idea = {
			idea = AES_maretonian_investments
			days = 365
		}
		MTO = {
			transfer_navy = {
				target = AES
			}
		}
		set_country_flag = { flag = bypass_annex_compliance days = 1 value = 1 }
		annex_country = {
			target = MTO
			transfer_troops = yes
		}
		MTO = {
			every_core_state = {
				add_compliance = 20
			}
		}
		MTO = { add_to_ROOT_potential_cores = yes }
		ai_chance = { factor = 100 }
	}

	option = {
		name = aestloniamidgame.12.b
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_political_power = -50
		add_stability = -0.15
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		create_wargoal = {
			target = MTO
			type = annex_everything
		}		
		declare_war_on = {
			target = MTO
			type = annex_everything
		}
		MTO = { add_to_ROOT_potential_cores = yes }
		hidden_effect = {
			country_event = { id = aestloniamidgame.13 days = 2 }
			MTO = {
				every_core_state = {
					add_claim_by = ROOT
				}
			}
		}
		ai_chance = { factor = 0 }
	}
	
}

country_event = { ############## Duchess of Maretonia scolds Zaida for invading Maretonia
	id = aestloniamidgame.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.13"}
	title = aestloniamidgame.13.t
	desc = aestloniamidgame.13.d
	picture = GFX_event_pony_protest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.13.a
		add_political_power = -10
	}
	
}

country_event = { ############## Maretonia rejects integration
	id = aestloniamidgame.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.14"}
	title = aestloniamidgame.14.t
	desc = aestloniamidgame.14.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.14.a
		add_political_power = -50
		add_stability = -0.15
		create_wargoal = {
			target = MTO
			type = annex_everything
		}		
		declare_war_on = {
			target = MTO
			type = annex_everything
		}
		MTO = { add_to_ROOT_potential_cores = yes }
		hidden_effect = {
			country_event = { id = aestloniamidgame.13 days = 2 }
			MTO = {
				every_core_state = {
					add_claim_by = ROOT
				}
			}
		}
	}
	
}

country_event = { ############## Winter Qalam scolds Zaida for invading Maretonia without trying to negotiate
	id = aestloniamidgame.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.15"}
	title = aestloniamidgame.15.t
	desc = aestloniamidgame.15.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.15.a
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_political_power = -15
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
	
}

country_event = { ############## First event in the hestrayan identity chain
	id = aestloniamidgame.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.16"}
	title = aestloniamidgame.16.t
	desc = aestloniamidgame.16.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.16.a
		add_political_power = 15
		country_event = { id = aestloniamidgame.17 days = 1 }
		custom_effect_tooltip = AES_hestraya_new_dynamic_modifier
		hidden_effect = {
			remove_ideas = AES_aestlonia_identity
			add_dynamic_modifier = { modifier = AES_hestraya_identity_modifier }
			add_to_variable = { AES_culture_acclimatization_cold_climate_gain_factor_var = 0.2 }
			add_to_variable = { AES_culture_local_resources_var = 0.15 }
		}
	}
	
}

country_event = { ############## Second event in Hestraya event chain, language issue
	id = aestloniamidgame.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.17"}
	title = aestloniamidgame.17.t
	desc = aestloniamidgame.17.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.17.a
		add_to_variable = { AES_culture_recruitable_population_factor_var = 0.05 tooltip = AES_language_majority_tt }
		add_to_variable = { AES_culture_political_power_gain_var = 0.05 }
		add_to_variable = { AES_culture_stability_factor_var = 0.05 }
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		ai_chance = { factor = 100 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.18 days = 5 }
		}
	}

	option = {
		name = aestloniamidgame.17.b
		add_to_variable = { AES_culture_recruitable_population_factor_var = 0.1 tooltip = AES_language_all_tt }
		add_to_variable = { AES_culture_political_power_gain_var = -0.05 }
		add_to_variable = { AES_culture_non_core_manpower_var = 0.05 }
		add_to_variable = { AES_culture_stability_factor_var = 0.1 }
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.18 days = 5 }
		}
	}

	option = {
		name = aestloniamidgame.17.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_to_variable = { AES_culture_army_org_factor_var = 0.1 tooltip = AES_language_none_tt }
		add_to_variable = { AES_culture_planning_speed_var = 0.1 }
		add_to_variable = { AES_culture_political_power_gain_var = -0.05 }
		add_to_variable = { AES_culture_non_core_manpower_var = -0.05 }
		add_to_variable = { AES_culture_stability_factor_var = -0.05 }
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.18 days = 5 }
		}
	}
	
}

country_event = { ############## Third event in the Hestraya event chain, about culture
	id = aestloniamidgame.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.18"}
	title = aestloniamidgame.18.t
	desc = aestloniamidgame.18.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.18.a
		add_to_variable = { AES_culture_stability_factor_var = 0.05 tooltip = AES_keep_cultures_tt }
		add_to_variable = { AES_culture_annex_cost_factor_var = -0.1 }
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		ai_chance = { factor = 100 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.19 days = 5 }
		}
	}

	option = {
		name = aestloniamidgame.18.b
		add_to_variable = { AES_culture_war_support_factor_var = 0.05 tooltip = AES_new_culture_tt }
		add_to_variable = { AES_culture_stability_factor_var = 0.05 }
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.19 days = 5 }
		}
	}

	option = {
		name = aestloniamidgame.18.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_to_variable = { AES_culture_justify_war_goal_var = -0.15 tooltip = AES_aestlonian_culture_tt }
		add_to_variable = { AES_culture_stability_factor_var = -0.05 }
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.19 days = 5 }
		}
	}
	
}

country_event = { ############## Fourth event in the Hestraya event chain, about economy
	id = aestloniamidgame.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.19"}
	title = aestloniamidgame.19.t
	desc = aestloniamidgame.19.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.19.a
		add_to_variable = { AES_culture_political_power_gain_var = 0.05 tooltip = AES_keep_economy_loose_tt }
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		ai_chance = { factor = 100 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.20 days = 1 }
		}
	}

	option = {
		name = aestloniamidgame.19.b
		add_to_variable = { AES_culture_consumer_goods_factor_var = 0.05 tooltip = AES_union_economy_tt }
		add_to_variable = { AES_culture_construction_speed_factor_var = 0.05 }
		add_to_variable = { AES_culture_industry_free_repair_factor_var = 0.05 }
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.20 days = 1 }
		}
	}

	option = {
		name = aestloniamidgame.19.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_to_variable = { AES_culture_consumer_goods_factor_var = -0.1 tooltip = AES_full_control_economy_tt }
		add_to_variable = { AES_culture_stability_factor_var = -0.05 }
		capital_scope = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		capital_scope = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		ai_chance = { factor = 0 }
		hidden_effect = {
			country_event = { id = aestloniamidgame.20 days = 1 }
		}
	}
	
}

country_event = { ############## Final event in the Hestraya chain, conclusion
	id = aestloniamidgame.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.20"}
	title = aestloniamidgame.20.t
	desc = aestloniamidgame.20.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.20.a
		hidden_effect = {
			complete_national_focus = AES_hestrayan_identity
		}
	}
	
}

country_event = { ############## First integration event, Karkad
	id = aestloniamidgame.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.21"}
	title = aestloniamidgame.21.t
	desc = aestloniamidgame.21.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.21.a
		KAR = { add_to_ROOT_potential_cores = yes }
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		KAR = {
			every_core_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
						is_core_of = MTO
					}
				}
				add_dynamic_modifier = {
					modifier = AES_gradual_integration_state
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					owns_state = 1012
				}
				country_event = { id = aestloniamidgame.22 days = 10 }
			}
			else = {
				complete_national_focus = AES_integration_policy
			}
		}
	}

	option = {
		name = aestloniamidgame.21.b
		add_timed_idea = {
			idea = AES_KAR_give_money
			days = 210
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		KAR = { add_to_ROOT_potential_cores = yes }
		hidden_effect = {
			if = {
				limit = {
					owns_state = 1012
				}
				country_event = { id = aestloniamidgame.22 days = 10 }
			}
			else = {
				complete_national_focus = AES_integration_policy
			}
		}
		
	}

	option = {
		name = aestloniamidgame.21.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_timed_idea = {
			idea = AES_KAR_oppress
			days = 150
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		set_country_flag = AES_brutalize_KAR
		unlock_decision_tooltip = AES_core_KAR_fash
		hidden_effect = {
			if = {
				limit = {
					owns_state = 1012
				}
				country_event = { id = aestloniamidgame.22 days = 10 }
			}
			else = {
				complete_national_focus = AES_integration_policy
			}
			country_event = {
				id = aestloniamidgame.27
				days = 3
			}
		}
		
	}
	
}

country_event = { ############## Second integration event, Ice Dragons
	id = aestloniamidgame.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.22"}
	title = aestloniamidgame.22.t
	desc = aestloniamidgame.22.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.22.a
		IDT = { add_to_ROOT_potential_cores = yes }
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		hidden_effect = {
			complete_national_focus = AES_integration_policy
		}
	}

	option = {
		name = aestloniamidgame.22.b
		add_political_power = -150
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		1012 = {
			add_core_of = AES
		}
		hidden_effect = {
			complete_national_focus = AES_integration_policy
		}
	}

	option = {
		name = aestloniamidgame.22.c
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		add_stability = -0.25
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		save_current_manpower = yes
		811 = {
			add_manpower = -10000
		}
		1012 = {
			add_core_of = AES
			add_manpower = 10000
		}
		restore_previous_manpower = yes
		hidden_effect = {
			complete_national_focus = AES_integration_policy
		}
		
	}
	
}

country_event = { ############## monarchy stays or not
	id = aestloniamidgame.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.23"}
	title = aestloniamidgame.23.t
	desc = aestloniamidgame.23.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.23.a  #monarchy kept
		trigger = {
            NOT = {
                has_country_flag = zaida_image_damaged_flag
			}
		}
		custom_effect_tooltip = AES_zaida_image_fine_tt
		hidden_effect = {
			country_event = {
				id = aestloniamidgame.29
				days = 1
			}
		}
	}

	option = {
		name = aestloniamidgame.23.b  #monarchy not kept
		trigger = {
			OR = {
				has_country_flag = zaida_image_damaged_flag
				check_variable = { 
					highest_party_popularity = party_popularity@fascism 
				}
			}
        }
		custom_effect_tooltip = AES_zaida_image_bad_tt
		custom_effect_tooltip = AES_elections_soon
		promote_character = AES_winter_qalam
		set_cosmetic_tag = AES_united_republic
		hidden_effect = {
			country_event = {
				id = aestloniamidgame.30
				days = 3
			}
		}
		
	}

	option = {
        name = aestloniamidgame.23.c
        trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@neutrality #This should never happen
            }
        }
        custom_effect_tooltip = AES_high_neutrality_tt

    }
}

country_event = { ############## event about attacking the dragons
	id = aestloniamidgame.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.24"}
	title = aestloniamidgame.24.t
	desc = aestloniamidgame.24.d
	picture = GFX_event_boat_in_runined_dock

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.24.a
		navy_experience = 15
		add_timed_idea = {
			idea = AES_operation_southern_sword
			days = 100
		}
		create_wargoal = {
			target = IDT
			type = annex_everything
		}
		declare_war_on = {
			target = IDT
			type = annex_everything
		}
		hidden_effect = {
			IDT = {
				every_core_state = {
					add_claim_by = ROOT
				}
			}
		}
		set_country_flag = AES_attack_dragon
		activate_mission = AES_war_timer_with_IDT
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			load_oob = AES_IDT_ships
		}
		else = {
			load_oob = AES_IDT_ships_legacy
		}
	}

	option = {
		name = aestloniamidgame.24.b
		add_political_power = 15
	}
	
}


country_event = { ############## 60 days are up
	id = aestloniamidgame.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.25"}
	title = aestloniamidgame.25.t
	desc = aestloniamidgame.25.d
	picture = GFX_event_boat_in_runined_dock

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.25.a
		white_peace = IDT

	}

	option = {
		name = aestloniamidgame.25.b
		activate_mission = AES_war_timer_with_IDT_2
		add_ideas = AES_lost_to_dragons
		ai_chance = {
			base = 0
		}
	}
	
}

country_event = { ############## 30 days are up
	id = aestloniamidgame.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.26"}
	title = aestloniamidgame.26.t
	desc = aestloniamidgame.26.d
	picture = GFX_event_boat_in_runined_dock

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.26.a
		custom_effect_tooltip = AES_zaida_damage_image
		set_country_flag = zaida_image_damaged_flag
		white_peace = IDT
		if = {
			limit = {
				has_idea = AES_operation_southern_sword
			}
			remove_ideas = AES_operation_southern_sword
		}
		add_popularity = {
			ideology = democratic
			popularity = -0.1
		}
		add_stability = -0.1
		add_war_support = -0.1
	}
}


country_event = { ############## Karkad partisans attack the capital
	id = aestloniamidgame.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.27"}
	title = aestloniamidgame.27.t
	desc = aestloniamidgame.27.d
	picture = GFX_event_winter_forest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.27.a
		add_stability = -0.05
		save_current_manpower = yes
		1017 = {
			add_manpower = -1000
			damage_building = {
			  type = infrastructure
			  damage = 3
			}
			damage_building = {
				type = industrial_complex
				damage = 1
			}
		}
		restore_previous_manpower = yes
	}
	
}



country_event = { ############## Winter Qalam discusses future of hestraya with Zaida
	id = aestloniamidgame.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.28"}
	title = aestloniamidgame.28.t
	desc = aestloniamidgame.28.d
	picture = GFX_event_winter_forest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.28.a
	}
	
}

country_event = { ############## monarchy deciding on who to help rule the country
	id = aestloniamidgame.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.29"}
	title = aestloniamidgame.29.t
	desc = aestloniamidgame.29.d
	picture = GFX_event_generic_pony_diplomacy

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.29.a
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@democratic #democratic monarchy
            }
		}
        custom_effect_tooltip = AES_high_democracy_tt
		activate_advisor = winter_qalam
		hidden_effect = {
			set_can_be_fired_in_advisor_role = {
                character = AES_winter_qalam
                value = no
            }
		}

	}

	option = {
		name = aestloniamidgame.29.b
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@communism #Monsoc
            }
        }
		custom_effect_tooltip = AES_high_communism_tt
        set_politics = {
            ruling_party = communism
            elections_allowed = no
        }
		activate_advisor = steel_raud
        set_cosmetic_tag = AES_united_hestraya_monsoc
        hidden_effect = {
            add_country_leader_role = {
                character = AES_princess_zaida
                promote_leader = yes
                country_leader = {
                    desc = AES_princess_zaida_desc
                    ideology = socialist_monarchism
                    expire = "1965.1.1"
                    traits = {
                        AES_princess_of_aestlonia
                    }
                }
            }
            set_can_be_fired_in_advisor_role = {
                character = AES_steel_raud
                value = no
            }
        }
		
	}
	
}

country_event = { ############## presidential election results
	id = aestloniamidgame.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event aestloniamidgame.30"}
	title = aestloniamidgame.30.t
	desc = aestloniamidgame.30.d
	picture = GFX_event_vote_pony

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = aestloniamidgame.30.a
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@democratic #democratic republic, Snow Qalam elected
            }
		}
        custom_effect_tooltip = AES_high_democracy_tt

	}

	option = {
		name = aestloniamidgame.30.b
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@democratic #democratic republic, Zaida elected
            }
		}
        custom_effect_tooltip = AES_high_democracy_tt
		custom_effect_tooltip = AES_cause_upset
		add_stability = -0.15
		hidden_effect = {
			promote_character = AES_princess_zaida
            add_country_leader_role = {
                character = AES_princess_zaida
                promote_leader = yes
                country_leader = {
                    desc = AES_president_zaida_desc
                    ideology = liberalism
                    expire = "1965.1.1"
					traits = {
                        warmonger
                    }
                }
            }
		}
		
	}

	option = {
		name = aestloniamidgame.30.c
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@communism #Communist zebra elected, pan-zebricanist
            }
        }
		custom_effect_tooltip = AES_high_communism_tt
		set_politics = {
            ruling_party = communism
            elections_allowed = no
        }
	}

	option = {
		name = aestloniamidgame.30.e
		trigger = {
            check_variable = { 
                highest_party_popularity = party_popularity@fascism #fake supremacist republic
            }
        }
		custom_effect_tooltip = AES_high_fascism_tt
		set_politics = {
            ruling_party = fascism
            elections_allowed = no
        }
	}
	
}
