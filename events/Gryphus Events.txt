add_namespace = gryps
add_namespace = gryphus

####################################
####### Prywhen Stuff Begins #######
####################################

country_event = {
	id = gryphus.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryphus.100"}
	title = gryphus.100.t
	desc = gryphus.100.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes

	fire_only_once = yes
	option = { # yes
		name = gryphus.100.a
		GRW = { country_event = griffonwill.103 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_opinion = { target = GRW value > 30 }
			}
			modifier = {
				add = 2
				communism > 0.4
			}
		}
	}
	option = { # no
		name = gryphus.100.b
		GRW = { country_event = griffonwill.1012 }
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = gryphus.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryphus.101"}
	title = gryphus.101.t
	desc = gryphus.101.d
	picture = GFX_event_griffon_mountain

	trigger = {
		OR = {
			original_tag = GRU
			original_tag = CYA
		}
		GRW = {
			has_completed_focus = GRW_annex_cya
			OR = {
				has_offensive_war_with = GRU
				has_offensive_war_with = CYA
			}
		}
		NOT = {
			has_war_with = GRW
			is_subject = yes
		}
	}

	fire_only_once = yes
	option = { # yes
		name = gryphus.101.a
		hidden_effect = {
			create_wargoal = { 
				type = puppet_wargoal_focus
				target = GRW
			}
		}
		declare_war_on = { target = GRW type = puppet_wargoal_focus }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 30
				NOT = { has_government = communism }
			}
		}
	}
	option = { # no
		name = gryphus.101.b
		ai_chance = {
			factor = 1
		}
	}
}

####################################
######## Prywhen Stuff Ends ########
####################################

country_event = { ### Riaportu Congress ###
	id = gryps.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.1"}
	title = gryps.1.t
	desc = gryps.1.d
	picture = GFX_event_feast
	is_triggered_only = yes

	option = {
		name = gryps.1.a
		add_political_power = 15 ## I hope this goes well ## 
		set_variable = {
			var = knight_favours_var
			value = 0
		}
		set_variable = {
			var = company_favours_var
			value = 0
		}
	}
}

country_event = { ### Power of the Knightly Orders - they are asking for increased military oversight ###
	id = gryps.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.2"}
	title = gryps.2.t
	desc = gryps.2.d
	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = gryps.2.a
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		swap_ideas = { remove_idea = GRU_knightly_orders add_idea = GRU_knightly_orders_powers_strenghtened }
		add_to_variable = {
			var = knight_favours_var
			value = 1
		}
		custom_effect_tooltip = GRU_this_will_appease_the_order
	}
	option = {
		name = gryps.2.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		add_political_power = -75
		custom_effect_tooltip = GRU_this_will_antagonise_the_order
	}
}

country_event = { ### Power of the Free Towns - they are asking for increased autonomy ###
	id = gryps.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.3"}
	title = gryps.3.t
	desc = gryps.3.d
	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = gryps.3.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		add_political_power = -50
		add_ideas = GRU_towns_increased_autonomy
		custom_effect_tooltip = GRU_this_will_antagonise_the_company
	}
	option = {
		name = gryps.3.b
		add_political_power = 150
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		add_to_variable = {
			var = company_favours_var
			value = 1
		}
		custom_effect_tooltip = GRU_this_will_appease_the_company
	}
}

country_event = { ### Power of the Trading Houses - they are asking for relaxed regulations ###
	id = gryps.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.4"}
	title = gryps.4.t
	desc = gryps.4.d
	picture = GFX_event_bank_vault
	is_triggered_only = yes

	option = {
		name = gryps.4.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		custom_effect_tooltip = GRU_this_will_antagonise_the_company
		swap_ideas = { remove_idea = GRU_southcont_company add_idea = GRU_southcont_company_weakened }
	}
	option = {
		name = gryps.4.b
		add_political_power = -175
		add_to_variable = {
			var = company_favours_var
			value = 1
		}
		custom_effect_tooltip = GRU_this_will_appease_the_company
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
	}
}

country_event = { ### The Linguistic Debate ###
	id = gryps.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.5"}
	title = gryps.5.t
	desc = gryps.5.d
	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = gryps.5.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		add_political_power = -50
		add_ideas = GRU_multilingualism
		custom_effect_tooltip = GRU_this_will_antagonise_the_order
	}
	option = {
		name = gryps.5.b
		add_political_power = 150
		add_to_variable = {
			var = knight_favours_var
			value = 1
		} ## they view the polish griffons as mongerel inferiors speaking a bastard pony language ## 
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		custom_effect_tooltip = GRU_this_will_appease_the_order
	}
}

country_event = { ### The Economic Debate ###
	id = gryps.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.6"}
	title = gryps.6.t
	desc = gryps.6.d
	picture = GFX_event_medieval_city_in_mountains
	is_triggered_only = yes

	option = {
		name = gryps.6.a
		ai_chance = { factor = 50 }
		set_country_flag = GRU_choose_to_develop_coast
	}
	option = {
		name = gryps.6.b
		ai_chance = { factor = 50 }
		set_country_flag = GRU_choose_to_develop_interior
	}
}

country_event = { ### Knights vs Poles ###
	id = gryps.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.7"}
	title = gryps.7.t
	desc = gryps.7.d
	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = gryps.7.a ## Knights ##
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		add_political_power = -50
		add_to_variable = {
			var = knight_favours_var
			value = 1
		}
		custom_effect_tooltip = GRU_this_will_appease_the_order
		set_country_flag = GRU_kvp_finished
	}
	option = {
		name = gryps.7.b ## Poles ##
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		add_stability = 0.05
		custom_effect_tooltip = GRU_this_will_antagonise_the_order
		set_country_flag = GRU_kvp_finished
	}
}

country_event = { ### Company vs Towns ###
	id = gryps.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.8"}
	title = gryps.8.t
	desc = gryps.8.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.8.a ## Company ##
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		add_political_power = -50
		add_to_variable = {
			var = company_favours_var
			value = 1
		}
		custom_effect_tooltip = GRU_this_will_appease_the_company
		set_country_flag = GRU_cvt_finished
	}
	option = {
		name = gryps.8.b ## The Towns will remain autonomous! ##
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
		add_stability = 0.05
		custom_effect_tooltip = GRU_this_will_antagonise_the_company
		set_country_flag = GRU_cvt_finished
	}
}

country_event = { ### Challenge! ###
	id = gryps.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.9"}
	title = gryps.9.t
	desc = gryps.9.d
	picture = GFX_event_griffon_back

	trigger = {
		tag = GRU
		has_completed_focus = GRU_the_economic_debate
		has_completed_focus = GRU_the_linguistic_debate
		has_completed_focus = GRU_power_of_knights
		has_completed_focus = GRU_power_of_traders
		has_completed_focus = GRU_power_of_freetowns
		has_country_flag = GRU_cvt_finished
		has_country_flag = GRU_kvp_finished
	}
	mean_time_to_happen = { days = 1 }
	fire_only_once = yes

	option = {
		name = gryps.9.a ## The congress draws to a close. But oh ho whats this a wild challenger appears ##
		if = {
			limit = { ## Harmony ##
				AND = { 
					check_variable = { knight_favours_var > 1 } #2#
					check_variable = { company_favours_var > 1 } #2#
				}
			}
			country_event = { id = gryps.10 hours = 1 }
		}
		if = {
			limit = { ## Knights! ##
				AND = { 
					check_variable = { knight_favours_var < 2 } #1#
					check_variable = { company_favours_var > 1 } #2#
				}
			}
			country_event = { id = gryps.11 hours = 1 }
			set_country_flag = GRU_power_struggle_happened
		}
		if = {
			limit = { ## Company! ##
				AND = { 
					check_variable = { knight_favours_var > 1 } #2#
					check_variable = { company_favours_var < 2 } #1#
				}
			}
			country_event = { id = gryps.12 hours = 1 }
			set_country_flag = GRU_power_struggle_happened
		}
		if = {
			limit = { ## Both! ##
				AND = { 
					check_variable = { knight_favours_var < 2 } #1#
					check_variable = { company_favours_var < 2 } #1#
				}
			}
			country_event = { id = gryps.13 hours = 1 }
			set_country_flag = GRU_power_struggle_happened
		}
	}
}

country_event = { ### A band of indigenonus polish griffons barge into the meeting hall with sabres and pikes, and everybody guns them down ###
	id = gryps.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.10"}
	title = gryps.10.t
	desc = gryps.10.d
	picture = GFX_event_griffons_machine_gun
	is_triggered_only = yes

	option = {
		name = gryps.10.a ## Hurrah for Gryphussian unity! ##
		add_political_power = 50
		set_country_flag = GRU_council_survived
	}
}

country_event = { ### The Council is confronted by a cohort of armoured knights ###
	id = gryps.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.11"}
	title = gryps.11.t
	desc = gryps.11.d
	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = gryps.11.a ## I guess we'll step down... ##
		add_political_power = -100
		set_country_flag = GRU_knights_takeover
		create_country_leader = {
			name = "Provisional Council"
			desc = ""
			picture = "gfx/leaders/GRI/Regency.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				provisional
			}
		}
		set_country_flag = GRU_knights_attempted_coup
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_COMMIE
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
	}
	
	option = {
		name = gryps.11.b ## They can't do that! Appeal to the Company for help ##
		if = {
			limit = { 
				check_variable = { company_favours_var > 2 } 
			}
			country_event = { id = gryps.14 hours = 2 }
		}
		else = {
			country_event = { id = gryps.15 hours = 2 }
		}
		set_country_flag = GRU_knights_attempted_coup
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
				}
			}
		}
	}
}

country_event = { ### The Council is confronted by a contingent of corporate militia ###
	id = gryps.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.12"}
	title = gryps.12.t
	desc = gryps.12.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = gryps.12.a ## I guess we'll step down... ##
		add_political_power = -100
		set_country_flag = GRU_company_intervention
		create_country_leader = {
			name = "Provisional Council"
			desc = ""
			picture = "gfx/leaders/GRI/Regency.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				provisional
			}
		}
		set_country_flag = GRU_company_attempted_coup
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					AND = {
						is_historical_focus_on = yes
						has_game_rule = {
							rule = GRU_ai_behavior
							option = DEFAULT
						}
					}
					has_country_flag = GRU_AI_COMMIE
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_FREE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = GRU_FREE
					}
				}
			}
		}
	}
	
	option = {
		name = gryps.12.b ## They can't do that! Appeal to the Knights for help ##
		if = { 
			limit = { 
				check_variable = { knight_favours_var > 2 } 
			}
			country_event = { id = gryps.16 hours = 2 }
		}
		else = { 
			country_event = { id = gryps.17 hours = 2 }
		}
		set_country_flag = GRU_company_attempted_coup
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_COMPANY
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
				}
			}
		}
	}
}

country_event = { ### The Knights and the Company both attempt to overthrow the Council at the same time ###
	id = gryps.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.13"}
	title = gryps.13.t
	desc = gryps.13.d
	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = gryps.13.a ## kek ##
		add_political_power = -150
		create_country_leader = {
			name = "Provisional Council"
			desc = ""
			picture = "gfx/leaders/GRI/Regency.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				provisional
			}
		}
		set_variable = {
			var = knight_riaportu_actions_var
			value = 0
		}
		set_variable = {
			var = company_riaportu_actions_var
			value = 0
		}
		country_event = { id = gryps.18 hours = 5 }
	}
}

country_event = { ### The Company has agreed to support us ###
	id = gryps.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.14"}
	title = gryps.14.t
	desc = gryps.14.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = gryps.14.a 
		add_political_power = 50
		set_country_flag = GRU_council_survived
	}
}

country_event = { ### The Company refuses to intervene, and backs out of all dealings with the Gryphus state appartaus ###
	id = gryps.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.15"}
	title = gryps.15.t
	desc = gryps.15.d
	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = gryps.15.a 
		add_political_power = -100
		set_country_flag = GRU_knights_takeover
		create_country_leader = {
			name = "Provisional Council"
			desc = ""
			picture = "gfx/leaders/GRI/Regency.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				provisional
			}
		}
	}
}

country_event = { ### The Knights have agreed to support us ###
	id = gryps.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.16"}
	title = gryps.16.t
	desc = gryps.16.d
	picture = GFX_event_griffon_royal_guard
	is_triggered_only = yes

	option = {
		name = gryps.16.a 
		add_political_power = 50
		set_country_flag = GRU_council_survived
	}
}

country_event = { ### The Knightly Order of Opinicus refuses to intervene, and backs out of all dealings with the Gryphus state appartaus ###
	id = gryps.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.17"}
	title = gryps.17.t
	desc = gryps.17.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = gryps.17.a 
		add_political_power = -100
		set_country_flag = GRU_company_intervention
		create_country_leader = {
			name = "Provisional Council"
			desc = ""
			picture = "gfx/leaders/GRI/Regency.tga"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				provisional
			}
		}
	}
}

country_event = { ### The Council has been deposed; the Company's militias and the Knights fight in the streets of Riaportu ###
	id = gryps.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.18"}
	title = gryps.18.t
	desc = gryps.18.d
	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = gryps.18.a ## Company ##
		ai_chance = { factor = 100 }
		add_stability = -0.01
		add_to_variable = {
			var = company_riaportu_actions_var
			value = 1
		}
		hidden_effect = { country_event = { id = gryps.48 hours = 6 } }
	}
	
	option = {
		name = gryps.18.b ## Knights ##
		ai_chance = { factor = 0 }
		add_stability = -0.01
		add_to_variable = {
			var = knight_riaportu_actions_var
			value = 1
		}
		hidden_effect = { country_event = { id = gryps.48 hours = 6 } }
	}
}

country_event = { ### The Corporate State ###
	id = gryps.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.19"}
	title = gryps.19.t
	desc = gryps.19.d
	picture = GFX_event_bank_vault
	is_triggered_only = yes

	option = {
		name = gryps.19.a 
		set_country_flag = GRU_company
		set_cosmetic_tag = GRU_company
		add_popularity = {
			ideology = neutrality
			popularity = 0.55
		}
		set_politics = { ruling_party = neutrality }
		set_party_name = { 
			ideology = neutrality
			long_name = GRU_company_party_name_long
			name = GRU_company_party_name
		}
		create_country_leader = {
			name = "Governor-Executive Felchen"
			desc = ""
			picture = "gfx/leaders/GRU/GRYH_non-aligned_knight_king.tga"
			expire = "1965.1.1"
			ideology = oligarchism
			traits = { financial_expert }
		}
	}
}

country_event = { ### The Order State ###
	id = gryps.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.20"}
	title = gryps.20.t
	desc = gryps.20.d
	picture = GFX_event_medieval_castle_on_hill
	is_triggered_only = yes

	option = {
		name = gryps.20.a 
		set_country_flag = GRU_order
		set_cosmetic_tag = GRU_order
		add_popularity = {
			ideology = fascism
			popularity = 0.55
		}
		set_politics = { ruling_party = fascism }
	}
}

country_event = { ### Free Towns ###
	id = gryps.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.21"}
	title = gryps.21.t
	desc = gryps.21.d
	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = gryps.21.a 
		add_popularity = { ideology = neutrality popularity = 0.15 }
		add_country_leader_trait = staunch_constitutionalist
		add_political_power = 25
		if = { 
			limit = { NOT = { has_idea = GRU_towns_increased_autonomy } }
			add_ideas = GRU_towns_increased_autonomy
		}
	}
}

country_event = { ### The Purge ###
	id = gryps.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.22"}
	title = gryps.22.t
	desc = gryps.22.d
	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = gryps.22.a 
		if = { 
			limit = { has_government = fascism }
			add_popularity = { ideology = fascism popularity = 0.1 }
		}
		if = { 
			limit = { has_government = neutrality }
			add_popularity = { ideology = neutrality popularity = 0.1 }
		}
		add_political_power = -50
		add_stability = 0.05
	}
}

country_event = { ### The Amnesty ###
	id = gryps.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.23"}
	title = gryps.23.t
	desc = gryps.23.d
	picture = GFX_event_medieval_city_3
	is_triggered_only = yes

	option = {
		name = gryps.23.a 
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_popularity = { ideology = democratic popularity = 0.15 }
		add_political_power = -150
		add_stability = 0.05
	}
}

country_event = { ### The Trial ###
	id = gryps.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.24"}
	title = gryps.24.t
	desc = {
		trigger = {
			GRU = {
				has_country_flag = GRU_council_survived 
				has_country_flag = GRU_knights_attempted_coup
			}
		}
		text = gryps.24.d_knight_executed
	}
	desc = {
		trigger = {
			GRU = {
				has_country_flag = GRU_council_survived 
				has_country_flag = GRU_company_attempted_coup
			}
		}
		text = gryps.24.d_merchant_captain_executed
	}
	desc = {
		trigger = {
			GRU = {
				has_country_flag = GRU_knights_takeover
				NOT = { has_country_flag = GRU_knights_killed_company }
			}
		}
		text = gryps.24.d_loyalist_plotter_executed
	}
	desc = {
		trigger = {
			GRU = {
				has_country_flag = GRU_knights_takeover
				has_country_flag = GRU_knights_killed_company
			}
		}
		text = gryps.24.d_loyalist_and_merchant_captain_executed
	}

	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_event_griffon_back

	option = {
		name = gryps.24.a 
		add_political_power = -50
		add_stability = 0.025
		if = { 
			limit = { 
				has_country_flag = GRU_knights_takeover
				NOT = { has_country_flag = GRU_knights_killed_company }
			}
			if = {
				limit = { has_unit_leader = 1572 }
				remove_unit_leader = 1572
			}
		}
		else_if = {
			limit = {
				has_country_flag = GRU_council_survived 
				has_country_flag = GRU_knights_attempted_coup
			}
			if = {
				limit = { has_unit_leader = 1571 }
				remove_unit_leader = 1571
			}
		}
		else_if = {
			limit = {
				has_country_flag = GRU_council_survived 
				has_country_flag = GRU_company_attempted_coup
			}
			if = {
				limit = { has_unit_leader = 1573 }
				remove_unit_leader = 1573
			}
		}
		else_if = { 
			limit = { 
				has_country_flag = GRU_knights_takeover
				has_country_flag = GRU_knights_killed_company
			}
			if = {
				limit = { has_unit_leader = 1572 }
				remove_unit_leader = 1572
			}
			if = {
				limit = { has_unit_leader = 1573 }
				remove_unit_leader = 1573
			}
		}
	}
}

country_event = { ### The Accord ###
	id = gryps.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.25"}
	title = gryps.25.t
	desc = gryps.25.d
	picture = GFX_event_feast
	is_triggered_only = yes

	option = {
		name = gryps.25.a 
		add_popularity = { ideology = democratic popularity = 0.05 }
		add_political_power = -150
	}
}

country_event = { ### The Privy Council Deliberates ###
	id = gryps.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.26"}
	title = gryps.26.t
	desc = gryps.26.d
	picture = GFX_event_feast
	is_triggered_only = yes

	option = {
		name = gryps.26.a 
		ai_chance = { factor = 50 }
		country_event = { id = gryps.27 hours = 12 }
	}
	option = {
		name = gryps.26.b 
		ai_chance = { factor = 50 }
		custom_effect_tooltip = gru_unlock_crusading_decisions
		set_country_flag = gru_crusades_unlocked
	}
}

country_event = { ### The Kingdom of Gryphus ###
	id = gryps.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.27"}
	title = gryps.27.t
	desc = gryps.27.d
	picture = GFX_event_medieval_castle_on_hill
	is_triggered_only = yes

	option = {
		name = gryps.27.a 
		set_country_flag = GRU_kingdom
		set_cosmetic_tag = GRU_kingdom
		add_popularity = { ideology = fascism popularity = 0.025 }
		create_country_leader = {
			name = "King Jürgen von Grypsburg"
			desc = ""
			picture = "gfx/leaders/GRU/GRYH_facist_knight_leader.tga"
			expire = "1965.1.1"
			ideology = holy_order_f
			traits = { dictator  }
		}
	}
}

country_event = { ### The First Gryphussian Elections ###
	id = gryps.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.28"}
	title = gryps.28.t
	desc = gryps.28.d
	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = gryps.28.a 
		add_popularity = {
			ideology = democratic
			popularity = 0.55
		}
		set_politics = { ruling_party = democratic }
		add_ideas = GRU_beacon_of_democracy
	}
}

country_event = { ### Amending the Gryphussian Constitution ###
	id = gryps.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.29"}
	title = gryps.29.t
	desc = gryps.29.d
	picture = GFX_event_feast
	is_triggered_only = yes

	option = {
		name = gryps.29.a 
		add_political_power = 75 ## Chairgriffon Yeve is reelected ##
		add_stability = 0.05
		add_popularity = { ideology = democratic popularity = 0.05 } ## The Harmonist win by a landslide ##
		if = {
			limit = { NOT = { has_idea = GRU_towns_increased_autonomy } } 
			add_ideas = GRU_towns_increased_autonomy_better
		}
		if = {
			limit = { has_idea = GRU_towns_increased_autonomy }
			swap_ideas = { remove_idea = GRU_towns_increased_autonomy add_idea = GRU_towns_increased_autonomy_better }
		}
	}
}

country_event = { ### Reconciliation with Our Enemies ###
	id = gryps.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.30"}
	title = gryps.30.t
	desc = gryps.30.d
	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = gryps.30.a 
		add_political_power = 25
		add_stability = 0.05
	}
}

country_event = { ### Sicameon: Gryphus has sent us an offer of friendship ###
	id = gryps.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.31"}
	title = gryps.31.t
	desc = gryps.31.d
	picture = GFX_event_medieval_city_in_mountains
	is_triggered_only = yes

	option = { ## Yea ##
		name = gryps.31.a 
		ai_chance = {
			base = 100
			modifier = {
				add = 100
				has_government = democratic
			}
		}
		GRU = { country_event = { id = gryps.32 hours = 3 } }
	}
	option = { ## Nah ##
		name = gryps.31.b 
		ai_chance = {
			factor = 0
		}
		GRU = { country_event = { id = gryps.33 hours = 3 } }
	}
}

country_event = { ### Hurrah ###
	id = gryps.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.32"}
	title = gryps.32.t
	desc = gryps.32.d
	picture = GFX_event_medieval_city_3
	is_triggered_only = yes

	option = {
		name = gryps.32.a 
		add_political_power = 100
		SIC = { add_ideas = GRU_SIC_treaty_of_friendship }
		GRU = { add_ideas = GRU_SIC_treaty_of_friendship }
		SIC = { add_opinion_modifier = { target = GRU modifier = friendly_government  } }
		GRU = { add_opinion_modifier = { target = SIC modifier = friendly_government  } }
	}
}

country_event = { ### Booo ###
	id = gryps.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.33"}
	title = gryps.33.t
	desc = gryps.33.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.33.a 
		add_political_power = -100
		SIC = { add_opinion_modifier = { target = GRU modifier = friendship_refused  } }
		GRU = { add_opinion_modifier = { target = SIC modifier = friendship_refused  } }
	}
}

country_event = { ### Triviality event 1 - details up to horseworder's discretion ###
	id = gryps.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.34"}
	title = gryps.34.t ## Comet Sighted? idk ##
	desc = gryps.34.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.34.a 
		add_political_power = -50
	}

	option = {
		name = gryps.34.b 
		add_political_power = -50
	}
}

country_event = { ### Triviality event 2 - details up to horseworder's discretion ###
	id = gryps.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.35"}
	title = gryps.35.t
	desc = gryps.35.d
	picture = GFX_event_equestrian_ships
	is_triggered_only = yes

	option = {
		name = gryps.35.a 
		add_political_power = -50
	}

	option = {
		name = gryps.35.b 
		add_political_power = -50
	}
}

country_event = { ### Building The Riaportu Cloudtower ###
	id = gryps.36
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.36"}
	title = gryps.36.t
	desc = gryps.36.d
	picture = GFX_event_medieval_tower
	is_triggered_only = yes

	option = {
		name = gryps.36.a 
		custom_effect_tooltip = gru_build_cloudtower
		set_global_flag = gru_riaportu_cloudtower
	}
}

country_event = { ### Expedition to the Tiefbrunnen Ribs ###
	id = gryps.37
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.37"}
	title = gryps.37.t
	desc = gryps.37.d
	picture = GFX_event_autumn_forest
	is_triggered_only = yes

	option = {
		name = gryps.37.a 
		country_event = { id = gryps.38 hours = 12 }
	}
}

country_event = { ### Excavation in process - the Ribs are a rich source of oil ###
	id = gryps.38
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.38"}
	title = gryps.38.t
	desc = gryps.38.d
	picture = GFX_event_foggy_forest
	is_triggered_only = yes

	option = {
		name = gryps.38.a 
		599 = {
			add_resource = {
				type = oil
				amount = 15
			}
		}
		country_event = { id = gryps.39 days = 12 }
	}
}

country_event = { ### We plan on building an oil refinery on the site, but there is opposition from the locals! ###
	id = gryps.39
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.39"}
	title = gryps.39.t
	desc = gryps.39.d ## The leaders of the locals is a griffon herzlander adventurer called Bialoryb. he pleads passionately for the protection of the ribs, citing their religious, traditional, spiritual, and cultural significance to the local community ##
	picture = GFX_event_foggy_forest
	is_triggered_only = yes

	option = {
		name = gryps.39.a ## Back down ##
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
				}
			}
		}
		country_event = { id = gryps.40 hours = 12 }
	}
	option = {
		name = gryps.39.b ## Drive them off! ##
		ai_chance = {
			base = 70
			modifier = {
				factor = 0
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
		}
		country_event = { id = gryps.41 hours = 12 }
	}
}

country_event = { ### In the end, we backed down. in addition to the locals' pleas, the Ribs had a strange, magnetic beauty which we could not bring ourselves to defile ###
	id = gryps.40
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.40"}
	title = gryps.40.t ## of course, the industrialists back home are most displeased. but the locals are happy ##
	desc = gryps.40.d
	picture = GFX_event_autumn_forest
	is_triggered_only = yes

	option = {
		name = gryps.40.a 
		add_political_power = -150
		add_stability = 0.05
		hidden_effect = { 
			country_event = { id = gryps.42 hours = 12 }
		}
	}
}

country_event = { ### the adventurer Bialoryb offers us his services ###
	id = gryps.42
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.42"}
	title = gryps.42.t ## "I left civilisation behind because of griffonkind's greed. perhaps I was mistaken, and there is some good yet remaining in our species ##
	desc = gryps.42.d
	picture = GFX_event_griffon_para
	is_triggered_only = yes

	option = {
		name = gryps.42.a 
		create_corps_commander = {
			name = "Jaspis Białoryb"
			portrait_path = "gfx/leaders/GRU/Gryphus_commander_1.tga"
			traits = { trickster commando ranger griffon_race_trait }
			skill = 3
			id = 1577
			attack_skill = 3
			defense_skill = 4
			planning_skill = 3
			logistics_skill = 3
		} custom_effect_tooltip = jaspis_bialoryb_stats_tp
	}
}

country_event = { ### we drive off the locals. the ribs are systemically demolished ###
	id = gryps.41
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.41"}
	title = gryps.41.t
	desc = gryps.41.d
	picture = GFX_event_foggy_forest
	is_triggered_only = yes

	option = {
		name = gryps.41.a 
		add_political_power = 50
		add_resource = {
			type = oil
			amount = 15
			state = 599
		}
		599 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = fuel_silo
				level = 1
				instant_build = yes
			}
		}
		hidden_effect = { 
			country_event = { id = gryps.44 days = 12 }
		}
	}
}

country_event = { ### the cloudtower has been completed ###
	id = gryps.43
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.43"}
	title = gryps.43.t
	desc = gryps.43.d
	picture = GFX_event_medieval_tower
	is_triggered_only = yes

	option = {
		name = gryps.43.a 
		add_political_power = 150
		add_ideas = GRU_the_riaportu_cloudtower
		set_global_flag = gru_riaportu_cloudtower_completed
	}
}

country_event = { ### the ribs have taken their revenge; the oil refinery and excavation crews have disappeared overnight! ###
	id = gryps.44
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.44"}
	title = gryps.44.t
	desc = gryps.44.d
	picture = GFX_event_forest_depression
	is_triggered_only = yes

	option = {
		name = gryps.44.a 
		add_manpower = -350
		add_political_power = -250 ## wtf!! public reaction ##
		add_stability = -0.1
		# you do know you can actually remove them?
		add_resource = {
			type = oil
			amount = -15
			state = 599
		}
		599 = {
			remove_building = {
				type = synthetic_refinery
				level = 1
			}
			remove_building = {
				type = fuel_silo
				level = 1
			}
		}
	}
}

country_event = {
	id = gryps.45
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.45"}
	title = gryps.45.t
	desc = gryps.45.d
	picture = GFX_event_medieval_tower
	is_triggered_only = yes

	option = {
		name = gryps.45.a 
		add_political_power = -50 ## a waste of public funds ##
		hidden_effect = { country_event = { id = gryps.46 days = 8 } }
	}
}

country_event = {
	id = gryps.46
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.46"}
	title = gryps.46.t ## comet sighted - foreshadow the impact ##
	desc = gryps.46.d
	picture = GFX_event_comet_sighted

	is_triggered_only = yes

	option = {
		name = gryps.46.a 
		add_stability = -0.05
		hidden_effect = { country_event = { id = gryps.47 days = 8 } }
	}
}

country_event = {
	id = gryps.47
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.47"}
	title = gryps.47.t ## the meteor scores a direct hit on the cloudtower ##
	desc = gryps.47.d
	picture = GFX_event_comet_sighted

	is_triggered_only = yes

	option = {
		name = gryps.47.a 
		add_stability = -0.05
		add_political_power = -150
		add_timed_idea = { days = 360 idea = GRU_fallout_from_the_crystal_rain }
		512 = { 
			add_resource = {
				type = crystals
				amount = 25
			}
			damage_building = {
			    type = infrastructure
			    damage = 3
			}
		}
		set_global_flag = gru_riaportu_cloudtower_broken
	}
}

country_event = {
	id = gryps.48 #
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.48"}
	title = gryps.48.t ## mention that the remnants of the Gryphus council side with the Company ## 
	desc = gryps.48.d
	picture = GFX_event_boat_in_runined_dock
	is_triggered_only = yes

	option = {
		name = gryps.48.a ## Company ##
		ai_chance = { factor = 0 }
		add_stability = -0.01
		add_to_variable = {
			var = company_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = dockyard
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.49 hours = 3 } }
	}
	
	option = {
		name = gryps.48.b ## Knights ##
		ai_chance = { factor = 100 }
		add_stability = -0.01
		add_to_variable = {
			var = knight_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = dockyard
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.49 hours = 3 } }
	}
}

country_event = {
	id = gryps.49 #
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.49"}
	title = gryps.49.t 
	desc = gryps.49.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.49.a ## Company ##
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
				}
			}
		}
		add_stability = -0.01
		add_to_variable = {
			var = company_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = industrial_complex
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.50 hours = 3 } }
	}
	
	option = {
		name = gryps.49.b ## Knights ##
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_COMPANY
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
				}
			}
		}
		add_stability = -0.01
		add_to_variable = {
			var = knight_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = industrial_complex
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.50 hours = 3 } }
	}
}

country_event = {
	id = gryps.50 #
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.50"}
	title = gryps.50.t
	desc = gryps.50.d
	picture = GFX_event_medieval_city_ugly_street
	is_triggered_only = yes

	option = {
		name = gryps.50.a ## Company ##
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_ORDER
					has_game_rule = {
						rule = GRU_ai_behavior
						option = ORDER
					}
				}
			}
		}
		add_stability = -0.01
		add_to_variable = {
			var = company_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = infrastructure
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.51 hours = 3 } }
	}
	
	option = {
		name = gryps.50.b ## Knights ##
		ai_chance = { 
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_country_flag = GRU_AI_COMPANY
					has_country_flag = GRU_AI_COMMIE
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMMIE
					}
					has_game_rule = {
						rule = GRU_ai_behavior
						option = COMPANY
					}
				}
			}
		}
		add_stability = -0.01
		add_to_variable = {
			var = knight_riaportu_actions_var
			value = 1
		}
		512 = { 
			damage_building = {
			    type = infrastructure
			    damage = 1
			}
		}
		hidden_effect = { country_event = { id = gryps.51 hours = 3 } }
	}
}

country_event = {
	id = gryps.51 #
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.51"}
	title = gryps.51.t
	desc = gryps.51.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = gryps.51.a ## Company ##
		trigger = {
			check_variable = { knight_riaportu_actions_var < company_riaportu_actions_var }
		}
		#country_event = { id = gryps.19 hours = 1 }
		set_country_flag = GRU_company_intervention 
		if = {
			limit = {
				has_idea = GRU_knightly_orders
			}
			remove_ideas = GRU_knightly_orders
		}
		if = {
			limit = {
				has_idea = GRU_knightly_orders_powers_strenghtened
			}
			remove_ideas = GRU_knightly_orders_powers_strenghtened
		}
		if = {
			limit = {
				has_idea = GRU_knightly_orders_enforce_worship
			}
			remove_ideas = GRU_knightly_orders_enforce_worship
		}
	}
	
	option = {
		name = gryps.51.b ## Knights ##
		trigger = {
			check_variable = { knight_riaportu_actions_var > company_riaportu_actions_var }
		}
		#country_event = { id = gryps.20 hours = 1 }
		set_country_flag = GRU_knights_killed_company
		set_country_flag = GRU_knights_takeover
		if = {
			limit = {
				has_idea = GRU_southcont_company
			}
			remove_ideas = GRU_southcont_company
		}
		if = {
			limit = {
				has_idea = GRU_southcont_company_stronger
			}
			remove_ideas = GRU_southcont_company_stronger
		}
		if = {
			limit = {
				has_idea = GRU_southcont_company_weakened
			}
			remove_ideas = GRU_southcont_company_weakened
		}
	}
	
	option = {
		name = gryps.51.c ## Nobody ##
		trigger = {
			check_variable = { knight_riaportu_actions_var = company_riaportu_actions_var }
		}
		country_event = { id = gryps.52 hours = 3 }
	}
}

country_event = {
	id = gryps.52 #
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.52"}
	title = gryps.52.t ## Mention that an insurrection in Riaportu was crushed by a combined force of Knights and Company men ##
	desc = gryps.52.d
	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = gryps.52.a 
		start_civil_war = {
			ruling_party = communism
			ideology = neutrality
			size = 0.65
			# only_own_territory = yes #seems to have broken in LR
		}
		hidden_effect = {
			load_focus_tree = gryphus_commie_tree
			random_other_country = {
				limit = {
					original_tag = GRU
					NOT = { tag = GRU }
					has_government = neutrality
				}
				save_event_target_as = GRU_neutral_faction_in_civil_war
				## load_focus_tree = gryphus ## cut out ##
				add_ideas = GRU_knightly_orders
				add_ideas = GRU_southcont_company
				transfer_state = 512
				transfer_state = 594
				transfer_state = 595
				transfer_state = 623
				create_country_leader = {
					name = "Provisional Council"
					desc = ""
					picture = "gfx/leaders/GRI/Regency.tga"
					expire = "1965.1.1"
					ideology = despotism
					traits = { provisional }
				}
			}
			transfer_state = 630
			every_unit_leader = {
				limit = {
					OR = { 
						has_id = 1571
						has_id = 1572
						has_id = 1573
						has_id = 1574
						has_id = 1575
						has_id = 1576
					}
				}
				set_nationality = event_target:GRU_neutral_faction_in_civil_war
			}
			every_unit_leader = {
				limit = { has_id = 1577 }
				set_nationality = GRU
			}
			create_corps_commander = {
				name = "Aniela Gryfoń"
				portrait_path = "gfx/leaders/GRU/GRYH_Aniela_Gryfon.tga"
				traits = { griffon_race_trait war_hero infantry_leader  }
				skill = 2
				attack_skill = 3
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
				female = yes
			}
			create_corps_commander = {
				name = "Dobrawa Brzozowska"
				portrait_path = "gfx/leaders/GRU/GRY_dobrawa_brzozowska.tga"
				traits = { griffon_race_trait ranger }
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 1
				female = yes
			}
			add_ideas = GRU_towns_increased_autonomy
			add_ideas = GRU_multilingualism
		}
	}
}

country_event = {
	id = gryps.53
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.53"}
	title = gryps.53.t
	desc = gryps.53.d
	picture = GFX_event_eqs_communists
	is_triggered_only = yes

	option = {
		name = gryps.53.a 
		create_country_leader = {
			name = "Aniela Gryfoń"
			desc = ""
			picture = "gfx/leaders/GRU/GRYH_Aniela_Gryfon.tga"
			expire = "1965.1.1"
			ideology = stalinism
			female = yes
			traits = { hero_of_the_revolution }
		}
		set_country_flag = GRU_thotalism
		hidden_effect = { country_event = { id = gryps.67 days = 24 } }
		ai_chance = { 
			base = 75
		}
	}
	option = {
		name = gryps.53.b
		set_party_name = { 
			ideology = communism
			long_name = GRU_solidarity_name_long
			name = GRU_solidarity_name
		}
		create_country_leader = {
			name = "Edward Piórowski"
			desc = ""
			picture = "gfx/leaders/GRU/GRYH_Edward_Piorowski.tga"
			expire = "1965.1.1"
			ideology = anarchist_communism
			traits = {

			}
		}
		set_country_flag = GRU_confederacy
		hidden_effect = { country_event = { id = gryps.67 days = 24 } }
		ai_chance = { 
			base = 25
			modifier = {
				factor = 0
				is_subject_of = GRW
			}
		}
	}
}

country_event = {
	id = gryps.54
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.54"}
	title = gryps.54.t
	desc = gryps.54.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = gryps.54.a 
		add_political_power = 120
		add_manpower = 1500
	}
}
country_event = { #Gryphus wishes to ally
	id = gryps.55
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.55"}
	title = gryps.55.t
	desc = gryps.55.d
	picture = GFX_event_medieval_city_in_mountains
	is_triggered_only = yes

	option = { #Sure
		name = gryps.55.a
		ai_chance = {
			factor = 40
		}
		if = {
			limit = {
				AND = {
					is_faction_leader = yes
					FROM = {
						is_in_faction = no
					}
				} 
			}
			add_to_faction = FROM
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		FROM = {
			country_event = gryps.56
		}
	}
	option = { #Fuck no
		name = gryps.55.b
		ai_chance = {
			factor = 5
		}
		FROM = {
			country_event = gryps.57
		}
	}
}

country_event = { #GRU informed alliance offer accepted
	id = gryps.56
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.56"}
	title = gryps.56.t
	desc = gryps.56.d
	picture = GFX_event_medieval_city_3
	is_triggered_only = yes

	option = {
		name = gryps.56.a 
		if = {
			limit = { is_in_faction = no }
			create_faction = GRU_COMMIE_ALLIANCE
		}
		if = {
			limit = { FROM = { is_in_faction = no } }
			add_to_faction = FROM
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
		add_political_power = 50
	}
}

country_event = { #GRU informed alliance offer refused
	id = gryps.57
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.57"}
	title = gryps.57.t
	desc = gryps.57.d 
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.57.a 
		add_political_power = -50
	}
}

country_event = { #Nationalization isn't going too well
	id = gryps.58
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.58"}
	title = gryps.58.t
	desc = gryps.58.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.58.a 
		add_political_power = -50
		swap_ideas = {
			remove_idea = GRU_nationalization_idea
			add_idea = GRU_weaker_nationalization_idea
		}
	}
}
country_event = { #SAF's doing poorly
	id = gryps.59
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.59"}
	title = gryps.59.t
	desc = gryps.59.d
	picture = GFX_event_autumn_forest
	is_triggered_only = yes

	option = {
		name = gryps.59.a 
		add_stability = -0.05
		swap_ideas = {
			remove_idea = GRU_state_agricultural_farms_idea
			add_idea = GRU_weaker_state_agricultural_farms_idea
		}
	}
}
country_event = { #Mass arrests
	id = gryps.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.60"}
	title = gryps.60.t
	desc = gryps.60.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.60.a 
		add_political_power = 100
		add_stability = -0.1
		add_popularity = { ideology = neutrality popularity = -0.05 }
		add_popularity = { ideology = fascism popularity = -0.05 }
		add_popularity = { ideology = democratic popularity = -0.05 }
	}
}

country_event = { #Reign of Terror
	id = gryps.61
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.61"}
	title = gryps.61.t
	desc = gryps.61.d
	picture = GFX_event_griffon_para
	is_triggered_only = yes

	option = {
		name = gryps.61.a 
		add_stability = 0.05
		add_political_power = -100
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = -2500
		}
		restore_previous_manpower = yes
	}
}
country_event = { #Inefficient industry
	id = gryps.62
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.62"}
	title = gryps.62.t
	desc = gryps.62.d
	picture = GFX_event_medieval_city
	is_triggered_only = yes

	option = {
		name = gryps.62.a 
		add_ideas = GRU_inefficient_industry
	}
}
country_event = { #Partisan attack
	id = gryps.63
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.63"}
	title = gryps.63.t
	desc = gryps.63.d
	picture = GFX_event_griffon_with_gun
	is_triggered_only = yes

	option = {
		name = gryps.63.a
		add_stability = -0.15
		512 = {
			add_manpower = -100
			damage_building = {
			    type = infrastructure
			    damage = 2
			}
			damage_building = {
			    type = industrial_complex
			    damage = 1
			}
		}
	}
}
country_event = { #The priests condemn communism
	id = gryps.64
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.64"}
	title = gryps.64.t
	desc = gryps.64.d
	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = gryps.64.a
		add_political_power = -100
		add_stability = -0.15
		add_research_slot = -1
		add_popularity = { ideology = communism popularity = -0.25 }
	}
}
country_event = { #The government resigns
	id = gryps.65
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.65"}
	title = gryps.65.t
	desc = gryps.65.d
	picture = GFX_event_feast
	is_triggered_only = yes

	option = {
		name = gryps.65.a
		add_stability = 0.3
		add_political_power = 150
		remove_ideas = GRU_eliminate_bourgeois_nationalism_idea
		remove_ideas = GRU_inefficient_industry
		remove_ideas = GRU_min_pub_sec_stronger
		remove_ideas = GRU_weaker_state_agricultural_farms_idea
		remove_ideas = GRU_weaker_nationalization_idea
		create_country_leader = {
			name = "Edward Piórowski"
			desc = ""
			picture = "gfx/leaders/GRU/GRYH_Edward_Piorowski.tga"
			expire = "1965.1.1"
			ideology = anarchist_communism
			traits = {

			}
		}
		set_party_name = { 
			ideology = communism
			long_name = GRU_solidarity_name_long
			name = GRU_solidarity_name
		}
		clr_country_flag = GRU_thotalism
		set_country_flag = GRU_confederacy
	}
}
country_event = { #Happy ending for Gryphus
	id = gryps.66
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.66"}
	title = gryps.66.t
	desc = gryps.66.d
	picture = GFX_event_western_griffon_city
	is_triggered_only = yes

	option = {
		name = gryps.66.a
		add_political_power = 100
		add_stability = 0.1
		increase_society_development = yes
		every_owned_state = {
			add_manpower = 10000
		}
	}
}
country_event = { ## rename Grypsburg ##
	id = gryps.67
	immediate = {log = "[GetDateText]: [Root.GetName]: event gryps.67"}
	title = gryps.67.t
	desc = gryps.67.d
	picture = GFX_event_medieval_city_3

	is_triggered_only = yes

	option = {
		name = gryps.67.a
		set_province_name = { id = 9962 name = "Gryfów"}
		add_political_power = 30
	}
}