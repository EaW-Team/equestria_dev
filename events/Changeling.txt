add_namespace = changelings
add_namespace = changelingattache


country_event = {   ######### Talk about Olenian Territories ######
	id = changelings.1
	immediate = {log = "[Root.GetName]: event changelings.1"}#Auto-logging
	title = changelings.1.t
	desc = changelings.1.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.1.a
		OLE = {
			country_event = { days = 1 id=olenia.1 }
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { ####### Offer Puppet Rights #########
	id = changelings.2
	immediate = {log = "[Root.GetName]: event changelings.2"}#Auto-logging
	title = changelings.2.t
	desc = changelings.2.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.2.a
		add_political_power = 50
		OLE = {
			country_event = { days = 1 id=olenia.2 }
		}
		news_event = { days = 1 id = news.18 }
		ai_chance = { factor = 100 }
	}
}
#country_event = { ################ Conquest ############
#	id = changelings.3
#	immediate = {log = "[Root.GetName]: event changelings.3"}#Auto-logging
#	title = changelings.3.t
#	desc = changelings.3.d
#	picture = GFX_event_swarm
#
#	is_triggered_only = yes
#
#	option = {
#		name = changelings.3.a
#		add_political_power = 50
#		ai_chance = { factor = 100 }
#	}
#}
country_event = { ################ states ceded ############
	id = changelings.4
	immediate = {log = "[Root.GetName]: event changelings.4"}#Auto-logging
	title = changelings.4.t
	desc = changelings.4.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.4.a
		add_political_power = 50
		transfer_state = 300
		transfer_state = 292
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ states Denied ############
	id = changelings.5
	immediate = {log = "[Root.GetName]: event changelings.5"}#Auto-logging
	title = changelings.5.t
	desc = changelings.5.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.5.a
		add_political_power = 150
		add_war_support = 0.05
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ Puppet success ############
	id = changelings.6
	immediate = {log = "[Root.GetName]: event changelings.6"}#Auto-logging
	title = changelings.6.t
	desc = changelings.6.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.6.a
		add_political_power = -250
		add_war_support = -0.1
		hidden_effect = {
			if = {
				limit = { has_war_with = OLE }
				set_country_flag = bypass_on_peaceconference_ended
				white_peace = {
					tag = OLE 
					message = OLE_agree_peace_puppet
				} 
				clr_country_flag = bypass_on_peaceconference_ended
			}
		}
		puppet = OLE
		hidden_effect = {
			OLE = {
				set_country_flag = OLE_CHN_puppet
				set_party_name = { ideology = fascism long_name = OLE_chn_collaborators_long name = OLE_chn_collaborators }
				create_country_leader = {
					name = "Vidkun Hjortsling"
					picture = "Hjortsling.dds"
					expire = "1965.1.1"
					ideology = rexism
					traits = {
					}
				}
				drop_cosmetic_tag = yes
				set_cosmetic_tag = OLE_CHN
			}
		}
		transfer_state = 300
		transfer_state = 292
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ Puppet Denied ############
	id = changelings.7
	immediate = {log = "[Root.GetName]: event changelings.7"}#Auto-logging
	title = changelings.7.t
	desc = changelings.7.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.7.a
		add_political_power = 40
		add_war_support = 0.045
		diplomatic_relation = { country = FROM relation = non_aggression_pact active = no }
		create_wargoal = { type = annex_everything target = OLE }
		hidden_effect = {
			every_country = {
				limit = { original_tag = OLE NOT = { tag = OLE } }
				ROOT = { create_wargoal = { type = annex_everything target = PREV } }
			}
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ Ole surrenderrs ############
	id = changelings.8
	immediate = {log = "[Root.GetName]: event changelings.8"}#Auto-logging
	title = changelings.8.t
	desc = changelings.8.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.8.a
		add_political_power = 40
		add_stability = 0.05
		add_war_support = -0.05
		hidden_effect = { 
			set_country_flag = bypass_on_peaceconference_ended
			white_peace = {
				tag = OLE 
				message = OLE_agree_peace_annex
			} 
			clr_country_flag = bypass_on_peaceconference_ended
		}
		annex_country = { target = OLE }
		news_event = { days = 2 id = news.15 }
		add_threat = 8
		ai_chance = { factor = 100 }
	}
}
#country_event = { ## Olenia agrees to be pupepted #
#	id = changelings.9
#	immediate = {log = "[Root.GetName]: event changelings.9"}#Auto-logging
#	title = changelings.9.t
#	desc = changelings.9.d
#	picture = GFX_event_swarm
#
#	is_triggered_only = yes
#
#	option = {
#		name = changelings.9.a
#		transfer_state = 300
#		transfer_state = 292
#		puppet = OLE
#		hidden_effect = {
#			OLE = {
#				set_party_name = { ideology = fascism long_name = OLE_chn_collaborators_long name = OLE_chn_collaborators }
#				create_country_leader = {
#					name = "Vidkun Hjortsling"
#					picture = "Hjortsling.dds"
#					expire = "1965.1.1"
#					ideology = rexism
#					traits = {
#					}
#				}
#				drop_cosmetic_tag = yes
#				set_cosmetic_tag = OLE_CHN
#			}
#		}
#		add_political_power = 40
#		add_stability = 0.03
#		add_war_support = -0.05
#		ai_chance = { factor = 100 }
#	}
#}
country_event = { 
	id = changelings.10
	immediate = {log = "[Root.GetName]: event changelings.10"}#Auto-logging
	title = changelings.10.t
	desc = changelings.10.d
	picture = GFX_event_swarm

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = changelings.10.a
		create_wargoal = {
			target = VAN type = annex_everything
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { 
	id = changelings.11
	immediate = {log = "[Root.GetName]: event changelings.11"}#Auto-logging
	title = changelings.11.t
	desc = changelings.11.d
	picture = GFX_event_swarm

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = changelings.11.a
		create_wargoal = {
			target = SCS type = annex_everything
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { 
	id = changelings.12
	immediate = {log = "[Root.GetName]: event changelings.12"}#Auto-logging
	title = changelings.12.t
	desc = changelings.12.d
	picture = GFX_event_swarm

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = changelings.12.a
		create_wargoal = {
			target = BAL type = annex_everything
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { 
	id = changelings.14
	immediate = {log = "[Root.GetName]: event changelings.14"}#Auto-logging
	title = changelings.14.t
	desc = changelings.14.d
	picture = GFX_event_swarm

	trigger = {
		tag = CHN
		OR = {
			NLR = { exists = no }
			NLR = { is_subject = yes }
		}
		country_exists = STG
		has_completed_focus = demand_equestria
		has_global_flag = equestrian_civil_war_ended
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }

	option = {
		name = changelings.14.a
		create_wargoal = {
			target = STG type = annex_everything
		}
		ai_chance = { factor = 100 }
	}
}
country_event = {
	id = changelings.16
	immediate = {log = "[Root.GetName]: event changelings.16"}#Auto-logging
	title = changelings.16.t
	desc = changelings.16.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.16.a
		custom_effect_tooltip = spies_equestria
		hidden_effect = {
			EQS = {
				add_ideas = changeling_spies
				country_event = {
					id = equestriachn.1 days = 25
				}
			}
		}
		ai_chance = { factor = 100 }
	}
}
country_event = {  ## spy network destroyed
	id = changelings.17
	immediate = {log = "[Root.GetName]: event changelings.17"}#Auto-logging
	title = changelings.17.t
	desc = changelings.17.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.17.a
		add_political_power = -50
		ai_chance = { factor = 100 }
	}
}
country_event = {  ## Sombra offers puppeting
	id = changelings.18
	immediate = {log = "[Root.GetName]: event changelings.18"}#Auto-logging
	title = changelings.18.t
	desc = changelings.18.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # NEVER
		name = changelings.18.a
		add_political_power = -20
		FROM = {
			country_event = { id = crysom.233 days = 1}
		}
		ai_chance = { factor = 70 }
	}
	option = { # ALRIGHT
		name = changelings.18.a
		add_political_power = -20
		FROM = {
			country_event = { id = crysom.24 days = 1}
		}
		ai_chance = { factor = 30  }
	}
}
country_event = {  ## Sombra offers alliance
	id = changelings.19
	immediate = {log = "[Root.GetName]: event changelings.19"}#Auto-logging
	title = changelings.19.t
	desc = changelings.19.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # NEVER
		name = changelings.19.a
		FROM = {
			country_event = { id = crysom.26 days = 1}
		}
		ai_chance = { base = 30
			modifier = {
				factor = 100
				has_war_with = FROM
			}
		}
	}
	option = { # ALRIGHT
		name = changelings.19.b
		FROM = {
			country_event = { id = crysom.27 days = 1}
		}
		ai_chance = { base = 70
			modifier = {
				factor = 0
				has_war_with = FROM
			}
		}
	}
}
country_event = {  ## War on Equestria HERE
	id = changelings.20
	immediate = {log = "[Root.GetName]: event changelings.20"}#Auto-logging
	title = changelings.20.t
	desc = changelings.20.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # NEVER
		name = changelings.20.a
		trigger = {
			NOT = { has_global_flag = CHN_for_gray_pact }
		}

		if = {
			limit = { country_exists = EQS }
			create_wargoal = { type = annex_everything target = EQS }
		}
		hidden_effect = {
			every_country = {
				limit = { original_tag = EQS NOT = { tag = EQS } }
				ROOT = { create_wargoal = { type = annex_everything target = PREV } }
			}
		}
		if = {
			limit = {
				country_exists = NLR
				NOT = { AND = {
					has_global_flag = CHN_for_gray_pact
					has_global_flag = NLR_for_gray_pact
				} }
			}
			create_wargoal = { type = annex_everything target = NLR }
		}
		if = {
			limit = {
				country_exists = VAN
			}
			country_event = { id = changelings.10 days = 1 }
		}
	}
}
country_event = {  ## Sombra offers marriage
	id = changelings.21
	immediate = {log = "[Root.GetName]: event changelings.21"}#Auto-logging
	title = changelings.21.t
	desc = changelings.21.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # ALRIGHT
		name = changelings.21.a
		set_global_flag = Chrysalis_for_marriage
		FROM = {
			country_event = { id = crysom.38 days = 1}
		}
		ai_chance = { factor = 65 }
	}
	option = { # Nyo
		name = changelings.21.b
		FROM = {
			country_event = { id = crysom.38 days = 1}
		}
		news_event = {
			id = news.47 days = 1
		}
		ai_chance = { factor = 35  }
	}
}
country_event = {  ## Jungle nation offers puppet
	id = changelings.22
	immediate = {log = "[Root.GetName]: event changelings.22"}#Auto-logging
	title = changelings.22.t
	desc = changelings.22.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # Da
		name = changelings.22.a
		puppet = JUN
		JUN = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = JUN_COL
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			create_country_leader = {
				name = "Magistrate Caballeron"
				picture = "Caballeron.tga"
				expire = "1965.1.1"
				ideology = nazism
				traits = {}
			}
		}
		ai_chance = { factor = 90 }
	}
	option = { # Nyet
		name = changelings.23.b
		hidden_effect = { JUN = { country_event = jungle.8 } }
		ai_chance = { factor = 10  }
	}
}
country_event = {  ## Jungle nation offers puppet
	id = changelings.23
	immediate = {log = "[Root.GetName]: event changelings.23"}#Auto-logging
	title = changelings.23.t
	desc = changelings.23.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { # Da
		name = changelings.23.a
		puppet = JUN
		JUN = {
			drop_cosmetic_tag = yes
			set_cosmetic_tag = JUN_COL
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			create_country_leader = {
				name = "Magistrate Caballeron"
				picture = "Caballeron.tga"
				expire = "1965.1.1"
				ideology = nazism
				traits = {}
			}
			hidden_effect = {
				set_country_flag = JUN_CHN_puppet
				set_country_flag = do_not_give_JUN_cosmetic
			}
		}
		ai_chance = { factor = 90 }
	}
	option = { # Nyet
		name = changelings.23.b
		hidden_effect = { JUN = { country_event = jungle.9 } }
		ai_chance = { factor = 10  }
	}
}
country_event = {
	id = changelings.24
	immediate = {log = "[Root.GetName]: event changelings.24"}#Auto-logging
	title = changelings.24.t
	desc = changelings.24.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.24.a
		if = {
			limit = { has_unit_leader = 600 }
			remove_unit_leader = 600
		}
	}
}
country_event = { #CLF CONTROL
	id = changelings.25
	immediate = {log = "[Root.GetName]: event changelings.25"}#Auto-logging
	title = changelings.25.t
	desc = changelings.25.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.25.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = CHN_CLFCHN
		ai_chance = { factor = 100 }
	}
}
country_event = { #UPC CONTROL
	id = changelings.26
	immediate = {log = "[Root.GetName]: event changelings.26"}#Auto-logging
	title = changelings.26.t
	desc = changelings.26.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.26.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = CHN_UPPCHN
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ Balkanize Olenia ############
	id = changelings.27
	immediate = {log = "[Root.GetName]: event changelings.27"}#Auto-logging
	title = changelings.27.t
	desc = changelings.27.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.27.a
		add_political_power = 50
		VAV = { transfer_state = 69
			add_state_core = 69
			transfer_state = 224
			add_state_core = 224
			transfer_state = 296
			add_state_core = 296
			transfer_state = 195
			add_state_core = 195
			transfer_state = 214
			add_state_core = 214
			transfer_state = 215
			add_state_core = 215
			transfer_state = 216
			add_state_core = 216
			transfer_state = 219
			add_state_core = 219
			transfer_state = 217
			add_state_core = 217
			transfer_state = 218
			add_state_core = 218
		}
		HJO = { transfer_state = 76
			add_state_core = 76
			transfer_state = 189
			add_state_core = 189
			transfer_state = 202
			add_state_core = 202
			transfer_state = 203
			add_state_core = 203
			transfer_state = 211
			add_state_core = 211
			transfer_state = 201
			add_state_core = 201
			transfer_state = 213
			add_state_core = 213
			transfer_state = 212
			add_state_core = 212
			transfer_state = 210
			add_state_core = 210
			transfer_state = 205
			add_state_core = 205
			transfer_state = 204
			add_state_core = 204
			transfer_state = 220
			add_state_core = 220
			transfer_state = 209
			add_state_core = 209
			transfer_state = 190
			add_state_core = 190
		}
		CER = { transfer_state = 191
			add_state_core = 191
			transfer_state = 192
			add_state_core = 192
			transfer_state = 298
			add_state_core = 298
			transfer_state = 330
			add_state_core = 330
			transfer_state = 197
			add_state_core = 197
			transfer_state = 295
			add_state_core = 295
			transfer_state = 206
			add_state_core = 206
			transfer_state = 297
			add_state_core = 297
			transfer_state = 194
			add_state_core = 194
			transfer_state =  196
			add_state_core = 196
			transfer_state = 193
			add_state_core = 193
			transfer_state = 198
			add_state_core = 198
			transfer_state = 199
			add_state_core = 199
			transfer_state = 200
			add_state_core = 200
			transfer_state = 208
			add_state_core = 208
			transfer_state = 207
			add_state_core = 207

		}
		CHN = {
			puppet = HJO
			puppet = VAV
			puppet = CER
			hidden_effect = {
				set_country_flag = bypass_on_peaceconference_ended
				white_peace = {
					tag = OLE 
					message = OLE_agree_peace_annex
				} 
				clr_country_flag = bypass_on_peaceconference_ended
			}
			annex_country = { target = OLE }
			HJO = { country_event = civwar.111 }
			VAV = { country_event = civwar.111 }
			CER = { country_event = civwar.111 }
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { ################ Final Phase Reinforcements for Puppets ############
	id = changelings.28
	immediate = {log = "[Root.GetName]: event changelings.28"}#Auto-logging
	title = changelings.28.t
	desc = changelings.28.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.28.a
		VAV = { load_oob = VAV_1007 }
		CER = { load_oob = CER_1007 }
		HJO = { load_oob = HJO_1007 }
	}
}

country_event = { ################  Communist Infiltraitors Phase One############
	id = changelings.29
	immediate = {log = "[Root.GetName]: event changelings.29"}#Auto-logging
	title = changelings.29.t
	desc = changelings.29.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.29.a
		set_country_flag = war_plan_white
		ai_chance = { factor = 10 }
	}
	option = {
		name = changelings.29.b
		set_country_flag = phase_two
		ai_chance = { factor = 90 }
	}
}
country_event = { ################ Intergrate the Commissariats ############
	id = changelings.30
	immediate = {log = "[Root.GetName]: event changelings.30"}#Auto-logging
	title = changelings.30.t
	desc = changelings.30.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.30.a
		annex_country = { target = CER }
		annex_country = { target = HJO }
		annex_country = { target = VAV }
		ai_chance = { factor = 1 }
	}
	option = {
		name = changelings.30.b
		ai_chance = { factor = 99 }
	}
}
country_event = { ################ Phase 2 (For Olenia)############
	id = changelings.31
	immediate = {log = "[Root.GetName]: event changelings.31"}#Auto-logging
	title = changelings.31.t
	desc = changelings.31.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = {
		name = changelings.31.a
		ai_chance = { factor = 100 }
		add_ideas = internationalism
		set_global_flag = phase_three
	}
	option = {
		name = changelings.31.b
		ai_chance = { factor = 0 }
		CHN = { set_country_flag = war_plan_white }
	}
}
country_event = { ################ Furfore Chrysalis (Vanhoover Sabotour OOB) ############
	id = changelings.32
	immediate = {log = "[Root.GetName]: event changelings.32"}#Auto-logging
	title = changelings.32.t
	desc = changelings.32.d
	picture = GFX_event_swarm

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = changelings.32.a
		if = {
			limit = { has_tech = tech_infiltrators }
			load_oob = CHN_Furfore_Chrysalis_inf
			else = { load_oob = CHN_Furfore_Chrysalis }
		}
		ai_chance = { factor = 100 }
	}
}
country_event = { # Zecora Resistance
	id = changelings.34
	immediate = {log = "[Root.GetName]: event changelings.34"}#Auto-logging
	hidden = yes

	trigger = {
		tag = CHN
		has_government = fascism
		NLR = { exists = no }
		OR = {
			EQS = { exists = no }
			EQS = { is_subject_of = CHN }
		}
		any_country = {
			OR = { 
				is_subject_of = CHN
				tag = CHN 
			}
			1 = { is_owned_and_controlled_by = PREV }
		}
		divisions_in_state = { state = 1 size < 2 }
	}
	fire_only_once = yes
	mean_time_to_happen = { 
		days = 260
		modifier = {
			factor = 0.9
			has_war = yes
		}
		modifier = {
			factor = 0.5
			has_war = yes
			divisions_in_state = { state = 3 size < 2 }
		}
		modifier = {
			factor = 1.2
			has_war = no
		}
		modifier = {
			factor = 0.45
			has_war = yes
			divisions_in_state = { state = 3 size < 2 }
			divisions_in_state = { state = 2 size < 2 }
		}
	}
	option = {
		ZRS = {
			transfer_state = 1
			if = { 
				limit = { 
					ROOT = { divisions_in_state = { state = 5 size < 2 } }
				}
				transfer_state = 5
				set_capital = 5 
			}
			add_political_power = 600
			add_manpower = 100000
			if = {
				limit = {
					PREV = { has_tech = advanced_infantry_weapons }
				}
				
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_3
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = improved_infantry_weapons }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_2
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = infantry_weapons1 }
					
				}
				
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_1
						amount = -1000
						producer = CHN
					}
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = infantry_weapons }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 1000
					producer = CHN
				}
				PREV = {
					add_equipment_to_stockpile = {
						type = infantry_equipment_0
						amount = -1000
						producer = CHN
					}
				}
			}
			if = {
				limit = { has_global_flag = EQS_pinkie_pie_created }
				event_target:EQS_pinkie_pie = { set_nationality = PREV }
				else = {
					create_corps_commander = {
						name = "Pinkamena Diana Pie"
						portrait_path = "gfx/leaders/EQS/PinkiePie.tga"
						traits = { pinkie_pie_bae }
						skill = 3
						id = 9
						female = yes
						attack_skill = 3
						defense_skill = 4
						planning_skill = 2
						logistics_skill = 3
					}
					set_global_flag = EQS_pinkie_pie_created
					random_unit_leader = {
						limit = { has_id = 9 }
						save_global_event_target_as = EQS_pinkie_pie
					}
				}
			}
			add_ideas = everfree_resistance
			declare_war_on = { target = CHN type = puppet_wargoal_focus }
			load_oob = "ZRS_spawn"
			army_experience = 30
			every_owned_state = { add_core_of = ZRS }
			transfer_technology = yes
		}
		country_event = { id = changelings.35 }
	}
}
country_event = { # Resistance news
	id = changelings.35
	immediate = {log = "[Root.GetName]: event changelings.35"}#Auto-logging
	title = changelings.35.t
	desc = changelings.35.d
	picture = GFX_event_swarm

	is_triggered_only = yes
	option = {
		name = changelings.35.a
		add_political_power = -50
	}
}
#country_event = { # Resistance news
	#   id = changelings.36
	#  title = changelings.36.t
	#desc = changelings.36.d
	#picture = GFX_event_swarm

	# trigger = {
		#     tag = CHN
		#  }
	# fire_only_once = yes
	#  option = {
		#      name = changelings.36.a
		#      add_manpower = -500000
		#      annex_country = { target = EQS }
		#     country_event = changelings.34
		#  }
	#}
country_event = {
	id = changelings.36
	immediate = {log = "[Root.GetName]: event changelings.36"}#Auto-logging
	title = changelings.36.t
	desc = changelings.36.d
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = changelings.36.a
		ai_chance = { factor = 0 }
		add_timed_idea = { idea = chn_ditrysium_construction_1 days = 80 }
	}
	option = {
		name = changelings.36.b
		ai_chance = { factor = 100 }
		add_timed_idea = { idea = chn_ditrysium_construction_2 days = 80 }
	}
}
country_event = {
	id = changelings.37
	immediate = {log = "[Root.GetName]: event changelings.37"}#Auto-logging
	title = changelings.37.t
	desc = changelings.37.d
	picture = GFX_event_winter_forest

	is_triggered_only = yes

	option = {
		name = changelings.37.a
		ai_chance = { factor = 0 }
		add_timed_idea = { idea = chn_vraks_military_effort days = 80 }
	}
	option = {
		name = changelings.37.b
		ai_chance = { factor = 100 }
		add_timed_idea = { idea = chn_vraks_military_effort_2 days = 80 }
	}
}
country_event = {
	id = changelings.38
	immediate = {log = "[Root.GetName]: event changelings.38"}#Auto-logging
	title = changelings.38.t
	desc = changelings.38.d
	picture = GFX_event_school

	is_triggered_only = yes

	option = {
		name = changelings.38.a
		add_ideas = {
			CHN_celestial_resistance
		}
	}
}
# CHN demilitarization
country_event = {
	id = changelings.39
	immediate = {log = "[Root.GetName]: event changelings.39"}#Auto-logging
	title = changelings.39.t
	desc = changelings.39.d
	picture = GFX_event_canterlot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = changelings.39.a
		hidden_effect = { 
			CHN = {
				set_country_flag = demilitarized 
				add_manpower = -99999999
			} 
		}
		set_autonomy = {
			target = CHN
			autonomy_state = autonomy_demilitarized_puppet
		}
		CHN = {
			add_ideas = {
				civilian_economy
				disarmed_nation
			}
		}
	}
}

# CHN remilitarization
country_event = {
	id = changelings.40
	immediate = {log = "[Root.GetName]: event changelings.40"}#Auto-logging
	title = changelings.40.t
	desc = changelings.40.d
	picture = GFX_event_canterlot

	is_triggered_only = yes

	option = { #decline
		name = changelings.40.a
		add_political_power = 25
		FROM = { country_event = { id = changelings.41 days = 2 } }
		ai_chance = {
			factor = 75
		}
	}

	option = { #agree
		name = changelings.41.a
		add_political_power = -150
		if = {
			limit = { has_war = yes }
			add_war_support = -0.1
		}
		else = {
			add_war_support = -0.25
			add_stability = -0.25
		}
		if = {
			limit = { 
				FROM = { has_autonomy_state = autonomy_demilitarized_integrated_puppet }
			}
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_integrated_puppet
			}
		}
		else_if = {
			limit = { 
				FROM = { has_autonomy_state = autonomy_demilitarized_colony }
			}
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_colony
			}
		}
		else = {
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_puppet
			}
		}
		FROM = { 
			clr_country_flag = demilitarized
			country_event = { id = changelings.42 days = 2 } 
		}
		ai_chance = {
			factor = 0
			modifier = {
				has_war = yes
				OR = {
					surrender_progress > 0.2
					enemies_strength_ratio > 0.7
				}
				add = 100
			}
			modifier = {
				has_war = yes
				OR = {
					surrender_progress > 0.3
					enemies_strength_ratio > 1
				}
				add = 200
			}
		}
	}
}

country_event = {
	id = changelings.41
	immediate = {log = "[Root.GetName]: event changelings.41"}#Auto-logging
	title = changelings.41.t
	desc = changelings.41.d
	picture = GFX_event_canterlot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = changelings.41.a
	}
}

country_event = {
	id = changelings.42
	immediate = {log = "[Root.GetName]: event changelings.41"}#Auto-logging
	title = changelings.42.t
	desc = changelings.42.d
	picture = GFX_event_canterlot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = changelings.42.a
		effect_tooltip = {
			FROM = {
				if = {
					limit = { 
						ROOT = { has_autonomy_state = autonomy_demilitarized_integrated_puppet }
					}
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_integrated_puppet
					}
				}
				else_if = {
					limit = { 
						ROOT = { has_autonomy_state = autonomy_demilitarized_colony }
					}
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_colony
					}
				}
				else = {
					set_autonomy = {
						target = ROOT
						autonomy_state = autonomy_puppet
					}
				}
			}
		}
	}
}
country_event = {
	id = changelings.43
	immediate = {log = "[Root.GetName]: event changelings.43"}#Auto-logging
	hidden = yes
	trigger = {
		tag = CHN
		has_country_flag = demilitarized
		NOT = {
			has_autonomy_state = autonomy_demilitarized_puppet
			has_autonomy_state = autonomy_demilitarized_integrated_puppet
			has_autonomy_state = autonomy_demilitarized_colony
		}
	}
	mean_time_to_happen = { days = 1 }
	option = {
		clr_country_flag = demilitarized
	}
}
#############################################################################
################ CHANGELING PUPPET EVENTS ###################################
################ Cosmetic tag events for EQS, CRY, STG, YAK, JAK and OLE #############
###################### are in their respective event files ##########################
################################# with love ~Scroup ############################
#############################################################################
country_event = { # Changeling Puppet
	id = changelings.900
	immediate = {log = "[Root.GetName]: event changelings.900"}#Auto-logging
	title = changelings.900.t
	desc = changelings.900.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = PLB
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.900.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = PLB_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.902
	immediate = {log = "[Root.GetName]: event changelings.902"}#Auto-logging
	title = changelings.902.t
	desc = changelings.902.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = GRF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.902.a
		retire_country_leader = yes
		create_country_leader = {
			name = "Protector Kute"
			desc = "PROTECTOR_KUTE_DESC"
			picture = "GovernorKute.tga"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		drop_cosmetic_tag = yes
		set_cosmetic_tag = GRF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.901
	immediate = {log = "[Root.GetName]: event changelings.901"}#Auto-logging
	title = changelings.901.t
	desc = changelings.901.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = PNG
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.901.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = PNG_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.903
	immediate = {log = "[Root.GetName]: event changelings.903"}#Auto-logging
	title = changelings.903.t
	desc = changelings.903.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = STL
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.903.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = STL_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.904
	immediate = {log = "[Root.GetName]: event changelings.904"}#Auto-logging
	title = changelings.904.t
	desc = changelings.904.d
	picture = GFX_event_swarm
	hidden = yes
	trigger = {
		original_tag = BUF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.904.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = BUF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.905
	immediate = {log = "[Root.GetName]: event changelings.905"}#Auto-logging
	title = changelings.905.t
	desc = changelings.905.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = DRG
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.905.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = DRG_CHN
		add_political_power = -300
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Changeling Puppet
	id = changelings.906
	immediate = {log = "[Root.GetName]: event changelings.906"}#Auto-logging
	title = changelings.902.t
	desc = changelings.902.d
	picture = GFX_event_swarm

	trigger = {
		original_tag = GFF
		is_subject_of = CHN
		has_government = fascism
		NOT = { has_country_flag = is_changeling_puppet }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.902.a
		drop_cosmetic_tag = yes
		set_cosmetic_tag = GFF_CHN
		set_country_flag = is_changeling_puppet
	}
}
country_event = { # Removal of cosmetic
	id = changelings.910
	immediate = {log = "[Root.GetName]: event changelings.910"}#Auto-logging
	title = changelings.910.t
	desc = changelings.910.d
	picture = GFX_event_canterlot

	trigger = {
		has_country_flag = is_changeling_puppet
		is_subject = no
		NOT = { original_tag = EQS }
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.910.a
		drop_cosmetic_tag = yes
		add_political_power = 110
		clr_country_flag = is_changeling_puppet
		hidden_effect = {
			if = {
				limit = { original_tag = GRF }
				if = {
					limit = { has_country_flag = GRF_highhill_emperor_set }
					drop_cosmetic_tag = yes
					set_cosmetic_tag = GRF_EMP
					create_country_leader = {
						name = "Imperator Highhill"
						picture = "Highhill.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = GRF_ironclaw_emperor_set }
					drop_cosmetic_tag = yes
					set_cosmetic_tag = GRF_EMP
					create_country_leader = {
						name = "Imperator Ironclaw"
						picture = "Ironclaw.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					break = yes
				}
				create_country_leader = {
					name = "Reynhard Ironclaw"

					picture = "Ironclaw.tga"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
					}
				}
			}
			if = {
				limit = {
					original_tag = STG
					has_government = communism
					is_subject = no
				}
				load_focus_tree = stalliongrad
			}
		}
	}
}
country_event = { # Removal of cosmetic for EQS
	id = changelings.911
	immediate = {log = "[Root.GetName]: event changelings.911"}#Auto-logging
	title = changelings.910.t
	desc = changelings.910.d
	picture = GFX_event_canterlot

	trigger = {
		has_country_flag = is_changeling_puppet
		is_subject = no
		original_tag = EQS
		num_of_controlled_states > 15
		controls_fillydelphia = yes
		controls_manehattan = yes
		controls_los_pegasus = yes
		controls_baltimare = yes
		controls_canterlot = yes
	}
	fire_only_once = yes
	mean_time_to_happen = { days = 1 }
	option = {
		name = changelings.910.a
		drop_cosmetic_tag = yes
		reapply_secondary_cosmetic_tags = yes
		add_political_power = 110
		clr_country_flag = is_changeling_puppet
	}
}

########################################

country_event = {   ######### Informing GRI of Recall ######
	id = changelingattache.1
	immediate = {log = "[Root.GetName]: event changelingattache.1"}#Auto-logging
	title = changelingattache.1.t
	desc = changelingattache.1.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { ###Okay then I guess
		name = changelingattache.1.a
		event_target:CHN_Thranx = { set_nationality = CHN }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 25 }
	}
	option = { ###Dont let them go without a Farewell
		name = changelingattache.1.b
		ai_chance = { factor = 75 }
		reverse_add_opinion_modifier = {
    	target = CHN
   		modifier = CHN_GRI_Party
		}
			if = {
					limit = { CHN = { has_war = yes } }
					country_event = changelingattache.3
				}
			else = {
					country_event = changelingattache.2
				}
	}
}

country_event = {   ######### Farewell Party ######
	id = changelingattache.2
	immediate = {log = "[Root.GetName]: event changelingattache.2"}#Auto-logging
	title = changelingattache.2.t
	desc = changelingattache.2.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { ####A good Farewell
		name = changelingattache.2.a
		hidden_effect = { country_event = changelingattache.4 }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 50 }
	}
	option = { ###Send them back with some Supplies
		name = changelingattache.2.b
		hidden_effect = { country_event = changelingattache.4 }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 50 }
	}
}

country_event = {   ######### Farewell Party CHN At War ######
	id = changelingattache.3
	immediate = {log = "[Root.GetName]: event changelingattache.2"}#Auto-logging
	title = changelingattache.3.t
	desc = changelingattache.3.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { ####A good Farewell
		name = changelingattache.3.a
		hidden_effect = { country_event = changelingattache.4 }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 0 }
	}
	option = { ###Send them back with some Supplies
		name = changelingattache.3.b
		hidden_effect = { country_event = changelingattache.4 }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 50 }
	}
	option = { ###Send them back with Volunteers
		name = changelingattache.3.c
		CHN = { country_event = changelingattache.12 }
		hidden_effect = { country_event = changelingattache.4 }
		event_target:CHN_Synovial = { set_nationality = CHN }
		ai_chance = { factor = 50 }
	}
}

country_event = {   ######### General Thranx begs to stay in GRI ######
	id = changelingattache.4
	immediate = {log = "[Root.GetName]: event changelingattache.4"}#Auto-logging
	title = changelingattache.4.t
	desc = changelingattache.4.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Im sure he can stay
		name = changelingattache.4.a
		hidden_effect = { CHN = { country_event = { id = changelingattache.5 days = 10 } } }
	}
	option = { #Send him back to his Homeland
		name = changelingattache.4.b
		event_target:CHN_Thranx = { set_nationality = CHN }
	}
}

country_event = {   ######### General Thranx for CHN ######
	id = changelingattache.5
	immediate = {log = "[Root.GetName]: event changelingattache.5"}#Auto-logging
	title = changelingattache.5.t
	desc = changelingattache.5.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Demand he be returned in chains to Vesalipolis!
		name = changelingattache.5.a
		GRI = { country_event = { id = changelingattache.6 days = 10 } }
	}
}

country_event = {   ######### Angry Bugs demand Thranx Back ######
	id = changelingattache.6
	immediate = {log = "[Root.GetName]: event changelingattache.6"}#Auto-logging
	title = changelingattache.6.t
	desc = changelingattache.6.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Keep him
		name = changelingattache.6.a
		CHN = { country_event = changelingattache.8 }
	}
	option = { #On second thought we should definitely send him back
		name = changelingattache.6.b
		ROOT = { remove_unit_leader = 622 }
		CHN = { 
		country_event = changelingattache.7 		
		remove_opinion_modifier = {
    	target = GRI
    	modifier = CHN_GRI_Hiding_The_Coward
			}
		}
	}
}

country_event = {   ######### Thranx executed by firing Squad in Vesalipolis ######
	id = changelingattache.7
	immediate = {log = "[Root.GetName]: event changelingattache.7"}#Auto-logging
	title = changelingattache.7.t
	desc = changelingattache.7.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Thus sates the Queen
		name = changelingattache.7.a
		add_political_power = 25
	}
}

country_event = {   ######### THEY REFUSED?!?!?! #########
	id = changelingattache.8
	immediate = {log = "[Root.GetName]: event changelingattache.8"}#Auto-logging
	title = changelingattache.8.t
	desc = changelingattache.8.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Angry Letter to GRI
		name = changelingattache.8.a
		add_opinion_modifier = {
  	  	target = GRI
 	   	modifier = CHN_GRI_Hiding_The_Coward
		}
		GRI = { country_event = changelingattache.9 }
	}
}

country_event = {   ######### Chrysalis Swears Revenge #########
	id = changelingattache.9
	immediate = {log = "[Root.GetName]: event changelingattache.9"}#Auto-logging
	title = changelingattache.9.t
	desc = changelingattache.9.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Oh dear
		name = changelingattache.9.a
		reverse_add_opinion_modifier = {
    	target = CHN
   		modifier = CHN_GRI_Queen_Swears_Vengance
		}
		hidden_effect = {
    		CHN = { country_event = { id = changelingattache.11 days = 200 } }
    		ROOT = { country_event = { id = changelingattache.10 days = 200 } }
		}
	}
}

country_event = {   ######### Poison Thranx for GRI #########
	id = changelingattache.10
	immediate = {log = "[Root.GetName]: event changelingattache.10"}#Auto-logging
	title = changelingattache.10.t
	desc = changelingattache.10.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #Ouch
		name = changelingattache.10.a
		ROOT = { remove_unit_leader = 622 }
		add_political_power = -1
	}
}

country_event = {   ######### Poison Thranx for CHN #########
	id = changelingattache.11
	immediate = {log = "[Root.GetName]: event changelingattache.11"}#Auto-logging
	title = changelingattache.11.t
	desc = changelingattache.11.d
	picture = GFX_event_swarm

	is_triggered_only = yes

	option = { #I think I will celebrate with... Water...
		name = changelingattache.11.a
	}
}

country_event = {   ######### Imperial Volunteers for CHN #########
	id = changelingattache.12
	immediate = {log = "[Root.GetName]: event changelingattache.12"}#Auto-logging
	title = changelingattache.12.t
	desc = changelingattache.12.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes

	option = { #Good Birds
		name = changelingattache.12.a
		load_oob = CHN_GRI_Volunteers
	}
}

country_event = {   ######### Chrysalis forcibly recalls Attache during Major War #########
	id = changelingattache.13
	immediate = {log = "[Root.GetName]: event changelingattache.13"}#Auto-logging
	title = changelingattache.13.t
	desc = changelingattache.13.d
	picture = GFX_event_griffon_back
	fire_only_once = yes
	trigger = {
		original_tag = CHN
		has_idea = CHN_GRI_Attache_For_CHN
		NOT = { is_in_faction_with = GRI }
				any_country = {
					is_major = yes
					OR = {
						has_wargoal_against = ROOT
						is_justifying_wargoal_against = ROOT
						focus_progress = { focus = thoraxian_betrayal progress > 0 }
						focus_progress = { focus = CHN_invasion_of_griffonia progress > 0 }
					}
			}
	}

	mean_time_to_happen = { days = 30 }

	option = { #A genius idea my queen...
		name = changelingattache.13.a
		activate_decision = CHN_Cancel_Attache
	}
}