add_namespace = gryphianhost

country_event = {
	id = gryphianhost.100
	immediate = {log = "[Root.GetName]: event gryphianhost.100"}#Auto-logging
	title = gryphianhost.100.t
	desc = gryphianhost.100.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.100.a
		GRW = { country_event = griffonwill.102 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_opinion = { target = GRW value > 30 }
			}
			modifier = {
				add = 2
				communism > 0.4
			}
		}
	}
	option = { # no
		name = gryphianhost.100.b
		GRW = { country_event = griffonwill.1012 }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = gryphianhost.101
	immediate = {log = "[Root.GetName]: event gryphianhost.101"}#Auto-logging
	title = gryphianhost.101.t
	desc = gryphianhost.101.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		OR = {
			original_tag = GRY
			original_tag = LUS
		}
		GRW = {
			has_completed_focus = GRW_annex_Lushi
			OR = {
				has_offensive_war_with = GRY
				has_offensive_war_with = LUS
			}
		}
		NOT = {
			has_war_with = GRW
			is_subject_of = GRW
		}
	}
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.101.a
		declare_war_on = { target = GRW type = puppet_wargoal_focus }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 30
				NOT = { has_government = communism }
			}
		}
	}
	option = { # no
		name = gryphianhost.101.b
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {#Raid event, did you succeed?
	id = gryphianhost.102
	title = gryphianhost.102.t
	desc = gryphianhost.102.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		original_tag = GRY
		OR = {
		has_country_flag = GRY_raiding_brodfeld
		has_country_flag = GRY_raiding_radicals
		}
	}
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {#Successful raid
	name = gryphianhost.102.a
	hidden_effect = {
		  country_event = {  days = 4 id = gryphianhost.134 }#Describe Bulba's death to Communist insurgents even though he won, and its effects
	     }
		if = {
			limit = {
				has_country_flag = GRY_raiding_brodfeld
			}
				add_timed_idea = {idea = GRY_consumer_bonus days = 365}
		  	 set_country_flag = GRY_raid_succeeded
			BRF = {
				add_timed_idea = {idea = GRY_raided days = 186}
			}
		}

	 else_if = {
		limit = {
				has_country_flag = GRY_raiding_radicals
			}
		 		add_equipment_to_stockpile = { type = infantry_equipment amount = 500 producer = GRW }
				add_timed_idea = {idea = GRY_research_bonus days = 365}

		set_country_flag = GRY_raid_succeeded
			GRW = {
				add_timed_idea = {idea = GRY_raided days = 186}
				}
		}

	}
	option = {#Raid fails
		name = gryphianhost.102.b
		add_political_power = -20
		add_stability = -0.02
		set_country_flag = GRY_raid_failed
		hidden_effect = {
		  country_event = { days = 4 id = gryphianhost.135} #Describe Bulba's death to Communist insurgents and its effects
	     }
	}
}

country_event = {#Proclamation of the Kaiv Commune
	id = gryphianhost.103
	title = gryphianhost.103.t
	desc = gryphianhost.103.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Cool
	name = gryphianhost.103.a
	set_politics = { ruling_party = communism elections_allowed = no }
	add_stability = 0.05
}
}

country_event = {#Ask GLA for an alliance
	id = gryphianhost.104
	title = gryphianhost.104.t
	desc = gryphianhost.104.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#say yes - AI should always accept
	 name = gryphianhost.104.a
	 ai_chance = { factor = 100 }
	 if = {
	   limit = {
		NOT = {
		 is_faction_leader = yes
		}
	   }
	 create_faction = "Griffonian People's Front"
	}
	 add_to_faction = GRY
	}
	option = {#say no - AI should never do this
	 name = gryphianhost.104.b
	 ai_chance = { factor = 0}
	}
}

country_event = {#RCT is asked for an alliance//unlikely to work, cannot happen unless Wavebreaker was elected in LCT
	id = gryphianhost.105
	title = gryphianhost.105.t
	desc = gryphianhost.105.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#say yes, no consequences. This should only show up if Wavebreaker was elected - AI should always accept
	 name = gryphianhost.105.a
	 ai_chance = { factor = 100 }
	 trigger = {
		has_global_flag = LCT_wavebreaker_elected
	 }
	 add_to_faction = GRY
	 LCT = { 
	  country_event = { id = gryphianhost.108}
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	 }
	 WIT = {
	  country_event = { id = gryphianhost.108}
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	 }
	 GRY = {
	  add_opinion_modifier = { target = RCT modifier = accepted_us }
	  country_event = { id = gryphianhost.106 }
	 }
	}
	option = {#say yes, with consequences - AI should never pick this option but if they player wants to...
	 name = gryphianhost.105.b
	 ai_chance = { factor = 0 }
	 trigger = {
	  NOT = {
	   has_global_flag = LCT_wavebreaker_elected
	  }
	 }
	 add_to_faction = GRY
	 remove_from_faction = LCT
	 remove_from_faction = WIT
	 LCT = { 
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	  country_event = { id = gryphianhost.110 }
	 }
	 WIT = {
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	  country_event = { id = gryphianhost.110 }
	 }
	 GRY = {
	  add_opinion_modifier = { target = RCT modifier = accepted_us }
	  country_event = { id = gryphianhost.106 }
	 }
	}
	option = {#Just say no
	name = gryphianhost.105.c
	 GRY = {
	  country_event = { id = gryphianhost.107 }
	 }
	 WIT = {
	  country_event = { id = gryphianhost.109 }
	 }
	 LCT = {
	  country_event = { id = gryphianhost.109 }
	 }
	}
}

country_event = {#GRY is informed of RCT's acceptance
	id = gryphianhost.106
	title = gryphianhost.106.t
	desc = gryphianhost.106.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.106.a
	 clr_country_flag = GRY_waiting_for_response
	}
}

country_event = {#GRY is informed of RCT's refusal
	id = gryphianhost.107
	title = gryphianhost.107.t
	desc = gryphianhost.107.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.106.a
	 clr_country_flag = GRY_waiting_for_response
	}
}

country_event = {#LCT and WIT are informed of RCT's acceptance of GRY (the version where they put up with it)
	id = gryphianhost.108
	title = gryphianhost.108.t
	desc = gryphianhost.108.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.108.a
	}
}

country_event = {#LCT and WIT informed of RCT's refusal
	id = gryphianhost.109
	title = gryphianhost.109.t
	desc = gryphianhost.109.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.109.a
	}
}

country_event = {#LCT and WIT informed of RCT's acceptance (the version where they leave
	id = gryphianhost.110
	title = gryphianhost.110.t
	desc = gryphianhost.110.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.110.a
	}
}

country_event = {#Ask WNG for an alliance. Might want to use this for all the similar events, like the one for JER and FAT
	id = gryphianhost.111
	title = gryphianhost.111.t
	desc = gryphianhost.111.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.111.a
	 if = {
	  limit = {
	   tag = JER
	   is_in_faction = no
	  }
	  create_faction = "Entente"
	 }
	 else_if = {
	  limit = {
	   tag = FAT
	   is_in_faction = no
	  }
	  create_faction = "Pan-Griffonian Republic"
	 }
	 add_to_faction = FROM
	 FROM = {
	  country_event = { id = gryphianhost.112 days = 1 }
	 }
	}
	option = {
	 name = gryphianhost.111.b
	 FROM = {
	  country_event = { id = gryphianhost.113 days = 1 }
	 }
	}
}

country_event = {#GRY informed of WNG's acceptance
	id = gryphianhost.112
	title = gryphianhost.112.t
	desc = gryphianhost.112.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.112.a
	 if = {
	  limit = {
	   is_in_faction_with = WNG
	  }
	  	 set_country_flag = GRY_WNG_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	 else_if = {
	  limit = {
	   is_in_faction_with = JER
	  }
	  	 set_country_flag = GRY_JER_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	 else_if = {
	  limit = {
	   is_in_faction_with = FAT
	  }
	  	 set_country_flag = GRY_FAT_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	}
}

country_event = {#GRY informed of WNG's rejection
	id = gryphianhost.113
	title = gryphianhost.113.t
	desc = gryphianhost.113.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.113.a
	  clr_country_flag = GRY_waiting_for_response
	}
}

country_event = {#GRY asks LUS or GRU to form a union/faction
	id = gryphianhost.114
	title = gryphianhost.114.t
	desc = gryphianhost.114.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Agree to join faction
	 name = gryphianhost.114.a
	 	ai_chance = {
			factor = 1000
		}
	 GRY = {
	  add_to_faction = ROOT
	  country_event = { id = GRY.127}
	 }
	}
	option = {#Refuse
	 name = gryphianhost.114.b
	 	 ai_chance = {
			factor = 0
		}
	 GRY = {
	  country_event = { id = GRY.128}
	 }
	}
}

country_event = {#The Kingdom Question For Fascist GRY
	id = gryphianhost.115
	title = gryphianhost.115.t
	desc = gryphianhost.115.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Go With The Kingdom
	 name = gryphianhost.115.a
	 set_country_flag = GRY_fascist_king
	 custom_effect_tooltip = GRY_crown_hetman
	}
	option = {#Go With Republic
	 name = gryphianhost.115.b
	 set_country_flag = GRY_fascist_dictator
	 custom_effect_tooltip = GRY_dictatorship
	}
}

country_event = {#Fate Of The Reactionary Officers - if they survive, and the counterrevolution happens, they will empower it
	id = gryphianhost.116
	title = gryphianhost.116.t
	desc = gryphianhost.116.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Integrate Them
	 name = gryphianhost.116.a
	 set_country_flag = GRY_integrated_reactionaries
	 add_stability = 0.05
	 add_popularity = { ideology = fascism popularity = 0.05 }
	 add_popularity = { ideology = democratic popularity = 0.05 }
	 add_popularity = { ideology = neutrality popularity = 0.05 }
	}
	option = {#Purge Them
	 name = gryphianhost.116.b
	 set_country_flag = GRY_purged_reactionaries
    if = {
        limit = { has_unit_leader = 1461 }
        remove_unit_leader = 1461
    }
    if = {
        limit = { has_unit_leader = 1462 }
        remove_unit_leader = 1462
    }
    if = {
        limit = { has_unit_leader = 1463 }
        remove_unit_leader = 1463
    }
    if = {
        limit = { has_unit_leader = 1465 }
        remove_unit_leader = 1465
    }
	}
}
country_event = {#Second Universale
	id = gryphianhost.117
	title = gryphianhost.117.t
	desc = gryphianhost.117.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Strike Out On Our Own
	 name = gryphianhost.117.a
	 set_country_flag = GRY_own_foreign_policy
	 custom_effect_tooltip = GRY_independent_policy
	 		ai_chance = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
	}
	}
	option = {#Subservience To Prywhen
	 name = gryphianhost.117.b
	 set_country_flag = GRY_go_with_prywhen
	 trigger = {
	  OR = {
	  is_in_faction_with = GRW
	  is_ai = yes
	  }
	 }
	 custom_effect_tooltip = GRY_subservience
	 		ai_chance = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 1000
			}
	}
}


}

country_event = {#GRY asks LUS or GRU to form a union, but with Communism!
	id = gryphianhost.118
	title = gryphianhost.118.t
	desc = gryphianhost.118.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Agree to cordial relations and a guarantee
	 name = gryphianhost.118.a
	 GRY = {
	  give_guarantee = ROOT
	 }
	}
	option = {#Agree to join faction
	 name = gryphianhost.118.b
	 trigger = {
	  GRY = {
	   is_in_faction = yes
	  }
	 }
	 GRY = {
	  add_to_faction = ROOT
	 }
	}
}

country_event = {#GRY asks its faction leader if it's willing to go to war with the River Fed alongside GRY
	id = gryphianhost.119
	title = gryphianhost.119.t
	desc = gryphianhost.119.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Agree to go to war
	 name = gryphianhost.119.a
	 FROM = {
	  country_event = { id = gryphianhost.120 }
	}
	}
	option = {#Refuse this crazy demand
	 name = gryphianhost.119.b
	 FROM = {
	  country_event = { id = gryphianhost.121 }
	 }
	}
}

country_event = {#GRY informed of Prywhen's support
	id = gryphianhost.120
	title = gryphianhost.120.t
	desc = gryphianhost.120.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Great to hear!
	 name = gryphianhost.120.a
	  create_wargoal = {
		type = puppet_wargoal_focus
		target = WIT
	  }	  
	}
}

country_event = {#GRY informed of refusal, chooses between backing down and leaving the faction
	id = gryphianhost.121
	title = gryphianhost.121.t
	desc = gryphianhost.121.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	
	option = {#Go to war anyway
	 name = gryphianhost.121.a
	 FROM = {
	  country_event = { id = gryphianhost.122 }
	  remove_from_faction = ROOT
	}
	  create_wargoal = {
		type = puppet_wargoal_focus
		target = WIT
	  }	  
	  add_ideas = GRY_no_faction_joining
	}
	option = {#Back down
	 name = gryphianhost.121.b
	 FROM = {
	  country_event = { id = gryphianhost.123 }
	 }
	}
}

country_event = {#GRW informed of GRY's intransigence
	id = gryphianhost.122
	title = gryphianhost.122.t
	desc = gryphianhost.122.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Drat
	 name = gryphianhost.122.a
	}
}

country_event = {#GRW informed that GRY has backed down
	id = gryphianhost.123
	title = gryphianhost.123.t
	desc = gryphianhost.123.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Good
	 name = gryphianhost.123.a
	}
}

country_event = {#Removes isolation debuff from GRY if they manage to conquer WIT
	id = gryphianhost.124
	title = gryphianhost.124.t
	desc = gryphianhost.124.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
	 has_idea = GRY_no_faction_joining
	 has_war = no
	 owns_state = 617
	}
	mean_time_to_happen = {
		days = 20
	}
	option = {#Good
	 name = gryphianhost.124.a
	 remove_ideas = GRY_no_faction_joining
	}
}

country_event = {#Civil War event if the Communists avoid finishing off the land issue
	id = gryphianhost.125
	title = gryphianhost.125.t
	desc = gryphianhost.125.d
	picture = GFX_event_griffon_mountain
	
	fire_only_once = yes
	
	trigger = {
	 has_idea = GRY_comm_land_reform_1
	 has_war = no
	}
	mean_time_to_happen = {
		days = 350
	}
	option = {#Oh no!
	 name = gryphianhost.125.a
	 start_civil_war = {
			ruling_party = communism
			ideology = neutrality
			size = 0.5
		}
	}
	option = {#Side with the Hetmanate
	 name = gryphianhost.125.b
	 start_civil_war = {
		ruling_party = neutrality
			create_country_leader = {
				name = "Severyn Nalybeako"
				desc = "Hetman Bulba's closest associate, Nalybeako is determined to save his country from the brutal Communist thugs that killed his master and father-figure."
				picture = ""
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					FIR_great_king
				}
	}
		ideology = communism
		size = 0.5
	 }
	 set_country_flag = GRY_neutral_rebellion
	 load_focus_tree = { tree = GRY_focus_neutral_rebellion keep_completed = yes }
	}
}


country_event = {#If officers not purged, they defect
	id = gryphianhost.126
	title = gryphianhost.126.t
	desc = gryphianhost.126.d
	picture = GFX_event_griffon_mountain
	
	fire_only_once = yes
	
	trigger = {
	 	has_civil_war = yes
		original_tag = GRY
		has_country_flag = GRY_comm_land_reform_1
		NOT = {
		 has_country_flag = GRY_purged_reactionaries
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	option = {#Oh no!
	 name = gryphianhost.126.a

		random_other_country = {
		 limit = {
		  has_civil_war = yes
		  has_war_with = ROOT
		  }
	
event_target:GRY_Clawrushkov = { set_nationality = PREV }
event_target:GRY_Shnoklaw = { set_nationality = PREV }
event_target:GRY_GRY_Razbeak = { set_nationality = PREV } 
		}				
		
	}
}

country_event = {#GRW informed that member has accepted their offer
	id = gryphianhost.127
	title = gryphianhost.127.t
	desc = gryphianhost.127.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Good
	 name = gryphianhost.127.a
	}
}

country_event = {#GRW informed that member has refused their offer
	id = gryphianhost.128
	title = gryphianhost.128.t
	desc = gryphianhost.128.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Good
	 name = gryphianhost.128.a
	}
}

country_event = {#GRI informed that GRY has transgressed
	id = gryphianhost.129
	title = gryphianhost.129.t
	desc = gryphianhost.129.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Dangit
	 name = gryphianhost.129.a
	}
}

country_event = {#GRI informed of the consequences of their transgression
	id = gryphianhost.130
	title = gryphianhost.130.t
	desc = gryphianhost.130.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Good
	 name = gryphianhost.130.a
	diplomatic_relation = {
		country = GRI
		relation = guarantee
		active = no
	}
	if = {
	limit = {
	 has_idea = GRY_investment
	} 
	 remove_ideas = GRY_investment
 }
	}
}

country_event = {#GRI asked to accept GRY's status as border march
	id = gryphianhost.131
	title = gryphianhost.131.t
	desc = gryphianhost.131.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#yes
	name = gryphianhost.131.a
	 	ai_chance = {
			factor = 1000
		}
	give_guarantee = GRY
	GRY = {
	 set_country_flag = GRY_has_imperial_patronage
	 country_event = { id = gryphianhost.132}
	}
	}
	option = {#no
	name = gryphianhost.131.b
    GRY = {
	 country_event = { id = gryphianhost.133}
	}
	}
}

country_event = {#GRI informed of GRI' acceptance
	id = gryphianhost.132
	title = gryphianhost.132.t
	desc = gryphianhost.132.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Good
	 name = gryphianhost.132.a
	 set_country_flag = GRY_has_imperial_patronage
	}
}

country_event = {#GRI informed of GRI' refusal
	id = gryphianhost.133
	title = gryphianhost.133.t
	desc = gryphianhost.133.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Bah
	 name = gryphianhost.133.a
	}
}
country_event = {#Bulba's death when he wins
	id = gryphianhost.134
	title = gryphianhost.134.t
	desc = gryphianhost.134.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Oh no!
	 name = gryphianhost.134.a
	 		kill_country_leader = yes
			create_country_leader = {
				name = "Interim Government"
				desc = "Hetman Bulba is dead! Without a clear successor, a Rada must be called soon to elect a new Hetman."
				picture = "Regency.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					provisional
				}
	}
 }
}

country_event = {#Bulba's death when he loses
	id = gryphianhost.135
	title = gryphianhost.135.t
	desc = gryphianhost.135.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Oh no!
	 name = gryphianhost.135.a
	 		kill_country_leader = yes

			create_country_leader = {
				name = "Interim Government"
				desc = "Hetman Bulba is dead! Without a clear successor, a Rada must be called soon to elect a new Hetman."
				picture = "Regency.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					provisional
				}
	}
 }
}