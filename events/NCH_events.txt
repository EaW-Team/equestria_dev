add_namespace = greneclyf
add_namespace = greneclyf_start
add_namespace = greneclyf_news
add_namespace = greneclyf_spy_game
add_namespace = greneclyf_trade
add_namespace = greneclyf_trade_crisis
add_namespace = greneclyf_trade_crisis_wrong
add_namespace = greneclyf_trade_crisis_correct
add_namespace = greneclyf_constitution
add_namespace = greneclyf_FBK_coup
add_namespace = greneclyf_debug
add_namespace = greneclyf_FBK_radical
add_namespace = greneclyf_development
add_namespace = greneclyf_attaches
add_namespace = greneclyf_integration
add_namespace = greneclyf_sunderer
add_namespace = greneclyf_sunderer_flavour

###STARTING EVENTS###
country_event = { #Pre-Coronation
	id = greneclyf_start.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.0"}
	title = greneclyf_start.0.t
	desc = greneclyf_start.0.d
	picture = GFX_event_palace_hall
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_start.0.a
		add_political_power = 5
		#NCH = { 
		#	country_event = { days = 1 id = greneclyf_start.1 }  #Moved to focus, focus start is in NCH OOB. Yes, I know it's weird. -knife
		#}
		ai_chance = { factor = 100 }
	}
}

country_event = { #Coronation Gytha
	id = greneclyf_start.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.1"}
	title = greneclyf_start.1.t
	desc = greneclyf_start.1.d
	picture = GFX_event_nch_wax_seal
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.1.a
		add_political_power = 25
		add_stability = 0.05
		custom_effect_tooltip = NCH_coronation_gytha_tooltip
		hidden_effect = {
			NCH = { 
				country_event = { days = 1 id = greneclyf_start.2 } 
				news_event = { hours = 5 id = greneclyf_news.0 }
			}
			CHN = {
				country_event = { days = 3 id = greneclyf_start.6 }
			}
			FBK = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			FIR = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			WAT = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			BAK = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			DMT = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			DEP = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			RCT = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			LCT = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			NIM = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			FRE = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			WIT = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			HLR = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			DED = { 
				news_event = { days = 1 id = greneclyf_news.0 }
			}
			remove_country_leader_trait = NCH_crownless_queen
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #CPM Letter
	id = greneclyf_start.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.2"}
	title = greneclyf_start.2.t
	desc = greneclyf_start.2.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.2.a
		NCH = { 
			country_event = { days = 1 id = greneclyf_start.3 } 
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #CPM Response part 1
	id = greneclyf_start.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.3"}
	title = greneclyf_start.3.t
	desc = greneclyf_start.3.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.3.a
		custom_effect_tooltip = NCH_scene_continue_0
		ai_chance = { factor = 100 }
		hidden_effect = {
			NCH = { 
				country_event = { id = greneclyf_start.4 } 
			}
		}
	}
}

country_event = { #CPM Response part 2
	id = greneclyf_start.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.4"}
	title = greneclyf_start.4.t
	desc = greneclyf_start.4.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.4.a
		complete_national_focus = NCH_assess_the_situation
		set_country_flag = NCH_start_trading_flag
		custom_effect_tooltip = NCH_calming_down_tooltip
		ai_chance = { factor = 100 }
		hidden_effect = { 
			swap_ideas = {
				remove_idea = NCH_blindfold_starting
				add_idea = NCH_blindfold_pacified
			}
		}
	}
}

country_event = { #Something happens that might change Gytha's mind
	id = greneclyf_start.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.5"}
	title = greneclyf_start.5.t
	desc = greneclyf_start.5.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.5.a
		ai_chance = { factor = 100 }
		
	}
}

country_event = { #Chrysalis receives word of NCH coronation
	id = greneclyf_start.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.6"}
	title = greneclyf_start.6.t
	desc = greneclyf_start.6.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.6.a
		ai_chance = { factor = 100 }
		CHN = { add_political_power = -1 } #5 pp is actually a decent deal this early in the game for CHN. Mostly due to the tower.
		NCH = {
			country_event = { days = 2 id = greneclyf_start.7 }
		}
	}
	option = {
		name = greneclyf_start.6.b
	}
}

country_event = { #Chrysalis' jeer
	id = greneclyf_start.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.7"}
	title = greneclyf_start.7.t
	desc = greneclyf_start.7.d
	picture = GFX_event_palace_hall
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.7.a
		ai_chance = { factor = 100 }
		custom_effect_tooltip = NCH_gytha_embargo_tooltip
		CHN = {
			country_event = { days = 2 id = greneclyf_start.8 }
		}
	}
}

country_event = { #Gytha bans Chrysalis
	id = greneclyf_start.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.8"}
	title = greneclyf_start.8.t
	desc = greneclyf_start.8.d
	picture = GFX_event_nch_ruined_flag
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.8.a
		ai_chance = { factor = 100 }
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			hidden_effect = {
				NCH = { send_embargo = CHN 
					remove_opinion_modifier ={
						target = CHN
						modifier = NCH_distrustful_brutes_1
					}
				}
			}
			NCH = { 
				add_opinion_modifier = {
					target = CHN
					modifier = NCH_embargo
				}
				reverse_add_opinion_modifier = {
					target = CHN
					modifier = NCH_embargo
				}
				add_opinion_modifier = {
					target = CHN
					modifier = NCH_distrustful_brutes_2
				}
			}
		}
		else = {
			hidden_effect = {
				NCH = {
					remove_opinion_modifier ={
						target = CHN
						modifier = NCH_distrustful_brutes_1
					}
				}
			}
			NCH = { 
				add_opinion_modifier = {
					target = CHN
					modifier = NCH_embargo
				}
				reverse_add_opinion_modifier = {
					target = CHN
					modifier = NCH_embargo
				}
				add_opinion_modifier = {
					target = CHN
					modifier = NCH_distrustful_brutes_2
				}
			}
		}
	}
}

country_event = { #Gytha's birthday
	id = greneclyf_start.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.9"}
	title = greneclyf_start.9.t
	desc = greneclyf_start.9.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.9.a
		ai_chance = { factor = 100 }
		add_political_power = -5
		add_stability = 0.01 
	}
}

country_event = { #Holiday
	id = greneclyf_start.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_start.10"}
	title = greneclyf_start.10.t
	desc = greneclyf_start.10.d
	picture = GFX_event_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { 
		name = greneclyf_start.10.a
		ai_chance = { factor = 100 }
		add_political_power = -5
		
	}
}

###NEWS EVENTS###
news_event = { #News of Gytha Coronation
	id = greneclyf_news.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_news.0"} 
	title = greneclyf_news.0.t
	desc = {
		text = greneclyf_news.0.d
		trigger = { tag = NCH }		
 	}
	desc = {
		text = greneclyf_news.0.d1
		trigger = { tag = FBK }	
	}
	desc = {
		text = greneclyf_news.0.d2
		trigger = {
			OR = {
				tag = FIR
				tag = WAT
			}
		}
	}
	desc = {
		text = greneclyf_news.0.d3
		trigger = { tag = BAK }
	}
	desc = {
		text = greneclyf_news.0.d4
		trigger = {
			OR = {
				tag = DMT
				tag = DEP
				tag = RCT
				tag = LCT
				tag = NIM
				tag = FRE
				tag = WIT
			}
		}
	}
	desc = {
		text = greneclyf_news.0.d5
		trigger = { tag = HLR }
	}
	desc = {
		text = greneclyf_news.0.d6
		trigger = { tag = DED }
	}
	picture = GFX_news_event_olenia_castle
	major = no
	
	is_triggered_only = yes

	option = {
		name = greneclyf_news.0.a
		trigger = { TAG = NCH }
	}
	option = {
		name = greneclyf_news.0.b
		trigger = { TAG = FBK }
	}
	option = {
		name = greneclyf_news.0.c
		trigger = { TAG = FIR }
	}
	option = {
		name = greneclyf_news.0.e
		trigger = { TAG = WAT }
	}
	option = {
		name = greneclyf_news.0.f
		trigger = { TAG = BAK }
	}
	option = {
		name = greneclyf_news.0.g
		trigger = { TAG = DMT }
	}
	option = {
		name = greneclyf_news.0.h
		trigger = { TAG = DEP }
	}
	option = {
		name = greneclyf_news.0.i
		trigger = { TAG = RCT }
	}
	option = {
		name = greneclyf_news.0.j
		trigger = { TAG = LCT }
	}
	option = {
		name = greneclyf_news.0.k
		trigger = { TAG = NIM }
	}
	option = {
		name = greneclyf_news.0.l
		trigger = { TAG = FRE }
	}
	option = {
		name = greneclyf_news.0.m
		trigger = { TAG = WIT }
	}
	option = {
		name = greneclyf_news.0.n
		trigger = { TAG = HLR }
	}
	option = {
		name = greneclyf_news.0.o
		trigger = { TAG = DED }
	}
}

###SPY GAME###

country_event = { #Cara trolls you and gets back into advisor office, can't be fired anymore despite your best efforts
	id = greneclyf_spy_game.99
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.99"
		hidden_effect = {
			set_can_be_fired_in_advisor_role = {
				character = NCH_cara
				value = no
			}
			clr_country_flag = NCH_cara_troll
		}
	}
	title = greneclyf_spy_game.99.t
	desc = greneclyf_spy_game.99.d
	picture = GFX_event_nch_cara_sees_you
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.99.a
		effect_tooltip = {
			set_can_be_fired_in_advisor_role = {
				character = NCH_cara
				value = no
			}
		}
	}
}

country_event = { #Offer to build agency
	id = greneclyf_spy_game.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.0"}
	title = greneclyf_spy_game.0.t
	desc = greneclyf_spy_game.0.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Agree
		name = greneclyf_spy_game.0.a
		NCH = { 
			country_event = { days = 0 id = greneclyf_spy_game.1 } 
		}
		ai_chance = { factor = 100 }
	}
	option = { #No thanks
		name = greneclyf_spy_game.0.b
		NCH = { 
			country_event = { days = 0 id = greneclyf_spy_game.3 } 
		}	
	}
	option = { #Skip everything
		name = greneclyf_spy_game.0.c
		custom_effect_tooltip = NCH_skip_tree_tooltip
		NCH = { 
			country_event = { days = 0 id = greneclyf_spy_game.4 } 
		}
	}
}

country_event = { #Spy Agency under construction
	id = greneclyf_spy_game.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.1"}
	title = greneclyf_spy_game.1.t
	desc = greneclyf_spy_game.1.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.1.a
		set_country_flag = NCH_cara_hired_via_event
		add_ideas = NCH_cara
		set_country_flag = NCH_cara_troll
		NCH = { 
			country_event = { days = 10 id = greneclyf_spy_game.2 } 
		}
		add_political_power = -25
	}
}

country_event = { #Agency built and Spy Game ready
	id = greneclyf_spy_game.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.2"}
	title = greneclyf_spy_game.2.t
	desc = greneclyf_spy_game.2.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.2.a
		add_political_power = 50
		if = {
			limit = {
				has_dlc = "La Resistance"
				has_intelligence_agency = no
			}
			create_intelligence_agency = {
				name = "G.C.S."
				icon = GFX_intelligence_agency_logo_hol
			}
		}		
		hidden_effect = {
			set_country_flag = NCH_spy_game_flag
		}
	}
}

country_event = { #Spy Game refused
	id = greneclyf_spy_game.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.3"}
	title = greneclyf_spy_game.3.t
	desc = greneclyf_spy_game.3.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.3.a
		add_political_power = 25
	}
}

country_event = { #Skip trade altogether
	id = greneclyf_spy_game.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.4"}
	title = greneclyf_spy_game.4.t
	desc = greneclyf_spy_game.4.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.4.a
		add_political_power = 50
		add_stability = 0.05
		hidden_effect = {
			set_country_flag = NCH_skip_trade
			NCH = { 
				country_event = { days = 7 id = greneclyf_spy_game.5 } 
			}
		}
	}
}

country_event = { #You skipped, now you reap the consequences
	id = greneclyf_spy_game.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.5"}
	title = greneclyf_spy_game.5.t
	desc = greneclyf_spy_game.5.d
	picture = GFX_report_event_election_vote
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.5.a
		add_political_power = -100
		add_stability = -0.1
		add_to_variable = { NCH_trade_refusals = 3 }
		set_country_flag = NCH_trade_bypassed
		country_event = { 
			id = greneclyf.28
			days = 1
		}
		#set_variable = {
		#	var = NCH_Crisis_Resolve_Points #Where is this even checked??? -Knife
		#	value = 0
		#}
		#retire_country_leader = yes
		set_party_name = {
			ideology = democratic
			long_name = NCH_council_of_royals_party_long
			name = NCH_council_of_royals_party
		}
		add_country_leader_role = {
			character = NCH_cait_murchbagh
			promote_leader = yes
			country_leader = {
				ideology = conservatism
			}
		}
		add_country_leader_role = {
			character = NCH_oiren_of_oir
			promote_leader = yes
			country_leader = {
				ideology = nazism
			}
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.3
		}
		set_politics = {
			ruling_party = neutrality
		}
		
	}
}

country_event = { #level 1 infiltration
	id = greneclyf_spy_game.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.6"}
	title = greneclyf_spy_game.6.t
	desc = {
		text = greneclyf_spy_game.6.d #Farbrook
		trigger = {
			FROM = {
				tag = FBK
			}
		}
 	}
	desc = {
		text = greneclyf_spy_game.6.d1 #Bakara
		trigger = {
			FROM = {
				tag = BAK
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d2 #Diamond Mountain
		trigger = {
			FROM = {
				tag = DMT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d3 #Ponaidhedan
		trigger = {
			FROM = {
				tag = FRE
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d4 #Lake City
		trigger = {
			FROM = {
				tag = LCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d5 #Nimbusia
		trigger = {
			FROM = {
				tag = NIM
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d6 #River City
		trigger = {
			FROM = {
				tag = RCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d7 #Wittenland
		trigger = {
			FROM = {
				tag = WIT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d8 #Deponya
		trigger = {
			FROM = {
				tag = DEP
			}
		}
	}
	
	picture = GFX_report_event_election_vote
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.6.a
	}
}

country_event = { #level 2 infiltration
	id = greneclyf_spy_game.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.7"}
	title = greneclyf_spy_game.7.t
	desc = {
		text = greneclyf_spy_game.7.d #Farbrook
		trigger = {
			FROM = {
				tag = FBK
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d1 #Bakara
		trigger = {
			FROM = {
				tag = BAK
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d2 #Diamond Mountain
		trigger = {
			FROM = {
				tag = DMT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d3 #Ponaidhedan
		trigger = {
			FROM = {
				tag = FRE
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d4 #Lake City
		trigger = {
			FROM = {
				tag = LCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d5 #Nimbusia
		trigger = {
			FROM = {
				tag = NIM
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d6 #River City
		trigger = {
			FROM = {
				tag = RCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.7.d7 #Wittenland
		trigger = {
			FROM = {
				tag = WIT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.6.d8 #Deponya
		trigger = {
			FROM = {
				tag = DEP
			}
		}
	}

	picture = GFX_report_event_election_vote
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.7.a
	}
}

country_event = { #level 3 max infiltration
	id = greneclyf_spy_game.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.8"}
	title = greneclyf_spy_game.8.t
	desc = {
		text = greneclyf_spy_game.8.d #Farbrook
		trigger = {
			FROM = {
				tag = FBK
			}
		}
 	}
	desc = {
		text = greneclyf_spy_game.8.d1 #Bakara
		trigger = {
			FROM = {
				tag = BAK
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d2 #Diamond Mountain
		trigger = {
			FROM = {
				tag = DMT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d3 #Ponaidhedan
		trigger = {
			FROM = {
				tag = FRE
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d4 #Lake City
		trigger = {
			FROM = {
				tag = LCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d5 #Nimbusia
		trigger = {
			FROM = {
				tag = NIM
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d6 #River City
		trigger = {
			FROM = {
				tag = RCT
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d7 #Ponaidhedan
		trigger = {
			FROM = {
				tag = FRE
			}
		}
	}
	desc = {
		text = greneclyf_spy_game.8.d8 #Deponya
		trigger = {
			FROM = {
				tag = DEP
			}
		}
	}
	picture = GFX_report_event_election_vote
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.8.a
	}
}

country_event = { #Gytha Steps down
	id = greneclyf_spy_game.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_spy_game.9"}
	title = greneclyf_spy_game.9.t
	desc = greneclyf_spy_game.9.d
	picture = GFX_event_maddened_gytha

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_spy_game.9.a
		if = {
			limit = {
				NCH_cara = {
					advisor_can_be_fired = no
				}
			}
			set_can_be_fired_in_advisor_role = {
				character = BHR_important_advisor
				value = yes
			}
		}
		hidden_effect = {
			clr_country_flag = NCH_cara_troll
			country_event = {id = greneclyf_trade_crisis.1 days = 1 }
		}
	}
}

###TRADE###
country_event = { #Calm your tits, protesters
	id = greneclyf_trade.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.0"}
	title = greneclyf_trade.0.t
	desc = greneclyf_trade.0.d
	picture = GFX_event_winter_forest
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_trade.0.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #Commies bide your time
	id = greneclyf_trade.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.0"}
	title = greneclyf_trade.1.t
	desc = greneclyf_trade.1.d
	picture = GFX_event_winter_forest
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_trade.1.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #Preparation
	id = greneclyf_trade.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.2"}
	title = greneclyf_trade.2.t
	desc = greneclyf_trade.2.d
	picture = GFX_event_winter_forest
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf_trade.2.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #Launch
	id = greneclyf_trade.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.3"}
	title = greneclyf_trade.3.t
	desc = greneclyf_trade.3.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.3.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = -5
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #FBK Response
	id = greneclyf_trade.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.4"}
	title = greneclyf_trade.4.t
	desc = greneclyf_trade.4.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.4.a
		custom_effect_tooltip = NCH_FBK_trade_accept_tooltip
		hidden_effect = { 
			NCH = { 
				country_event = { days = 1 id = greneclyf_trade.5 } 
				set_country_flag = NCH_FBK_accepted_us
			}
		}
		ai_chance = { base = 80 }
	}
	option = { #Postpone
		name = greneclyf_trade.4.b
		country_event = { days = 80 id = greneclyf_trade.7 }
		NCH = { country_event = { days = 1 id = greneclyf_trade.6 } }
		ai_chance = { 
			base = 0
			factor = 0 #Doesn't make sense lorewise for them to decline at all by the time of the crisis. -Knife
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #FBK Positive
	id = greneclyf_trade.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.5"}
	title = greneclyf_trade.5.t
	desc = greneclyf_trade.5.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.5.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}

		FBK = {
			NCH_set_trade_in_partner = yes
			set_country_flag = NCH_FBK_accepted_us
		}
	}
}

country_event = { #FBK Postpone - NCH response
	id = greneclyf_trade.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.6"}
	title = greneclyf_trade.6.t
	desc = greneclyf_trade.6.d
	picture = GFX_event_winter_forest

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.6.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #FBK Offer Second Attempt
	id = greneclyf_trade.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.7"}
	title = greneclyf_trade.7.t
	desc = greneclyf_trade.7.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.7.a
		NCH = { country_event = { days = 1 id = greneclyf_trade.5 } }
		ai_chance = { base = 98 }
	}
	option = { #Refuse
		name = greneclyf_trade.7.b
		NCH = { country_event = { days = 1 id = greneclyf_trade.8 } }
		ai_chance = { base = 0 }
	}
	option = { #SHUT DOWN EVERYTHING
		name = greneclyf_trade.7.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.9 } }
		ai_chance = { base = 0 } #See above comment about declining
	}
}

country_event = { #FBK Negative
	id = greneclyf_trade.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.8"}
	title = greneclyf_trade.8.t
	desc = greneclyf_trade.8.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.8.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		FROM = { set_country_flag = NCH_FBK_refuted_us }
		ai_chance = { factor = 100 }
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } }
	}
}

country_event = { #SHUT DOWN EVERYTHING
	id = greneclyf_trade.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.9"}
	title = greneclyf_trade.9.t
	desc = greneclyf_trade.9.d
	picture = GFX_event_winter_forest

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.9.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		FROM = { set_country_flag = NCH_FBK_hates_us }
		ai_chance = { factor = 100 }
		FROM = { remove_ideas = NCH_FBK_pact }
		remove_ideas = NCH_FBK_pact
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 2 } }
	}
}

country_event = { #BAK Response
	id = greneclyf_trade.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.10"}
	title = greneclyf_trade.10.t
	desc = {
		text = greneclyf_trade.10.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 1 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.10.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 1 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.10.a
		custom_effect_tooltip = NCH_BAK_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.11 } }
		}
		ai_chance = { base = 90 }
	}
	option = { #Refuse
		name = greneclyf_trade.10.b
		NCH = { country_event = { days = 1 id = greneclyf_trade.12 } }
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 2 }
				is_ai = no
				}
			}
		}
		ai_chance = { 
			base = 10
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				add = -999999
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
			modifier = {
				has_government = democratic
				add = -20
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.10.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel < 1 }
		}
		ai_chance = { 
			base = 0 #AI Should never do this, seriously. We don't want to make accessing a path and the HISTORICAL PATH RNG-based.
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #BAK Positive
	id = greneclyf_trade.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.11"}
	title = greneclyf_trade.11.t
	desc = greneclyf_trade.11.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.11.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		ai_chance = { base = 100 }
		BAK = {
			NCH_set_trade_in_partner = yes
		}

	}
}

country_event = { #BAK Negative
	id = greneclyf_trade.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.12"}
	title = greneclyf_trade.12.t
	desc = greneclyf_trade.12.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.12.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } }
		ai_chance = { base = 100 }
	}
}

country_event = { #NIM Response
	id = greneclyf_trade.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.13"}
	title = greneclyf_trade.13.t
	desc = {
		text = greneclyf_trade.13.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.13.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.13.a
		custom_effect_tooltip = NCH_NIM_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.14 } }
		}
		ai_chance = { base = 70 }
	}
	option = { #Refuse
		name = greneclyf_trade.13.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 3 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				is_ai = no
			}
		}
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		NCH = { country_event = { days = 1 id = greneclyf_trade.15 } }
		ai_chance = { 
			base = 30
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.4 #15%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.1 #5%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				add = -9999999999 #0%
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.13.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0 
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #NIM Positive
	id = greneclyf_trade.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.14"}
	title = greneclyf_trade.14.t
	desc = greneclyf_trade.14.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.14.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		ai_chance = { factor = 100 }
		NIM = {
			NCH_set_trade_in_partner = yes
		}
	}
}

country_event = { #NIM Negative
	id = greneclyf_trade.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.15"}
	title = greneclyf_trade.15.t
	desc = greneclyf_trade.15.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.15.a
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } 
		}
		ai_chance = { base = 100 }
	}
}

country_event = { #RCT Response
	id = greneclyf_trade.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.16"}
	title = greneclyf_trade.16.t
	desc = {
		text = greneclyf_trade.16.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.16.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.16.a
		custom_effect_tooltip = NCH_RCT_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.17 } }
		}
		ai_chance = { base = 80 }
	}
	option = { #Refuse
		name = greneclyf_trade.16.b
		NCH = { country_event = { days = 1 id = greneclyf_trade.18 } }
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					NOT = {has_government = democratic}
					check_variable = { NCH_spylevel < 0 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				is_ai = no
			}
		}
		ai_chance = { 
			base = 20
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				add = -999999
			}
			modifier = { #river swirl.
				has_government = democratic
				add = -20
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.16.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0 
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
			modifier = {	#river swirl is too nice.
				has_government = democratic
				add = -10
			}			
		}
	}
}

country_event = { #RCT Positive
	id = greneclyf_trade.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.17"}
	title = greneclyf_trade.17.t
	desc = greneclyf_trade.17.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.17.a
		ai_chance = { factor = 100 }
		RCT = {
			NCH_set_trade_in_partner = yes
		}

	}
}

country_event = { #RCT Negative
	id = greneclyf_trade.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.18"}
	title = greneclyf_trade.18.t
	desc = greneclyf_trade.18.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.18.a
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } }
		ai_chance = { factor = 100 }
	}
}

country_event = { #LCT Response
	id = greneclyf_trade.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.19"}
	title = greneclyf_trade.19.t
	desc = {
		text = greneclyf_trade.19.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.19.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.19.a
		custom_effect_tooltip = NCH_LCT_trade_accept_tooltip
		hidden_effect = { 
			NCH = { country_event = { days = 1 id = greneclyf_trade.20 } } 
		}
		ai_chance = { base = 80 }
	}
	option = { #Refuse
		name = greneclyf_trade.19.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 3 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				is_ai = no
			}
		}
		NCH = { country_event = { days = 1 id = greneclyf_trade.21 } }
		ai_chance = { 
			base = 20
			modifier = {
				has_government = democratic
				add = -20
			}
			modifier = {
				has_government = fascism
				add = 20
			}
			modifier = {
				has_government = neutrality
				add = 10
			}
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.2
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.2
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				add = -999999
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.19.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #LCT Positive
	id = greneclyf_trade.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.20"}
	title = greneclyf_trade.20.t
	desc = greneclyf_trade.20.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.20.a
		ai_chance = { factor = 100 }
		LCT = {
			NCH_set_trade_in_partner = yes
		}
	}
}

country_event = { #LCT Negative
	id = greneclyf_trade.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.21"}
	title = greneclyf_trade.21.t
	desc = greneclyf_trade.21.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.21.a
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } }
		ai_chance = { factor = 100 }
	}
}

country_event = { #DMT Response
	id = greneclyf_trade.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.22"}
	title = greneclyf_trade.22.t
	desc = {
		text = greneclyf_trade.22.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.22.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.22.a
		custom_effect_tooltip = NCH_DMT_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.23 } }
		}
		ai_chance = { base = 70 
		modifier = { #just because you're this persistent about refusing in my tests -knife
				check_variable = { NCH_spylevel > 2 }
				add = 999
			}
		}

	}
	option = { #Refuse
		name = greneclyf_trade.22.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 3 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				NOT = { is_ai = yes }
			}
		}
		NCH = { country_event = { days = 1 id = greneclyf_trade.24 } }	
		ai_chance = { 
			base = 30
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.4 #15%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.1 #5%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				add = -9999
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.22.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #DMT Positive
	id = greneclyf_trade.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.23"}
	title = greneclyf_trade.23.t
	desc = greneclyf_trade.23.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.23.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		ai_chance = { factor = 100 }
		DMT = {
			NCH_set_trade_in_partner = yes
		}

	}
}

country_event = { #DMT Negative
	id = greneclyf_trade.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.24"}
	title = greneclyf_trade.24.t
	desc = greneclyf_trade.24.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.24.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		hidden_effect = { add_to_variable = { var = NCH_trade_refusals value = 1 } }
	}
}

country_event = { #DEP Response
	id = greneclyf_trade.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.25"}
	title = greneclyf_trade.25.t
	desc = {
		text = greneclyf_trade.25.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.25.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.25.a
		custom_effect_tooltip = NCH_DEP_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.26 } }
		}
		ai_chance = { factor = 80 
		modifier = { 
				check_variable = { NCH_spylevel > 1 }
				add = -9999
			}
		}
	}
	option = { #Refuse
		name = greneclyf_trade.25.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 1 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				is_ai = no
			}
		}
		NCH = { country_event = { days = 1 id = greneclyf_trade.27 } }
		ai_chance = { 
			factor = 20
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.45 #10%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				add = -9999
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.25.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #DEP Positive
	id = greneclyf_trade.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.26"}
	title = greneclyf_trade.26.t
	desc = greneclyf_trade.26.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.26.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 2
		}
		ai_chance = { factor = 100 }

		DEP = {
			NCH_set_trade_in_partner = yes
		}
	}
}

country_event = { #DEP Negative
	id = greneclyf_trade.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.27"}
	title = greneclyf_trade.27.t
	desc = greneclyf_trade.27.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.27.a
		hidden_effect = {
			add_to_variable = { var = NCH_trade_refusals value = 1 }
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #WIT Response
	id = greneclyf_trade.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.28"}
	title = greneclyf_trade.28.t
	desc = {
		text = greneclyf_trade.28.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.28.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.28.a
		custom_effect_tooltip = NCH_WIT_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.29 } }
		}
		ai_chance = { 
			base = 80 
		}

	}
	option = { #Refuse
		name = greneclyf_trade.28.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 2 }
				}
				is_ai = no
			}
		}
		NCH = {
			country_event = { days = 1 id = greneclyf_trade.30 }
		}
		ai_chance = { 
			base = 20
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				factor = 0.45 #10%
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				add = -999999
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}
	option = { #Discover the spies
		name = greneclyf_trade.28.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #WIT Positive
	id = greneclyf_trade.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.29"}
	title = greneclyf_trade.29.t
	desc = greneclyf_trade.29.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.29.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		ai_chance = { factor = 100 }

		WIT = {
			NCH_set_trade_in_partner = yes
		}

	}
}

country_event = { #WIT Negative
	id = greneclyf_trade.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.30"}
	title = greneclyf_trade.30.t
	desc = greneclyf_trade.30.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.30.a
		hidden_effect = {
			add_to_variable = { var = NCH_trade_refusals value = 1 }
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #FRE Response
	id = greneclyf_trade.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.31"}
	title = greneclyf_trade.31.t
	desc = {
		text = greneclyf_trade.31.d #Normal no Spies
		trigger = { 
			NOT = {
				check_variable = { NCH_spylevel > 0 }
			}
		}
 	}
	desc = {
		text = greneclyf_trade.31.d1 #Spies
		trigger = { 
			check_variable = { NCH_spylevel > 0 }
		}
	}
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Accept
		name = greneclyf_trade.31.a
		custom_effect_tooltip = NCH_FRE_trade_accept_tooltip
		hidden_effect = {
			NCH = { country_event = { days = 1 id = greneclyf_trade.32 } }
		}
		ai_chance = { base = 90 }

	}

	option = { #Refuse
		name = greneclyf_trade.31.b
		trigger = {
			OR = {
				AND = {
					is_ai = yes
					check_variable = { NCH_spylevel < 1 } #Fuck it, I give up. They still keep refusing despite having massive AI factors.
				}
				is_ai = no
			}
		}
		NCH = { country_event = { days = 1 id = greneclyf_trade.33 } }
		ai_chance = { 
			base = 10
			modifier = { 
				check_variable = { NCH_spylevel > 0 }
				add = -999999
			}
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
			modifier ={
				NCH = { 
					AND = {
						is_ai = yes
						is_historical_focus_on = yes
					}
				}
				add = -9999999
			}
		}
	}

	option = { #Discover the spies
		name = greneclyf_trade.31.c
		NCH = { country_event = { days = 1 id = greneclyf_trade.35 } }
		trigger = {
			check_variable = { NCH_spylevel > 0 }
		}
		ai_chance = { 
			base = 0
			modifier = { 
				check_variable = { NCH_spylevel > 1 }
				factor = 0.5
			}
			modifier = { 
				check_variable = { NCH_spylevel > 2 }
				factor = 0
			}
		}
	}
}

country_event = { #FRE Positive
	id = greneclyf_trade.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.32"}
	title = greneclyf_trade.32.t
	desc = greneclyf_trade.32.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.32.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		ai_chance = { factor = 100 }
		FRE = {
			NCH_set_trade_in_partner = yes
		}

	}
}

country_event = { #FRE Negative
	id = greneclyf_trade.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.33"}
	title = greneclyf_trade.33.t
	desc = greneclyf_trade.33.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade.33.a
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 1
		}
		hidden_effect = {
			add_to_variable = { var = NCH_trade_refusals value = 1 }
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #Trade timeout
	id = greneclyf_trade.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.34"}
	title = greneclyf_trade.34.t
	desc = greneclyf_trade.34.d
	picture = GFX_event_nch_ruined_flag

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Okay, I'm going to repurpose this so that if you do nothing Gytha necks herself, if you do farbrook only you get the partial success tree, and you should never see this if you are fully successful - knife
		name = greneclyf_trade.34.a
		
		hidden_effect = {
			NCH = {
				if = {
					limit = {
						NOT = { has_country_flag = NCH_FBK_accepted_us } #Farbrook either rejects you due to gamerule or you didn't even bother with this focus.
						NOT = { has_country_flag = NCH_attempted_to_trade_with_river_fed } #Even doing one focus and TRYING prevents Gytha from offing herself. 
					}
					country_event = {id = greneclyf.69 days = 9} #Gytha necks herself
				}
				country_event = {id = greneclyf.28 days = 1} #Fires .28 if it times out
			}	
		}
	}
}

country_event = { #Your spies have been discovered!
	id = greneclyf_trade.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade.35"} 
	title = greneclyf_trade.35.t
	desc = {
		text = greneclyf_trade.35.d #Farbrook
		trigger = { 
			FROM = {
				tag = FBK
			}
		}
 	}
	desc = {
		text = greneclyf_trade.35.d1 #Bakara
		trigger = { 
			FROM = {
				tag = BAK 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d2 #Diamond Mountain
		trigger = { 
			FROM = {
				tag = DMT 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d3 #Ponaidhedan
		trigger = { 
			FROM = {
				tag = FRE 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d4 #Lake City
		trigger = { 
			FROM = {
				tag = LCT 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d5 #Nimbusia
		trigger = { 
			FROM = {
				tag = NIM 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d6 #River City
		trigger = { 
			FROM = {
				tag = RCT 
			}
		}
	}
	desc = {
		text = greneclyf_trade.35.d7 #Wittenland
		trigger = { 
			FROM = {
				tag = WIT 
			}
		}
	}
	picture = GFX_event_nch_ruined_flag
	
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = greneclyf_trade.35.a
		hidden_effect = {
			set_country_flag = NCH_Spies_Discovered
			country_event = greneclyf_trade_crisis.1
		}
	}
}

###CRISIS OF FAITH###
country_event = { #Event telling if trade was a success or not leading into other events
	id = greneclyf.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.28"}
	title = greneclyf.28.t
	desc = greneclyf.28.d
	picture = GFX_event_maddened_gytha
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Partial Success, Farbrook accepted but others said no. Due to how the tree is structured, you NEED to have had FBK accept.
		name = greneclyf.28.a
		ai_chance = {
			base = 10
			modifier = {
				is_historical_focus_on = yes
				add = -10
			}
		}
		trigger = {
			check_variable = { NCH_trade_refusals > 1 }
			has_country_flag = NCH_FBK_accepted_us
			NOT = { has_country_flag = NCH_trade_bypassed }
		}
		#set_variable = {
		#	var = NCH_Crisis_Resolve_Points #These aren't checked anywhere
		#	value = 1
		#}
		country_event = greneclyf_trade_crisis.9 #Partial Success
		
	}

	option = { #Full Success
		name = greneclyf.28.b
		ai_chance = {
			base = 10
			modifier = {
				is_historical_focus_on = yes
				factor = 100
			}
		}
		trigger = {
			OR = {
				AND ={
					check_variable = { NCH_trade_refusals < 2 }
					has_country_flag = NCH_FBK_accepted_us
					NOT = { has_country_flag = NCH_trade_bypassed }
				}
				AND = {
					is_ai = yes
					is_historical_focus_on =yes
				}
			}
		}	
		country_event = greneclyf_trade_crisis.25 #Beogfordas
	}
	
	option = { #Absolute Failure
		name = greneclyf.28.c
		ai_chance = {
			base = 10
			modifier = {
				is_historical_focus_on = yes
				add = -10
			}
		}
		trigger = {
			OR = {
				NOT = { has_country_flag = NCH_FBK_accepted_us } #FBK has either rejected the offer...
				has_country_flag = NCH_trade_bypassed #or you didn't even fucking bother. Gytha Stays alive.
			}
		}
		country_event = greneclyf.29 #Oiren/Sunderer
	}
}

country_event = { #Oiren/Sunderer, results from Failure of Trade totally OR you botched the crisis.
	id = greneclyf.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.29"}
	title = greneclyf.29.t
	desc = greneclyf.29.d
	picture = GFX_event_maddened_gytha

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf.29.a
		complete_national_focus = NCH_crisis_of_faith
		add_political_power = -100
			add_ideas = NCH_crisis_of_faith_idea
			swap_ideas = {
				remove_idea = NCH_blindfold_pacified
				add_idea = NCH_blindfold_unamused
			}
			if = {
				limit = {
					NCH_queen_gytha = {
						is_country_leader = yes
					}
				}
				#retire_country_leader = yes
				add_country_leader_role = {
					character = NCH_feilean
					promote_leader = yes
					country_leader = {
						ideology = conservatism
					}
				}
				add_country_leader_role = {
					character = NCH_oiren_of_oir
					promote_leader = yes
					country_leader = {
						ideology = nazism
					}
				}
				add_popularity = {
					ideology = neutrality
					popularity = 0.35
				}
				set_politics = {
					ruling_party = neutrality
				}
			}
			else = {
				add_popularity = {
					ideology = neutrality
					popularity = 0.05
				}
			}
				
			hidden_effect = {
				remove_ideas = {
					NCH_trade_1
					NCH_trade_2
					NCH_trade_3
					NCH_trade_4
				}
			}
	}
}

country_event = { #Council Convenes
	id = greneclyf.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.30"}
	title = greneclyf.30.t
	desc = greneclyf.30.d
	picture = GFX_event_maddened_gytha
	is_triggered_only = yes

	option = {
		name = greneclyf.30.a
		set_character_name = {
			character = NCH_oiren_of_oir
			name = NCH_oiren_of_oir_coronated
		}
		remove_trait = {
			character = NCH_oiren_of_oir
			ideology = despotism
			trait = NCH_crownless_queen
		}
		set_country_flag = NCH_pardon_the_exiles_completed
		custom_effect_tooltip = NCH_pardon_the_exiles_completed
	}
}

country_event = { #Gytha offs herself via Chandelier (not a necktie). Unless you want to make it one.
	id = greneclyf.69 #Fired from greneclyf_trade.34 if you literally did fucking nothing in the trade minigame. Or Farbrook rejected.
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.69"}
	title = greneclyf.69.t
	desc = greneclyf.69.d
	picture = GFX_event_nch_ruined_flag
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = greneclyf.69.a
		set_country_flag = NCH_gytha_dead
		mark_focus_tree_layout_dirty = yes
		hidden_effect = { retire_character = NCH_queen_gytha }
		custom_effect_tooltip = NCH_gytha_offs_herself_tt
		add_stability = -0.10
		#set_politics = {
		#	ruling_party = neutrality
		#}
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		add_country_leader_role = {
			character = NCH_oiren_of_oir
			promote_leader = yes
			country_leader = {
				ideology = nazism
			}
		}
		add_country_leader_role = {
			character = NCH_feilean
			promote_leader = yes
			country_leader = {
				ideology = conservatism
			}
		}
		add_popularity = {
			ideology = neutrality 
			popularity = 0.01
		}
	}
}

country_event = { #New Offical Language Event
	id = greneclyf.75
	title = greneclyf.75.t
	desc = greneclyf.75.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.75"
	}

	is_triggered_only = yes

	option = { #Make it Greneclyfian
		name = greneclyf.75.a
		670 = {	set_state_name = "Caladhbláth" }
		set_province_name = { id = 5188	name = "Caladhbláth" }
		669 = {	set_state_name = "Lios Liadh" }
		set_province_name = { id = 5131 name = "Lios Liadh" }
		455 = { set_state_name = "Sruthall" }
		603 = { set_state_name = "Amaidí"}
		set_province_name = { id = 7737 name = "Baile Gadhair" }
		571 = { set_state_name = "Talamhclúmh" }
		set_province_name = { id = 3962 name = "Uiscedhubh" }
		639 = { set_state_name = "Foraoise nDearmad" }
		569 = { set_state_name = "Buanmisneach" }
		572 = { set_state_name = "Ahmlaich" }
		if = {
			limit = {
				OR = {
					WAT = { is_puppet_of = NCH }
					AND = {
						641 = { is_owned_and_controlled_by = NCH }
						642 = { is_owned_and_controlled_by = NCH }
						643 = { is_owned_and_controlled_by = NCH }
						640 = { is_owned_and_controlled_by = NCH }
					} 
				}
			}
			642 = { set_state_name = "Baileuische" }
			643 = { set_state_name = "Pian"}
			640 = { set_state_name = "Sciathánanfa" }
			set_province_name = { id = 12903 name = "Láibóir" }
			641 = { set_state_name = "Spíonlach" }
			set_country_flag = NCH_renamed_WAT
		}
		if = {
			limit = {
				OR = {
					FIR = { is_puppet_of = NCH }
					AND = {
						453 = { is_owned_and_controlled_by = NCH }
						454 = { is_owned_and_controlled_by = NCH }
						644 = { is_owned_and_controlled_by = NCH }
						604 = { is_owned_and_controlled_by = NCH }
						636 = { is_owned_and_controlled_by = NCH }
						478 = { is_owned_and_controlled_by = NCH }
						650 = { is_owned_and_controlled_by = NCH }
					} 
				}
			}
			644 = { set_state_name = "Súilecnoc" }
			453 = { set_state_name = "Silverfalls"}
			650 = { set_state_name = "Duilltae" }
			set_province_name = { id = 4643 name = "Duillebrionglóid" }
			604 = { set_state_name = "Garráne Bhlaoisce" }
			454 = { set_state_name = "Síobáncnámh" }
			478 = { set_state_name = "Bhéalfhuar" }
			636 = { set_state_name = "Laghdaighceann" }
			set_country_flag = NCH_renamed_FIR
		}
		set_country_flag = NCH_adopted_greneclyfian
	}

	option = { #Leave it as is(?)
		name = greneclyf.75.b
		set_country_flag = NCH_no_renaming
	}
}


### development handlers of NCH were moved to greneclyf_development


country_event = { #NCH was declared on, remove civ economy lock
	id = greneclyf.77
	title = greneclyf.77.t
	desc = greneclyf.77.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.77"
		hidden_effect = {
			clr_country_flag = NCH_locked_to_civ_economy
		}
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.77.a
		custom_effect_tooltip = NCH_economy_unlocked_tt
	}
}

country_event = { #Get this event after completing NCH_an_tseirbhs_chablaigh, navy lore event
	id = greneclyf.78
	title = greneclyf.78.t
	desc = greneclyf.78.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.78"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.78.a
	}
}

country_event = { #Get this event after completing NCH_an_taerchr, airforce lore event
	id = greneclyf.79
	title = greneclyf.79.t
	desc = greneclyf.79.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.79"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.79.a
	}
}

country_event = { #Get this event after completing NCH_an_tarm, army lore event
	id = greneclyf.80
	title = greneclyf.80.t
	desc = greneclyf.80.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.80"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.80.a
	}
}

country_event = { #NCH asks RIV faction leader if it can join the science society
	id = greneclyf.81
	title = greneclyf.81.t
	desc = greneclyf.81.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.81"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.81.a
		ai_chance = { base = 100 }
		if = {
			limit = { has_dlc = "Together for Victory" }
			NCH = { add_to_tech_sharing_group = RIV_science_society_group }
		}
	}
	option = {
		name = greneclyf.81.b
		ai_chance = { base = 0 }
		trigger = { 
			NOT = {
				any_country = {
					is_river_fed_member = yes
					has_completed_focus = RIV_friends_with_greneclyf
				}
			}
		}
	}
}

country_event = { #Gytha and Cenhelm marriage event # TODO ADD AN OPTION TO STAY INDEPENDENT FOR FBK, REFACTOR THIS EVENT TO ACCOUNT FOR IT
	id = greneclyf.82
	title = greneclyf.82.t
	desc = greneclyf.82.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.82"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.82.a
		trigger = {
			NOT = { tag = FBK }
		}
		effect_tooltip = {
			promote_character = {
				character = NCH_queen_gytha_and_cenhelm
				ideology = conservatism
			}
			custom_effect_tooltip = NCH_king_cenhelm_tt
			set_cosmetic_tag = NCH_FBK
			if = {
				limit = {
					FBK = {
						NOT = { has_completed_focus = FBK_gering }
					}
				}
				FBK_hermane_gering = {
					set_nationality = NCH
				}
			}
			if = {
				limit = {
					FBK = {
						NOT = { has_completed_focus = FBK_comm }
					}
				}
				FBK_comrade_applethorn = {
					set_nationality = NCH
				}
			}
			FBK_cenhelm_of_farbrook = {
				set_nationality = NCH
			}
			FBK_taffy_swirl = {
				set_nationality = NCH
			}
			FBK_mertweth_of_losthope = {
				set_nationality = NCH
			}
			FBK_minnyhooves = {
				set_nationality = NCH
			}
			FBK_chief_brightflank = {
				set_nationality = NCH
			}
		}
	}

	### Options below only show up for FBK ###

	option = { #If FBK is AI, it'll just annex the country into NCH
	name = greneclyf.82.b
		trigger = {
			tag = FBK 
			is_ai = yes
		}
		NCH = {
			annex_country = { target = FBK }
		}
	}

	option = { #If FBK is player, it'll allow them to tag over to NCH to continue
		name = greneclyf.82.c
		trigger = {
			tag = FBK
			NOT = { is_ai = yes }
		}
		NCH = { change_tag_from = ROOT }
		NCH = {
			annex_country = { target = FBK }
			effect_tooltip = {
				NCH = { 
					promote_character = {
						character = NCH_queen_gytha_and_cenhelm
						ideology = conservatism
					}
					custom_effect_tooltip = NCH_king_cenhelm_tt
					set_cosmetic_tag = NCH_FBK
				}
				if = {
					limit = {
						FBK = {
							NOT = { has_completed_focus = FBK_gering }
						}
					}
					FBK_hermane_gering = {
						set_nationality = NCH
					}
				}
				if = {
					limit = {
						FBK = {
							NOT = { has_completed_focus = FBK_comm }
						}
					}
					FBK_comrade_applethorn = {
						set_nationality = NCH
					}
				}
				FBK_cenhelm_of_farbrook = {
					set_nationality = NCH
				}
				FBK_taffy_swirl = {
					set_nationality = NCH
				}
				FBK_mertweth_of_losthope = {
					set_nationality = NCH
				}
				FBK_minnyhooves = {
					set_nationality = NCH
				}
				FBK_chief_brightflank = {
					set_nationality = NCH
				}
			}
		}
	}
}

country_event = { #Gytha and Cenhelm marriage portrait and tag handler
	id = greneclyf.83
	hidden = yes

	is_triggered_only = yes

	option = {
		name = greneclyf.83.a
		promote_character = {
			character = NCH_queen_gytha_and_cenhelm
			ideology = conservatism
		}
		if = {
			limit = {
				has_country_flag = NCH_democratic_monarchist
			}
			set_country_leader_ideology = harmonic_constitutionalism
		}
		custom_effect_tooltip = NCH_king_cenhelm_tt
		set_cosmetic_tag = NCH_FBK
		FBK = {
			if = {
				limit = {
					FBK = {
						NOT = { has_completed_focus = FBK_gering }
					}
				}
				FBK_hermane_gering = {
					set_nationality = ROOT
				}
			}
			if = {
				limit = {
					FBK = {
						NOT = { has_completed_focus = FBK_comm }
					}
				}
				FBK_comrade_applethorn = {
					set_nationality = ROOT
				}
			}
			FBK_cenhelm_of_farbrook = {
				set_nationality = ROOT
				set_character_name = BEG_King_Cenhelm
				
			}
			set_portraits = {
				character = FBK_cenhelm_of_farbrook
				army = { 
					small ="gfx/interface/ideas/Advisors/NCH/NCH_king_cenhelm.tga"
					large = "gfx/leaders/NCH/king_cenhelm.tga"
				}
			}
			FBK_taffy_swirl = {
				set_nationality = ROOT
			}
			FBK_mertweth_of_losthope = {
				set_nationality = ROOT
			}
			FBK_minnyhooves = {
				set_nationality = ROOT
			}
			FBK_chief_brightflank = {
				set_nationality = ROOT
			}
		}
	}
}

country_event = { #NCH-BEG capital switch
	id = greneclyf.84
	title = greneclyf.84.t
	desc = greneclyf.84.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.84"
	}

	is_triggered_only = yes

	option = { #Stay in Blosmport
		name = greneclyf.84.a
		add_victory_points = {
			province = 5188
			value = 5
		}
		670 = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = naval_base
				level = 1
				province = 5188
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		
	}
	option = { #Move capital to Farbrook
		name = greneclyf.84.b
		set_capital = {
			state = 455
			remember_old_capital = no
		}
		455 = {
			add_manpower = 100000
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = naval_base
				level = 1
				province = 12421
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		add_victory_points = {
			province = 12421
			value = 5
		}
		add_victory_points = {
			province = 5188
			value = -5
		}
		670 = {
			add_manpower = -100000
		}
	}
}

country_event = { #Looking Abroad focus fires this, lore event
	id = greneclyf.85
	title = greneclyf.85.t
	desc = greneclyf.85.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.85"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf.85.a
		add_stability = 0.02
	}
}

country_event = { #Loads in Beorgfordas for Gytha-Cenhelm path
	id = greneclyf.86
	hidden = yes

	is_triggered_only = yes

	option = {
		load_focus_tree = greneclyf_beorgfordas
		clr_country_flag = NCH_forming_BEG
		ROOT = {
			country_event = {
				id = greneclyf.87
				days = 1
			}
		}
		set_cosmetic_tag = NCH_BEG
	}
}

country_event = { #Unlocks the BEG tree after this lore event
	id = greneclyf.87
	title = greneclyf.87.t
	desc = greneclyf.87.d

	is_triggered_only = yes

	option = {
		name = greneclyf.87.a
		complete_national_focus = NCH_beorgfordas_a_reality
	}
}

country_event = { #Looking to our people event
	id = greneclyf.88
	title = greneclyf.88.t
	desc = greneclyf.88.d

	is_triggered_only = yes

	option = {
		name = greneclyf.88.a
		add_political_power = 5
	}
}

country_event = { #Industrial Committee event
	id = greneclyf.89
	title = greneclyf.89.t
	desc = greneclyf.89.d

	is_triggered_only = yes

	option = {
		name = greneclyf.89.a
		add_political_power = 5
	}
}

country_event = { #Future Techologies event, choose research bonus
	id = greneclyf.90
	title = greneclyf.90.t
	desc = greneclyf.90.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.90"}

	is_triggered_only = yes

	option = { #Synth Resources
		name = greneclyf.90.a
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = synth_resources
		}
	}

	option = { #Rocketry
		name = greneclyf.90.b
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = rocketry
		}
	}

	option = { #Nukes
		name = greneclyf.90.c
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = nuclear
		}
	}
}

country_event = { #NCH supports an ally, an event fired via decisions to support certain harmonius countries
	id = greneclyf.91
	title = greneclyf.91.t
	desc = greneclyf.91.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.91"}

	is_triggered_only = yes

	option = {
		name = greneclyf.91.a
		add_timed_idea = {
			idea = NCH_supports_allies_idea
			days = 150
		}
	}
}

country_event = { #Shining Beacon of the North east event
	id = greneclyf.92
	title = greneclyf.92.t
	desc = greneclyf.92.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.92"}

	is_triggered_only = yes

	option = {
		name = greneclyf.92.a
		add_stability = 0.02
	}
}

country_event = { #Tractor Factories idea swap
	id = greneclyf.93
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.93"}

	is_triggered_only = yes

	option = {
		name = greneclyf.93.a
		if = {
			limit = {
				has_idea = NCH_tractor_factories_idea_a
			}
			swap_ideas = {
				remove_idea = NCH_tractor_factories_idea_a
				add_idea = NCH_tractor_factories_idea_b
			}
		}
		else = {
			swap_ideas = {
				remove_idea = NCH_tractor_factories_idea_b 
				add_idea = NCH_tractor_factories_idea_c
			}
		}
		if = {
			limit = {
				NOT = { has_idea = NCH_tractor_factories_idea_c }
			}
			ROOT = {
				country_event = {
					id = greneclyf.93
					days = 180
				}
			}
		}
	}
}

country_event = { #Overseas Logistics Choice
	id = greneclyf.94
	title = greneclyf.94.t
	desc = greneclyf.94.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.94"}

	is_triggered_only = yes

	option = { #+10% supply node
		name = greneclyf.94.a
		add_ideas = NCH_overseas_logi_node
	}

	option = { #-50% truck attrition
		name = greneclyf.94.b
		add_ideas = NCH_overseas_logi_truck_attr
	}
}

country_event = { #Rural Concern choice
	id = greneclyf.95
	title = greneclyf.95.t
	desc = greneclyf.95.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.95"}

	is_triggered_only = yes

	option = { #All Non-Urban NCH-FBK states get 2 civs and 2 slots
		name = greneclyf.95.a
		every_core_state = {
			if = {
				limit = {
					NOT = {
						has_state_category = large_town
						has_state_category = city
						has_state_category = large_city
						has_state_category = metropolis
						has_state_category = megalopolis
					}
					is_owned_and_controlled_by = NCH
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	option = { #All Non-Urban NCH-FBK states get 1 mil and 1 slot
		name = greneclyf.95.b
		every_core_state = {
			if = {
				limit = {
					NOT = {
						has_state_category = large_town
						has_state_category = city
						has_state_category = large_city
						has_state_category = metropolis
						has_state_category = megalopolis
					}
					is_owned_and_controlled_by = NCH
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

country_event = { #Domestic Plane Sector Choice
	id = greneclyf.96
	title = greneclyf.96.t
	desc = greneclyf.96.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.96"}

	is_triggered_only = yes

	option = {
		name = greneclyf.96.a
		add_tech_bonus = {
			ahead_reduction = 2
			uses = 1 
			category = light_air
		}
		if = {
			limit = {
					has_dlc = "By Blood Alone"
			}
			add_ideas = NCH_domestic_plane_sector_light_air_BBA_idea
		}
		else = {
			add_ideas = NCH_domestic_plane_sector_light_air_idea
		}
	}

	option = {
		name = greneclyf.96.b
		add_tech_bonus = {
			ahead_reduction = 2
			uses = 1 
			category = medium_air
		}
		if = {
			limit = {
					has_dlc = "By Blood Alone"
			}
			add_ideas = NCH_domestic_plane_sector_medium_air_BBA_idea
		}
		else = {
			add_ideas = NCH_domestic_plane_sector_medium_air_idea
		}
	}
}

country_event = { #Heavy Weapon Contracts
	id = greneclyf.97
	title = greneclyf.97.t
	desc = greneclyf.97.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.97"}

	is_triggered_only = yes

	option = { #Arty 2 years ahead reduction
		name = greneclyf.97.a
		add_tech_bonus = {
			ahead_reduction = 2
			uses = 1 
			category = artillery
			category = cat_anti_tank
			category = cat_anti_air
		}
	}

	option = { #3 50% percent bonuses for all arty
		name = greneclyf.97.b
		add_tech_bonus = {
			bonus = 0.5
			uses = 3
			category = artillery
		}
		
	}
}

country_event = { #Nora's dream fulfilled, lore
	id = greneclyf.98
	title = greneclyf.98.t
	desc = greneclyf.98.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.98"}

	is_triggered_only = yes

	option = { 
		name = greneclyf.98.a
		add_timed_idea = {
			idea = NCH_noras_dream_idea_a
			days = 30
		}
	}
}
country_event = { #Adapting to land-air warfare, lore
	id = greneclyf.99
	title = greneclyf.99.t
	desc = greneclyf.99.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.99"}

	is_triggered_only = yes

	option = { 
		name = greneclyf.99.a
		army_experience = 5
		air_experience = 5
	}
}

country_event = { #Revisiting our recruitment policy choice
	id = greneclyf.100
	title = greneclyf.100.t
	desc = greneclyf.100.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.100"}

	is_triggered_only = yes

	option = { #faster training
		name = greneclyf.100.a
		add_ideas = NCH_BEG_recruiment_faster
	}

	option = { #more recruitable pop
		name = greneclyf.100.b
		add_ideas = NCH_BEG_recruiment_more
	}
}

country_event = { #The New Charter Lore event
	id = greneclyf.101
	title = greneclyf.101.t
	desc = greneclyf.101.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.101"}

	is_triggered_only = yes

	option = { 
		name = greneclyf.101.a
		add_political_power = 10
	}
}

country_event = { #Conditional Investments Lore
	id = greneclyf.102
	title = greneclyf.102.t
	desc = greneclyf.102.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.102"}

	is_triggered_only = yes

	option = {
		name = greneclyf.102.a
		add_political_power = 10
	}
}

country_event = { #Reclaiming the title of protector lore
	id = greneclyf.103
	title = greneclyf.103.t
	desc = greneclyf.103.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.103"}

	is_triggered_only = yes

	option = { #Allies, not Overlord-Subjects
		name = greneclyf.103.a
		trigger = { 
			FIR = { exists = yes } 
			WAT = { exists = yes }
			FIR = { is_subject = no }
			WAT = { is_subject = no }
			NOT = {
				AND = {
					FIR = { has_government = fascism }
					WAT = { has_government = fascism }
				}
			}
		}
		add_political_power = 10
		complete_national_focus = NCH_offer_protection
	}

	option = { #Intergration
		name = greneclyf.103.b
		add_political_power = 10
		complete_national_focus = NCH_unite_beorgfordas
	}
}

country_event = { #A Quid Pro Quo
	id = greneclyf.104
	title = greneclyf.104.t
	desc = greneclyf.104.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf.104"}

	is_triggered_only = yes

	option = {
		name = greneclyf.104.a
		add_political_power = 10
	}
}

country_event = { #The tank event
	id = greneclyf.105
	title = greneclyf.105.t
	desc = greneclyf.105.d

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = NCH_tank_company_unlocked
			log = "[GetDateText]: [Root.GetName]: event greneclyf.105"
		}
	}
	
	option = {
		name = greneclyf.105.a
		
		custom_effect_tooltip =  NCH_tank_company_unlocked_tt
		if = {
			limit = {
				OR ={
					has_tech = gwtank_chassis 
					has_tech = gwtank
				}
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = armor
			}
		}
		else_if = {
			limit = {
				has_dlc = "No Step Back"
			}
			set_technology = { gwtank_chassis = 1 }
		}
		else = {
			set_technology = { gwtank = 1 }
		}
	}
}

country_event = { #Wholesome Gytha-Cenhelm Event 1
	id = greneclyf.106
	title = greneclyf.106.t
	desc = greneclyf.106.d
	picture = GFX_event_radio
	is_triggered_only = yes
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf.106"
	}

	option = {
		name = greneclyf.106.a
		add_political_power = 10
	}
}


###########################
### NCH SUNDERER EVENTS ###
###########################

country_event = { #There's a strange changeling performing miracles
	id = greneclyf_sunderer.1
	title = greneclyf_sunderer.1.t
	desc = greneclyf_sunderer.1.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.1"}
	
	is_triggered_only = yes

	option = { #Take her away to insane asylum, now.
		name = greneclyf_sunderer.1.a
		add_political_power = 30
		ai_chance = {
			base = 300
		}
		set_country_flag = NCH_sunderer_events_skipped
	}

	option = { #Investigate it personally
		name = greneclyf_sunderer.1.b
		add_political_power = -5
		ai_chance = {
			base = -300
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.2
				days = 1
			}
		}
	}
}

country_event = { #Cara suspects foul play, advises not to approach the mysterious bug
	id = greneclyf_sunderer.2
	title = greneclyf_sunderer.2.t
	desc = greneclyf_sunderer.2.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.2"}

	is_triggered_only = yes

	option = { #You are right, Cara
		name = greneclyf_sunderer.2.a
		add_political_power = 5
		ai_chance = {
			base = 100
		}
		set_country_flag = NCH_sunderer_events_skipped
	}

	option = { #Let me see that damn bug
		name = greneclyf_sunderer.2.b
		add_political_power = -5
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.3
				days = 1
			}
		}
	}
}

country_event = { #CPM issues a protest and demands to let them into the govt cabinet already
	id = greneclyf_sunderer.3
	title = greneclyf_sunderer.3.t
	desc = greneclyf_sunderer.3.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.3"}

	is_triggered_only = yes

	option = { #I shouldn't anger the republicans
		name = greneclyf_sunderer.3.a
		add_political_power = 10
		ai_chance = {
			base = 100
		}
		set_country_flag = NCH_sunderer_events_skipped
	}

	option = { #Tell Cader to stand down
		name = greneclyf_sunderer.3.b
		add_political_power = -10
		ai_chance = {
			base = 0
		}
		swap_ideas = {
			remove_idea = NCH_blindfold_unamused
			add_idea = NCH_blindfold_angry
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.4
				days = 1
			}
		}
	}
}

country_event = { #Council of the Royals tells Oiren to stop trying to find that bug and actually run the country
	id = greneclyf_sunderer.4
	title = greneclyf_sunderer.4.t
	desc = greneclyf_sunderer.4.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.4"}

	is_triggered_only = yes

	option = { #Yeah they're probably right
		name = greneclyf_sunderer.4.a
		add_political_power = 15
		ai_chance = {
			base = 100
		}
		set_country_flag = NCH_sunderer_events_skipped
	}

	option = { #I am a damn queen buzz off, I want to see that bug
		name = greneclyf_sunderer.4.b
		add_political_power = -10
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.5
				days = 1
			}
		}
	}
}

country_event = { #Maybe the people are right..? Maybe I shouldn't focus on this trivial matter
	id = greneclyf_sunderer.5
	title = greneclyf_sunderer.5.t
	desc = greneclyf_sunderer.5.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.5"}

	is_triggered_only = yes

	option = { #Forget this happened and send the mysterious bug to live in an asylum
		name = greneclyf_sunderer.5.a
		add_political_power = 25
		ai_chance = {
			base = 100
		}
		set_country_flag = NCH_sunderer_events_skipped
	}

	option = { #I am not giving up that easily
		name = greneclyf_sunderer.5.b
		add_political_power = -10
		ai_chance = {
			base = 0
		}
		country_event = {
			id = greneclyf_sunderer.6
			days = 1
		}
	}
}

country_event = { #The One who calls herself the Sunderer is found, load new focus tree
	id = greneclyf_sunderer.6
	title = greneclyf_sunderer.6.t
	desc = greneclyf_sunderer.6.d
	picture = GFX_event_sunderer_portrait
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.6"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.6.a
		country_event = {
			id = greneclyf_sunderer.37
			days = 0
		}
	}
}

country_event = { #Introducing the Sunderer lore event
	id = greneclyf_sunderer.7
	title = greneclyf_sunderer.7.t
	desc = greneclyf_sunderer.7.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.7"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.7.a
		add_political_power = -10
	}
}

country_event = { #Adressing Economy Lore Event
	id = greneclyf_sunderer.8
	title = greneclyf_sunderer.8.t
	desc = {
        text = greneclyf_sunderer.8.d
        trigger = {
            NCH_oiren_of_oir = {
                has_trait = NCH_poor_speaker
            }
        }
    }
    desc = {
        text = greneclyf_sunderer.8.d_alt # no stutter
        trigger = {
            NOT = {
                NCH_oiren_of_oir = {
                    has_trait = NCH_poor_speaker
                }
            }
        }
    }
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.8"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.8.a
		add_political_power = 25
	}
}

country_event = { #Dealing with the CPM Lore Event
	id = greneclyf_sunderer.9
	title = greneclyf_sunderer.9.t
	desc = {
        text = greneclyf_sunderer.9.d
        trigger = {
            NCH_oiren_of_oir = {
                has_trait = NCH_poor_speaker
            }
        }
    }
    desc = {
        text = greneclyf_sunderer.9.d_alt # no stutter
        trigger = {
            NOT = {
                NCH_oiren_of_oir = {
                    has_trait = NCH_poor_speaker
                }
            }
        }
    }
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.9"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.9.a
		add_political_power = 25
	}
}

country_event = { #Handling Council of Royals Lore Event
	id = greneclyf_sunderer.10
	title = greneclyf_sunderer.10.t
	
	desc = {
        text = greneclyf_sunderer.10.d
        trigger = {
            NCH_oiren_of_oir = {
                has_trait = NCH_poor_speaker
            }
        }
    }
    desc = {
        text = greneclyf_sunderer.10.d_alt # no stutter
        trigger = {
            NOT = {
                NCH_oiren_of_oir = {
                    has_trait = NCH_poor_speaker
                }
            }
        }
    }
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.10"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.10.a
		add_political_power = 25
	}
}

country_event = { #Comforting the Masses Lore Event
	id = greneclyf_sunderer.11
	title = greneclyf_sunderer.11.t
	desc = greneclyf_sunderer.11.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.11"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.11.a
		add_political_power = 25
	}
}

country_event = { #Industry of the Faithful
	id = greneclyf_sunderer.12
	title = greneclyf_sunderer.12.t
	picture = GFX_event_petro_chemical_plant
    desc = { #victims
        text = greneclyf_sunderer.12.d
        trigger = {
            NOT = {
                has_country_flag = NCH_industry_of_the_faithful_slana
            }
        }
    }
    desc = { #no victims
        text = greneclyf_sunderer.12.d_alt 
        trigger = {
        	has_country_flag = NCH_industry_of_the_faithful_slana
    	}
    }
	immediate = { 
		log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.12"
		hidden_effect = {
			increase_society_development = yes
		}
	}

	is_triggered_only = yes

	option = { #If Oiren handled it
		name = greneclyf_sunderer.12.a
		trigger = {
			NOT = {
				has_country_flag = NCH_industry_of_the_faithful_slana
			}
		}
		add_manpower = -700
		effect_tooltip = {
			increase_society_development = yes
		}
	}

	option = { #If Sunderer completed it
		name = greneclyf_sunderer.12.b
		trigger = {
			has_country_flag = NCH_industry_of_the_faithful_slana
		}
		effect_tooltip = {
			increase_society_development = yes
		}
	}
}

country_event = { #Elicit Eolan's Support Lore Event
	id = greneclyf_sunderer.13
	title = greneclyf_sunderer.13.t
	desc = {
        text = greneclyf_sunderer.13.d
        trigger = {
            NCH_oiren_of_oir = {
                has_trait = NCH_poor_speaker
            }
        }
    }
    desc = {
        text = greneclyf_sunderer.13.d_alt # no stutter
        trigger = {
            NOT = {
                NCH_oiren_of_oir = {
                    has_trait = NCH_poor_speaker
                }
            }
        }
    }
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.13"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.13.a
		if = {
			limit = {
				NOT = {
					has_country_flag = NCH_eolans_support_through_slana
				}
			}
			add_political_power = 100
		}
	}
}

country_event = { #Faceoff with Fennore Lore Event
	id = greneclyf_sunderer.14
	title = greneclyf_sunderer.14.t
	desc = greneclyf_sunderer.14.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.14"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.14.a
		add_political_power = 50
	}
}

country_event = { #FIRES ONLY IF GYTHA IS DEAD AND FELIAN IS DEPRESSED, Finding Felian Lore Event, Oiren
	id = greneclyf_sunderer.15
	title = greneclyf_sunderer.15.t
	desc = greneclyf_sunderer.15.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.15"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.15.a
		if = {
			limit = {
				has_country_flag = NCH_let_slana_talk_to_felian
			}
			remove_trait = {
				character = NCH_feilean
				trait = trait_disheartened
			}
			remove_trait = {
				character = NCH_feilean
				slot = army_chief
				trait = army_chief_organizational_2
			}
			add_trait = {
				character = NCH_feilean
				slot = army_chief
				trait = army_chief_organizational_3
			}
			add_trait = {
				character = NCH_feilean
				trait = organizer
			}
			add_trait = {
				character = NCH_feilean
				trait = thorough_planner
			}
			add_war_support = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = NCH_let_slana_talk_to_felian
				}
			}
			remove_trait = {
				character = NCH_feilean
				trait = trait_disheartened
			}
		}
	}
}

country_event = { #FIRES ONLY IF GYTHA FUCKED OFF AND FELIAN IS ANNOYED, Finding Felian Lore Event, Oiren
	id = greneclyf_sunderer.16
	title = greneclyf_sunderer.16.t
	desc = greneclyf_sunderer.16.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.16"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.16.a
		if = {
			limit = {
				has_country_flag = NCH_let_slana_talk_to_felian
			}
			remove_trait = {
				character = NCH_feilean
				slot = army_chief
				trait = army_chief_organizational_2
			}
			add_trait = {
				character = NCH_feilean
				slot = army_chief
				trait = army_chief_organizational_3
			}
			add_trait = {
				character = NCH_feilean
				trait = aggressive_assaulter
			}
			add_trait = {
				character = NCH_feilean
				trait = offensive_doctrine
			}
			add_war_support = 0.1
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = NCH_let_slana_talk_to_felian
				}
			}
			add_war_support = 0.05
		}
	}
}

country_event = { #Meeting Murchbagh Lore Event, Oiren ver.
	id = greneclyf_sunderer.17
	title = greneclyf_sunderer.17.t
	desc = greneclyf_sunderer.17.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.17"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.17.a
		add_war_support = 0.05
	}
}

country_event = { #Meeting Murchbagh Lore Event, Slana ver.
	id = greneclyf_sunderer.18
	title = greneclyf_sunderer.18.t
	desc = greneclyf_sunderer.18.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.18"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.18.a
		add_war_support = 0.1
		custom_effect_tooltip = NCH_murchbagh_expedition_by_slana_tt
		activate_decision = NCH_cait_repatriation
	}
}

country_event = { #Defeating Illiteracy, people radicalizaing 1
	id = greneclyf_sunderer.19
	title = greneclyf_sunderer.19.t
	desc = greneclyf_sunderer.19.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.19"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.19.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.20
				days = 16
			}
		}
	}
}

country_event = { #Defeating Illiteracy, people radicalizaing 2
	id = greneclyf_sunderer.20
	title = greneclyf_sunderer.20.t
	desc = greneclyf_sunderer.20.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.20"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.20.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		hidden_effect = {
			country_event = {
				id = greneclyf_sunderer.21
				days = 16
			}
		}
	}
}

country_event = { #Defeating Illiteracy, people radicalizaing 3
	id = greneclyf_sunderer.21
	title = greneclyf_sunderer.21.t
	desc = greneclyf_sunderer.21.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.21"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.21.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
}

country_event = { #Sunderer helping Oiren get over her skill issue no1
	id = greneclyf_sunderer.22
	title = greneclyf_sunderer.22.t
	desc = greneclyf_sunderer.22.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.22"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.22.a
		country_event = {
			id = greneclyf_sunderer.23
			days = 10
		}
	}
}

country_event = { #Sunderer helping Oiren get over her skill issue no2
	id = greneclyf_sunderer.23
	title = greneclyf_sunderer.23.t
	desc = greneclyf_sunderer.23.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.23"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.23.a
		country_event = {
			id = greneclyf_sunderer.24
			days = 10
		}
	}
}

country_event = { #Sunderer helping Oiren get over her skill issue no3
	id = greneclyf_sunderer.24
	title = greneclyf_sunderer.24.t
	desc = greneclyf_sunderer.24.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.24"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.24.a
		country_event = {
			id = greneclyf_sunderer.25
			days = 10
		}
	}
}

country_event = { #Sunderer helping Oiren get over her skill issue no4
	id = greneclyf_sunderer.25
	title = greneclyf_sunderer.25.t
	desc = greneclyf_sunderer.25.d
	picture = GFX_event_speech
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.25"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.25.a
		remove_trait = {
			character = NCH_oiren_of_oir
			ideology = despotism
			trait = NCH_poor_speaker
	  	}
		add_trait = {
			character = NCH_oiren_of_oir
			ideology = despotism
			trait = NCH_excellent_speaker
	  	}
		set_portraits = {
			character = NCH_oiren_of_oir
			civilian = { large ="gfx/leaders/NCH/Oiren2.tga" }
		}
	}
}

country_event = { #Sunderer Meets Eolan
	id = greneclyf_sunderer.26
	title = greneclyf_sunderer.26.t
	desc = greneclyf_sunderer.26.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.26"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.26.a
	}
}

country_event = { #Sunderer Meets Fennore
	id = greneclyf_sunderer.27
	title = greneclyf_sunderer.27.t
	desc = greneclyf_sunderer.27.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.27"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.27.a
	}
}

country_event = { #FIRES ONLY IF GYTHA IS DEAD, FEILIAN IS DEPRESSED, Finding Felian Lore Event, Slana
	id = greneclyf_sunderer.28
	title = greneclyf_sunderer.28.t
	desc = greneclyf_sunderer.28.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.28"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.28.a
		remove_trait = {
			character = NCH_feilean
			trait = trait_disheartened
		}
		remove_trait = {
			character = NCH_feilean
			slot = army_chief
			trait = army_chief_organizational_2
		}
		add_trait = {
			character = NCH_feilean
			slot = army_chief
			trait = army_chief_organizational_3
		}
		add_trait = {
			character = NCH_feilean
			trait = organizer
		}
		add_trait = {
			character = NCH_feilean
			trait = thorough_planner
		}
		add_war_support = 0.1
	}
}

country_event = { #FIRES ONLY IF GYTHA FUCKED OFF AND FELIAN IS ANNOYED, Finding Felian Lore Event, Slana
	id = greneclyf_sunderer.29
	title = greneclyf_sunderer.29.t
	desc = greneclyf_sunderer.29.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.29"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.29.a
		remove_trait = {
			character = NCH_feilean
			slot = army_chief
			trait = army_chief_organizational_2
		}
		add_trait = {
			character = NCH_feilean
			slot = army_chief
			trait = army_chief_organizational_3
		}
		add_trait = {
			character = NCH_feilean
			trait = aggressive_assaulter
		}
		add_trait = {
			character = NCH_feilean
			trait = offensive_doctrine
		}
		add_war_support = 0.1
	}
}

country_event = { #Defeating Illiteracy, Slana got new followers
	id = greneclyf_sunderer.30
	title = greneclyf_sunderer.30.t
	desc = greneclyf_sunderer.30.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.30"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.30.a
		add_popularity = {
			ideology = fascism
			popularity = 0.07
		}
	}
}

country_event = { #Long Live The Sunderer!
	id = greneclyf_sunderer.31
	title = greneclyf_sunderer.31.t
	desc = greneclyf_sunderer.31.d
	immediate = {
		hidden_effect = {
			log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.31"
		}
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.31.a
		custom_effect_tooltip = NCH_sunderer_rises_tt
		NCH = { mark_focus_tree_layout_dirty = yes }
	}
}

country_event = { #Establish The Perceptory, Fianta The Fierce Unlocked
	id = greneclyf_sunderer.32
	title = greneclyf_sunderer.32.t
	desc = greneclyf_sunderer.32.d
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.32" }

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.32.a
		country_event = {
			id = greneclyf_sunderer.33
			days = 7
		}
		set_country_flag = NCH_fianta_unlocked
		effect_tooltip = {
			add_corps_commander_role = {
				character = NCH_fianta
			}
		}
		custom_effect_tooltip = NCH_fianta_tt
		custom_effect_tooltip = available_chief_of_army
		show_ideas_tooltip = NCH_fianta
	}
}
	
country_event = { #Establish The Perceptory, Mighty Trean Unlocked
	id = greneclyf_sunderer.33
	title = greneclyf_sunderer.33.t
	desc = greneclyf_sunderer.33.d
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.33" }

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.33.a
		country_event = {
			id = greneclyf_sunderer.34
			days = 7
		}
		set_country_flag = NCH_trean_unlocked
		effect_tooltip = {
			add_corps_commander_role = {
				character = NCH_trean
			}
		}
		custom_effect_tooltip = NCH_trean_tt
		custom_effect_tooltip = available_military_high_command
		show_ideas_tooltip = NCH_trean
	}
}

country_event = { #Establish The Perceptory, Eoife The Kindly Unlocked
	id = greneclyf_sunderer.34
	title = greneclyf_sunderer.34.t
	desc = greneclyf_sunderer.34.d
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.34" }

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.34.a
		country_event = {
			id = greneclyf_sunderer.35
			days = 7
		}
		set_country_flag = NCH_eoife_unlocked
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = NCH_eoife
	}
}

country_event = { #Establish The Perceptory, Dilis The Loyal Unlocked
	id = greneclyf_sunderer.35
	title = greneclyf_sunderer.35.t
	desc = greneclyf_sunderer.35.d
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.35" }

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.35.a
		country_event = {
			id = greneclyf_sunderer.36
			days = 7
		}
		set_country_flag = NCH_dilis_unlocked
		effect_tooltip = {
			add_corps_commander_role = {
				character = NCH_dilis
			}
		}
		custom_effect_tooltip = NCH_dilis_tt
		custom_effect_tooltip = available_military_high_command
		show_ideas_tooltip = NCH_dilis
	}
}

country_event = { #Establish The Perceptory, Maith The Mysterious Unlocked
	id = greneclyf_sunderer.36
	title = greneclyf_sunderer.36.t
	desc = greneclyf_sunderer.36.d
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.36" }

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.36.a
		set_country_flag = NCH_maith_unlocked
		set_country_flag = NCH_established_the_preceptory
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = NCH_maith
		custom_effect_tooltip = NCH_established_the_preceptory_tt
	}
}

country_event = { #Continuation of the Sunderer/Oiren meeting, loads new focus tree
	id = greneclyf_sunderer.37
	title = greneclyf_sunderer.37.t
	desc = greneclyf_sunderer.37.d
	picture = GFX_event_spooky_sunderer_portrait
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.37"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.37.a
		remove_ideas = NCH_FBK_pact
		set_country_flag = NCH_sunderer_met
		activate_advisor = NCH_sunderer
		load_focus_tree = greneclyf_slana
	}
}

country_event = { #Visions of Dread
	id = greneclyf_sunderer.38
	title = greneclyf_sunderer.38.t
	desc = greneclyf_sunderer.38.d
	picture = GFX_event_spooky_sunderer_portrait
	immediate = { log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.38"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.38.a
		activate_decision = NCH_DED_war_countdown
	}
}

country_event = { #sunderer nuke drop effect
	id = greneclyf_sunderer.997
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.997" }

	is_triggered_only = yes

	option = {
		set_country_flag = NCH_nuke_spell_not_bomb
		var:NCH_sunder_nuke_target = {
			if = {
				limit = {
					has_state_flag = nuke_modifier
				}
				set_state_flag = NCH_this_was_nuked_before
			}
		}
		launch_nuke = {
			state = var:NCH_sunder_nuke_target
			use_nuke = no
		}
		damage_units = {
			state = var:NCH_sunder_nuke_target
			damage = 0.3
			org_damage = 0.3
			str_damage = 0.3
			ratio = yes
			army = yes
			navy = no
		}
		clear_variable = NCH_sunder_nuke_target
	}
}

country_event = { #sunderer nuke flag cleanser  
	id = greneclyf_sunderer.998
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.998"}

	is_triggered_only = yes

	option = {
		clr_country_flag = NCH_nuke_spell_not_bomb
	}
}

country_event = { #Harnessing the Fire They Give event, enable hatred
	id = greneclyf_sunderer.999
	title = greneclyf_sunderer.999.t
	desc = greneclyf_sunderer.999.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer.999"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer.999.a
		# add_dynamic_modifier = {
		# 	modifier = NCH_power_of_hate
		# }
		# set_variable = { NCH_hate_drift_factor = -1.00 }
		# set_variable = { NCH_hatred_shift = NCH_hate_drift_factor }
		add_to_variable = { NCH_hatred_total = 100 }
	}
}

### SUNDERER FLAVOUR ###

country_event = { #Oh look a civillian airliner
	id = greneclyf_sunderer_flavour.1
	title = greneclyf_sunderer_flavour.1.t
	desc = greneclyf_sunderer_flavour.1.d
	picture = GFX_event_nch_civilian_airliner_incident
	fire_only_once = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer_flavour.1"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer_flavour.1.a
		add_command_power = -1
	}
}

country_event = { #Introducing Execration 
	id = greneclyf_sunderer_flavour.2
	title = greneclyf_sunderer_flavour.2.t
	desc = greneclyf_sunderer_flavour.2.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer_flavour.2"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer_flavour.2.a
	}
}

country_event = { #Harnessing The Fire They Give
	id = greneclyf_sunderer_flavour.3
	title = greneclyf_sunderer_flavour.3.t
	desc = greneclyf_sunderer_flavour.3.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer_flavour.3"}

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer_flavour.3.a
	}
}

country_event = { #Did you really ignore the miracle system? Congrats here's your consolation prize
	id = greneclyf_sunderer_flavour.4
	title = greneclyf_sunderer_flavour.4.t
	desc = greneclyf_sunderer_flavour.4.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_sunderer_flavour.4"}
	picture = GFX_event_sunderer_portrait

	is_triggered_only = yes

	option = {
		name = greneclyf_sunderer_flavour.4.a
		if = {
			limit = {
				NCH_oiren_of_oir = {
					has_trait = NCH_poor_speaker
				}
			}
			remove_trait = {
				character = NCH_oiren_of_oir
				ideology = despotism
				trait = NCH_poor_speaker
			}
		}
		if = {
			limit = {
				NCH_oiren_of_oir = {
					has_trait = NCH_excellent_speaker
				}
			}
			remove_trait = {
				character = NCH_oiren_of_oir
				ideology = despotism
				trait = NCH_excellent_speaker
			}
		}
		add_trait = {
			character = NCH_oiren_of_oir
			ideology = despotism
			trait = NCH_excellent_speaker_b
		}
		set_country_flag = NCH_oiren_little_sunderer
	}
}

#################################################################
#New NCH Crisis Events

country_event = { #The crisis begins
	id = greneclyf_trade_crisis.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.1"}
	title = greneclyf_trade_crisis.1.t
	desc = greneclyf_trade_crisis.1.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.1.a
		activate_mission = NCH_trade_crisis_timer
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.2
				days = 3
			}
			set_variable = {
				var = NCH_trade_crisis_tokens
				value = 0
			}
		}
		custom_effect_tooltip = NCH_crisis_warning_tooltip
	}
}

country_event = { #Tensions rise in the continent
	id = greneclyf_trade_crisis.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.2"}
	title = greneclyf_trade_crisis.2.t
	desc = greneclyf_trade_crisis.2.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.2.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.3
				days = 5
			}
		}
	}
}

country_event = { #Tensions continue to get worse
	id = greneclyf_trade_crisis.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.3"}
	title = greneclyf_trade_crisis.3.t
	desc = greneclyf_trade_crisis.3.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.3.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.1
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.3.b
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.2
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.3.c
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.3
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.3.e
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_correct.1
				days = 5
			}
		}
	}
}

country_event = { #The continentals are getting more madge
	id = greneclyf_trade_crisis.4 
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.4"}
	title = greneclyf_trade_crisis.4.t
	desc = greneclyf_trade_crisis.4.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.4.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.5
				days = 5
			}
		}
	}
}

country_event = { #Nasty rumours going around about us
	id = greneclyf_trade_crisis.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.5"}
	title = greneclyf_trade_crisis.5.t
	desc = greneclyf_trade_crisis.5.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.5.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.4
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.5.b
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_correct.2
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.5.c
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.5
				days = 5
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.5.e
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.6
				days = 5
			}
		}
	}
}

country_event = { #How do we deal with discrimination
	id = greneclyf_trade_crisis.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.6"}
	title = greneclyf_trade_crisis.6.t
	desc = greneclyf_trade_crisis.6.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.6.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_correct.3
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.6.b
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.7
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.6.c
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.8
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.6.e
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.9
				days = 3
			}
		}
	}
}

country_event = { #One last flashpoint issue
	id = greneclyf_trade_crisis.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.7"}
	title = greneclyf_trade_crisis.7.t
	desc = greneclyf_trade_crisis.7.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.7.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.10
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.7.b
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.11
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.7.c
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_correct.4
				days = 3
			}
		}
	}
	option = {
		name = greneclyf_trade_crisis.7.e
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis_wrong.12
				days = 3
			}
		}
	}
}

country_event = { #CRISIS SUCCESS WOOOOOOOOO!!!!!! 
	id = greneclyf_trade_crisis.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.8"}
	title = greneclyf_trade_crisis.8.t
	desc = greneclyf_trade_crisis.8.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.8.a
		complete_national_focus = NCH_trade_success
		hidden_effect = {
			set_country_flag = NCH_Crisis_Solved
		}
		custom_effect_tooltip = NCH_crisis_solve_tooltip 
	}
}

country_event = { #Partial crisis success
	id = greneclyf_trade_crisis.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.9"}
	title = greneclyf_trade_crisis.9.t
	desc = greneclyf_trade_crisis.9.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.9.a
		custom_effect_tooltip = NCH_crisis_solve_tooltip
		complete_national_focus = NCH_partial_success
		hidden_effect = {
			set_country_flag = NCH_Crisis_Solved
		}
		add_political_power = -50
		hidden_effect = {
			remove_ideas = {
				NCH_trade_1
				NCH_trade_2
				NCH_trade_3
				NCH_trade_4
			}
		}
	}
}

country_event = { #TIME UP
	id = greneclyf_trade_crisis.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.10"}
	title = greneclyf_trade_crisis.10.t
	desc = greneclyf_trade_crisis.10.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.10.a
		hidden_effect = {
			country_event = {
				id = greneclyf.29 #crisis.11 is a duplicate of greneclyf.29
				days = 5
			}
		}
	}
}

country_event = { #CRISIS FAILURE
	id = greneclyf_trade_crisis.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.11"}
	title = greneclyf_trade_crisis.11.t
	desc = greneclyf_trade_crisis.11.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.11.a
		complete_national_focus = NCH_crisis_of_faith
		add_political_power = -100
			add_ideas = NCH_crisis_of_faith_idea
			if = {
				limit = {
					NCH_queen_gytha = {
						is_country_leader = yes
					}
				}
				#retire_country_leader = yes
				add_country_leader_role = {
					character = NCH_feilean
					promote_leader = yes
					country_leader = {
						ideology = conservatism
					}
				}
			}
			add_country_leader_role = {
				character = NCH_oiren_of_oir
				promote_leader = yes
				country_leader = {
					ideology = nazism
				}
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.35
			}
			set_politics = {
				ruling_party = neutrality
			}
			hidden_effect = {
				remove_ideas = {
					NCH_trade_1
					NCH_trade_2
					NCH_trade_3
					NCH_trade_4
				}
			}
	}
}

country_event = { #CRISIS BYPASS?!?! WOWZA!! 
	id = greneclyf_trade_crisis.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis.25"}
	title = greneclyf_trade_crisis.25.t
	desc = greneclyf_trade_crisis.25.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis.25.a
		complete_national_focus = NCH_trade_success
		NCH = { set_variable = { NCH_harmony_pop_offset = party_popularity_100@democratic } }
		NCH = { set_variable = { NCH_harmony_pop = NCH_harmony_pop_offset } }
		NCH = { set_variable = { NCH_harmony_pop_tt = NCH_harmony_pop } }
		clamp_variable = {
			var = NCH_harmony_pop
			max = 30
		}
		clamp_variable = {
			var = NCH_harmony_pop_tt
			max = 30
		}
		divide_variable = { NCH_harmony_pop = 100 }
	}
}

###CORRECT RESPONSE TRADE CRISIS EVENTS

country_event = {
	id = greneclyf_trade_crisis_correct.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_correct.1"}
	title = greneclyf_trade_crisis_correct.1.t
	desc = greneclyf_trade_crisis_correct.1.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_correct.1.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.4
				days = 3
			}
			add_to_variable = { 
				var = NCH_trade_crisis_tokens
				value = 1 
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_correct.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_correct.2"}
	title = greneclyf_trade_crisis_correct.2.t
	desc = greneclyf_trade_crisis_correct.2.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_correct.2.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.6
				days = 3
			}
			add_to_variable = { 
				var = NCH_trade_crisis_tokens
				value = 1 
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_correct.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_correct.3"}
	title = greneclyf_trade_crisis_correct.3.t
	desc = greneclyf_trade_crisis_correct.3.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_correct.3.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.7
				days = 3
			}
			add_to_variable = { 
				var = NCH_trade_crisis_tokens
				value = 1 
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_correct.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_correct.4"}
	title = greneclyf_trade_crisis_correct.4.t
	desc = greneclyf_trade_crisis_correct.4.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_correct.4.a
		hidden_effect = {
			add_to_variable = { 
				var = NCH_trade_crisis_tokens
				value = 1 
			}
			if = {
  				limit = {
     				OR = {
  						check_variable = { NCH_trade_crisis_tokens > 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens > 2 }
    						NOT = { has_country_flag = NCH_Spies_Discovered }
  						}
					}
  				}
 				country_event = {
 					id = greneclyf_trade_crisis.8
 					days = 10
 				}
			}
			else_if = {
  				limit = {
					has_country_flag = NCH_FBK_accepted_us
					OR = {
  						check_variable = { NCH_trade_crisis_tokens < 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens = 3 }
    						has_country_flag = NCH_Spies_Discovered
  						}
					}
  				}
 				country_event = {
 					id = greneclyf_trade_crisis.9
 					days = 10
 				}
			}
			else = {
 				country_event = {
 					id = greneclyf_trade_crisis.11
 					days = 10
 				}
			}
		}
	}
}

###WRONG RESPONSE TRADE CRISIS EVENTS

country_event = {
	id = greneclyf_trade_crisis_wrong.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.1"}
	title = greneclyf_trade_crisis_wrong.1.t
	desc = greneclyf_trade_crisis_wrong.1.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.1.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.4
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.2"}
	title = greneclyf_trade_crisis_wrong.2.t
	desc = greneclyf_trade_crisis_wrong.2.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.2.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.4
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.3"}
	title = greneclyf_trade_crisis_wrong.3.t
	desc = greneclyf_trade_crisis_wrong.3.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.3.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.4
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.4"}
	title = greneclyf_trade_crisis_wrong.4.t
	desc = greneclyf_trade_crisis_wrong.4.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.4.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.6
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.1"}
	title = greneclyf_trade_crisis_wrong.5.t
	desc = greneclyf_trade_crisis_wrong.5.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.5.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.6
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.6"}
	title = greneclyf_trade_crisis_wrong.6.t
	desc = greneclyf_trade_crisis_wrong.6.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.6.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.6
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.7"}
	title = greneclyf_trade_crisis_wrong.7.t
	desc = greneclyf_trade_crisis_wrong.7.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.7.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.7
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.8"}
	title = greneclyf_trade_crisis_wrong.8.t
	desc = greneclyf_trade_crisis_wrong.8.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.8.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.7
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.9"}
	title = greneclyf_trade_crisis_wrong.9.t
	desc = greneclyf_trade_crisis_wrong.9.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.9.a
		hidden_effect = {
			country_event = {
				id = greneclyf_trade_crisis.7
				days = 3
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.10"}
	title = greneclyf_trade_crisis_wrong.10.t
	desc = greneclyf_trade_crisis_wrong.10.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.10.a
		hidden_effect = {
			if = {
  				limit = {
     				OR = {
  						check_variable = { NCH_trade_crisis_tokens > 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens > 2 }
    						NOT = { has_country_flag = NCH_Spies_Discovered }
  						}
					}
  				}
  				country_event = {
  					id = greneclyf_trade_crisis.8
  					days = 10
  				}
			}
			else_if = {
  				limit = {
					has_country_flag = NCH_FBK_accepted_us
					OR = {
  						check_variable = { NCH_trade_crisis_tokens < 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens = 3 }
    						has_country_flag = NCH_Spies_Discovered
  						}
					}
  				}
 				country_event = {
 					id = greneclyf_trade_crisis.9
 					days = 10
 				}
			}
			else = {
 				country_event = {
 					id = greneclyf_trade_crisis.11
 					days = 10
 				}
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.11"}
	title = greneclyf_trade_crisis_wrong.11.t
	desc = greneclyf_trade_crisis_wrong.11.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.11.a
		hidden_effect = {
			if = {
  				limit = {
     				OR = {
  						check_variable = { NCH_trade_crisis_tokens > 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens > 2 }
    						NOT = { has_country_flag = NCH_Spies_Discovered }
  						}
					}
  				}
  				country_event = {
  					id = greneclyf_trade_crisis.8
  					days = 10
  				}
			}
			else_if = {
  				limit = {
					has_country_flag = NCH_FBK_accepted_us
					OR = {
  						check_variable = { NCH_trade_crisis_tokens < 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens = 3 }
    						has_country_flag = NCH_Spies_Discovered
  						}
					}
  				}
 				country_event = {
 					id = greneclyf_trade_crisis.9
 					days = 10
 				}
			}
			else = {
 				country_event = {
 					id = greneclyf_trade_crisis.11
 					days = 10
 				}
			}
		}
	}
}

country_event = {
	id = greneclyf_trade_crisis_wrong.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_trade_crisis_wrong.12"}
	title = greneclyf_trade_crisis_wrong.12.t
	desc = greneclyf_trade_crisis_wrong.12.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = greneclyf_trade_crisis_wrong.12.a
		hidden_effect = {
			if = {
  				limit = {
     				OR = {
  						check_variable = { NCH_trade_crisis_tokens > 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens > 2 }
    						NOT = { has_country_flag = NCH_Spies_Discovered }
  						}
					}
  				}
  				country_event = {
  					id = greneclyf_trade_crisis.8
  					days = 10
  				}
			}
			else_if = {
  				limit = {
					has_country_flag = NCH_FBK_accepted_us
					OR = {
  						check_variable = { NCH_trade_crisis_tokens < 3 }
  						AND = {
    						check_variable = { NCH_trade_crisis_tokens = 3 }
    						has_country_flag = NCH_Spies_Discovered
  						}
					}
  				}
 				country_event = {
 					id = greneclyf_trade_crisis.9
 					days = 10
 				}
			}
			else = {
 				country_event = {
 					id = greneclyf_trade_crisis.11
 					days = 10
 				}
			}
		}
	}
}

###CONSTITUTION EVENTS

country_event = { #
	id = greneclyf_constitution.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_constitution.0"}
	title = greneclyf_constitution.0.t
	desc = greneclyf_constitution.0.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	fire_only_once = yes


	option = {
		name = greneclyf_constitution.0.a
		hidden_effect = {
			every_country = {
				limit = {
					is_trading_with_NCH = yes
				}
				#remove_opinion_modifier = { target = NCH modifier = NCH_negative_trading  } #This Causes an error. I'm not sure where this event is even fired.
			}
			load_focus_tree = { 
				tree = greneclyf_constitution
				keep_completed = no 
			}
		}
	}
}

### DEBUGGING ###

country_event = { #Select A To Load Tree
	id = greneclyf_debug.0
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_debug.0"}
	title = greneclyf_debug.0.t
	desc = greneclyf_debug.0.d
	picture = GFX_event_nch_cara_sees_you

	is_triggered_only = yes

	option = { #Starting Tree
		name = greneclyf_debug.0.a
		trigger = {
			NOT = {
				has_focus_tree = greneclyf
			}
		}
		load_focus_tree = { tree = greneclyf keep_completed = no }
	}

	option = { #Successful Harmony Tree
		name = greneclyf_debug.0.b
		trigger = {
			NOT = {
				has_focus_tree = greneclyf_successful_harmony
			}
		}
		load_focus_tree = { tree = greneclyf_successful_harmony keep_completed = no }
	}
	option = { #Load Beorgfordas Tree
		name = greneclyf_debug.0.c
		trigger = {
			NOT = {
				has_focus_tree = greneclyf_beorgfordas
			}
		}
		load_focus_tree = { tree = greneclyf_beorgfordas keep_completed = no }
	}
	option = { #Load Full Sunderer Tree
		name = greneclyf_debug.0.e
		trigger = {
			NOT = {
				has_focus_tree = greneclyf_slana
			}
		}
		load_focus_tree = { tree = greneclyf_slana keep_completed = no }
		NCH = { mark_focus_tree_layout_dirty = yes }
		set_country_flag = NCH_sunderer_in_power
	}
	#option = { #Republican Trees Overview
		#name = greneclyf_debug.0.d
		#load_focus_tree = greneclyf_slana
	#}
}

country_event = { 
	id = greneclyf_debug.98
	title = greneclyf_debug.98.t
	desc = greneclyf_debug.98.d
	picture = GFX_event_gytha

	is_triggered_only = yes

	option = { 
		name = greneclyf_debug.98.a
		set_variable = { test_year = global.year }
		set_variable = { test_month = global.month }
		set_variable = { test_day = global.day }
	}
}

country_event = { #Beorgfordas becomes reality
	id = greneclyf_debug.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_debug.1"}
	title = greneclyf_debug.1.t
	desc = greneclyf_debug.1.d
	picture = GFX_event_gytha

	is_triggered_only = yes

	option = { 
		name = greneclyf_debug.1.a
		add_state_core = 455
		add_state_core = 569
		add_state_core = 571
		add_state_core = 572
		add_state_core = 603
		add_state_core = 639
	}
}

country_event = { #debug event to get access to key to success decisions without doing the focus
	id = greneclyf_debug.2
	title = "Key to Sucess Decisions Debug"
	desc = "NCH will grow taller"

	is_triggered_only = yes

	option = {
		name = "lol"
		set_country_flag = NCH_key_to_success_flag
	}
}

country_event = { #debug event to get access to cenhelm restoration decisions without doing the focus
	id = greneclyf_debug.3
	title = "Debug"
	desc = "NCH debug"

	is_triggered_only = yes

	option = {
		name = "lol"
		set_country_flag = NCH_restore_cenhelm_flag
	}
}

country_event = { #load naval oob debug
	id = greneclyf_debug.4
	title = "Debug"
	desc = "NCH debug"

	is_triggered_only = yes

	option = {
		name = "lol"
		load_oob = NCH_1007_naval_legacy
	}
}

country_event = {
	id = greneclyf_debug.5
	title = "Renaming Test"
	desc = "deBug"

	is_triggered_only = yes 

	option = { #FBK rename
		name = "#FBK rename"
		455 = { set_state_name = "Sruthall" }
		603 = { set_state_name = "Amaidí"}
		set_province_name = { id = 7737 name = "Baile Gadhair" }
		571 = { set_state_name = "Talamhclúmh" }
		set_province_name = { id = 3962 name = "Uiscedhubh" }
		639 = { set_state_name = "Foraoise nDearmad" }
		569 = { set_state_name = "Buanmisneach" }
		572 = { set_state_name = "Ahmlaich" }
	}

	option = { #WAT rename
		name = "#WAT rename"
		642 = { set_state_name = "Baileuische" }
		643 = { set_state_name = "Pian"}
		640 = { set_state_name = "Sciathánanfa" }
		set_province_name = { id = 12903 name = "Láibóir" }
		641 = { set_state_name = "Spíonlach" }
	}

	option = { #FIR rename
		name = "#FIR rename"
		644 = { set_state_name = "Súilecnoc" }
		453 = { set_state_name = "Silverfalls"}
		650 = { set_state_name = "Duilltae" }
		set_province_name = { id = 4643 name = "Duillebrionglóid" }
		604 = { set_state_name = "Garráne Bhlaoisce" }
		454 = { set_state_name = "Síobáncnámh" }
		478 = { set_state_name = "Bhéalfhuar" }
		636 = { set_state_name = "Laghdaighceann" }
	}
}

country_event = { #WEP modules access
	id = greneclyf_debug.6
	title = "Debug"
	desc = "NCH debug"

	is_triggered_only = yes

	option = {
		name = "lol"
		set_technology = {
			NCH_WEP_modules = 1
		}
	}
}

country_event = { #WAT FIR neighbours debugging
	id = greneclyf_debug.7
	title = "hey neighbour"
	desc = "howdy"

	is_triggered_only = yes

	option = {
		name = "helfen mir"
		WAT = {
			every_neighbor_country = {
				if = {
					limit = {
						NOT = {
							has_opinion_modifier = NCH_new_borders_modifier
							has_government = fascism
						}
					}
					add_opinion_modifier = {
						target = WAT
						modifier = NCH_new_borders_modifier
					}
				}
				else_if = {
					limit = {
						NOT = {
							has_opinion_modifier = NCH_new_borders_fascist_modifier
						}
					}
					add_opinion_modifier = {
						target = WAT
						modifier = NCH_new_borders_fascist_modifier
					}
				}
			}
		}
		FIR = {
			every_neighbor_country = {
				if = {
					limit = {
						NOT = {
							has_opinion_modifier = NCH_new_borders_modifier
							has_government = fascism
						}
					}
					add_opinion_modifier = {
						target = WAT
						modifier = NCH_new_borders_modifier
					}
				}
				else_if = {
					limit = {
						NOT = {
							has_opinion_modifier = NCH_new_borders_fascist_modifier
						}
					}
					add_opinion_modifier = {
						target = WAT
						modifier = NCH_new_borders_fascist_modifier
					}
				}
			}
		}
	}
}

country_event = { #moving pop debug, courtesy of cofido for making the foundation, yuri fixed up the math that was off
	id = greneclyf_debug.8
	title = "Debug"
	desc = "NCH debug"

	is_triggered_only = yes

	option = {
		name = "lol"
		set_temp_variable = { state_migration_pop = 0 }
		669 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		668 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		639 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		569 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		572 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		571 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		455 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		set_temp_variable = { state_migration_pop_offset = 0 }
		set_temp_variable = { state_pop_removed_offset = 0 }
		set_temp_variable = { state_pop_removed = 0 }
		603 = {
			add_to_temp_variable = { state_migration_pop_offset = state_population_k }
			add_to_temp_variable = { state_migration_pop = state_migration_pop_offset }
			set_temp_variable = { population_percentage_change = -0.05 }
			population_change_custom = yes
			set_temp_variable = { state_pop_removed_offset = state_population_k }
			set_temp_variable = { state_pop_removed = state_pop_removed_offset }
			multiply_variable = { state_pop_removed = -1 }
			add_to_temp_variable = { state_migration_pop = state_pop_removed }
		}
		multiply_variable = { state_migration_pop = 0.1 }
		add_to_temp_variable = { state_migration_pop = -1 }
		WAT = {
			every_owned_state = {
				limit = {
					OR = {
						state = 640
						state = 641
						state = 642
						state = 643
					}
				}
				add_manpower = state_migration_pop
			}
		}
		FIR = {
			every_owned_state = {
				limit = {
					OR = {
						state = 644
						state = 604
						state = 453
						state = 650
						state = 478
						state = 636
					}
				}
				add_manpower = state_migration_pop
			}
		}
	}
}

country_event = { #fennore cosmetic tag access
	id = greneclyf_debug.9
	title = "Debug"
	desc = "NCH debug"

	is_triggered_only = yes

	option = {
		name = "lol"
		set_cosmetic_tag = NCH_REP_FEN
		set_portraits = {
			character = NCH_fennore
			civilian = { large ="gfx/leaders/NCH/Fennore.tga" }
		}
	}
}
### DEBUGGING END ###

country_event = { #Gytha loses patience, wants to liberate FBK
	id = greneclyf_FBK_radical.0
	title = greneclyf_FBK_radical.0.t
	desc = greneclyf_FBK_radical.0.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.0"
		set_country_flag = NCH_gytha_impatient
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.0.a
		custom_effect_tooltip = NCH_foci_lock_tt
	}
}

country_event = { #Cenhelm comes to NCH after extremists take power, fluff piece
	id = greneclyf_FBK_radical.1 
	title = greneclyf_FBK_radical.1.t
	desc = greneclyf_FBK_radical.1.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.1"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.1.a
	}
}


country_event = { #Cenhelm Restoration Planning Lore
	id = greneclyf_FBK_radical.2
	title = greneclyf_FBK_radical.2.t
	desc = greneclyf_FBK_radical.2.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.2"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.2.a
	}
}

################################################
### FBK WAR TIMER AND CASUALTIES CHECK START ###
################################################

country_event = { #10 days passed
	id = greneclyf_FBK_radical.3
	title = greneclyf_FBK_radical.3.t
	desc = greneclyf_FBK_radical.3.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.3"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.3.a
		add_political_power = -25
		hidden_effect = {
			country_event = {
				id = greneclyf_FBK_radical.4
				days = 11
			}
		}
	}
}

country_event = { #3 weeks passed
	id = greneclyf_FBK_radical.4
	title = greneclyf_FBK_radical.4.t
	desc = greneclyf_FBK_radical.4.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.4"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.4.a
		add_political_power = -100
		add_ideas = NCH_FBK_war_timer_idea_a
		hidden_effect = {
			country_event = {
				id = greneclyf_FBK_radical.5
				days = 21
			}
		}
	}
}

country_event = { #6 weeks
	id = greneclyf_FBK_radical.5
	title = greneclyf_FBK_radical.5.t
	desc = greneclyf_FBK_radical.5.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.5"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.5.a
		add_political_power = -100
		swap_ideas = {
			remove_idea = NCH_FBK_war_timer_idea_a
			add_idea = NCH_FBK_war_timer_idea_b
		}
		hidden_effect = {
			if = {
				limit = { 
					NCH = {
				 		NOT = { has_idea = NCH_FBK_war_failure_idea }
					} 
				}
				country_event = {
					id = greneclyf_FBK_radical.6
					days = 33
				}
			}
		}
	}
}

country_event = { #20k casualties or time's up, shocked tree switch
	id = greneclyf_FBK_radical.6
	title = greneclyf_FBK_radical.6.t
	desc = greneclyf_FBK_radical.6.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.6"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.6.a
			add_political_power = -200
			set_global_flag = NCH_casualties_20k
			if = {
				limit = {
					NOT = { has_idea = NCH_FBK_war_failure_idea }
				}
				add_ideas = NCH_FBK_war_failure_idea
			}
		# load_focus_tree = shocked tree
	}
}

country_event = { #1k casualties
	id = greneclyf_FBK_radical.7
	title = greneclyf_FBK_radical.7.t
	desc = greneclyf_FBK_radical.7.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.7"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.7.a
		add_ideas = NCH_FBK_war_casualties_idea_a
		set_global_flag = NCH_casualties_1k
	}
}

country_event = { #5k casualties
	id = greneclyf_FBK_radical.8
	title = greneclyf_FBK_radical.8.t
	desc = greneclyf_FBK_radical.8.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.8"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.8.a
		swap_ideas = {
			remove_idea = NCH_FBK_war_casualties_idea_a
			add_idea = NCH_FBK_war_casualties_idea_b
		}
		set_global_flag = NCH_casualties_5k
	}
}

country_event = { #10k casualties
	id = greneclyf_FBK_radical.9
	title = greneclyf_FBK_radical.9.t
	desc = greneclyf_FBK_radical.9.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.9"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.9.a
		add_political_power = -50
		swap_ideas = {
			remove_idea = NCH_FBK_war_casualties_idea_b
			add_idea = NCH_FBK_war_casualties_idea_c
		}
		set_global_flag = NCH_casualties_10k
	}
}

country_event = { #FBK defeated in time
	id = greneclyf_FBK_radical.10
	title = greneclyf_FBK_radical.10.t
	desc = greneclyf_FBK_radical.10.d
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event greneclyf_FBK_radical.10"
	}

	is_triggered_only = yes

	option = {
		name = greneclyf_FBK_radical.10.a
		if = {
			limit = {
				has_idea = NCH_FBK_war_casualties_idea_a
			}
			remove_ideas = NCH_FBK_war_casualties_idea_a
		}
		if = {
			limit = {
				has_idea = NCH_FBK_war_casualties_idea_b
			}
			remove_ideas = NCH_FBK_war_casualties_idea_b
		}
		if = {
			limit = {
				has_idea = NCH_FBK_war_casualties_idea_c
			}
			remove_ideas = NCH_FBK_war_casualties_idea_c
		}
		if = {
			limit = {
				has_idea = NCH_FBK_war_timer_idea_a
			}
			remove_ideas = NCH_FBK_war_timer_idea_a
		}
		if = {
			limit = {
				has_idea = NCH_FBK_war_timer_idea_b
			}
			remove_ideas = NCH_FBK_war_timer_idea_b
		}
		if = {
			limit = {
				has_idea = NCH_FBK_war_failure_idea
			}
			remove_ideas = NCH_FBK_war_failure_idea
		}
		clr_global_flag = NCH_radical_FBK_war
		clr_country_flag = NCH_gytha_impatient
		set_country_flag = NCH_liberated_FBK
		custom_effect_tooltip = NCH_liberated_FBK_tt
	}
}

##############################################
### FBK WAR TIMER AND CASUALTIES CHECK END ###
##############################################

###########################################
### BEORGFORDAS ATTACHE FLAVOUR EVENTS ####
###########################################


unit_leader_event = { #Cenhelm leaves to train abroad
	id = greneclyf_attaches.1
	title = greneclyf_attaches.1.t
	desc = greneclyf_attaches.1.d

	is_triggered_only = yes

	option = { 
		name = greneclyf_attaches.1.a
	}
}

unit_leader_event = { #Cenhelm comes back from training abroad
	id = greneclyf_attaches.2
	title = greneclyf_attaches.2.t
	desc = greneclyf_attaches.2.d

	is_triggered_only = yes

	option = { 
		name = greneclyf_attaches.2.a
	}
}

################################
### NCH DEVELOPMENT HANDLERS ###
################################

country_event = { #NCH improves its science level
	id = greneclyf_development.1
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_development.1"}

	is_triggered_only = yes 

	option = {
		Improve_Science_Base = yes
	}
}

country_event = { #NCH improves its industry level
	id = greneclyf_development.2
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_development.2"}

	is_triggered_only = yes 

	option = {
		increase_society_development = yes
	}
}

country_event = { #NCH improves its literacy level
	id = greneclyf_development.3
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_development.3"}
	
	is_triggered_only = yes 

	option = {
		decrease_illiteracy = yes
		if = {
			limit = {
				has_country_flag = NCH_slana_start_decisions
				has_country_flag = NCH_educate_the_masses_cast
			}
			add_manpower = 2500
			clr_country_flag = NCH_educate_the_masses_cast
		}
	}
}

country_event = { #NCH improves its economy level
	id = greneclyf_development.4
	hidden = yes
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_development.4"}

	is_triggered_only = yes 

	option = {
		decrease_poverty = yes
		if = {
			limit = {
				has_country_flag = NCH_slana_start_decisions
				has_country_flag = NCH_rallying_the_people_cast
			}
			add_manpower = 5000
			clr_country_flag = NCH_rallying_the_people_cast
		}
		if = {
			limit = {
				has_country_flag = NCH_slana_start_decisions
				has_country_flag = NCH_taclking_poverty_cast
			}
			add_manpower = 3500
			clr_country_flag = NCH_taclking_poverty_cast
			if = {
				limit = {
					has_country_flag = NCH_slana_has_eolans_support
				}
				clr_country_flag = NCH_slana_has_eolans_support
				set_country_flag = NCH_sunderer_dealth_with_poverty_and_eolan
			}
			else = {
				set_country_flag = NCH_slana_tackled_poverty
			}
		}
	}
}

#################################################################
### BEORGFORDAS WAT AND FIR INTEGRATION/GUARANTEE/ALLY EVENTS ###
#################################################################
country_event = { #Beorgfordas Together choice for FIR and WAT
	id = greneclyf_integration.1
	title = greneclyf_integration.1.t
	desc = greneclyf_integration.1.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_integration.1"}

	is_triggered_only = yes 

	option = { #Ally with NCH
		name = greneclyf_integration.1.a
		ai_chance = {
            base = 99
        }
		NCH = { add_to_faction = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_015
			days = 400
		}
	}

	option = { #Ask for protection from NCH, refuse alliance
		name = greneclyf_integration.1.b
		ai_chance = {
            base = 1
        }
		NCH = { give_guarantee = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_005
			days = 500
		}
	}

	option = { #Tell NCH to mind its own business, refuse every deal, AI never picks this
		name = greneclyf_integration.1.c
		ai_chance = {
            base = 0
        }
		add_political_power = 10
	}
}

country_event = { #Home Rule choice for FIR and WAT
	id = greneclyf_integration.2
	title = greneclyf_integration.2.t
	desc = greneclyf_integration.2.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_integration.2"}

	is_triggered_only = yes 

	option = { #Become puppet to NCH
		name = greneclyf_integration.2.a
		ai_chance = {
            base = 98
        }
		NCH = { puppet = ROOT }
		if = {
			limit = {
				original_tag = FIR
			}
			FIR = { 
				set_cosmetic_tag = FIR_BEG
			}
		}
		if = {
			limit = {
				original_tag = WAT
			}
			WAT = { 
				set_cosmetic_tag = WAT_BEG
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				add_country_leader_role = {
					character = WAT_virtuous_hope
					promote_leader = yes
					country_leader = {
						ideology = socialism
					}
				}
			}
		}
	}

	option = { #Agree to alliance, refuse puppet
		name = greneclyf_integration.2.b
		ai_chance = {
            base = 1
        }
		if = {
			limit = {
				NCH = { is_faction_leader = no }
			}
			create_faction = NCH_BEG_faction
		}
		NCH = { add_to_faction = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_015
			days = 400
		}
	}

	option = { #Ask for protection from NCH, refuse puppet or alliance
		name = greneclyf_integration.2.c
		ai_chance = {
            base = 1
        }
		NCH = { give_guarantee = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_005
			days = 500
		}
	}

	option = { #Tell NCH to mind its own business, refuse every deal, AI never picks this
		name = greneclyf_integration.2.e
		ai_chance = {
            base = 0
        }
		add_political_power = 10
	}
}

country_event = { #Singular Entity choice for FIR and WAT, part 1
	id = greneclyf_integration.3
	title = greneclyf_integration.3.t
	desc = greneclyf_integration.3.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_integration.3"}

	is_triggered_only = yes 

	option = { #Let NCH annex you
		name = greneclyf_integration.3.a
		ai_chance = {
            base = 97
        }
		ROOT = {
			every_core_state = {
				add_core_of = NCH
			}
		}
		NCH = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
		every_army_leader = {
			set_nationality = NCH
		}
	}

	option = { #Let NCH annex you, tag over to it, intended for players only
		name = greneclyf_integration.3.g
		trigger = {
			is_ai = no
		}
		NCH = { change_tag_from = ROOT }
		ROOT = {
			every_core_state = {
				add_core_of = NCH
			}
		}
		NCH = {
			annex_country = {
				target = ROOT
				transfer_troops = yes
			}
		}
		every_army_leader = {
			set_nationality = NCH
		}
	}

	option = { #Become puppet to NCH, refuse annexation
		name = greneclyf_integration.3.b
		ai_chance = {
            base = 1
        }
		NCH = { puppet = ROOT }
		if = {
			limit = {
				original_tag = FIR
			}
			FIR = { 
				set_cosmetic_tag = FIR_BEG
			}
		}
		if = {
			limit = {
				original_tag = WAT
			}
			WAT = { 
				set_cosmetic_tag = WAT_BEG
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				add_country_leader_role = {
					character = WAT_virtuous_hope
					promote_leader = yes
					country_leader = {
						ideology = socialism
					}
				}
			}
		}
	}

	option = { #Brings up other options ROOT has, couldn't fit all of the options so I moved them to an event below
		name = greneclyf_integration.3.h
		ai_chance = {
			base = 0
		}
		country_event = {
			id = greneclyf_integration.4 
			days = 0
		}
	}

	option = { #Agree to alliance, refuse annexation
		name = greneclyf_integration.3.c
		trigger = {
			is_ai = yes
		}
		ai_chance = {
            base = 1
        }
		if = {
			limit = {
				NCH = { is_faction_leader = no }
			}
			create_faction = NCH_BEG_faction
		}
		NCH = { add_to_faction = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_015
			days = 400
		}
	}

	option = { #Ask for protection from NCH, refuse annexation
		name = greneclyf_integration.3.e
		trigger = {
			is_ai = yes
		}
		ai_chance = {
            base = 1
        }
		NCH = { give_guarantee = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_005
			days = 500
		}
	}
}

country_event = { #Singular Entity choice for FIR and WAT, part 2
	id = greneclyf_integration.4
	title = greneclyf_integration.3.t #reusing text, clever.
	desc = greneclyf_integration.3.d
	immediate = {log = "[GetDateText]: [Root.GetName]: event greneclyf_integration.4"}

	is_triggered_only = yes 

	option = { #Agree to alliance, refuse annexation
		name = greneclyf_integration.3.c
		if = {
			limit = {
				NCH = { is_faction_leader = no }
			}
			create_faction = NCH_BEG_faction
		}
		NCH = { add_to_faction = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_015
			days = 400
		}
	}

	option = { #Ask for protection from NCH, refuse annexation
		name = greneclyf_integration.3.e
		NCH = { give_guarantee = ROOT }
		add_timed_idea = {
			idea = NCH_BEG_influence_005
			days = 500
		}
	}

	option = { #Tell NCH to mind its own business, refuse every deal, AI never picks this
		name = greneclyf_integration.3.f
		add_political_power = 10
	}

	option = { #Brings up other options ROOT has from previous event
		name = greneclyf_integration.3.h
		ai_chance = {
			base = 0
		}
		country_event = {
			id = greneclyf_integration.3 
			days = 0
		}
	}
}
	
