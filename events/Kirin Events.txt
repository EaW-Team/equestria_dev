add_namespace = kirin
add_namespace = kirin_news
add_namespace = kirin_test
add_namespace = kirin_pirate
add_namespace = kirin_crisis
add_namespace = kirin_council
add_namespace = kirin_republic
add_namespace = kirin_loyalists

country_event = {
	id = kirin.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.1"}
	title = kirin.1.t
	desc = kirin.1.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.1.a
		add_political_power = 70
		set_country_flag = KIR_pol_1_available
		add_ideas =  KIR_pol_1
	}
}

country_event = {
	id = kirin.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.2"}
	title = kirin.2.t
	desc = kirin.2.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.2.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		set_country_flag = KIR_pol_2_available
		add_ideas =  KIR_pol_2
		custom_effect_tooltip = KIR_line_break
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		set_country_flag = KIR_pol_3_available
		add_ideas =  KIR_pol_3
	}
}

country_event = {
	id = kirin.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.3"}
	title = kirin.3.t
	desc = kirin.3.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.3.a
		add_political_power = 50
	}
}

country_event = {
	id = kirin.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.4"}
	title = kirin.4.t
	desc = kirin.4.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.4.a
		custom_effect_tooltip = KIR_begins_great_leap_tt
		set_country_flag = KIR_great_leap_begun
		set_country_flag = { flag = KIR_great_leap_timer_countdown value = 1 days = 1280 }
		add_ideas = KIR_modernisation_exclamation_mark
		hidden_effect = {
			country_event = { id = kirin.35 days = 7 random_days = 14 }
		}
	}
}

country_event = {
	id = kirin.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.5"}
	title = kirin.5.t
	desc = kirin.5.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.5.a
		set_country_flag = KIR_pol_5_available
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KIR_pol_5
		custom_effect_tooltip = KIR_line_break
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_conscription1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_conscription_var value = 0.1 }
		}
	}
}

country_event = {
	id = kirin.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.6"}
	title = kirin.6.t
	desc = kirin.6.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.6.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_supremacist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.5 }
		}
		custom_effect_tooltip = KIR_line_break
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.01 }
		}
	}
	
	option = {
		name = kirin.6.b
		add_political_power = -100
		add_stability = 0.05
	}
}

country_event = {
	id = kirin.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.7"}
	title = kirin.7.t
	desc = kirin.7.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.7.a
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_communist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.7.b
		add_political_power = -70
		add_stability = -0.01
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.01 }
		}
	}
}

country_event = {
	id = kirin.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.8"}
	title = kirin.8.t
	desc = kirin.8.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.8.a
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_conscription1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_conscription_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_silence_experience1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_experience_gain_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_silence_training1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_training_var value = 0.1 }
		}
	}
}

country_event = {
	id = kirin.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.9"}
	title = kirin.9.t
	desc = kirin.9.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.9.a
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_stabilityB_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_stab_var value = 0.05 }
		}
		custom_effect_tooltip = KIR_modify_plenum_democratic1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_democratic_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.9.b
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_driftdefense1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_DD_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_modify_plenum_neutrality1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_neutrality_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.9.c
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergain1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_modify_plenum_supremacist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.5 }
		}
	}
}

country_event = {
	id = kirin.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.10"}
	title = kirin.10.t
	desc = kirin.10.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.10.a
		custom_effect_tooltip = KIR_event_10_DANGER_tt
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		set_party_name = {
			ideology = communism 
			long_name = KIR_communism_party_1_long 
			name = KIR_communism_party_1 
		}
		custom_effect_tooltip = KIR_line_break
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_plenum_stab_var value = 0.01 }
		}
		custom_effect_tooltip = KIR_modify_plenum_communist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.5 }
		}
		set_country_flag = KIR_did_not_expel_communists
	}
	
	option = {
		name = kirin.10.b
		add_stability = -0.05
		custom_effect_tooltip = KIR_unlock_entry_autumn_blaze
		add_to_variable = { KIR_diary_SG_protag_1_button_var = 1 }
		meta_effect = {
		  text = {
			set_variable = { KIR_diary_SG_protag_1_entry_[IDKIRX]_var = 3 }
		  }
		  IDKIRX = "[?KIR_diary_SG_protag_1_button_var|0]"
		}
		KIR_unlock_entry_effect = yes
		KIR_diary_SG_protag_1_button_click_effect = yes
		set_country_flag = KIR_expelled_communists
	}
}

country_event = {
	id = kirin.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.11"}
	title = kirin.11.t
	desc = { 
		text = kirin.11.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.11.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.11.a
		add_stability = 0.03
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_democratic1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_democratic_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.11.b
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 1.5
			uses = 2
			category = industry
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_supremacist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.11.c
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		add_political_power = 100
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_plenum_stab_var value = 0.01 }
		}
		custom_effect_tooltip = KIR_modify_plenum_communist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.5 }
		}
	}
}

country_event = {
	id = kirin.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.12"}
	title = kirin.12.t
	desc = { 
		text = kirin.12.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.12.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.12.a
		add_stability = 0.03
		add_political_power = -70
	}
	
	option = {
		name = kirin.12.b
		swap_ideas = { add_idea = KIR_way_of_fire1 remove_idea = KIR_way_of_fire }
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergain2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.05 }
		}
		custom_effect_tooltip = KIR_modify_plenum_supremacist2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.3 }
		}
	}
	
	option = {
		name = kirin.12.c
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		country_event = { id = kirin.13 hours = 1 }
	}
}

country_event = {
	id = kirin.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.13"}
	title = kirin.13.t
	desc = kirin.13.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.13.a
		swap_ideas = { add_idea = KIR_way_of_fire2 remove_idea = KIR_way_of_fire }
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_plenum_stab_var value = 0.01 }
		}
		custom_effect_tooltip = KIR_modify_plenum_communist2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.3 }
		}
	}
}

country_event = {
	id = kirin.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.14"}
	title = kirin.14.t
	desc = { 
		text = kirin.14.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.14.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.14.a
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
		add_political_power = 100
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergain2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.05 }
		}
	}
	
	option = {
		name = kirin.14.b
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		add_political_power = 100
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergain2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.05 }
		}
		custom_effect_tooltip = KIR_unlock_entry_winter_frost
		add_to_variable = { KIR_diary_SG_protag_2_button_var = 1 }
		meta_effect = {
		  text = {
			set_variable = { KIR_diary_SG_protag_2_entry_[IDKIRX]_var = 102 }
		  }
		  IDKIRX = "[?KIR_diary_SG_protag_2_button_var|0]"
		}
		KIR_unlock_entry_effect = yes
		KIR_diary_SG_protag_2_button_click_effect = yes
	}
}

country_event = {
	id = kirin.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.15"}
	title = kirin.15.t
	desc = kirin.15.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin.15.a
		add_stability = -0.03
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.01 }
		}
	}
}

country_event = {
	id = kirin.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.16"}
	title = kirin.16.t
	desc = kirin.16.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin.16.a
		add_stability = 0.05
		clr_country_flag = trade_laws_blocked
		swap_ideas = { remove_idea = closed_economy add_idea = limited_exports }
	}
	
	option = {
		name = kirin.16.b
		add_political_power = 150
		clr_country_flag = trade_laws_blocked
		swap_ideas = { remove_idea = closed_economy add_idea = free_trade }
	}
}

country_event = {
	id = kirin.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.17"}
	title = kirin.17.t
	desc = kirin.17.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.17.a
		add_command_power = 10
		custom_effect_tooltip = KIR_must_deal_with_pirates_tt
		1063 = {
			add_manpower = -100
		}
	}
}

country_event = {
	id = kirin.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.18"}
	title = kirin.18.t
	desc = kirin.18.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.18.a
		add_popularity = {
			ideology = fascism
			popularity = 0.03
		}
		add_political_power = 150
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_modify_plenum_driftdefenseA_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_drift_defence_var value = 0.25 }
		}
	}
	
	option = {
		name = kirin.18.b
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
		add_stability = 0.05
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stabilityA_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_stability_var value = 0.03 }
		}
	}
}

country_event = {
	id = kirin.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.19"}
	title = kirin.19.t
	desc = { 
		text = kirin.19.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.19.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.19.a
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
		add_political_power = 70
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 3.0
			uses = 1
			category = race_tech
		}
	}
	
	option = {
		name = kirin.19.b
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		add_political_power = 70
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 3.0
			uses = 1
			category = race_tech
		}
		add_stability = -0.01
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
	}
}

country_event = {
	id = kirin.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.20"}
	title = kirin.20.t
	desc = { 
		text = kirin.20.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.20.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.20.a
		add_political_power = 100
		add_popularity = {
			ideology = fascism
			popularity = 0.03
		}
	}
	
	option = {
		name = kirin.20.b
		add_stability = 0.03
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
	}
	
	option = {
		name = kirin.20.c
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_communist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.5 }
		}
		custom_effect_tooltip = KIR_silence_polpowergain2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.05 }
		}
		custom_effect_tooltip = KIR_modify_plenum_stabilityC_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_stab_var value = 0.01 }
		}
	}
}

country_event = {
	id = kirin.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.21"}
	title = kirin.21.t
	desc = { 
		text = kirin.21.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.21.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.21.a
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			custom_effect_tooltip = KIR_resurrect_fragrant_flotilla_tt
			hidden_effect = {
				create_equipment_variant = {
					name = "Fragrant Class"
					type = ship_hull_pre_dreadnought
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = empty
						fixed_ship_fire_control_system_slot = empty
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_1
						front_1_custom_slot = empty
						mid_1_custom_slot = ship_secondaries_1
						rear_1_custom_slot = empty
					}
				}
				load_oob = "KIR_pre_dreadnaughts"
			}
		}
		else = {
			custom_effect_tooltip = KIR_resurrect_fragrant_flotilla_tt
			hidden_effect = {
				load_oob = "KIR_pre_dreadnaughts_legacy"
			}
		}
	}
	
	option = {
		name = kirin.21.b
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			custom_effect_tooltip = KIR_resurrect_fragrant_flotilla_tt
			hidden_effect = {
				create_equipment_variant = {
					name = "Fragrant Class"
					type = ship_hull_pre_dreadnought
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_battery_1
						fixed_ship_anti_air_slot = empty
						fixed_ship_fire_control_system_slot = empty
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
						fixed_ship_armor_slot = ship_armor_bb_1
						front_1_custom_slot = empty
						mid_1_custom_slot = ship_secondaries_1
						rear_1_custom_slot = empty
					}
				}
				load_oob = "KIR_pre_dreadnaughts"
			}
		}
		else = {
			custom_effect_tooltip = KIR_resurrect_fragrant_flotilla_tt
			hidden_effect = {
				load_oob = "KIR_pre_dreadnaughts_legacy"
			}
		}
	}
}

country_event = {
	id = kirin.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.22"}
	title = kirin.22.t
	desc = kirin.22.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.22.a
		custom_effect_tooltip = KIR_event_22_spawn_marines_tt
		hidden_effect = {
			load_oob = KIR_seafarers
		#	1071 = {
		#		create_unit = { division = "name = \"Banner of the Foam-Flecked Serpent\" division_template = \"Seafarer Banner\" start_equipment_factor = 1 start_experience_factor = 0.5" owner = ROOT }
		#		create_unit = { division = "name = \"Banner of the Leaping Carp\" division_template = \"Seafarer Banner\" start_equipment_factor = 1 start_experience_factor = 0.5" owner = ROOT }
		#		create_unit = { division = "name = \"Banner of the Silver Tempest\" division_template = \"Seafarer Banner\" start_equipment_factor = 1 start_experience_factor = 0.5" owner = ROOT }
		#	}
		}
	}
}

country_event = {
	id = kirin.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.23"}
	title = kirin.23.t
	desc = kirin.23.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.23.a
		add_political_power = -70
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
	}
}

country_event = {
	id = kirin.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.24"}
	title = kirin.24.t
	desc = kirin.24.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.24.a
		hidden_effect = {
			clr_country_flag = KIR_pol_2_available
			remove_ideas =  KIR_pol_2
		}
		custom_effect_tooltip = KIR_event_24_lose_FC_tt
		country_event = { id = kirin.25 days = 3 }
	}
}

country_event = {
	id = kirin.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.25"}
	title = kirin.25.t
	desc = kirin.25.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.25.a
		set_country_flag = KIR_fickle_current_rejected_roaring_fire_flag
		country_event = { id = kirin.27 hours = 1 }
	}
	option = {
		name = kirin.25.b
		set_country_flag = KIR_fickle_current_allied_roaring_fire_flag
		set_country_flag = KIR_pol_2_available
		set_country_flag = KIR_pol_2_removable
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KIR_pol_2
	}
}

country_event = {
	id = kirin.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.26"}
	title = kirin.26.t
	desc = {
		text = kirin.26.d_1
		trigger = { has_country_flag = KIR_fickle_current_rejected_roaring_fire_flag } 
	}
	desc = {
		text = kirin.26.d_2
		trigger = { has_country_flag = KIR_fickle_current_allied_roaring_fire_flag } 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.26.a
		army_experience = 30
		set_country_flag = KIR_gotten_rid_of_auburn_isle_pirates_flag
		1065 = {
			remove_dynamic_modifier = { modifier = KIR_auburn_isle_pirate_modifier }
			custom_effect_tooltip = KIR_line_break
			set_demilitarized_zone = no 
		}
	}
}

country_event = {
	id = kirin.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.27"}
	title = kirin.27.t
	desc = kirin.27.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.27.a
		set_country_flag = KIR_pol_2_available
		set_country_flag = KIR_pol_2_removable
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KIR_pol_2
	}
}

country_event = {
	id = kirin.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.28"}
	title = kirin.28.t
	desc = kirin.28.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.28.a
		custom_effect_tooltip = KIR_event_28_tt
		set_country_flag = KIR_focus_6a_risky_choice_flag
	}
	option = {
		name = kirin.28.b
		add_political_power = -30
		set_country_flag = KIR_focus_6a_inaction_choice_flag
	}
}

country_event = {
	id = kirin.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.29"}
	title = kirin.29.t
	desc = {
		text = kirin.29.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.29.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.29.a
		add_political_power = 70
		add_popularity = {
			ideology = democratic
			popularity = -0.01
		}
	}
	option = {
		name = kirin.29.b
		hidden_effect = {
			add_ideas = KIR_equestrian_treaty1
			remove_ideas = KIR_equestrian_treaty 
			add_offsite_building = { type = industrial_complex level = 5 }
		}
		custom_effect_tooltip = KIR_swap_ideas_hyacinth_accord_tt
	}
}

country_event = {
	id = kirin.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.30"}
	title = kirin.30.t
	desc = kirin.30.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	trigger = {
		original_tag = KIR
		KIR = {
			NOT = {
				has_country_flag = KIR_has_completed_three_and_half_year_plan
			}
		}
	}
	
	option = {
		name = kirin.30.a
		add_stability = -0.03
		add_popularity = {
			ideology = democratic
			popularity = -0.03
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergainA_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_plenum_PP_var value = 0.2 }
		}
	}
}

country_event = {
	id = kirin.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.31"}
	title = kirin.31.t
	desc = kirin.31.d
	
	picture = GFX_event_KIR_evening
	
	trigger = {
		original_tag = KIR
		has_completed_focus = KIR_focus_10b
		NOT = { has_idea = KIR_pol_2 }
		KIR = {
			amount_taken_ideas = {
				amount > 2
				slots = {
					political_advisor
				}
			}
		}
	}
	fire_only_once = yes
	
	option = {
		name = kirin.31.a
		add_political_power = -70
		add_popularity = {
			ideology = fascism
			popularity = -0.03
		}
	}
	
	option = {
		name = kirin.31.b
		add_political_power = -100
		hidden_effect = {
			remove_ideas = KIR_pol_1
			remove_ideas = KIR_pol_2
			remove_ideas = KIR_pol_3
			remove_ideas = KIR_pol_4
			remove_ideas = KIR_pol_5
			add_ideas = KIR_pol_1
			add_ideas = KIR_pol_3
		}
		add_ideas = KIR_pol_2
	}
}

country_event = {
	id = kirin.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.32"}
	title = kirin.32.t
	desc = kirin.32.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.32.a
		add_stability = 0.03
	}
}

country_event = {
	id = kirin.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.33"}
	immediate = {
		hidden_effect = {
			random_list = {
				1 = { 
					set_country_flag = KIR_event_33_flagA
				}
				1 = { 
					set_country_flag = KIR_event_33_flagB
				}
				1 = { 
					set_country_flag = KIR_event_33_flagC
				}
			}
		}
	}
	title = kirin.33.t
	desc = { 
		text = kirin.33.d_1
		trigger = { has_country_flag = KIR_event_33_flagA } 
	}
	desc = {
		text = kirin.33.d_2
		trigger = { has_country_flag = KIR_event_33_flagB } 
	}
	desc = {
		text = kirin.33.d_3
		trigger = { has_country_flag = KIR_event_33_flagC } 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.33.a
		trigger = { has_country_flag = KIR_event_33_flagA } 
		add_popularity = {
			ideology = communism
			popularity = -0.01
		}
	}
	
	option = {
		name = kirin.33.b
		trigger = { has_country_flag = KIR_event_33_flagB }
		add_popularity = {
			ideology = neutrality
			popularity = -0.01
		}
	}
	
	option = {
		name = kirin.33.c
		trigger = { has_country_flag = KIR_event_33_flagC }
		add_popularity = {
			ideology = fascism
			popularity = -0.01
		} 
	}
}

country_event = {
	id = kirin.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.34"}
	title = kirin.34.t
	desc = { 
		text = kirin.34.d_1
		trigger = {
			has_stability < 0.3
		}
	}
	desc = {
		text = kirin.34.d_2
		trigger = {
			has_stability < 0.6
			has_stability > 0.29
		}
	}
	desc = {
		text = kirin.34.d_3
		trigger = {
			has_stability > 0.59
		}
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	trigger = {
		NOT = { has_country_flag = KIR_bipartite_war_started_flag }
	}
	
	option = {
		name = kirin.34.a
		custom_effect_tooltip = KIR_event_34a_tt
		trigger = {
			has_stability < 0.3
		}
	}
	option = {
		name = kirin.34.b
		add_political_power = 50
		trigger = {
			has_stability < 0.6
			has_stability > 0.29
		}
	}
	option = {
		name = kirin.34.c
		add_political_power = 70
		trigger = {
			has_stability > 0.59
		}
	}
}

country_event = {
	id = kirin.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.35"}
	title = kirin.35.t
	desc = kirin.35.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.35.a
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
	}
}

country_event = {
	id = kirin.99
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.99"}
	title = kirin.99.t
	desc = kirin.99.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.99.a
		add_political_power = 150
		add_stability = 0.05
		clr_country_flag = KIR_national_focus_title_1_flag
		set_country_flag = KIR_national_focus_title_2_flag
		custom_effect_tooltip = KIR_event_99_tt
		hidden_effect = {
			load_focus_tree = { tree = KIR_middle_late_game keep_completed = yes }
		}
		mark_focus_tree_layout_dirty = yes
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						is_kiria_country = yes
						is_southeastern_zebrica_country = yes
					}
				}
				news_event = { id = kirin_news.1 hours = 12 }
			}
			KIR = {
				remove_dynamic_modifier = { modifier = KIR_silence_dynamic_modifier }
			}
		}
	}
}

country_event = {
	id = kirin.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.100"}
	immediate = { set_country_flag = KIR_event_100_flag }
	title = kirin.100.t
	desc = kirin.100.d
	
	picture = GFX_event_KIR_evening
	
	trigger = {
		original_tag = KIR
		is_subject = no
		exists = yes
		NOT = { has_country_flag = KIR_event_100_flag }
		has_dynamic_modifier = {
			modifier = KIR_silence_dynamic_modifier
		}
		has_stability < 0.159
		has_stability > 0.1
	}
	fire_only_once = yes
	
	option = {
		name = kirin.100.a
		unlock_decision_tooltip = KIR_matriarch_superior_tour
	}
}

country_event = { ##things fall apart
	id = kirin.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.101"}
	immediate = { set_country_flag = KIR_event_101_flag }
	immediate = {
		if = {
			limit = {
				OR = {
					has_country_flag = KIR_expelled_communists 
					NOT = {
						has_completed_focus = KIR_focus_4e
					}
				}
			}
			hidden_effect = {
				every_controlled_state = {
					limit = {
						OR = {
							state = 926
							state = 1060
							state = 1061
							state = 1066
							state = 1070
							state = 1071
							state = 1073
							state = 1077
							state = 1079
							state = 1080
							state = 1081
							state = 1082
							state = 1087
							state = 1088
						}
					}
					set_demilitarized_zone = yes
				}
				hidden_effect = {
					set_technology = { tech_support = 1 popup = no }
					set_technology = { tech_kirin_vanguard = 1 popup = no }
					set_technology = { tech_kirin_brave = 1 popup = no }
					country_event = { id = kirin.103 hours = 24 }
					country_event = { id = kirin.104 hours = 36 }
					set_variable = { KIR_army_strength_var = KIR.num_battalions } ##determining strength of KIR army
					add_to_variable = { KIR_army_strength_var = 80 } ##strength will be swelled by twenty divisions of four battalions each
					country_event = { id = kirin.106 days = 7 }
					KIC = {
						country_event = { id = kirin.106 days = 7 } 
						set_country_flag = KIR_bipartite_war_started_flag
						set_variable = { KIR_diary_SG_protag_1_button_var = KIR.KIR_diary_SG_protag_1_button_var }
						set_variable = { KIR_diary_SG_protag_2_button_var = KIR.KIR_diary_SG_protag_2_button_var }
						set_variable = { KIR_diary_SG_protag_3_button_var = KIR.KIR_diary_SG_protag_3_button_var }
						set_variable = { KIR_diary_SG_protag_4_button_var = KIR.KIR_diary_SG_protag_4_button_var }
						set_variable = { KIR_diary_SG_protag_1_entry_1_var = KIR.KIR_diary_SG_protag_1_entry_1_var }
						set_variable = { KIR_diary_SG_protag_1_entry_2_var = KIR.KIR_diary_SG_protag_1_entry_2_var }
						set_variable = { KIR_diary_SG_protag_1_entry_3_var = KIR.KIR_diary_SG_protag_1_entry_3_var }
						set_variable = { KIR_diary_SG_protag_2_entry_1_var = KIR.KIR_diary_SG_protag_2_entry_1_var }
						set_variable = { KIR_diary_SG_protag_2_entry_2_var = KIR.KIR_diary_SG_protag_2_entry_2_var }
						set_variable = { KIR_diary_SG_protag_2_entry_3_var = KIR.KIR_diary_SG_protag_2_entry_3_var }
						set_variable = { KIR_diary_SG_protag_3_entry_1_var = KIR.KIR_diary_SG_protag_3_entry_1_var }
						set_variable = { KIR_diary_SG_protag_3_entry_2_var = KIR.KIR_diary_SG_protag_3_entry_2_var }
						set_variable = { KIR_diary_SG_protag_3_entry_3_var = KIR.KIR_diary_SG_protag_3_entry_3_var }
						set_variable = { KIR_diary_SG_protag_4_entry_1_var = KIR.KIR_diary_SG_protag_4_entry_1_var }
						set_variable = { KIR_diary_SG_protag_4_entry_2_var = KIR.KIR_diary_SG_protag_4_entry_2_var }
						set_variable = { KIR_diary_SG_protag_4_entry_3_var = KIR.KIR_diary_SG_protag_4_entry_3_var }
					}
					KIS = { 
						set_country_flag = KIR_bipartite_war_started_flag 
						set_variable = { KIR_diary_SG_protag_1_button_var = KIR.KIR_diary_SG_protag_1_button_var }
						set_variable = { KIR_diary_SG_protag_2_button_var = KIR.KIR_diary_SG_protag_2_button_var }
						set_variable = { KIR_diary_SG_protag_3_button_var = KIR.KIR_diary_SG_protag_3_button_var }
						set_variable = { KIR_diary_SG_protag_4_button_var = KIR.KIR_diary_SG_protag_4_button_var }
						set_variable = { KIR_diary_SG_protag_1_entry_1_var = KIR.KIR_diary_SG_protag_1_entry_1_var }
						set_variable = { KIR_diary_SG_protag_1_entry_2_var = KIR.KIR_diary_SG_protag_1_entry_2_var }
						set_variable = { KIR_diary_SG_protag_1_entry_3_var = KIR.KIR_diary_SG_protag_1_entry_3_var }
						set_variable = { KIR_diary_SG_protag_2_entry_1_var = KIR.KIR_diary_SG_protag_2_entry_1_var }
						set_variable = { KIR_diary_SG_protag_2_entry_2_var = KIR.KIR_diary_SG_protag_2_entry_2_var }
						set_variable = { KIR_diary_SG_protag_2_entry_3_var = KIR.KIR_diary_SG_protag_2_entry_3_var }
						set_variable = { KIR_diary_SG_protag_3_entry_1_var = KIR.KIR_diary_SG_protag_3_entry_1_var }
						set_variable = { KIR_diary_SG_protag_3_entry_2_var = KIR.KIR_diary_SG_protag_3_entry_2_var }
						set_variable = { KIR_diary_SG_protag_3_entry_3_var = KIR.KIR_diary_SG_protag_3_entry_3_var }
						set_variable = { KIR_diary_SG_protag_4_entry_1_var = KIR.KIR_diary_SG_protag_4_entry_1_var }
						set_variable = { KIR_diary_SG_protag_4_entry_2_var = KIR.KIR_diary_SG_protag_4_entry_2_var }
						set_variable = { KIR_diary_SG_protag_4_entry_3_var = KIR.KIR_diary_SG_protag_4_entry_3_var }
					}
					set_country_flag = KIR_bipartite_war_started_flag
				}
				KIR = {
					remove_dynamic_modifier = { modifier = KIR_silence_dynamic_modifier }
					remove_dynamic_modifier = { modifier = KIR_plenum_dynamic_modifier }
					remove_ideas = KIR_modernisation_exclamation_mark
					remove_ideas = KIR_modernisation_exclamation_mark1
					remove_ideas = KIR_modernisation_exclamation_mark2
					remove_ideas = KIR_modernisation_exclamation_mark3
					remove_ideas = KIR_way_of_fire
					remove_ideas = KIR_way_of_fire1
					remove_ideas = KIR_way_of_fire2
				}
			}
		}
		##need to code in alternate effects for scenario B;
		else_if = {
			limit = {
				has_country_flag = KIR_did_not_expel_communists
			}
		}
	}
	immediate = {
		if = { 
			limit = { 
				OR = {
					has_country_flag = KIR_expelled_communists 
					NOT = {
						has_completed_focus = KIR_focus_4e
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = KIR_did_not_expel_communists
			}
		}
	}
	title = kirin.101.t
	desc = { 
		text = kirin.101.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin.101.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
	}
	
	picture = GFX_event_KIR_evening
	
	fire_only_once = yes
	trigger = {
		original_tag = KIR
		is_subject = no
		exists = yes
		NOT = { has_country_flag = KIR_event_101_flag }
		has_stability < 0.099
	}
	
	option = {
		name = kirin.101.a
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
		custom_effect_tooltip = KIR_event_101a_tt
	}
	option = {
		name = kirin.101.b
		trigger = { has_country_flag = KIR_did_not_expel_communists } 
		custom_effect_tooltip = KIR_event_101b_tt
		hidden_effect = {
			country_event = { id = kirin.105 hours = 2 }
		}
	}
}

country_event = {
	id = kirin.102
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.102"}
	immediate = {
		hidden_effect = {
			random_list = {
				3 = { 
					set_country_flag = KIR_event_102_flagA
				}
				1 = { 
					set_country_flag = KIR_event_102_flagB
				}
			}
		}
	}
	title = kirin.102.t
	desc = { 
		text = kirin.102.d_1
		trigger = { has_country_flag = KIR_event_102_flagA } 
	}
	desc = {
		text = kirin.102.d_2
		trigger = { has_country_flag = KIR_event_102_flagB } 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.102.a
		trigger = { has_country_flag = KIR_event_102_flagA } 
		add_stability = 0.07
		add_political_power = 70
	}
	
	option = {
		name = kirin.102.b
		trigger = { has_country_flag = KIR_event_102_flagB } 
		add_popularity = {
			ideology = democratic
			popularity = -0.03
		}
		add_political_power = -150
	}
}
country_event = {
	id = kirin.103 ##Secession of Western Kiria
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.103"}
	immediate = {
		hidden_effect = {
			every_state = {
				limit = { is_core_of = KIR }
				set_demilitarized_zone = no
			}
			KIC = {
				transfer_state = 1077
				transfer_state = 1080
				transfer_state = 1081
				transfer_state = 1082
				transfer_state = 926
				set_capital = 1081
				inherit_technology = KIR
				set_cosmetic_tag = KIR_communism
				add_ideas = KIR_right_uprising
				add_ideas = KIR_civil_war
				add_ideas = KIR_rising_fire
				add_ideas = agrarian_society 
				add_ideas = lack_of_scientists1
				add_ideas = poor_science_base
				add_ideas = war_economy
				add_ideas = closed_economy
				add_ideas = extensive_conscription
				division_template = {
					name = "Incendiaries Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
					}
				}
				division_template = {
					name = "Militiakirin Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
					support = {
					}
				}
				division_template = {
					name = "Vanguard Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						kirin_vanguards = { x = 0 y = 0 }
						kirin_vanguards = { x = 1 y = 0 }
						kirin_vanguards = { x = 0 y = 1 }
						kirin_vanguards = { x = 1 y = 1 }
						kirin_vanguards = { x = 0 y = 2 }
						kirin_vanguards = { x = 1 y = 2 }
					}
					support = {
					}
				}
				set_variable = { KIC_banners_var = KIR.KIR_army_strength_var }
				multiply_variable = { KIC_banners_var = 0.35 } ##35% the strength of KIR army
				divide_variable = { KIC_banners_var = 6 } ##six battalions to a division
				add_to_variable = { KIC_banners_var = 6 } ##plus a flat six divisions
				set_variable = { KIC_militiabanners_var = KIC_banners_var }
				multiply_variable = { KIC_militiabanners_var = 0.55 } ##55% of KIC army
				set_variable = { KIC_vanguardbanners_var = KIC_banners_var }
				multiply_variable = { KIC_vanguardbanners_var = 0.3 } ##30% of KIC army
				set_variable = { KIC_firebanners_var = KIC_banners_var }
				multiply_variable = { KIC_firebanners_var = 0.15 } ##15% of KIC army
				1081 = {
					create_unit = {
						division = "division_template = \"Vanguard Banner\" start_experience_factor = 0.2" 
						owner = KIC
						count = KIC.KIC_vanguardbanners_var
					}
					create_unit = {
						division = "division_template = \"Militiakirin Banner\" start_experience_factor = 0.1" 
						owner = KIC
						count = KIC.KIC_militiabanners_var
					}
					create_unit = {
						division = "division_template = \"Incendiaries Banner\" start_experience_factor = 0.1" 
						owner = KIC
						count = KIC.KIC_firebanners_var
					}
				}
			}
			every_state = {
				limit = {
					is_owned_by = KIC
				}
				add_core_of = KIC
				remove_core_of = KIR
				add_claim_by = KIR
			}
			every_state = {
				limit = {
					is_core_of = KIR
					NOT = { is_owned_by = KIC }
				}
				add_claim_by = KIC
			}
		}
	}
	title = kirin.103.t
	desc = kirin.103.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.103.a
		custom_effect_tooltip = KIR_event_103_tt
		hidden_effect = {
			KIC = {
				country_event = { id = kirin_republic.1 hours = 36 }
			}
		}
	}
	
	option = {
		name = kirin.103.b
		KIC = { 
			hidden_effect = {
				country_event = { id = kirin_republic.1 hours = 36 }
			}
			change_tag_from = ROOT 
		}
	}
}
country_event = {
	id = kirin.104 ##Secession of North Kiria
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.104"}
	immediate = {
		hidden_effect = {
			KIS = {
				transfer_state = 1071
				transfer_state = 1088
				transfer_state = 1087
				#transfer_state = 1066
				#transfer_state = 1060
				#transfer_state = 1061
				set_capital = 1071
				inherit_technology = KIR
				set_technology = {
					popup = no
					marines = 1
				}
				set_technology = {
					popup = no
					infantry_weapons = 1
				}
				set_cosmetic_tag = KIR_auto1
				add_ideas = KIR_failed_industrialisation_idea
				add_ideas = KIR_civil_war
				add_ideas = KIR_NAKP
				add_ideas = outdated_industry  
				add_ideas = lack_of_scientists3 
				add_ideas = big_science_base
				add_ideas = partial_economic_mobilisation
				add_ideas = free_trade
				add_ideas = limited_conscription
				division_template = {
					name = "Militia Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}
					support = {
					}
				}
				division_template = {
					name = "Vanguards Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						kirin_vanguards = { x = 0 y = 0 }
						kirin_vanguards = { x = 1 y = 0 }
						kirin_vanguards = { x = 0 y = 1 }
						kirin_vanguards = { x = 1 y = 1 }
						kirin_vanguards = { x = 0 y = 2 }
						kirin_vanguards = { x = 1 y = 2 }
					}
					support = {
					}
				}
				division_template = {
					name = "Marine Banner"
					division_names_group = KIR_BANNER 
					priority = 2
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 1 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 1 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 1 y = 2 }
					}
					support = {
					}
				}
				set_variable = { KIS_banners_var = KIR.KIR_army_strength_var }
				multiply_variable = { KIS_banners_var = 0.25 } ##25% the strength of KIR army
				divide_variable = { KIS_banners_var = 6 } ##six battalions to a division
				add_to_variable = { KIS_banners_var = 3 } ##plus a flat three divisions
				set_variable = { KIS_militiabanners_var = KIS_banners_var }
				multiply_variable = { KIS_militiabanners_var = 0.65 } ##65% of KIC army
				set_variable = { KIS_vanguardbanners_var = KIS_banners_var }
				multiply_variable = { KIS_vanguardbanners_var = 0.2 } ##20% of KIS army
				set_variable = { KIS_marinebanners_var = KIS_banners_var }
				multiply_variable = { KIS_marinebanners_var = 0.15 } ##15% of KIS army
				1071 = {
					create_unit = {
						division = "division_template = \"Militia Banner\" start_experience_factor = 0.1" 
						owner = KIS
						count = KIS.KIS_militiabanners_var
					}
					create_unit = {
						division = "division_template = \"Vanguards Banner\" start_experience_factor = 0.15" 
						owner = KIS
						count = KIS.KIS_vanguardbanners_var
					}
					create_unit = {
						division = "division_template = \"Marine Banner\" start_experience_factor = 0.15" 
						owner = KIS
						count = KIS.KIS_marinebanners_var
					}
				}
				set_country_flag = KIS_council_breakaway_scenario
				load_focus_tree = KIR_council
			}
			KIR = {
				division_template = {
					name = "Vermilion Army Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
					}
					support = {
					}
				}
				division_template = {
					name = "Vermilion Guard Banner"
					division_names_group = KIR_BANNER 
					regiments = {
						kirin_vanguards = { x = 0 y = 0 }
						kirin_vanguards = { x = 0 y = 1 }
						kirin_vanguards = { x = 1 y = 0 }
						kirin_vanguards = { x = 1 y = 1 }
					}
					support = {
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Vermilion Army Banner\" start_experience_factor = 0.1" 
						owner = KIR
						count = 3
					}
					create_unit = {
						division = "division_template = \"Vermilion Guard Banner\" start_experience_factor = 0.15" 
						owner = KIR
						count = 1
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Vermilion Army Banner\" start_experience_factor = 0.1" 
						owner = KIR
						count = 3
					}
					create_unit = {
						division = "division_template = \"Vermilion Guard Banner\" start_experience_factor = 0.15" 
						owner = KIR
						count = 1
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Vermilion Army Banner\" start_experience_factor = 0.1" 
						owner = KIR
						count = 3
					}
					create_unit = {
						division = "division_template = \"Vermilion Guard Banner\" start_experience_factor = 0.15" 
						owner = KIR
						count = 1
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Vermilion Army Banner\" start_experience_factor = 0.1" 
						owner = KIR
						count = 3
					}
					create_unit = {
						division = "division_template = \"Vermilion Guard Banner\" start_experience_factor = 0.15" 
						owner = KIR
						count = 1
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Vermilion Army Banner\" start_experience_factor = 0.1" 
						owner = KIR
						count = 3
					}
					create_unit = {
						division = "division_template = \"Vermilion Guard Banner\" start_experience_factor = 0.15" 
						owner = KIR
						count = 1
					}
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = {
					KIR_failed_industrialisation_idea
					KIR_civil_war
					KIR_split_government
					KIR_way_of_fire
					pre_industrial_society
					lack_of_scientists2
					better_science_base
					low_economic_mobilisation
					limited_exports
					KIR_banner_system
				}
			}
			every_state = {
				limit = {
					is_owned_by = KIS
				}
				add_core_of = KIS
				remove_core_of = KIR
				add_claim_by = KIR
			}
		}
	}
	title = kirin.104.t
	desc = kirin.104.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.104.a
		custom_effect_tooltip = KIR_event_104_tt
		hidden_effect = {
			KIS = {
				country_event = { id = kirin_council.1 hours = 36 }
			}
		}
	}
	
	option = {
		name = kirin.104.b
		KIS = { 
			hidden_effect = {
				country_event = { id = kirin_council.1 hours = 36 }
			}
			change_tag_from = ROOT
		}
	}
}
country_event = {
	id = kirin.105 ##Secession of North Kiria ONLY
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.105"}
	title = kirin.105.t
	desc = kirin.105.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.105.a
	}
}
country_event = {
	id = kirin.106 ##Republic of Kiria declares war
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.106"}
	title = kirin.106.t
	desc = kirin.106.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin.106.a
		trigger = {
			original_tag = KIC
		}
		add_war_support = 0.25
		declare_war_on = {
			target = KIR
			type = civil_war
		}
		add_civil_war_target = KIR
	}
	
	option = {
		name = kirin.106.b
		trigger = {
			original_tag = KIR
		}
		declare_war_on = {
			target = KIC
			type = civil_war
		}
		add_civil_war_target = KIC
	}
}

news_event = {
	id = kirin_news.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_news.1"}
	title = kirin_news.1.t
	desc = kirin_news.1.d
	picture = GFX_news_event_palace_supreme_harmony

	major = no
	is_triggered_only = yes
	option = {
		name = kirin_news.1.a
		trigger = {
			original_tag = KIR
		}
	}
	option = {
		name = kirin_news.1.b
		trigger = {
			NOT = {
				original_tag = KIR
			}
		}
	}
}

news_event = {
	id = kirin_news.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_news.2"}
	title = kirin_news.2.t
	desc = kirin_news.2.d
	picture = GFX_news_event_palace_supreme_harmony

	major = no
	is_triggered_only = yes
	option = {
		name = kirin_news.2.a
		trigger = {
			original_tag = KIR
		}
	}
	option = {
		name = kirin_news.2.b
		trigger = {
			original_tag = KIS
		}
	}
	option = {
		name = kirin_news.2.c
		trigger = {
			original_tag = KIC
		}
	}
}

country_event = {
	id = kirin_pirate.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.1"}
	title = kirin_pirate.1.t
	desc = kirin_pirate.1.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.1.a
		add_political_power = -50
		add_stability = -0.02
	}
}

news_event = {
	id = kirin_pirate.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.2"}
	title = kirin_pirate.2.t
	desc = kirin_pirate.2.d
	
	picture = GFX_news_event_junk_on_ocean
	
	major = no
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.2.a
		add_political_power = -70
		add_stability = -0.02
	}
}

news_event = {
	id = kirin_pirate.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.3"}
	title = kirin_pirate.3.t
	desc = kirin_pirate.3.d
	
	picture = GFX_news_event_junk_on_ocean
	
	major = no
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.3.a
		add_political_power = -70
		add_stability = -0.05
	}
}

country_event = {
	id = kirin_pirate.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.4"}
	title = kirin_pirate.4.t
	desc = kirin_pirate.4.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.4.a
		add_political_power = -100
		add_stability = -0.05
	}
}

country_event = {
	id = kirin_pirate.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.5"}
	title = kirin_pirate.5.t
	desc = kirin_pirate.5.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.5.a
		add_political_power = -120
		add_stability = -0.05
	}
}

news_event = {
	id = kirin_pirate.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.6"}
	title = kirin_pirate.6.t
	desc = kirin_pirate.6.d
	
	picture = GFX_news_event_junk_on_ocean
	
	major = no
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.6.a
		add_political_power = -150
		add_stability = -0.05
	}
}

country_event = {
	id = kirin_pirate.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_pirate.7"}
	title = kirin_pirate.7.t
	desc = kirin_pirate.7.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_pirate.7.a
		add_political_power = -150
		add_stability = -0.05
	}
}

country_event = {
	id = kirin_crisis.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.1"}
	title = kirin_crisis.1.t
	desc = kirin_crisis.1.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.1.a
		activate_mission = KIR_crisis_1_mission
		hidden_effect = {
			add_ideas = KIR_crisis_1_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.2"}
	title = kirin_crisis.2.t
	desc = kirin_crisis.2.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.2.a
		add_stability = -0.02
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
	}
}

country_event = {
	id = kirin_crisis.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.3"}
	immediate = { set_country_flag = KIR_crisis_2_flag }
	title = kirin_crisis.3.t
	desc = kirin_crisis.3.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.3.a
		activate_mission = KIR_crisis_2_mission
		hidden_effect = {
			add_ideas = KIR_crisis_2_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.4"}
	title = kirin_crisis.4.t
	desc = kirin_crisis.4.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.4.a
		add_political_power = -70
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
	}
}

country_event = {
	id = kirin_crisis.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.5"}
	immediate = { set_country_flag = KIR_crisis_5_flag }
	title = kirin_crisis.5.t
	desc = kirin_crisis.5.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.5.a
		add_political_power = -50
		add_stability = -0.01
	}
}


country_event = {
	id = kirin_crisis.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.6"}
	immediate = { set_country_flag = KIR_crisis_3_flag }
	title = kirin_crisis.6.t
	desc = kirin_crisis.6.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.6.a
		activate_mission = KIR_crisis_3_mission
		hidden_effect = {
			add_ideas = KIR_crisis_3_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.7"}
	immediate = { set_country_flag = KIR_crisis_3_flag }
	title = kirin_crisis.7.t
	desc = kirin_crisis.7.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.7.a
		activate_mission = KIR_crisis_3_mission
		hidden_effect = {
			add_ideas = KIR_crisis_3_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.8"}
	immediate = { set_country_flag = KIR_crisis_4_flag }
	title = kirin_crisis.8.t
	desc = kirin_crisis.8.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.8.a
		activate_mission = KIR_crisis_4_mission
		hidden_effect = {
			add_ideas = KIR_crisis_4_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.9"}
	immediate = { set_country_flag = KIR_crisis_6_flag }
	title = kirin_crisis.9.t
	desc = kirin_crisis.9.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.9.a
		add_political_power = 150
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
		custom_effect_tooltip = KIR_silence_stability2_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.02 }
		}
	}
	
	option = {
		name = kirin_crisis.9.b
		add_political_power = -70
		add_stability = 0.03
		add_popularity = {
			ideology = communism
			popularity = 0.01
		}
	}
}

country_event = {
	id = kirin_crisis.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.10"}
	immediate = { set_country_flag = KIR_crisis_7_flag }
	title = kirin_crisis.10.t
	desc = kirin_crisis.10.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.10.a
		activate_mission = KIR_crisis_5_mission
		hidden_effect = {
			add_ideas = KIR_crisis_5_mission_modifier_idea
		}
	}
}

country_event = {
	id = kirin_crisis.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.11"}
	title = kirin_crisis.11.t
	desc = kirin_crisis.11.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_crisis.11.a
		add_political_power = 70
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

country_event = {
	id = kirin_crisis.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.12"}
	title = kirin_crisis.12.t
	desc = kirin_crisis.12.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_crisis.12.a
		add_political_power = 70
		add_stability = 0.05
	}
}

country_event = {
	id = kirin_crisis.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.13"}
	title = kirin_crisis.13.t
	desc = kirin_crisis.13.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_crisis.13.a
		add_political_power = 70
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stabilityB_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_stability_var value = 0.05 }
		}
	}
}

country_event = {
	id = kirin_crisis.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.14"}
	title = kirin_crisis.14.t
	desc = kirin_crisis.14.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_crisis.14.a
		add_political_power = 150
		army_experience = 40
	}
}

country_event = {
	id = kirin_crisis.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.15"}
	title = kirin_crisis.15.t
	desc = { 
		text = kirin_crisis.15.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin_crisis.15.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.15.a
		add_stability = 0.03
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_neutrality2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_neutrality_var value = 0.3 }
		}
	}
	option = {
		name = kirin_crisis.15.b
		add_political_power = -70
		set_variable = { var = KIR_develop_1059_decision_cost_var value = 25 }
		unlock_decision_tooltip = develop_vermilion_basin_crystals
		unlock_decision_tooltip = develop_vermilion_basin_tungsten
		set_country_flag = KIR_can_develop_vermilion_basin_crystals
		set_country_flag = KIR_can_develop_vermilion_basin_tungsten
	}
	option = {
		name = kirin_crisis.15.c
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_communist2_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.3 }
		}
		custom_effect_tooltip = KIR_line_break
		set_variable = { var = KIR_develop_1059_decision_cost_var value = 50 }
		unlock_decision_tooltip = develop_vermilion_basin_crystals
		unlock_decision_tooltip = develop_vermilion_basin_tungsten
		set_country_flag = KIR_can_develop_vermilion_basin_crystals
		set_country_flag = KIR_can_develop_vermilion_basin_tungsten
		custom_effect_tooltip = KIR_event_15_option_c_tt
		set_country_flag = KIR_event_15_resources_decisions_nerfed
	}
}

country_event = {
	id = kirin_crisis.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.16"}
	title = kirin_crisis.16.t
	desc = kirin_crisis.16.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.16.a
		add_political_power = 150
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
	option = {
		name = kirin_crisis.16.b
		add_political_power = -70
		custom_effect_tooltip = KIR_swap_ideas_modernisation_exclamation_mark2_tt
		hidden_effect = {
			add_offsite_building = { type = industrial_complex level = 5 } ##re-add offsite civs because swapping the ideas removes it
			swap_ideas = { 
				add_idea = KIR_modernisation_exclamation_mark3
				remove_idea = KIR_modernisation_exclamation_mark2 
			}
		}
	}
}

country_event = {
	id = kirin_crisis.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.17"}
	title = kirin_crisis.17.t
	desc = { 
		text = kirin_crisis.17.d_1
		trigger = { 
			OR = {
				has_country_flag = KIR_expelled_communists 
				NOT = {
					has_completed_focus = KIR_focus_4e
				}
			}
		}
	}
	desc = {
		text = kirin_crisis.17.d_2
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
	}
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.17.a
		add_stability = -0.03
	}
	option = {
		name = kirin_crisis.17.b
		add_political_power = -150
		add_popularity = {
			ideology = fascism
			popularity = -0.03
		}
	}
	option = {
		name = kirin_crisis.17.c
		trigger = { has_country_flag = KIR_did_not_expel_communists} 
		add_political_power = -150
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
	}
}

country_event = {
	id = kirin_crisis.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.18"}
	title = kirin_crisis.18.t
	desc = kirin_crisis.18.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.18.a
		add_political_power = -70
	}
	option = {
		name = kirin_crisis.18.b
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
	}
}

country_event = {
	id = kirin_crisis.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.19"}
	title = kirin_crisis.19.t
	desc = kirin_crisis.19.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.19.a
		custom_effect_tooltip = KIR_event_19a_tt
		hidden_effect = {
			load_oob = KIR_frontier
		}
	}
	option = {
		name = kirin_crisis.19.b
		add_command_power = 30
		army_experience = 30
		add_manpower = 20000
		add_equipment_to_stockpile = { type = infantry_equipment amount = 1000 }
	}
}

country_event = {
	id = kirin_crisis.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.20"}
	title = kirin_crisis.20.t
	desc = kirin_crisis.20.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.20.a
		add_stability = 0.03
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
	}
	option = {
		name = kirin_crisis.20.b
		add_political_power = 100
		add_popularity = {
			ideology = fascism
			popularity = 0.03
		}
	}
}

country_event = {
	id = kirin_crisis.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.21"}
	title = kirin_crisis.21.t
	desc = kirin_crisis.21.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.21.a
		add_political_power = -50
		add_stability = -0.01
		set_country_flag = KIR_pol_7_available
		custom_effect_tooltip = available_political_advisor
		if = {
			limit = {
				NOT = {
					has_dlc = "La Resistance"
				}
			}
			show_ideas_tooltip = KIR_pol_7
		}
		else_if = {
			limit = {
				has_dlc = "La Resistance"
			}
			show_ideas_tooltip = KIR_pol_7_lar
		}
	}
	option = {
		name = kirin_crisis.21.b
		add_command_power = -25
	}
}

country_event = {
	id = kirin_crisis.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_crisis.22"}
	immediate = {
		set_country_flag = KIR_crisis_event_22_has_fired
	}
	title = kirin_crisis.22.t
	desc = kirin_crisis.22.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = kirin_crisis.22.a
		add_political_power = -70
		add_popularity = {
			ideology = communism
			popularity = 0.03
		}
	}
	option = {
		name = kirin_crisis.22.b
		custom_effect_tooltip = KIR_crisis_event_22b_tt
		set_country_flag = KIR_crisis_event_22_chose_option_b
	}
}

country_event = {
	id = kirin_council.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.1"}
	title = kirin_council.1.t
	desc = kirin_council.1.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.1.a
		add_political_power = 100
		add_war_support = 0.05
	}
}

country_event = {
	id = kirin_council.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.2"}
	title = kirin_council.2.t
	desc = kirin_council.2.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.2.a
		add_political_power = 50
	}
}

country_event = {
	id = kirin_council.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.3"}
	title = kirin_council.3.t
	desc = kirin_council.3.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.3.a
		custom_effect_tooltip = KIR_council_chose_peaceful_unlock_focus_tt
		set_country_flag = KIR_council_chose_peaceful_flag
	}
	
	option = {
		name = kirin_council.3.b
		custom_effect_tooltip = KIR_council_chose_war_unlock_focus_tt
		set_country_flag = KIR_council_chose_war_flag
	}
}

country_event = {
	id = kirin_council.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.4"}
	title = kirin_council.4.t
	desc = kirin_council.4.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.4.a
		add_war_support = 0.1
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}
}

country_event = {
	id = kirin_council.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.5"}
	title = kirin_council.5.t
	desc = kirin_council.5.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.5.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

country_event = {
	id = kirin_council.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.6"}
	title = kirin_council.6.t
	desc = kirin_council.6.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.6.a
		add_timed_idea = {
			idea = KIR_sunrise_massacre_memory
			days = 365
		}
		reverse_add_opinion_modifier = {
			target = KIR
			modifier = KIR_opportunism
		}
	}
	option = {
		name = kirin_council.6.b
		add_political_power = -10
	}
}

country_event = {
	id = kirin_council.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.7"}
	title = kirin_council.7.t
	desc = kirin_council.7.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.7.a
		activate_mission = KIR_nakp_treasury_monthly_income
		custom_effect_tooltip = KIR_council_7_tt
		add_to_variable = { var = TreasuryWealth value = 250000 }
	}
}

country_event = {
	id = kirin_council.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.8"}
	title = kirin_council.8.t
	desc = kirin_council.8.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.8.a
		set_country_flag = KIS_northern_compact_plebiscite_begun
		unlock_decision_tooltip = KIS_plebiscite_fragrance_decision
		unlock_decision_tooltip = KIS_plebiscite_comely_cape_decision
		unlock_decision_tooltip = KIS_plebiscite_prosperous_dell_decision
		unlock_decision_tooltip = KIS_plebiscite_rhapsody_decision
		unlock_decision_tooltip = KIS_plebiscite_radiance_decision
		unlock_decision_tooltip = KIS_plebiscite_viridian_coast_decision
		unlock_decision_tooltip = KIS_plebiscite_apricot_glen_decision
		unlock_decision_tooltip = KIS_plebiscite_verdant_fields_decision
	}
}

country_event = {
	id = kirin_council.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.9"}
	title = kirin_council.9.t
	desc = kirin_council.9.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.9.a
		add_stability = 0.03
		set_country_flag = KIS_plebiscite_rhapsody_establishment
		custom_effect_tooltip = KIR_event_council_9a_tt
	}
	
	option = {
		name = kirin_council.9.b
		add_political_power = 70
		set_country_flag = KIS_plebiscite_rhapsody_people
		custom_effect_tooltip = KIR_event_council_9b_tt
	}
}

country_event = {
	id = kirin_council.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_council.10"}
	title = kirin_council.10.t
	desc = kirin_council.10.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_council.10.a
		add_political_power = -50
		add_stability = 0.01
		set_country_flag = KIS_plebiscite_viridian_coast_everykirin
		custom_effect_tooltip = KIR_event_council_10a_tt
	}
	
	option = {
		name = kirin_council.10.b
		add_political_power = 150
		add_stability = -0.03
		set_country_flag = KIS_plebiscite_viridian_coast_diaspora
		custom_effect_tooltip = KIR_event_council_10b_tt
	}
}

country_event = {
	id = kirin_republic.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_republic.1"}
	title = kirin_republic.1.t
	desc = kirin_republic.1.d
	
	picture = GFX_event_KIR_evening
	
	is_triggered_only = yes
	
	option = {
		name = kirin_republic.1.a
		add_political_power = 150
		add_war_support = 0.1
	}
}

news_event = {
	id = kirin_republic.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_republic.2"}
	immediate = { set_country_flag = KIC_republic_event_2_fired }
	title = kirin_republic.2.t
	desc = kirin_republic.2.d
	picture = GFX_news_event_palace_supreme_harmony

	major = no
	
	trigger = {
		OR = {
			original_tag = KIC
			original_tag = KIS
			original_tag = KIR
		}
		KIR = {
			OR = {
				has_country_flag = KIR_crisis_event_22_chose_option_b
				NOT = { has_country_flag = KIR_crisis_event_22_has_fired }
			}
		}
		KIC = {
			has_war_with = KIR
			has_country_flag = KIR_bipartite_war_started_flag
			NOT = { has_country_flag = KIC_republic_event_2_fired }
		}
	}
	
	option = {
		name = kirin_republic.2.a
		trigger = {
			original_tag = KIC
		}
		add_war_support = 0.03
		add_timed_idea = {
			idea = KIR_sunrise_massacre_memory
			days = 365
		}
	}
	option = {
		name = kirin_republic.2.b
		trigger = {
			original_tag = KIS
		}
		add_opinion_modifier = {
			target = KIR
			modifier = KIS_distate
		}
		country_event = { id = kirin_council.6 hours = 12 }
	}
	option = {
		name = kirin_republic.2.c
		trigger = {
			original_tag = KIR
		}
		add_war_support = -0.03
		add_political_power = -50
	}
}


country_event = {
	id = kirin_test.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.1"}

	hidden = yes
	is_triggered_only = yes
	option = {
		every_country = {
			limit = {
				NOT = {
					original_tag = KIR
					original_tag = KIC
					original_tag = KIS
				}
			}
			country_event = { id = kirin_test.2 }
		}
	}
}

country_event = {
	id = kirin_test.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.2"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		FROM = {
			annex_country = {
				target = ROOT
			}
		}
	}
}

country_event = {
	id = kirin_test.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.3"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		add_manpower = 1000000
		division_template = {
			name = "Garrison Banner"
			division_names_group = KIR_BANNER
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 15000
		}
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 60 }
			create_unit = { division = "division_template = \"Kirin Vanguards\"	start_experience_factor = 0.3" owner = ROOT count = 20 }
		}
		KIS = {
			transfer_state = 1071
			transfer_state = 1088
			transfer_state = 1060
			transfer_state = 1066
			set_capital = 1071
			inherit_technology = KIR
		}
		KIR = {
			transfer_units_fraction= {
				target = KIS
				size = 0.25
				stockpile_ratio = 0.3
				navy_ratio = 1
			}
		}
		KIC = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
		}
		KIS = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR = {
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR_KIS_transfer_civil_war_provinces = yes
		KIR = {
			transfer_units_fraction= {
				target = KIC
				size = 0.4
				stockpile_ratio = 0.3
			}
		}
		1059 = {
			create_unit = {
				division = "name = \"Vermilion Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.7" 
				owner = KIR 
				prioritize_location = 20456 
				allow_spawning_on_enemy_provs = no 
				count = 1
				#id = 777
			}
		}
		1073 = {
			create_unit = {
				division = "name = \"Verdant Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.75" 
				owner = KIR 
				prioritize_location = 16672 
			}
		}
		1069 = {
			create_unit = {
				division = "name = \"Sorghum Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.2 start_equipment_factor = 0.25" 
				owner = KIR 
				prioritize_location = 20626 
			}
		}
		1064 = {
			create_unit = {
				division = "name = \"Massicot Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.75" 
				owner = KIR 
				prioritize_location = 20416 
			}
		}
		1081 = {
			create_unit = {
				division = "name = \"Chrysanthemum Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.2 start_equipment_factor = 0.3" 
				owner = KIR 
				prioritize_location = 20392 
			}
		}
		1071 = {
			create_unit = {
				division = "name = \"Fragrance Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.88" 
				owner = KIS 
				prioritize_location = 20563 
			}
		}
		1060 = {
			create_unit = {
				division = "name = \"Rhapsody Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.9" 
				owner = KIS 
				prioritize_location = 20524
			}
		}
	}
}

country_event = {
	id = kirin_test.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.4"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		#1059 = {
		#	create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 1600 }
		#}
		#set_capital = 1063
		#activate_mission = KIR_nakp_treasury_monthly_income
		#add_to_variable = { var = TreasuryDebt value = 5000 }
		#subtract_from_variable = { var = TreasuryDebt value = 5000 }
		#add_to_variable = { var = KIS_plebiscite_average_popular_support value = 50 }
		set_variable = { var = KIS_plebiscite_average_popular_support value = 100 }
		#KIS_plebiscite_calculate_average_popular_support = yes
	}
}

country_event = {
	id = kirin_test.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.5"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		#set_cosmetic_tag = KIR_mil1
		#set_cosmetic_tag = KIR_trad1
		#set_cosmetic_tag = KIR_auto1
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
		}
		set_province_name = {
			id = 16704
			name = "Eventide"
		}
		set_victory_points = {
			province = 16704
			value = 5    
		}
	}
}

country_event = {
	id = kirin_test.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.6"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		add_to_variable = { KIR_diary_SG_protag_1_button_var = 1 } ##unlocks one entry for protag 1
		meta_effect = {
		  text = {
			set_variable = { KIR_diary_SG_protag_1_entry_[IDKIRX]_var = 1 } ##sets protag 1 entry (the last entry of all of protag 1's available entries) as loc entry 1
		  }
		  IDKIRX = "[?KIR_diary_SG_protag_1_button_var|0]"
		}
		KIR_unlock_entry_effect = yes
		KIR_diary_SG_protag_1_button_click_effect = yes
	}
}

country_event = {
	id = kirin_test.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.7"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		set_country_flag = KIR_sycee_trading_house_available
		set_country_flag = KIR_motor_bureau_available
		set_country_flag = KIR_rhapsody_arsenal_available
		set_country_flag = KIR_artificer_guild_available
		set_country_flag = KIR_wingluck_consortium_available
		set_country_flag = KIR_armour_bureau_available
		set_country_flag = KIR_collegium_available
		set_country_flag = KIR_massicot_academy_available
		set_country_flag = KIR_cog_plow_bull_co_available
		set_country_flag = KIR_dreamboat_available
		set_country_flag = KIR_crane_heavy_industries_available
		set_country_flag = KIR_scarlet_sails_shipyards_available
		set_country_flag = KIR_pol_6_available
	}
}

country_event = {
	id = kirin_test.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.8"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 15 }
		}
		KIS = {
			transfer_state = 1071
			transfer_state = 1087
			transfer_state = 1088
			transfer_state = 1066
			set_capital = 1071
			inherit_technology = KIR
			every_controlled_state = {
				add_core_of = KIS
			}
			set_cosmetic_tag = KIR_auto1
		}
		KIR = {
			transfer_units_fraction= {
				target = KIS
				size = 0.36
				stockpile_ratio = 0.3
				navy_ratio = 1
			}
		}
	}
}