add_namespace = mazwi
add_namespace = mazwihosts

country_event = { # First event
	id = mazwi.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.1"}
	title = mazwi.1.t
	desc = mazwi.1.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.1.a
		add_stability = -0.05
	}
}
country_event = { # Return of Kelece
	id = mazwi.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.2"}
	title = mazwi.2.t
	desc = mazwi.2.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.2.a
		add_stability = 0.05
		country_event = mazwi.3
	}
}
country_event = { # Return of Kelece
	id = mazwi.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.3"}
	title = mazwi.3.t
	desc = mazwi.3.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.3.a
		MAZ_kelece = {
			add_corps_commander_role = {
				traits = { promising_general zebra_race_trait }
				desc = MAZ_kelece_desc
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
		}
		division_template = {
			name = "Sofa Regiment"
			is_locked = yes
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 1 y = 3 }
			}
			support = {
				recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
			}
		}
		hidden_effect = {
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"1. Npan Yeelen Regiment\" division_template = \"Sofa Regiment\" start_experience_factor = 0.8"
					owner = ROOT
				}
			}
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"2. Npan Yeelen Regiment\" division_template = \"Sofa Regiment\" start_experience_factor = 0.8"
					owner = ROOT
				}
			}
		}
		custom_effect_tooltip = MAZ_kelece_regiment_tt
		hidden_effect = {
			country_event = { id = mazwihosts.1 days = 15 }
		}
	}
}
country_event = { # Gwitziko Operation
	id = mazwi.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.4"}
	title = mazwi.4.t
	desc = mazwi.4.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.4.a
		random_owned_controlled_state = {
			prioritize = { 947 }
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		add_equipment_to_stockpile = { type = infantry_equipment amount = 150 }
	}
}
country_event = { # Decree on Imperial Continuation
	id = mazwi.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.5"}
	title = mazwi.5.t
	desc = mazwi.5.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.5.a
		add_political_power = 25
		add_war_support = 0.05
	}
}
country_event = { # The new Mansamara-Tigui
	id = mazwi.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.6"}
	title = mazwi.6.t
	desc = mazwi.6.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.6.a
		add_popularity = { 
		    ideology = democratic
		    popularity = 0.05
		}
		add_advisor_role = {
			character = MAZ_zanga_senghore
			advisor = {
				slot = political_advisor
				idea_token = MAZ_zanga_senghore
				on_add = { add_to_variable = { amount_hired_political_advisors = 1 } }
				on_remove = { add_to_variable = { amount_hired_political_advisors = -1 } }
				available = {
					has_government = neutrality
				}
				traits = {
					MAZ_naive_reformer
				}
				ai_will_do = {
					factor = 1
				}
			}
		}
		if = {
			limit = {
				check_variable = { amount_hired_political_advisors < 3 }
			}
			activate_advisor = MAZ_zanga_senghore
		}
		hidden_effect = {
			country_event = { id = mazwi.8 days = 180 }
		}
	}
	option = {	
	    name = mazwi.6.b
		add_popularity = { 
		    ideology = fascism
		    popularity = 0.05
		}
		add_advisor_role = {
			character = MAZ_bagabaga_daba
			advisor = {
				slot = political_advisor
				idea_token = MAZ_bagabaga_daba
				on_add = { add_to_variable = { amount_hired_political_advisors = 1 } }
				on_remove = { add_to_variable = { amount_hired_political_advisors = -1 } }
				available = {
					has_government = neutrality
				}
				traits = {
					MAZ_the_shadow
				}
				ai_will_do = {
					factor = 1
				}
			}
		}
		if = {
			limit = {
				check_variable = { amount_hired_political_advisors < 3 }
			}
			activate_advisor = MAZ_bagabaga_daba
		}
		hidden_effect = {
			country_event = { id = mazwi.9 days = 180 }
		}
	}
}
country_event = { # Negotiations with Re'emites
	id = mazwi.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.7"}
	title = mazwi.7.t
	desc = mazwi.7.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.7.a
		add_political_power = -50
		custom_effect_tooltip = MAZ_reemite_industry_tt
		set_country_flag = MAZ_reemite_industry
	}
	option = {	
	    name = mazwi.7.b
		add_political_power = -25
		add_ideas = MAZ_reemite_innovations
	}
}
country_event = { # Worries about the Sofa - Senghore
	id = mazwi.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.8"}
	title = mazwi.8.t
	desc = mazwi.8.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.8.a
		add_war_support = -0.05
		add_command_power = -50
	}
}
country_event = { # Worries about the Sofa - Daba
	id = mazwi.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.9"}
	title = mazwi.9.t
	desc = mazwi.9.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.9.a
		add_war_support = -0.05
		add_command_power = -50
	}
}
country_event = { # Recruitment - Tribes
	id = mazwi.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.10"}
	title = mazwi.10.t
	desc = mazwi.10.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.10.a
		custom_effect_tooltip = MAZ_deal_with_eastern_clans_tt
		if = {
			limit = {
				has_completed_focus = MAZ_rebuild_command_structure
			}
			division_template = {
				name = "Western Spirit Warriors"		

				regiments = {
					spirit_warriors = { x = 0 y = 0 }
					spirit_warriors = { x = 0 y = 1 }
					spirit_warriors = { x = 0 y = 2 }
					spirit_warriors = { x = 1 y = 0 }
					spirit_warriors = { x = 1 y = 1 }
					spirit_warriors = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
		}
		else = {
			division_template = {
				name = "Western Spirit Warriors"		
				is_locked = yes
				regiments = {
					spirit_warriors = { x = 0 y = 0 }
					spirit_warriors = { x = 0 y = 1 }
					spirit_warriors = { x = 0 y = 2 }
					spirit_warriors = { x = 1 y = 0 }
					spirit_warriors = { x = 1 y = 1 }
					spirit_warriors = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
		}
		hidden_effect = {
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"1. Western Spirit Warriors Regiment\" division_template = \"Western Spirit Warriors\" start_experience_factor = 0.1"
					owner = ROOT
				}
			}
		}
	}
}
country_event = { # Recruitment - Sofa
	id = mazwi.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.11"}
	title = mazwi.11.t
	desc = mazwi.11.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.11.a
		custom_effect_tooltip = MAZ_recruit_sofa_tt
		if = {
			limit = {
				has_completed_focus = MAZ_rebuild_command_structure
			}
			division_template = {
				name = "Restored Sofa Regiment"		

				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
		}
		else = {
			division_template = {
				name = "Restored Sofa Regiment"		
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
		}
		hidden_effect = {
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"1. Great Faama Regiment\" division_template = \"Restored Sofa Regiment\" start_experience_factor = 0.3"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2. Great Faama Regiment\" division_template = \"Restored Sofa Regiment\" start_experience_factor = 0.3"
					owner = ROOT
				}
			}
		}
	}
}
country_event = { # Recruitment - Civilians
	id = mazwi.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.12"}
	title = mazwi.12.t
	desc = mazwi.12.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwi.12.a
		custom_effect_tooltip = MAZ_city_patriots_tt
		if = {
			limit = {
				has_completed_focus = MAZ_rebuild_command_structure
			}
			division_template = {
				name = "Volunteer Regiment"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
			}
		}
		else = {
			division_template = {
				name = "Volunteer Regiment"
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
			}
		}
		hidden_effect = {
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"1. Volunteer Regiment\" division_template = \"Volunteer Regiment\" start_experience_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"2. Volunteer Regiment\" division_template = \"Volunteer Regiment\" start_experience_factor = 0.1"
					owner = ROOT
				}
				create_unit = {
					division = "name = \"3. Volunteer Regiment\" division_template = \"Volunteer Regiment\" start_experience_factor = 0.1"
					owner = ROOT
				}
			}
		}
	}
}
country_event = { # New Generals
	id = mazwi.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwi.13"}
	title = mazwi.13.t
	desc = mazwi.13.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
		name = mazwi.13.a
		add_war_support = 0.05
	}
}

### The Three War Hosts ###

country_event = { # News reach Futa Zallon 
	id = mazwihosts.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.1"}
	title = mazwihosts.1.t
	desc = mazwihosts.1.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.1.a
		custom_effect_tooltip = MAZ_first_warband_tt
		set_country_flag = crisis_in_progress
		hidden_effect = {
			activate_mission = MAZ_first_warband
		}
	}
}
country_event = { # The Regional Army Rises
	id = mazwihosts.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.2"}
	title = mazwihosts.2.t
	desc = mazwihosts.2.d
	
	picture = GFX_event_zebrica_1
	immediate = {
		hidden_effect = {
			MAZ_spawn_warband_1 = yes
		}
	}
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.2.a
		swap_ideas = {
			remove_idea = MAZ_warlordism
			add_idea = MAZ_warlordism_2
		}
		effect_tooltip = {
			event_target:fz_army = {
				declare_war_on = {
					target = MAZ
					type = annex_everything
				}
			}
		}
		custom_effect_tooltip = MAZ_defeat_warband_quickly_tt
		set_country_flag = { 
			flag = MAZ_warband_1_defeated_quickly # needed for the defeat event 
			days = 14 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_1_defeated_moderate
			days = 30 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_1_defeated_slowly
			days = 45
			value = 1 
		}
		hidden_effect = {
			country_event = { id = mazwihosts.3 days = 15 }
		}
	}
}
country_event = { # News reach Buckure 
	id = mazwihosts.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.3"}
	title = mazwihosts.3.t
	desc = mazwihosts.3.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.3.a
		custom_effect_tooltip = MAZ_second_warband_tt
		set_country_flag = crisis_in_progress
		hidden_effect = {
			activate_mission = MAZ_second_warband
		}
	}
}
country_event = { # The Emancipation Army Rises
	id = mazwihosts.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.4"}
	title = mazwihosts.4.t
	desc = mazwihosts.4.d
	
	picture = GFX_event_zebrica_1
	immediate = {
		hidden_effect = {
			MAZ_spawn_warband_2 = yes
		}
	}
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.4.a
		swap_ideas = {
			remove_idea = MAZ_warlordism_2
			add_idea = MAZ_warlordism_3
		}
		effect_tooltip = {
			event_target:bre_army = {
				declare_war_on = {
					target = MAZ
					type = annex_everything
				}
			}
		}
		custom_effect_tooltip = MAZ_defeat_warband_quickly_tt
		set_country_flag = { 
			flag = MAZ_warband_2_defeated_quickly # needed for the defeat event 
			days = 14 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_2_defeated_moderate
			days = 30 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_2_defeated_slowly
			days = 45
			value = 1 
		}
		hidden_effect = {
			country_event = { id = mazwihosts.5 days = 15 }
		}
	}
}
country_event = { # News reach Gwitziko
	id = mazwihosts.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.5"}
	title = mazwihosts.5.t
	desc = mazwihosts.5.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.5.a
		custom_effect_tooltip = MAZ_third_warband_tt
		set_country_flag = crisis_in_progress
		hidden_effect = {
			activate_mission = MAZ_third_warband
		}
	}
}
country_event = { # The Restoration Army Rises
	id = mazwihosts.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.6"}
	title = mazwihosts.6.t
	desc = mazwihosts.6.d
	
	picture = GFX_event_zebrica_1
	immediate = {
		hidden_effect = {
			MAZ_spawn_warband_3 = yes
		}
	}
	is_triggered_only = yes
		
	option = {	
	    name = mazwihosts.6.a
		
		remove_ideas = MAZ_warlordism_3
		effect_tooltip = {
			event_target:rest_army = {
				declare_war_on = {
					target = MAZ
					type = annex_everything
				}
			}
		}
		custom_effect_tooltip = MAZ_defeat_warband_quickly_tt
		set_country_flag = { 
			flag = MAZ_warband_3_defeated_quickly # needed for the defeat event 
			days = 14 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_3_defeated_moderate
			days = 30 
			value = 1 
		}
		set_country_flag = { 
			flag = MAZ_warband_3_defeated_slowly
			days = 45
			value = 1 
		}
	}
}
country_event = { # Zeydu defeated - haven't yet set up the trigger
	id = mazwihosts.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.7"}
	title = mazwihosts.7.t
	desc = mazwihosts.7.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
	immediate = {
		MAZ_warband_1_units = yes
	}
		
	option = {	
	    name = mazwihosts.7.a
		if = {
			limit = {
				OR = {
					has_country_flag = MAZ_warband_1_defeated_quickly
					has_country_flag = MAZ_warband_1_defeated_moderate
					has_country_flag = MAZ_warband_1_defeated_slowly
				}
			}
			custom_effect_tooltip = MAZ_warband_units_spawned_tt
		}
		else = {
			custom_effect_tooltip = MAZ_warband_units_not_spawned_tt
			add_war_support = -0.05
		}
	}
}
country_event = { # Zenguella defeated - haven't yet set up the trigger
	id = mazwihosts.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.8"}
	title = mazwihosts.8.t
	desc = mazwihosts.8.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
	immediate = {
		MAZ_warband_2_units = yes
	}
		
	option = {	
	    name = mazwihosts.8.a
		if = {
			limit = {
				OR = {
					has_country_flag = MAZ_warband_2_defeated_quickly
					has_country_flag = MAZ_warband_2_defeated_moderate
					has_country_flag = MAZ_warband_2_defeated_slowly
				}
			}
			custom_effect_tooltip = MAZ_warband_units_spawned_tt
		}
		else = {
			custom_effect_tooltip = MAZ_warband_units_not_spawned_tt
			add_war_support = -0.05
		}
	}
}
country_event = { # Sassouma defeated - haven't yet set up the trigger
	id = mazwihosts.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event mazwihosts.9"}
	title = mazwihosts.9.t
	desc = mazwihosts.9.d
	
	picture = GFX_event_zebrica_1
	is_triggered_only = yes
	immediate = {
		MAZ_warband_3_units = yes
	}
		
	option = {	
	    name = mazwihosts.9.a
		if = {
			limit = {
				OR = {
					has_country_flag = MAZ_warband_3_defeated_quickly
					has_country_flag = MAZ_warband_3_defeated_moderate
					has_country_flag = MAZ_warband_3_defeated_slowly
				}
			}
			custom_effect_tooltip = MAZ_warband_units_spawned_tt
		}
		else = {
			custom_effect_tooltip = MAZ_warband_units_not_spawned_tt
			add_war_support = -0.05
		}
	}
}
