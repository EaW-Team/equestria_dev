add_namespace = quaggatai_placeholder

country_event = {
	id = quaggatai_placeholder.1 ## Khan wants Conquest
	immediate = {log = "[GetDateText]: [Root.GetName]: event quaggatai_placeholder.1"}
	title = quaggatai_placeholder.1.t
	desc = quaggatai_placeholder.1.d
	picture = GFX_event_colthage
	
	fire_only_once = yes
	
	trigger = {
		tag = CGI
		exists = yes
		has_war = no
		is_subject = no
		any_owned_state = { # War hasn't already happend
			is_core_of = CDR # Coltdar
		}
		date > 1010.01.01
	}
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						original_tag = CTH
						original_tag = CVA
						original_tag = HIE
						original_tag = TRO
					}
				}
				country_event = {
					id = quaggatai_placeholder.2 # Warning
					days = 2
				}
				
				if = {
					limit = {
						is_subject = yes
					}
					overlord = {
						country_event = quaggatai_placeholder.2 # As well
					}
				}
				
				ROOT = {
					add_ai_strategy = {
						type = prepare_for_war
						id = PREV
						value = 200
					}
				}
			}
			country_event = {
				id = quaggatai_placeholder.3
				days = 30 # War
			}
		}
	}
	
	option = {
		name = quaggatai_placeholder.1.a
		
		custom_effect_tooltip = CGI_war_thirty_days_warning_own
	}
}

country_event = {
	id = quaggatai_placeholder.2 ## War Warning
	immediate = {log = "[GetDateText]: [Root.GetName]: event quaggatai_placeholder.2"}
	title = quaggatai_placeholder.2.t
	desc = quaggatai_placeholder.2.d
	picture = GFX_event_colthage
	
	is_triggered_only = yes
	
	immediate = {
		add_ai_strategy = {
			type = prepare_for_war
			id = CGI
			value = 200
		}
	}
	
	option = { # Full War
		name = quaggatai_placeholder.2.a
		
		trigger = {
			NOT = {
				AND = {
					original_tag = CTH
					# Constitutionalists cannot have a full war
					has_country_flag = CTH_colthage_constitutionalist
				}
			}
		}
		
		custom_effect_tooltip = CGI_war_thirty_days_warning_foreign
		
		custom_effect_tooltip = CTH_full_CGI_war_tt
		
		ai_chance  = {
			base = 0
		}
	}
	
	option = { # Limited War
		name = quaggatai_placeholder.2.b
		
		trigger = {
			original_tag = CTH
			NOT = {
				OR = { # Militarists and Scientifids cannot have a limited war
					has_country_flag = CTH_colthage_militarists
					has_country_flag = CTH_colthage_scientifids
				}
			}
		}
		
		custom_effect_tooltip = CGI_war_thirty_days_warning_foreign
		
		custom_effect_tooltip = CTH_limited_CGI_war_tt
		set_country_flag = CTH_limited_CGI_war_flag
		
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = quaggatai_placeholder.3 ## Conquest Starts
	immediate = {log = "[GetDateText]: [Root.GetName]: event quaggatai_placeholder.3"}
	title = quaggatai_placeholder.3.t
	desc = quaggatai_placeholder.3.d
	picture = GFX_event_colthage
	
	is_triggered_only = yes
	fire_only_once = yes
	
	# In case Quaggatai got puppeted in the last 30 days
	trigger = { is_subject = no }
	
	option = {
		name = quaggatai_placeholder.3.a
		
		every_country = {
			limit = {
				OR = {
					original_tag = CTH
					original_tag = CVA
					original_tag = HIE
					original_tag = TRO
				}
			}
			ROOT = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}
}