add_namespace = rockunion
add_namespace = rockunion_postwar

country_event = { ## Maud arrives home
	id = rockunion.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion.1"}
	title = rockunion.1.t
	desc = rockunion.1.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = {
		name = rockunion.1.a
		every_possible_country = {
			limit = {
				has_character = EQS_maudpie
			}
			EQS_maudpie = {
				set_nationality = ROC
			}
		}
		EQS_maudpie = {
			add_country_leader_role = {
				promote_leader = yes
	
				country_leader={
					desc="POLITICS_MAUDPIE_DESC"
					traits = {
						vigilant
					}
					ideology=socialism
					expire="1965.1.1.1"
				}
			}
			hidden_effect = {
				remove_advisor_role = {
					slot = high_command
				}	
			}
			add_advisor_role = {
				advisor = {
					slot = political_advisor
					idea_token = ROC_maudpie
					can_be_fired = no
					traits = {
						ROC_daughter_of_rockville
					}
				}
				activate = yes
			}
		}
		set_party_name = {
			ideology = democratic
			long_name = ROC_democratic_party2_long
			name = ROC_democratic_party2
		}
		hidden_effect = {
			every_owned_state = {
				add_dynamic_modifier = {
					modifier = ROC_state_decentralization_dynamic_modifier
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}



country_event = { ## Religious pony protests - Igneous is mad at the miners
	id = rockunion.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion.2"}
	title = rockunion.2.t
	desc = rockunion.2.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # support igneous
		name = rockunion.2.a
		if = {
			limit = {
				has_power_balance = {
					id = ROC_centralization_balance
				}
			}
			add_power_balance_value = {
				id = ROC_centralization_balance
				value = -0.05
			}
		}
	}
	option = { # support miners
		name = rockunion.2.b
		if = {
			limit = {
				has_power_balance = {
					id = ROC_centralization_balance
				}
			}
			add_power_balance_value = {
				id = ROC_centralization_balance
				value = 0.05
			}
		}
	}
}

country_event = { ## Conflict over districting
	id = rockunion.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion.3"}
	title = rockunion.3.t
	desc = rockunion.3.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # support igneous
		name = rockunion.3.a
		if = {
			limit = {
				has_power_balance = {
					id = ROC_centralization_balance
				}
			}
			add_power_balance_value = {
				id = ROC_centralization_balance
				value = -0.05
			}
		}
	}
	option = { # support miners
		name = rockunion.3.b
		if = {
			limit = {
				has_power_balance = {
					id = ROC_centralization_balance
				}
			}
			add_power_balance_value = {
				id = ROC_centralization_balance
				value = 0.05
			}
		}
	}
}



country_event = { ## Maud gets the groups to work together
	id = rockunion_postwar.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion_postwar.1"}
	title = rockunion_postwar.1.t
	desc = rockunion_postwar.1.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # Yay
		name = rockunion_postwar.1.a
		set_country_flag = ROC_maud_succeeded
		remove_power_balance = {
			id = ROC_centralization_balance
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			election_frequency = 48
		}
	}
}


country_event = { ## Miners coup successfully
	id = rockunion_postwar.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion_postwar.2"}
	title = rockunion_postwar.2.t
	desc = rockunion_postwar.2.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # OK
		name = rockunion_postwar.2.a
		set_country_flag = ROC_worker_coup
		remove_power_balance = {
			id = ROC_centralization_balance
		}
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		
	}
}


country_event = { ## Miners coup fails - Igneous countercoups!
	id = rockunion_postwar.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion_postwar.3"}
	title = rockunion_postwar.3.t
	desc = rockunion_postwar.3.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # Dang
		name = rockunion_postwar.3.a
		set_country_flag = ROC_faithful_countercoup
		remove_power_balance = {
			id = ROC_centralization_balance
		}
		
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}
}


country_event = { ## The war is over
	id = rockunion_postwar.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event rockunion_postwar.4"}
	title = rockunion_postwar.4.t
	desc = rockunion_postwar.4.d
	picture = GFX_event_our_town

	is_triggered_only = yes

	option = { # Yay
		name = rockunion_postwar.4.a
		load_focus_tree = ROC_postwar_focus
	}
}
