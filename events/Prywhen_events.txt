add_namespace = prywhen
add_namespace = brodfeld
add_namespace = prywhen_test
add_namespace = prywhen_news

country_event = {
	id = prywhen_test.1
	immediate = {log = "[Root.GetName]: event prywhen_test.1"}#Auto-logging
	title = "Testing"
	desc = prywhen_test.1.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes

	option = {
		name = "I want to test political line"
		annex_country = { target = BRF }
		add_manpower = 1000000
		add_political_power = 1000
		country_event = prywhen.1
		ai_chance = { factor = 0 }
	}
	option = {
		name = "No thanks"
		ai_chance = { factor = 1 }
	}
}

country_event = {
	id = prywhen.1

	title = prywhen.1.t
	desc = prywhen.1.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { 
					BAN = { 
						exists = yes 
						is_subject = no 
						NOT = {
							has_completed_focus = BAN_plot_against_blackrock
						}
					} 
				}
				BAN = {
					country_event = { id = prywhen.5 days = 1 random = 1392 } #days to hours applied
				}
			}
		}
	}

	option = {
		name = prywhen.1.a
		if = {
			limit = { is_subject = no }
			drop_cosmetic_tag = yes
		}
		add_political_power = 150 #White Flower
		set_global_flag = prywhen_civil_war_is_over
		set_country_flag = prywhen_aggressiveness
		hidden_effect = {
			remove_ideas = war_of_liberation
			remove_ideas = the_final_push_GRW
			swap_ideas = { remove_idea = war_economy add_idea = partial_economic_mobilisation }
			news_event = { id = prywhen_news.1 hours = 12 }
			if = {
				limit = {
					has_idea = GRW_famine
				}
				country_event = { id = prywhen.44 days = 30 random = 360 }#days to hours applied
			}
		}
		add_named_threat = { threat = -2 name = prywhen_civil_war_ended_threat }
		ai_chance = { factor = 0 }
	}
	option = {
		name = prywhen.1.b
		if = {
			limit = { is_subject = no }
			drop_cosmetic_tag = yes
		}
		add_political_power = 150
		set_capital = 508 #Kivessin
		set_country_flag = has_set_capital_in_Kivessin
		ai_chance = { factor = 100 }
		set_global_flag = prywhen_civil_war_is_over
		set_country_flag = prywhen_aggressiveness
		hidden_effect = {
			remove_ideas = war_of_liberation
			remove_ideas = the_final_push_GRW
			swap_ideas = { remove_idea = war_economy add_idea = partial_economic_mobilisation }
			news_event = { id = prywhen_news.1 hours = 12 }
			if = {
				limit = {
					has_idea = GRW_famine
				}
				country_event = { id = prywhen.44 days = 30 random = 360 }#days to hours applied
			}
		}
		add_named_threat = { threat = -2 name = prywhen_civil_war_ended_threat }
	}
	option = {
		name = prywhen.1.c
		if = {
			limit = { is_subject = no }
			drop_cosmetic_tag = yes
		}
		add_political_power = 150
		set_capital = 385 #Sydia
		set_country_flag = has_set_capital_in_Sydia
		set_global_flag = prywhen_civil_war_is_over
		set_country_flag = prywhen_aggressiveness
		hidden_effect = {
			remove_ideas = war_of_liberation
			remove_ideas = the_final_push_GRW
			swap_ideas = { remove_idea = war_economy add_idea = partial_economic_mobilisation }
			news_event = { id = prywhen_news.1 hours = 12 }
			if = {
				limit = {
					has_idea = GRW_famine
				}
				country_event = { id = prywhen.44 days = 30 random = 360 }#days to hours applied
			}
		}
		add_named_threat = { threat = -2 name = prywhen_civil_war_ended_threat }
		ai_chance = { factor = 0 }
	}
}
country_event = { ### ask bandits of help
	id = prywhen.2

	title = prywhen.2.t
	desc = prywhen.2.d
	picture = GFX_event_griffons_machine_gun

	is_triggered_only = yes
	option = {
		name = prywhen.2.a
		ai_chance = { factor = 100
			modifier = {
				factor = 0
				BAN = { has_government = communism }
			}
		}
		BAN = { country_event = { id = prywhen.3 hours = 12 } }
	}
	option = {
		name = prywhen.2.b
		ai_chance = { factor = 0
			modifier = {
				add = 100
				BAN = { has_government = communism }
			}
		}
	}
}
country_event = { ## event for bandits
	id = prywhen.3

	title = prywhen.3.t
	desc = prywhen.3.d
	picture = GFX_event_griffons_machine_gun

	is_triggered_only = yes
	option = {
		name = prywhen.3.a
		ai_chance = { factor = 50
			modifier = {
				factor = 0
				has_government = communism
			}
			modifier = {
				add = 40
				strength_ratio = { tag = GRW ratio > 0.8 }
			}
		}
		hidden_effect = {
			create_wargoal = { 
				type = annex_everything
				target = GRW
			}
		}
		declare_war_on = { target = GRW type = annex_everything }
		GRW = { set_country_flag = { flag = prywhen_aggressiveness value = -1 } }
		BRF = {
			diplomatic_relation = {
				country = BAN
				relation = non_aggression_pact
				active = yes
			}
			add_opinion_modifier = { target = BAN modifier = common_threat }
		}
		BAN = { 
			set_country_flag = faction_with_BRF 
			diplomatic_relation = {
				country = BRF
				relation = non_aggression_pact
				active = yes
			}
		}
	}
	option = {
		name = prywhen.3.b
		ai_chance = { factor = 50
			modifier = {
				add = 50
				strength_ratio = { tag = GRW ratio < 0.8 }
			}
		}
		BRF = {
			add_opinion_modifier = { target = BAN modifier = enemies }
			country_event = { id = prywhen.4 hours = 12 }
		}
	}
}
country_event = {
	id = prywhen.4

	title = prywhen.4.t
	desc = prywhen.4.d
	picture = GFX_event_griffons_machine_gun

	is_triggered_only = yes
	option = {
		name = prywhen.4.a
		add_political_power = -20
	}
}

country_event = {
	id = prywhen.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.5"}
	title = prywhen.5.t
	desc = prywhen.5.d
	picture = GFX_event_griffons_machine_gun

	trigger = {
		NOT = { has_government = communism }
	}
	is_triggered_only = yes #moved to prywhen.1
	fire_only_once = yes
	option = {
		name = prywhen.5.a
		ai_chance = {
			base = 50
			modifier = {
				add = 40
				strength_ratio = { tag = GRW ratio > 1.0 }
			}
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		hidden_effect = {
			create_wargoal = { 
				type = annex_everything
				target = GRW
			}
		}
		declare_war_on = { target = GRW type = annex_everything }
	}
	option = {
		name = prywhen.5.b
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				strength_ratio = { tag = GRW ratio < 1.0 }
			}
		}
		add_political_power = 100
	}
}
country_event = { ## MAKE PLAYER'S LIFE HARDER
	id = prywhen.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.6"}
	hidden = yes
	trigger = {
		tag = BRF
		is_ai = yes
		GRW = {
			is_ai = no
		}
	}
	is_triggered_only = yes
	fire_only_once = yes ## make them spawn forever ahhaha
	option = {
		load_oob = "BRF_fun_for_player"
	}
}
country_event = { ## Focus Militia
	id = prywhen.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.7"}
	title = prywhen.7.t
	desc = prywhen.7.d
	picture = GFX_event_griffons_machine_gun

	is_triggered_only = yes
	option = {
		name = prywhen.7.a
		hidden_effect = {
			load_oob = "GRW_militia"
		}
	}
}
country_event = { ## Focus Partisans
	id = prywhen.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.8"}
	title = prywhen.8.t
	desc = prywhen.8.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.8.a
		trigger = {
			589 = { is_controlled_by = BRF }
		}
		hidden_effect = {
			load_oob = "GRW_partisans_rice"
		}
	}
	option = {
		name = prywhen.8.b
		trigger = {
			508 = { is_controlled_by = BRF }
		}
		hidden_effect = {
			load_oob = "GRW_partisans_kiv"
		}
	}
	option = {
		name = prywhen.8.c
		trigger = {
			385 = { is_controlled_by = BRF }
		}
		hidden_effect = {
			load_oob = "GRW_partisans_port"
		}
	}
}
country_event = { ## Focus Victory in Civil War
	id = prywhen.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.9"}
	title = prywhen.9.t
	desc = prywhen.9.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.9.a
		remove_civil_war_aftermath_effect = yes
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = prywhen.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.10"}
	title = prywhen.10.t
	desc = prywhen.10.d
	picture = GFX_event_griffon_mountain

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = prywhen.10.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			if = {
				limit = { has_completed_focus = GRW_industrial_buildup }
				country_event = { id = prywhen.11 days = 1 random = 5256 }#days to hours applied
			}
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = prywhen.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.11"}
	title = prywhen.11.t
	desc = prywhen.11.d
	picture = GFX_event_griffon_mountain

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = prywhen.11.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			if = {
				limit = { has_completed_focus = GRW_reformation_of_agriculture }
				country_event = { id = prywhen.12 days = 15 random = 1800 }#days to hours applied
			}
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = prywhen.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.12"}
	title = prywhen.12.t
	desc = prywhen.12.d
	picture = GFX_event_griffon_mountain

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = prywhen.12.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = prywhen.13 days = 15 random = 1800 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = prywhen.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.13"}
	title = prywhen.13.t
	desc = prywhen.13.d
	picture = GFX_event_griffon_mountain

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = prywhen.13.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			if = {
				limit = { has_completed_focus = GRW_civillian_needs }
				country_event = { id = prywhen.14 days = 15 random = 1800 }#days to hours applied
			}
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = prywhen.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.14"}
	title = prywhen.14.t
	desc = prywhen.14.d
	picture = GFX_event_griffon_mountain

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = prywhen.14.a
		remove_civil_war_aftermath_effect = yes
	}
}

##### Bandits dissolving faction
country_event = {
	id = prywhen.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.15"}
	hidden = yes

	trigger = {
		tag = BAN
		has_country_flag = faction_with_BRF
		BRF = {
			OR = {
				exists = no
				has_capitulated = yes
			}
		}
	}
	fire_only_once = yes
	option = {
		diplomatic_relation = {
			country = BRF
			relation = non_aggression_pact
			active = no
		}
		clr_country_flag = faction_with_BRF
		add_political_power = -40
	}
}
################################
#Find the Prince
################################
country_event = {
	id = prywhen.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.16"}
	title = prywhen.16.t
	desc = prywhen.16.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.16.a
		hidden_effect = {
			random_list = { 
				50 = { 
					set_global_flag = BRFprince_escaped
					country_event = { id = prywhen.17 days = 2 random = 168 }#days to hours applied
				} 
				25 = { 
					set_global_flag = BRFprince_killed
					country_event = { id = prywhen.18 days = 2 random = 168 }#days to hours applied
				} 
				25 = { 
					set_global_flag = BRFprince_captured 
					country_event = { id = prywhen.19 days = 2 random = 168 }#days to hours applied
				}
			}
		}
	}
}
# prince escaped
country_event = {
	id = prywhen.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.17"}
	title = prywhen.17.t
	desc = prywhen.17.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.17.a
		add_political_power = -15
	}
}
country_event = {
	id = prywhen.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.18"}
	title = prywhen.18.t
	desc = prywhen.18.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.18.a
	}
}
country_event = {
	id = prywhen.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.19"}
	title = prywhen.19.t
	desc = prywhen.19.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.19.a
		set_global_flag = BRFprince_executed
		set_global_flag = BRFprince_killed
		add_political_power = 20
		add_stability = 0.05
		set_country_flag = { flag = prywhen_aggressiveness value = 4 }
		ai_chance = {
			base = 0
			modifier = {
				has_political_power < 0
				add = 1
			}
			modifier = {
				has_stability < 0.5
				add = 1
			}
		}
	}
	option = {
		name = prywhen.19.b
		set_global_flag = BRFprince_executed_private
		set_global_flag = BRFprince_killed
		add_political_power = 10
		set_country_flag = { flag = prywhen_aggressiveness value = 2 }
		ai_chance = {
			base = 0
			modifier = {
				has_political_power < 0
				add = 0.5
			}
		}
	}
	option = {
		name = prywhen.19.c
		set_global_flag = BRFprince_imprisoned
		ai_chance = {
			base = 1
		}
	}
}
###########################
#Fate of the Lord
###########################
country_event = {
	id = prywhen.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.20"}
	title = prywhen.20.t
	desc = prywhen.20.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.20.a
		hidden_effect = {
			random_list = { 
				20 = { 
					set_global_flag = BRFlord_escaped
					country_event = { id = prywhen.21 days = 2 random = 168 }#days to hours applied
				} 
				45 = { 
					set_global_flag = BRFlord_killed
					country_event = { id = prywhen.22 days = 2 random = 168 }#days to hours applied
				} 
				35 = { 
					set_global_flag = BRFlord_captured
					country_event = { id = prywhen.23 days = 2 random = 168 }#days to hours applied
				}
			}
		}
	}
}
country_event = {
	id = prywhen.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.21"}
	title = prywhen.21.t
	desc = prywhen.21.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.21.a
		add_political_power = -30
		add_stability = -0.04
	}
}
country_event = {
	id = prywhen.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.22"}
	title = prywhen.22.t
	desc = prywhen.22.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.22.a
		add_political_power = 10
		add_stability = 0.01
	}
}
country_event = {
	id = prywhen.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.23"}
	title = prywhen.23.t
	desc = prywhen.23.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.23.a
		set_global_flag = BRFlord_executed
		add_political_power = 50
		add_stability = 0.08
		set_country_flag = { flag = prywhen_aggressiveness value = 2 }
	}
	option = {
		name = prywhen.23.b
		set_global_flag = BRFlord_imprisoned
		add_political_power = 80
		add_stability = -0.05
	}
}
country_event = {
	id = prywhen.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.24"}
	title = prywhen.24.t
	desc = prywhen.24.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.24.a
		add_political_power = -200
		hidden_effect = {
			random_list = { 
				95 = { 
					set_global_flag = BRF_supporters_captured
					country_event = { id = prywhen.25 days = 1 random = 4776 }#days to hours applied
				} 
				5 = { 
					set_global_flag = BRF_supporters_not_captured 
					country_event = { id = prywhen.26 days = 1 random = 4776 }#days to hours applied
				}
			}
		}
	}
	option = {
		name = prywhen.24.b
		add_political_power = -150
		hidden_effect = {
			random_list = { 
				70 = { 
					set_global_flag = BRF_supporters_captured
					country_event = { id = prywhen.25 days = 1 random = 4776 }#days to hours applied
				} 
				30 = { 
					set_global_flag = BRF_supporters_not_captured
					country_event = { id = prywhen.26 days = 1 random = 4776 }#days to hours applied
				}
			}
		}
	}
	option = {
		name = prywhen.24.c
		add_political_power = -100
		hidden_effect = {
			random_list = { 
				50 = { 
					set_global_flag = BRF_supporters_captured
					country_event = { id = prywhen.25 days = 1 random = 4776 }#days to hours applied
				} 
				50 = { 
					set_global_flag = BRF_supporters_not_captured 
					country_event = { id = prywhen.26 days = 1 random = 4776 }#days to hours applied
				}
			}
		}
	}
	option = {
		name = prywhen.24.e
		add_political_power = -60
		hidden_effect = {
			random_list = { 
				40 = { 
					set_global_flag = BRF_supporters_captured
					country_event = { id = prywhen.25 days = 1 random = 4776 }#days to hours applied
				} 
				60 = { 
					set_global_flag = BRF_supporters_not_captured 
					country_event = { id = prywhen.26 days = 1 random = 4776 }#days to hours applied
				}
			}
		}
	}
}
country_event = {
	id = prywhen.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.25"}
	title = prywhen.25.t
	desc = prywhen.25.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.25.a
		trigger = {
			NOT = { has_country_flag = counter_revolution_successful }
		}
		add_political_power = 100
		add_stability = 0.1
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = -5000
		}
		restore_previous_manpower = yes
		add_popularity = { ideology = fascism popularity = -0.05 }
		add_popularity = { ideology = communism popularity = 0.1 }
		add_popularity = { ideology = neutrality popularity = -0.07 }
		set_country_flag = situation_secured
		add_ideas = GRW_revolutionary_unity
	}
	option = {
		name = prywhen.25.a
		trigger = {
			has_country_flag = counter_revolution_successful
		}
		add_political_power = 100
		add_stability = 0.1
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = -1000
		}
		restore_previous_manpower = yes
		add_popularity = { ideology = fascism popularity = -0.05 }
		add_popularity = { ideology = communism popularity = 0.1 }
		add_popularity = { ideology = neutrality popularity = -0.07 }
		add_ideas = GRW_revolutionary_unity
	}
}
country_event = {
	id = prywhen.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.26"}
	title = prywhen.26.t
	desc = prywhen.26.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.26.a
		add_stability = -0.1
		add_popularity = { ideology = neutrality popularity = 0.1 }
		add_popularity = { ideology = fascism popularity = 0.1 }
	}
}
### Attempt of a counter-revolution
### VVV ### FULL REVOLT YEE BOI ### Revolution super unstable
country_event = {
	id = prywhen.27
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.27"}
	title = prywhen.27.t
	desc = prywhen.27.d
	picture = GFX_event_griffons_machine_gun

	trigger = {
		tag = GRW
		NOT = {
			has_completed_focus = GRW_fate_of_the_lord
			has_completed_focus = GRW_root_out_supporters
			has_completed_focus = GRW_find_the_prince
		}
		has_global_flag = prywhen_civil_war_is_over
		NOT = { has_country_flag = counter_revolution_successful }
		BRF = { exists = no }
		NOT = {
			has_country_flag = { flag = monarchist_repressions value > 22 }
		}
		is_subject = no
	}
	mean_time_to_happen = { days = 150 }
	fire_only_once = yes
	option = {
		name = prywhen.27.a
		add_stability = -0.1
		add_manpower = -25000
		set_country_flag = counter_revolution_successful
		hidden_effect = {
			BRF = {
				add_manpower = 25000
				transfer_state = 508
				transfer_state = 590
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.4 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_strongest"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
}
# STRONGER
country_event = {
	id = prywhen.28
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.28"}
	title = prywhen.27.t
	desc = prywhen.27.d
	picture = GFX_event_griffons_machine_gun

	trigger = {
		tag = GRW
		NOT = { has_country_flag = counter_revolution_successful }
		has_global_flag = prywhen_civil_war_is_over
		OR = {
			NOT = {
				has_completed_focus = GRW_fate_of_the_lord
			}
			has_global_flag = BRFlord_escaped
		}
		OR = {
			NOT = {
				has_completed_focus = GRW_find_the_prince
			}
			has_global_flag = BRFprince_escaped
		}
		has_global_flag = BRF_supporters_not_captured
		BRF = { exists = no }
		NOT = {
			has_country_flag = { flag = monarchist_repressions value > 10 }
		}
		is_subject = no
	}
	mean_time_to_happen = { days = 100 }
	fire_only_once = yes
	option = {
		name = prywhen.27.a
		add_stability = -0.1
		add_manpower = -20000
		set_country_flag = counter_revolution_successful
		hidden_effect = {
			BRF = {
				add_manpower = 20000
				transfer_state = 508
				transfer_state = 590
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_stronger"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
}
# STRONG
country_event = {
	id = prywhen.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.29"}
	title = prywhen.27.t
	desc = prywhen.27.d
	picture = GFX_event_griffons_machine_gun

	trigger = {
		tag = GRW
		NOT = { has_country_flag = counter_revolution_successful }
		has_global_flag = prywhen_civil_war_is_over
		OR = {
			has_global_flag = BRFlord_escaped
			has_global_flag = BRFlord_killed
			has_global_flag = BRFlord_captured
		}
		OR = {
			has_global_flag = BRFprince_killed
			has_global_flag = BRFprince_captured
			has_global_flag = BRFprince_escaped
		}
		has_global_flag = BRF_supporters_not_captured
		BRF = { exists = no }
		NOT = {
			has_country_flag = { flag = monarchist_repressions value > 10 }
		}
		is_subject = no
	}
	mean_time_to_happen = { days = 100 }
	fire_only_once = yes
	option = {
		name = prywhen.27.a
		trigger = {
			has_global_flag = BRFprince_escaped
			has_global_flag = BRFlord_escaped
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -15000
		hidden_effect = {
			BRF = {
				add_manpower = 15000
				transfer_state = 508
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_strong"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			has_global_flag = BRFprince_escaped
			OR = {
				has_global_flag = BRFlord_captured
				has_global_flag = BRFlord_killed
			}
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -10000
		hidden_effect = {
			BRF = {
				add_manpower = 10000
				transfer_state = 508
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_strong_no_lord"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			OR = {
				has_global_flag = BRFprince_captured
				has_global_flag = BRFprince_killed
			}
			has_global_flag = BRFlord_escaped
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -13000
		hidden_effect = {
			BRF = {
				add_manpower = 13000
				transfer_state = 508
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_strong_no_prince"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			OR = {
				has_global_flag = BRFprince_captured
				has_global_flag = BRFprince_killed
			}
			OR = {
				has_global_flag = BRFlord_captured
				has_global_flag = BRFlord_killed
			}
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -8000
		hidden_effect = {
			BRF = {
				add_manpower = 8000
				transfer_state = 508
				transfer_state = 385
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				transfer_technology = yes
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_strong_no_leader"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
}
## WEAK ##
country_event = {
	id = prywhen.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.30"}
	title = prywhen.27.t
	desc = prywhen.27.d
	picture = GFX_event_griffons_machine_gun

	trigger = {
		tag = GRW
		NOT = { has_country_flag = counter_revolution_successful }
		has_global_flag = prywhen_civil_war_is_over
		OR = {
			has_global_flag = BRFlord_escaped
			has_global_flag = BRFlord_killed
			has_global_flag = BRFlord_captured
		}
		OR = {
			has_global_flag = BRFprince_killed
			has_global_flag = BRFprince_captured
			has_global_flag = BRFprince_escaped
		}
		has_global_flag = BRF_supporters_captured
		BRF = { exists = no }
		NOT = { has_country_flag = situation_secured }
		NOT = {
			divisions_in_state = { state = 508 size > 1 }
		}
		is_subject = no
	}
	mean_time_to_happen = { days = 100 }
	fire_only_once = yes
	option = {
		name = prywhen.27.a
		trigger = {
			has_global_flag = BRFprince_escaped
			has_global_flag = BRFlord_escaped
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -2000
		hidden_effect = {
			BRF = {
				add_manpower = 2000
				transfer_state = 508
				transfer_technology = yes
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.3 }
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_weak"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			OR = {
				has_global_flag = BRFprince_captured
				has_global_flag = BRFprince_killed
			}
			has_global_flag = BRFlord_escaped
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -1500
		hidden_effect = {
			BRF = {
				add_manpower = 1500
				transfer_state = 508
				transfer_technology = yes
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.4 }
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_weak_no_prince"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			has_global_flag = BRFprince_escaped
			OR = {
				has_global_flag = BRFlord_captured
				has_global_flag = BRFlord_killed
			}
		}
		set_country_flag = counter_revolution_successful
		add_stability = -0.1
		add_manpower = -1300
		hidden_effect = {
			BRF = {
				add_manpower = 1300
				transfer_state = 508
				transfer_technology = yes
				set_politics = { ruling_party = neutrality elections_allowed = no }
				add_popularity = { ideology = neutrality popularity = 0.7 }
				add_popularity = { ideology = fascism popularity = 0.4 }
				add_ideas = war_economy
				add_ideas = service_by_requirement
				add_ideas = pre_industrial_society
				add_ideas = better_science_base
				load_oob = "BRF_counter_revolution_weak_no_lord"
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything
						target = GRW
					}
				}
				declare_war_on = {
					target = GRW type = annex_everything
				}
			}
		}
	}
	option = {
		name = prywhen.27.a
		trigger = {
			OR = {
				has_global_flag = BRFprince_captured
				has_global_flag = BRFprince_killed
			}
			OR = {
				has_global_flag = BRFlord_captured
				has_global_flag = BRFlord_killed
			}
		}
		hidden_effect = {
			random_list = {
				15 = {
					set_country_flag = counter_revolution_successful
					add_stability = -0.1
					add_manpower = -800
					BRF = {
						add_manpower = 800
						transfer_state = 508
						set_politics = { ruling_party = neutrality elections_allowed = no }
						add_popularity = { ideology = neutrality popularity = 0.7 }
						add_popularity = { ideology = fascism popularity = 0.4 }
						transfer_technology = yes
						add_ideas = war_economy
						add_ideas = service_by_requirement
						add_ideas = pre_industrial_society
						add_ideas = better_science_base
						load_oob = "BRF_counter_revolution_weak_no_leader"
						hidden_effect = {
							create_wargoal = { 
								type = annex_everything
								target = GRW
							}
						}
						declare_war_on = {
							target = GRW type = annex_everything
						}
					}
				}
				85 = {
					country_event = { id = prywhen.33 }
				}
			}

		}
	}
}
### GRADUAL INDUSTRIALIZATION ####
country_event = {
	id = prywhen.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.31"}
	title = prywhen.31.t
	desc = prywhen.31.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.31.a
		swap_ideas = { remove_idea = pre_industrial_society1 add_idea = pre_industrial_society2 }
		hidden_effect = {
			country_event = { id = prywhen.32 days = 50 random = 7200 }#days to hours applied
		}
	}
}
country_event = {
	id = prywhen.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.32"}
	title = prywhen.32.t
	desc = prywhen.32.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.32.a
		swap_ideas = { remove_idea = pre_industrial_society2 add_idea = pre_industrial_society3 }
		hidden_effect = {
			country_event = { id = prywhen.35 days = 20 random = 5760 }#days to hours applied
		}
	}
}
country_event = {
	id = prywhen.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.33"}
	title = prywhen.33.t
	desc = prywhen.33.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		add_political_power = 100
		name = prywhen.33.a
	}
}
country_event = {
	id = prywhen.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.35"}
	title = prywhen.35.t
	desc = prywhen.35.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = prywhen.35.a
		add_ideas = outdated_industry
	}
}
## SEEK SUPPORT IN LUSHI ####
country_event = {
	id = prywhen.36
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.36"}
	title = prywhen.36.t
	desc = prywhen.36.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.36.a
		LUS = {
			country_event = prywhen.39
		}
	}
}
## SEEK SUPPORT IN GRYPHUS ####
country_event = {
	id = prywhen.37
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.37"}
	title = prywhen.37.t
	desc = prywhen.37.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.37.a
		GRU = {
			country_event = prywhen.39
		}
	}
}
## SEEK SUPPORT IN GRYPHIAN HOST ####
country_event = {
	id = prywhen.38
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.38"}
	title = prywhen.38.t
	desc = prywhen.38.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = prywhen.38.a
		GRY = {
			country_event = prywhen.39
		}
	}
}
## ANSWER EVENT ####
country_event = {
	id = prywhen.39
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.39"}
	title = prywhen.39.t
	desc = prywhen.39.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.39.a
		FROM = { country_event = { id = prywhen.40 days = 10 } }
		add_manpower = -4000
		set_country_flag = supported_GRW
		reverse_add_opinion_modifier = { target = FROM modifier = sent_volunteers }
		add_popularity = { ideology = communism popularity = 0.1 }
		ai_chance = {
			factor = 1
			modifier = {
				tag = GRU
				factor = 2
			}
			modifier = {
				tag = GRY
				factor = 2
			}
			modifier = {
				communism > 0.3
				factor = 2
			}
		}
	}
	option = { ## no
		name = prywhen.39.b
		FROM = { country_event = { id = prywhen.56 days = 10 } }
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = prywhen.40
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.40"}
	title = prywhen.40.t
	desc = prywhen.40.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.40.a
		add_manpower = 4000
		custom_effect_tooltip = GRW_volunteers_will_spawn
		hidden_effect = {
			if = { limit = { LUS = { has_country_flag = supported_GRW }
					NOT = { has_country_flag = LUS_volunteers_arrived } }
				load_oob = "GRW_LUS_volunteers"
				set_country_flag = LUS_volunteers_arrived }
			if = { limit = { GRY = { has_country_flag = supported_GRW }
					NOT = { has_country_flag = GRY_volunteers_arrived } }
				load_oob = "GRW_GRY_volunteers"
				set_country_flag = GRY_volunteers_arrived }
			if = { limit = { GRU = { has_country_flag = supported_GRW }
					NOT = { has_country_flag = GRU_volunteers_arrived } }
				load_oob = "GRW_GRU_volunteers"
				set_country_flag = GRU_volunteers_arrived }
		}
	}
}
country_event = {
	id = prywhen.41
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.41"}
	title = prywhen.41.t
	desc = prywhen.41.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.41.a
		507 = { add_core_of = GRW }
		507 = {
			owner = {
				ROOT = {
					create_wargoal = {
						target = PREV
						type = take_state
						generator = { 507 }
					}
				}
			}
		}
		if = { limit = { owns_state = 446 }
			511 = { add_core_of = GRW } }
	}
}
## Famine Starts ## Events for GRW
country_event = {
	id = prywhen.42
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.42"}
	title = prywhen.42.t
	desc = prywhen.42.d
	picture = GFX_event_medieval_village

	trigger = {
		OR = {
			tag = GRW
			tag = BRF
		}
		has_idea = GRW_risk_of_famine
		NOT = { has_country_flag = GRW_famine_start_flag }
		date > 1007.4.4
	}
	mean_time_to_happen = {
		days = 300
		modifier = {
			has_country_flag = BRF_sabotage
			factor = 0.5
		}
		modifier = {
			has_completed_focus = GRW_adopt_potatos
			factor = 1.5
		}
		modifier = {
			has_completed_focus = GRW_ricefield_training
			factor = 1.5
		}
		modifier = {
			589 = { is_controlled_by = ROOT }
			factor = 1.5
		}
		modifier = {
			has_completed_focus = BRF_temporal_carrot
			factor = 2
		}
		modifier = {
			OR = {
				has_completed_focus = GRW_victory_in_civil_war
				has_completed_focus = BRF_free_freedom
			}
			factor = 1.5
		}
		modifier = {
			is_ai = yes
			factor = 2
		}
	}
	option = { ## yes
		name = prywhen.42.a
		add_ideas = GRW_famine_start
		set_country_flag = GRW_famine_start_flag
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = -10000
		}
		restore_previous_manpower = yes
	}
}
country_event = {
	id = prywhen.43
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.43"}
	title = prywhen.43.t
	desc = prywhen.43.d
	picture = GFX_event_medieval_village

	trigger = {
		OR = {
			tag = GRW
			tag = BRF
		}
		has_idea = GRW_famine_start
		NOT = { 
			has_country_flag = GRW_famine_flag
			has_completed_focus = GRW_reformation_of_agriculture 
      has_completed_focus = BRF_rice_fields
		}
	}
	mean_time_to_happen = {
		days = 300
		modifier = {
			has_country_flag = BRF_sabotage
			factor = 0.5
		}
		modifier = {
			has_completed_focus = GRW_adopt_potatos
			factor = 1.5
		}
		modifier = {
			has_completed_focus = GRW_ricefield_training
			factor = 1.5
		}
		modifier = {
			has_completed_focus = BRF_temporal_carrot
			factor = 2
		}
		modifier = {
			OR = {
				has_completed_focus = GRW_victory_in_civil_war
				has_completed_focus = BRF_free_freedom
			}
			factor = 1.5
		}
		modifier = {
			is_ai = yes
			factor = 2
		}
	}
	option = { ## yes
		name = prywhen.43.a
		swap_ideas = { add_idea = GRW_famine remove_idea = GRW_famine_start }
		set_country_flag = GRW_famine_flag
		save_current_manpower = yes
		every_owned_state = {
			add_manpower = -25000
		}
		restore_previous_manpower = yes
	}
}
country_event = {
	id = prywhen.44
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.44"}
	title = prywhen.44.t
	desc = prywhen.44.d
	picture = GFX_event_medieval_village

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.44.a
		swap_ideas = { add_idea = GRW_famine_start remove_idea = GRW_famine }
	}
}
country_event = {
	id = prywhen.45
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.45"}
	title = prywhen.45.t
	desc = prywhen.45.d
	picture = GFX_event_medieval_village

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.45.a
		remove_ideas = GRW_famine_start
		remove_ideas = GRW_risk_of_famine
	}
}

country_event = {
	id = prywhen.48
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.48"}
	title = prywhen.48.t
	desc = prywhen.48.d
	picture = GFX_event_griffon_mountain

	trigger = {
		tag = GRW
		has_country_flag = {
			flag = monarchist_repressions value > 3
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 14
	}
	option = { ## accept
		name = prywhen.48.a
		trigger = {
			NOT = {
				385 = { is_controlled_by = GRW }
			}
		}
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			random_list = {
				50 = {
					set_country_flag = make_it_through_passage
					country_event = { id = prywhen.49 days = 2 random = 168 }#days to hours applied
				}
				30 = {
					set_country_flag = passage_gets_destroyed
					country_event = { id = prywhen.50 days = 2 random = 120 }#days to hours applied
				}
				20 = {
					set_country_flag = company_lost_in_passage
					country_event = { id = prywhen.51 days = 7 random = 336 }#days to hours applied
				}
			}
		}
	}
	option = { ## accept and lead
		name = prywhen.48.b
		trigger = {
			NOT = {
				385 = { is_controlled_by = GRW }
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
		add_political_power = 25
		hidden_effect = {
			random_list = {
				50 = {
					set_country_flag = make_it_through_passage
					country_event = { id = prywhen.49 days = 2 random = 168 }#days to hours applied
				}
				30 = {
					set_country_flag = passage_gets_destroyed_redglad_ded
					country_event = { id = prywhen.53 days = 2 random = 120 }#days to hours applied
				}
				20 = {
					set_country_flag = company_lost_in_passage_redglad_ded
					country_event = { id = prywhen.52 days = 7 random = 336 }#days to hours applied
				}
			}
		}
	}
	option = { ## don't accept
		name = prywhen.48.c
		trigger = {
			NOT = {
				385 = { is_controlled_by = GRW }
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = { ## shoot the bastard
		name = prywhen.48.sydia_owned
		trigger = {
			385 = { is_controlled_by = GRW }
		}
		ai_chance = {
			factor = 0
		}
	}
	option = { ## shoot the bastard
		name = prywhen.48.e
		ai_chance = {
			factor = 0
		}
	}
}
country_event = {
	id = prywhen.49
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.49"}
	title = prywhen.49.t
	desc = prywhen.49.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = { ## accept
		name = prywhen.49.a
		hidden_effect = {
			load_oob = "GRW_sydia_passage"
		}
	}
}
country_event = {
	id = prywhen.50
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.50"}
	title = prywhen.50.t
	desc = prywhen.50.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = { ## accept
		name = prywhen.50.a
		add_manpower = -1000
	}
	option = { ## accept
		name = prywhen.50.b
		add_manpower = -750
		add_political_power = -20
	}
}
country_event = {
	id = prywhen.51
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.51"}
	title = prywhen.51.t
	desc = prywhen.51.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = { ## accept
		name = prywhen.51.a
		add_manpower = -1000
	}
}
country_event = {
	id = prywhen.52
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.52"}
	title = prywhen.52.t
	desc = prywhen.52.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = { ## accept
		name = prywhen.52.a
		add_manpower = -1000
		kill_country_leader = yes
		create_country_leader = {
			name = "Comrade-General Richard Spear"
			picture = "RichardSpear.tga"
			expire = "1965.1.1"
			ideology = leninism
			traits = { }
		}
		if = {
			limit = {
				has_unit_leader = 50
			}
			remove_unit_leader = 50
		}
	}
}
country_event = {
	id = prywhen.53
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.53"}
	title = prywhen.53.t
	desc = prywhen.53.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = { ## accept
		name = prywhen.53.a
		add_manpower = -1000
		kill_country_leader = yes
		create_country_leader = {
			name = "Comrade-General Richard Spear"
			picture = "RichardSpear.tga"
			expire = "1965.1.1"
			ideology = leninism
			traits = { }
		}
		if = {
			limit = {
				has_unit_leader = 50
			}
			remove_unit_leader = 50
		}
	}
	option = { ## accept
		name = prywhen.53.b
		add_manpower = -750
		add_political_power = -25
		kill_country_leader = yes
		create_country_leader = {
			name = "Comrade-General Richard Spear"
			picture = "RichardSpear.tga"
			expire = "1965.1.1"
			ideology = leninism
			traits = { }
		}
		if = {
			limit = {
				has_unit_leader = 50
			}
			remove_unit_leader = 50
		}
	}
}
country_event = {
	id = prywhen.54
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.54"}
	hidden = yes
	is_triggered_only = yes

	option = {
		if = {
			limit = { threat < 0.5 }
			add_threat = 50
			set_global_flag = cw_threat_added
		}
		random_other_country = {
			limit = {
				original_tag = ROOT
				NOT = {
					has_government = communism
				}
			}
			FROM = { add_to_war = { targeted_alliance = ROOT enemy = PREV  } }
		}
		if = {
			limit = { has_global_flag = cw_threat_added }
			add_threat = -50
			clr_global_flag = cw_threat_added
		}
	}
}
country_event = {
	id = prywhen.55
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.55"}
	title = prywhen.55.t
	desc = prywhen.55.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes

	option = { ## accept
		name = prywhen.55.a
		add_manpower = 5000
	}
}

country_event = {
	id = prywhen.56
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.56"}
	title = prywhen.56.t
	desc = prywhen.56.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = { ## yes
		name = prywhen.56.a
	}
}

country_event = {
	id = prywhen.34
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen.34"}
	hidden = yes
	trigger = {
		OR = {
			AND = {
				tag = BRF
				has_government = communism
			}
			AND = {
				tag = GRW
				NOT = { has_government = communism }
			}
		}
	}
	mean_time_to_happen = { days = 1 }
	option = {
		trigger = { tag = BRF }
		if = {
			limit = { 
				GRW = {
					exists = yes
				}
			}
			set_global_flag = GRW_exists
		}
		if = {
			limit = { is_subject = yes }
			GRW = { get_current_autonomy_level_of_PREV = yes }
			overlord = { set_country_flag = BRF_GRW_master }
		}
		else_if = {
			limit = { is_in_faction = yes }
			random_other_country = {
				limit = { is_in_faction_with = ROOT is_faction_leader = yes }
				set_country_flag = BRF_GRW_faction_leader
			}
		}
		if = {
			limit = { is_ai = no }
			GRW = { change_tag_from = ROOT }
		}
		GRW = {
			transfer_technology = yes
			annex_country = { target = ROOT transfer_troops = yes }
			event_target:GRW_Theresa = {
				set_nationality = GRW
			}
		}
		if = {
			limit = { NOT = { has_global_flag = GRW_exists } }
			GRW = {
				if = {
					limit = { any_country = { has_country_flag = BRF_GRW_master } }
					random_other_country = {
						limit = { has_country_flag = BRF_GRW_master }
						puppet = GRW
						clr_country_flag = BRF_GRW_master
					}
					set_previous_autonomy_level = yes
				}
				else_if = {
					limit = { any_country = { has_country_flag = BRF_GRW_faction_leader } }
					random_other_country = {
						limit = { has_country_flag = BRF_GRW_faction_leader }
						add_to_faction = GRW
						clr_country_flag = BRF_GRW_faction_leader
					}
				}
			}
		}
		clr_global_flag = GRW_exists
	}
	option = {
		trigger = { tag = GRW }
		if = {
			limit = { 
				BRF = {
					exists = yes
				}
			}
			set_global_flag = BRF_exists
		}
		if = {
			limit = { is_subject = yes }
			BRF = { get_current_autonomy_level_of_PREV = yes }
			overlord = { set_country_flag = BRF_GRW_master }
		}
		else_if = {
			limit = { is_in_faction = yes }
			random_other_country = {
				limit = { is_in_faction_with = ROOT is_faction_leader = yes }
				set_country_flag = BRF_GRW_faction_leader
			}
		}
		if = {
			limit = { is_ai = no }
			BRF = { change_tag_from = ROOT }
		}
		BRF = {
			country_event = { id = brodfeld.27 }
			transfer_technology = yes
			annex_country = { target = ROOT transfer_troops = yes }
		}
		if = {
			limit = { NOT = { has_global_flag = BRF_exists } }
			BRF = {
				if = {
					limit = { any_country = { has_country_flag = BRF_GRW_master } }
					random_other_country = {
						limit = { has_country_flag = BRF_GRW_master }
						puppet = BRF
						clr_country_flag = BRF_GRW_master
					}
					set_previous_autonomy_level = yes
				}
				else_if = {
					limit = { any_country = { has_country_flag = BRF_GRW_faction_leader } }
					random_other_country = {
						limit = { has_country_flag = BRF_GRW_faction_leader }
						add_to_faction = BRF
						clr_country_flag = BRF_GRW_faction_leader
					}
				}
			}
		}
		BRF = {
			if = {
				limit = { has_government = democratic }
				load_focus_tree = BRF_Mason_Tree
			}
		}
		clr_global_flag = BRF_exists
	}
}
####################################################
########## BRODFELD ################################
####################################################

country_event = { ### ask countries for military aid
	id = brodfeld.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.1"}
	title = brodfeld.1.t
	desc = brodfeld.1.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	option = {
		name = brodfeld.1.a
		ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = { flag = prywhen_aid_meter value = 0 } }
		LUS = {
			country_event = { id = brodfeld.2 days = 6 }
		}
		CYA = {
			country_event = { id = brodfeld.2 days = 2 }
		}
		GRY = {
			country_event = { id = brodfeld.2 days = 2 }
		}
		GRU = {
			country_event = { id = brodfeld.2 days = 2 }
		}
		BOI = {
			country_event = { id = brodfeld.2 days = 10 }
		}
	}
}
country_event = { ### Military aid for brodfeld {other nations}
	# we could @ROOT for country flags... but why fix it when it's not broken?
	id = brodfeld.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.2"}
	title = brodfeld.2.t
	desc = brodfeld.2.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	option = {
		name = brodfeld.2.a
		trigger = { tag = LUS }
		ai_chance = { factor = 40 }
		add_political_power = -20
		add_manpower = -1000
		hidden_effect = {
			BRF = { modify_country_flag = { flag = prywhen_aid_meter value = 1 }
				set_country_flag = LUS_replied_BRF
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.2.a
		trigger = { tag = CYA }
		ai_chance = { factor = 70 }
		add_political_power = -20
		add_manpower = -1000
		hidden_effect = {
			BRF = { modify_country_flag = { flag = prywhen_aid_meter value = 1 }
				set_country_flag = CYA_replied_BRF
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.2.a
		trigger = { tag = BOI }
		ai_chance = { factor = 50 }
		add_political_power = -20
		add_manpower = -1000
		hidden_effect = {
			BRF = { modify_country_flag = { flag = prywhen_aid_meter value = 1 }
				set_country_flag = BOI_replied_BRF
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.2.a
		trigger = { tag = GRU }
		ai_chance = { factor = 80 }
		add_political_power = -20
		add_manpower = -1000
		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_aid_meter value = 1 }
				set_country_flag = GRU_replied_BRF
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.2.a
		trigger = { tag = GRY }
		ai_chance = { factor = 20 }
		add_political_power = -20
		add_manpower = -1000
		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_aid_meter value = 1 }
				set_country_flag = GRY_replied_BRF
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
	option = { ## NO AID FOR YOU REEE
		name = brodfeld.2.b
		ai_chance = { base = 0
			modifier = {
				add = 60
				tag = LUS
			}
			modifier = {
				add = 30
				tag = CYA
			}
			modifier = {
				add = 50
				tag = BOI
			}
			modifier = {
				add = 20
				tag = GRU
			}
			modifier = {
				add = 80
				tag = GRY
			}
			modifier = {
				factor = 10
				has_government = communism
			}
		}
		if = { limit = { tag = LUS }
			BRF = { set_country_flag = LUS_replied_BRF } }
		if = { limit = { tag = CYA }
			BRF = { set_country_flag = CYA_replied_BRF } }
		if = { limit = { tag = GRU }
			BRF = { set_country_flag = GRU_replied_BRF } }
		if = { limit = { tag = BOI }
			BRF = { set_country_flag = BOI_replied_BRF } }
		if = { limit = { tag = GRY }
			BRF = { set_country_flag = GRY_replied_BRF } }
		hidden_effect = {
			BRF = {
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF
						has_country_flag = GRU_replied_BRF
						has_country_flag = LUS_replied_BRF
						has_country_flag = CYA_replied_BRF
						has_country_flag = BOI_replied_BRF
					}
					country_event = { id = brodfeld.3 days = 1 }
				}
			}
		}
	}
}
country_event = { ### result of military aid
	id = brodfeld.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.3"}
	title = { 
		text = brodfeld.3.t
		trigger = { has_country_flag = { flag = prywhen_aid_meter value > 0 } } }
	title = { 
		text = brodfeld.3.t_not_arrived
		trigger = { has_country_flag = { flag = prywhen_aid_meter value < 1 } } }
	desc = { text = brodfeld.3.d
		trigger = { has_country_flag = { flag = prywhen_aid_meter value > 0 } } }
	desc = { text = brodfeld.3.d_not_arrived
		trigger = { has_country_flag = { flag = prywhen_aid_meter value < 1 } } }
	picture = GFX_event_griffons_machine_gun

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.3.a
		trigger = { has_country_flag = { flag = prywhen_aid_meter value > 0 } }
		if = {
			limit = { has_country_flag = { flag = prywhen_aid_meter value > 4 } }
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
			add_ideas = BRF_military_support_5_5
			add_manpower = 5000
			add_political_power = 50
			else = {
				if = {
					limit = { has_country_flag = { flag = prywhen_aid_meter value > 3 } }
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 0.66
						uses = 1
						category = infantry_weapons
					}
					add_ideas = BRF_military_support_4_5
					add_manpower = 4000
					add_political_power = 40
					else = {
						if = {
							limit = { has_country_flag = { flag = prywhen_aid_meter value > 2 } }
							add_tech_bonus = {
								name = infantry_weapons_bonus
								bonus = 0.65
								uses = 1
								category = infantry_weapons
							}
							add_ideas = BRF_military_support_3_5
							add_manpower = 3000
							add_political_power = 30
							else = {
								if = {
									limit = { has_country_flag = { flag = prywhen_aid_meter value > 1 } }
									add_tech_bonus = {
										name = infantry_weapons_bonus
										bonus = 0.5
										uses = 1
										category = infantry_weapons
									}
									add_ideas = BRF_military_support_2_5
									add_manpower = 2000
									add_political_power = 20
									else = {
										if = {
											limit = { has_country_flag = { flag = prywhen_aid_meter value > 0 } }
											add_tech_bonus = {
												name = infantry_weapons_bonus
												bonus = 0.1
												uses = 1
												category = infantry_weapons
											}
											add_ideas = BRF_military_support_1_5
											add_manpower = 1000
											add_political_power = 10
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	option = { #nobody said yes
		name = brodfeld.3.b
		trigger = { has_country_flag = { flag = prywhen_aid_meter value < 1 } }
	}
}
country_event = { ### ask countries for industrial aid
	id = brodfeld.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.4"}
	title = brodfeld.4.t
	desc = brodfeld.4.d
	picture = GFX_event_bank_vault

	is_triggered_only = yes
	option = {
		name = brodfeld.4.a
		ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = { flag = prywhen_industry_aid_meter value = 0 } }
		LUS = {
			country_event = { id = brodfeld.5 days = 6 }
		}
		CYA = {
			country_event = { id = brodfeld.5 days = 2 }
		}
		GRY = {
			country_event = { id = brodfeld.5 days = 2 }
		}
		GRU = {
			country_event = { id = brodfeld.5 days = 2 }
		}
		BOI = {
			country_event = { id = brodfeld.5 days = 10 }
		}
	}
}
country_event = { ### Industrial aid for brodfeld {other nations}
	id = brodfeld.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.5"}
	title = brodfeld.5.t
	desc = brodfeld.5.d
	picture = GFX_event_bank_vault

	is_triggered_only = yes
	option = {
		name = brodfeld.5.a
		trigger = { tag = LUS }
		ai_chance = { factor = 40 }
		add_political_power = -40

		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_industry_aid_meter value = 1 }
				set_country_flag = LUS_replied_BRF2
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
			set_country_flag = agreed_to_helpBRF
		}
	}
	option = {
		name = brodfeld.5.a
		trigger = { tag = CYA }
		ai_chance = { factor = 70 }
		add_political_power = -40

		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_industry_aid_meter value = 1 }
				set_country_flag = CYA_replied_BRF2
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
			set_country_flag = agreed_to_helpBRF
		}
	}
	option = {
		name = brodfeld.5.a
		trigger = { tag = BOI }
		ai_chance = { factor = 50 }
		add_political_power = -40

		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_industry_aid_meter value = 1 }
				set_country_flag = BOI_replied_BRF2
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
			set_country_flag = agreed_to_helpBRF
		}
	}
	option = {
		name = brodfeld.5.a
		trigger = { tag = GRU }
		ai_chance = { factor = 80 }
		add_political_power = -40

		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_industry_aid_meter value = 1 }
				set_country_flag = GRU_replied_BRF2
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.5.a
		trigger = { tag = GRY }
		ai_chance = { factor = 20 }
		add_political_power = -40

		hidden_effect = {
			BRF = {
				modify_country_flag = { flag = prywhen_industry_aid_meter value = 1 }
				set_country_flag = GRY_replied_BRF2
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
			set_country_flag = agreed_to_helpBRF
		}
	}
	option = { ## NO AID FOR YOU REEE
		name = brodfeld.5.b
		ai_chance = { base = 0
			modifier = {
				add = 60
				tag = LUS
			}
			modifier = {
				add = 30
				tag = CYA
			}
			modifier = {
				add = 50
				tag = BOI
			}
			modifier = {
				add = 20
				tag = GRU
			}
			modifier = {
				add = 80
				tag = GRY
			}
			modifier = {
				add = 1000
				has_government = communism
			}
		}
		if = { limit = { tag = LUS }
			BRF = { set_country_flag = LUS_replied_BRF2 } }
		if = { limit = { tag = CYA }
			BRF = { set_country_flag = CYA_replied_BRF2 } }
		if = { limit = { tag = GRU }
			BRF = { set_country_flag = GRU_replied_BRF2 } }
		if = { limit = { tag = BOI }
			BRF = { set_country_flag = BOI_replied_BRF2 } }
		if = { limit = { tag = GRY }
			BRF = { set_country_flag = GRY_replied_BRF2 } }
		hidden_effect = {
			BRF = {
				if = {
					limit = {
						has_country_flag = GRY_replied_BRF2
						has_country_flag = GRU_replied_BRF2
						has_country_flag = LUS_replied_BRF2
						has_country_flag = CYA_replied_BRF2
						has_country_flag = BOI_replied_BRF2
					}
					country_event = { id = brodfeld.6 days = 1 }
				}
			}
		}
	}
}
country_event = { ### result of industrial aid
	id = brodfeld.6
	title = { text = brodfeld.6.t
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value > 0 } } }
	title = { text = brodfeld.6.t_not_arrived
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value < 1 } } }
	desc = { text = brodfeld.6.d
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value > 0 } } }
	desc = { text = brodfeld.6.d_not_arrived
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value < 1 } } }
	picture = GFX_event_bank_vault

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.6.a
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value > 0 } }
		if = {
			limit = { has_country_flag = { flag = prywhen_industry_aid_meter value > 4 } }
			add_ideas = BRF_industry_support_5_5
			add_political_power = 50
			else = {
				if = {
					limit = { has_country_flag = { flag = prywhen_industry_aid_meter value > 3 } }
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 0.66
						uses = 1
						category = industry
					}
					add_ideas = BRF_industry_support_4_5
					add_political_power = 40
					else = {
						if = {
							limit = { has_country_flag = { flag = prywhen_industry_aid_meter value > 2 } }
							add_tech_bonus = {
								name = industrial_bonus
								bonus = 0.65
								uses = 1
								category = industry
							}
							add_ideas = BRF_industry_support_3_5
							add_political_power = 30
							else = {
								if = {
									limit = { has_country_flag = { flag = prywhen_industry_aid_meter value > 1 } }
									add_tech_bonus = {
										name = industrial_bonus
										bonus = 0.5
										uses = 1
										category = industry
									}
									add_ideas = BRF_industry_support_2_5
									add_political_power = 20
									else = {
										if = {
											limit = { has_country_flag = { flag = prywhen_industry_aid_meter value > 0 } }
											add_tech_bonus = {
												name = industrial_bonus
												bonus = 0.1
												uses = 1
												category = industry
											}
											add_ideas = BRF_industry_support_1_5
											add_political_power = 10
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}

	option = { #nobody said yes
		name = brodfeld.6.b
		trigger = { has_country_flag = { flag = prywhen_industry_aid_meter value < 1 } }
	}
}
country_event = {
	id = brodfeld.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.7"}
	title = brodfeld.7.t
	desc = brodfeld.7.d
	picture = GFX_event_billabong
	is_triggered_only = yes
	option = {
		name = brodfeld.7.a
		custom_effect_tooltip = marsh_brigade_will_appear
		hidden_effect = {
			load_oob = "BRF_marsh_brigade"
		}
	}
}
country_event = {
	id = brodfeld.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.8"}
	title = brodfeld.8.t
	desc = brodfeld.8.d
	picture = GFX_event_griffon_para
	is_triggered_only = yes
	option = {
		name = brodfeld.8.a
		GRW = { set_country_flag = BRF_sabotage }
		custom_effect_tooltip = BRF_boiledrice_effect
		hidden_effect = {
			load_oob = "BRF_operation_boiledrice"
		}
	}
}
country_event = { ## Foreign Engineers
	id = brodfeld.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.10"}
	title = brodfeld.10.t
	desc = brodfeld.10.d
	picture = GFX_event_griffon_back

	is_triggered_only = yes
	option = {
		name = brodfeld.10.a
		BOI = {
			country_event = {
				id = brodfeld.11
			}
		}
		GRU = {
			country_event = {
				id = brodfeld.11
			}
		}
	}
}
country_event = { ## Foreign Engineers other countrys event
	id = brodfeld.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.11"}
	title = brodfeld.11.t
	desc = brodfeld.11.d
	picture = GFX_event_griffon_back

	is_triggered_only = yes
	option = {
		name = brodfeld.11.a
		ai_chance = { base = 50
			modifier = {
				has_government = neutrality
				add = 20
			}
			modifier = {
				has_political_power > 100
				add = 20
			}
		}
		if = {
			limit = { tag = BOI }
			add_political_power = -50
			BRF = { set_country_flag = BOI_engineer }
		}
		if = {
			limit = { tag = GRU }
			add_political_power = -50
			BRF = { set_country_flag = GRU_engineer }
		}
		hidden_effect = {
			BRF = {
				if = {
					limit = {
						OR = {
							has_country_flag = BOI_engineer
							has_country_flag = BOI_engineer_ref
						}
						OR = {
							has_country_flag = GRU_engineer
							has_country_flag = GRU_engineer_ref
						}
					}
					country_event = { id = brodfeld.12 days = 1 }
				}
			}
		}
	}
	option = {
		name = brodfeld.11.b
		ai_chance = { base = 50
			modifier = {
				has_government = communism
				add = 50
			}
			modifier = {
				has_political_power < 100
				add = 30
			}
		}
		if = {
			limit = { tag = BOI }
			BRF = { set_country_flag = BOI_engineer_ref }
		}
		if = {
			limit = { tag = GRU }
			BRF = { set_country_flag = GRU_engineer_ref }
		}
		hidden_effect = {
			BRF = {
				if = {
					limit = {
						OR = {
							has_country_flag = BOI_engineer
							has_country_flag = BOI_engineer_ref
						}
						OR = {
							has_country_flag = GRU_engineer
							has_country_flag = GRU_engineer_ref
						}
					}
					country_event = { id = brodfeld.12 days = 1 }
				}
			}
		}
	}
}
country_event = { ## MAKE PLAYER'S LIFE HARDER
	id = brodfeld.12
	immediate = {log = "[Root.GetName]: event brodfeld.12"}#Auto-logging
	title = { text = brodfeld.12.t
		trigger = { NOT = { AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer_ref
			} } } }
	title = { text = brodfeld.12.t_not_arrived
		trigger = { AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer_ref
			}  } }
	desc = { text = brodfeld.12.d
		trigger = { NOT = { AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer_ref
			} } } }
	desc = { text = brodfeld.12.d_not_arrived
		trigger = { AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer_ref
			}  } }
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.12.a
		trigger = {
			AND = {
				has_country_flag = BOI_engineer
				has_country_flag = GRU_engineer_ref
			} 
		}
		add_ideas = BRF_foregin_engineers_BOI
	}
	option = {
		name = brodfeld.12.b
		trigger = {
			AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer
			} 
		}
		add_ideas = BRF_foregin_engineers_GRU
	}
	
	option = {
		name = brodfeld.12.c
		trigger = {
			AND = {
				has_country_flag = BOI_engineer
				has_country_flag = GRU_engineer
			} 
		}
		add_ideas = BRF_foregin_engineers_2
	}
	
	option = { #nobody said yes
		name = brodfeld.12.e
		trigger = { 
			AND = {
				has_country_flag = BOI_engineer_ref
				has_country_flag = GRU_engineer_ref
			} 
		}
	}
}

country_event = { ## Steal tank
	id = brodfeld.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.13"}
	title = brodfeld.13.t
	desc = brodfeld.13.d
	picture = GFX_event_equestrian_ships

	is_triggered_only = yes
	option = {
		name = brodfeld.13.a
		add_political_power = -100
		hidden_effect = {
			country_event = { id = brodfeld.14 days = 10 random = 2160 }#days to hours applied
		}
	}
	option = {
		name = brodfeld.13.b
		add_political_power = -55
		hidden_effect = {
			country_event = { id = brodfeld.14 days = 10 random = 3240 }#days to hours applied
		}
	}
	option = {
		name = brodfeld.13.c
		add_political_power = -20
		hidden_effect = {
			random_list = {
				50 = {
					country_event = { id = brodfeld.14 days = 10 random = 4320 }#days to hours applied
				}
				50 = {
					set_country_flag = tank_delivery_not_happened
				}
			}
		}
	}
	option = {
		name = brodfeld.13.e
		add_political_power = -10
		hidden_effect = {
			random_list = {
				40 = {
					country_event = { id = brodfeld.14 days = 10 random = 9120 }#days to hours applied
				}
				60 = {
					set_country_flag = tank_delivery_not_happened
				}
			}
		}
	}
}
country_event = { ## Steal tank
	id = brodfeld.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.14"}
	title = brodfeld.14.t
	desc = brodfeld.14.d
	picture = GFX_event_equestrian_ships

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.14.a
		trigger = {
			385 = { is_controlled_by = BRF }
		}
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.66
			uses = 1
			category = armor
		}
		set_technology = { gwtank = 1 }
		add_equipment_to_stockpile = { type = gw_tank_equipment amount = 1 producer = EQS }
		custom_effect_tooltip = BRF_wunderwaffe_effect
		hidden_effect = {
			GRW = { set_country_flag = brodfeld_brought_tank }
			load_oob = "BRF_wunderwaffe_battallion"
		}
	}
	option = {
		name = brodfeld.14.b
		trigger = {
			NOT = { 385 = { is_controlled_by = BRF } }
		}
	}
}
country_event = { ## Focus Victory in Civil War Brodfeld
	id = brodfeld.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.15"}
	title = brodfeld.15.t
	desc = brodfeld.15.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	option = {
		name = brodfeld.15.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = brodfeld.16 days = 1 random = 7176 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = brodfeld.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.16"}
	title = brodfeld.16.t
	desc = brodfeld.16.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.16.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = brodfeld.17 days = 25 random = 9000 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = brodfeld.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.17"}
	title = brodfeld.17.t
	desc = brodfeld.17.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.17.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = brodfeld.18 days = 15 random = 5400 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = brodfeld.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.18"}
	title = brodfeld.18.t
	desc = brodfeld.18.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.18.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = brodfeld.19 days = 200 random = 9600 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = brodfeld.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.19"}
	title = brodfeld.19.t
	desc = brodfeld.19.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.19.a
		remove_civil_war_aftermath_effect = yes
		hidden_effect = {
			country_event = { id = brodfeld.20 days = 50 random = 10800 }#days to hours applied
		}
	}
}
country_event = { ## Civil War Aftermath Gradual dissapearance
	id = brodfeld.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.20"}
	title = brodfeld.20.t
	desc = brodfeld.20.d
	picture = GFX_event_griffon_mountain

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.20.a
		remove_civil_war_aftermath_effect = yes
	}
}
country_event = {
	id = brodfeld.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.21"}
	title = brodfeld.21.t
	desc = brodfeld.21.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = brodfeld.21.a
		add_political_power = 150
		set_global_flag = prywhen_civil_war_is_over
		hidden_effect = {
			news_event = { id = prywhen_news.2 hours = 12 }
			country_event = { id = brodfeld_rework.59 }
		}
		if = { limit = { is_faction_leader = yes }
			dismantle_faction = yes }
		diplomatic_relation = {
			country = BAN
			relation = non_aggression_pact
			active = no
		}
	}
}
## conscript peasants ##
country_event = {
	id = brodfeld.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.22"}
	title = brodfeld.22.t
	desc = brodfeld.22.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	option = {
		name = brodfeld.22.a
		add_manpower = 5000
		random_state = {
			limit = {
				is_controlled_by = ROOT
			}
			add_manpower = -5000
		}
		add_to_variable = { var = peasant_anger value = 5 }
		custom_effect_tooltip = peasant_anger_increase_tt_high
	}
	option = {
		name = brodfeld.22.b
		add_manpower = 2500
		random_state = {
			limit = {
				is_controlled_by = ROOT
				is_core_of = ROOT
				NOT = {
					has_state_flag = brodfeld_city
				}
			}
			add_manpower = -2500
		}
		add_to_variable = { var = peasant_anger value = 3 }
		custom_effect_tooltip = peasant_anger_increase_tt_average
	}
	option = {
		name = brodfeld.22.c
		add_manpower = 1000
		random_state = {
			limit = {
				is_controlled_by = ROOT
			}
			add_manpower = -1000
		}
		add_to_variable = { var = peasant_anger value = 1 }
		custom_effect_tooltip = peasant_anger_increase_tt_light
	}
}
## conscript peasants of kivessin ##
country_event = {
	id = brodfeld.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.23"}
	title = brodfeld.23.t
	desc = brodfeld.23.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	option = {
		name = brodfeld.22.a
		add_manpower = 5000
		save_current_manpower = yes
		508 = {
			add_manpower = -5000
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 5 }
		custom_effect_tooltip = peasant_anger_increase_tt_high
	}
	option = {
		name = brodfeld.22.b
		add_manpower = 2500
		save_current_manpower = yes
		508 = {
			add_manpower = -2500
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 3 }
		custom_effect_tooltip = peasant_anger_increase_tt_average
	}
	option = {
		name = brodfeld.22.c
		add_manpower = 1000
		save_current_manpower = yes
		508 = {
			add_manpower = -1000
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 1 }
		custom_effect_tooltip = peasant_anger_increase_tt_light
	}
}
## conscript the peasants of sydia ##
country_event = {
	id = brodfeld.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.24"}
	title = brodfeld.24.t
	desc = brodfeld.24.d
	picture = GFX_event_griffon_soldier

	is_triggered_only = yes
	option = {
		name = brodfeld.22.a
		add_manpower = 5000
		save_current_manpower = yes
		385 = {
			add_manpower = -5000
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 5 }
		custom_effect_tooltip = peasant_anger_increase_tt_high
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = brodfeld.22.b
		add_manpower = 2500
		save_current_manpower = yes
		385 = {
			add_manpower = -2500
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 3 }
		custom_effect_tooltip = peasant_anger_increase_tt_average
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = brodfeld.22.c
		add_manpower = 1000
		save_current_manpower = yes
		385 = {
			add_manpower = -1000
		}
		restore_previous_manpower = yes
		add_to_variable = { var = peasant_anger value = 1 }
		custom_effect_tooltip = peasant_anger_increase_tt_light
		ai_chance = {
			factor = 3
		}
	}
}

country_event = {
	id = brodfeld.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.25"}
	picture = GFX_event_griffon_soldier
	hidden = yes

	is_triggered_only = yes
	option = {
		clr_country_flag = peasant_rebellion_crushed
	}
}
country_event = { #Changes Counter-revolution leader based on who is alive
	id = brodfeld.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event brodfeld.26"}
	hidden = yes
	is_triggered_only = yes
	option = {
		if = {
			limit = {
				AND = {
					OR = {
						has_global_flag = BRFlord_killed
						has_global_flag = BRFlord_executed
					}
					has_global_flag = BRFprince_escaped
				}
			}
			create_country_leader = {
				name = "King Tomado de Kissau"
				desc = BRF_Tomado_desc
				picture = "Prince.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					democratic_sympathies
				}
			}
			create_country_leader = {
				name = "Ion Soimescu"
				desc = ""
				picture = "gfx/leaders/BRF/Ion_Soimescu.tga"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
		}
		else_if = {
			limit = {
				AND = {
					OR = {
						has_global_flag = BRFlord_killed
						has_global_flag = BRFlord_executed
					}
					OR = {
						has_global_flag = BRFprince_captured
						has_global_flag = BRFprince_killed
						has_global_flag = BRFprince_executed_private
						has_global_flag = BRFprince_executed
					}
				}
			}
			create_country_leader = {
				name = "Dorian of Brodfeld"
				desc = ""
				picture = "Dorian_of_Brodfeld.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
				}
			}
			create_country_leader = {
				name = "Ion Soimescu"
				desc = ""
				picture = "gfx/leaders/BRF/Ion_Soimescu.tga"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
			create_country_leader = {
				name = "Mason of Kivessin"
				desc = ""
				picture = "Mason.tga"
				expire = "1965.1.1"
				ideology = liberalism
				traits = {
				}
			}
			set_politics = { ruling_party = democratic elections_allowed = no }
			load_focus_tree = BRF_Mason_Tree
		}
	}

}

country_event = { #Changes puppet leader based on who is alive
	id = brodfeld.27
	immediate = {log = "[Root.GetName]: event brodfeld.26"}#Auto-logging
	hidden = yes
	is_triggered_only = yes
	option = {
		if = {
			limit = {
				AND = {
					OR = {
						has_global_flag = BRFlord_killed
						has_global_flag = BRFlord_executed
					}
					NOT = {
						has_global_flag = BRFprince_executed
						has_global_flag = BRFprince_executed_private
						has_global_flag = BRFprince_killed
					}
				}
			}
			create_country_leader = {
				name = "King Tomado de Kissau"
				desc = BRF_Tomado_desc
				picture = "Prince.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					democratic_sympathies
				}
			}
			create_country_leader = {
				name = "Ion Soimescu"
				desc = ""
				picture = "gfx/leaders/BRF/Ion_Soimescu.tga"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						OR = {
							has_global_flag = BRFlord_killed
							has_global_flag = BRFlord_executed
						}
						OR = {
							has_global_flag = BRFprince_executed
							has_global_flag = BRFprince_executed_private
							has_global_flag = BRFprince_killed
						}
					}
					has_government = democratic
				}
			}
			create_country_leader = {
				name = "Dorian of Brodfeld"
				desc = ""
				picture = "Dorian_of_Brodfeld.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
				}
			}
			create_country_leader = {
				name = "Ion Soimescu"
				desc = ""
				picture = "gfx/leaders/BRF/Ion_Soimescu.tga"
				expire = "1965.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
			create_country_leader = {
				name = "Mason of Kivessin"
				desc = ""
				picture = "Mason.tga"
				expire = "1965.1.1"
				ideology = liberalism
				traits = {
				}
			}
			set_politics = { ruling_party = democratic elections_allowed = no }
			load_focus_tree = BRF_Mason_Tree
		}
	}

}
### The End of The Civil War
news_event = {
	id = prywhen_news.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen_news.1"}
	title = prywhen_news.1.t
	desc = { text = prywhen_news.1.d_1007
		trigger = { date < 1008.1.1 } }
	desc = { text = prywhen_news.1.d_1008
		trigger = { date > 1008.1.1 } }
	desc = { text = prywhen_news.1.d_1009
		trigger = { date > 1009.1.1 } }
	picture = GFX_news_griffon_soldier
	major = yes
	is_triggered_only = yes
	option = {
		trigger = { has_government = communism }
		name = prywhen_news.1.a
	}
	option = {
		trigger = { has_government = democratic }
		name = prywhen_news.1.b
	}
	option = {
		trigger = { OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		name = prywhen_news.1.c
	}
}
news_event = {
	id = prywhen_news.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen_news.2"}
	title = prywhen_news.2.t
	desc = { text = prywhen_news.2.d_1007
		trigger = { date < 1008.1.1 } }
	desc = { text = prywhen_news.2.d_1008
		trigger = { date > 1008.1.1 } }
	desc = { text = prywhen_news.2.d_1009
		trigger = { date > 1009.1.1 } }
	picture = GFX_news_griffon_soldier
	major = yes
	is_triggered_only = yes
	option = {
		trigger = { has_government = communism }
		name = prywhen_news.2.a
	}
	option = {
		trigger = { has_government = democratic }
		name = prywhen_news.2.b
	}
	option = {
		trigger = { OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		name = prywhen_news.2.c
	}
}
news_event = {
	id = prywhen_news.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen_news.3"}
	title = prywhen_news.3.t
	desc = prywhen_news.3.d
	picture = GFX_news_griffon_diplomacy
	major = yes
	is_triggered_only = yes
	option = {
		trigger = { has_government = communism }
		name = prywhen_news.3.a
	}
	option = {
		trigger = { has_government = democratic }
		name = prywhen_news.3.b
	}
	option = {
		trigger = { OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		name = prywhen_news.3.c
	}
	option = {
		trigger = { has_war_with = GRW }
		name = prywhen_news.3.e
	}
}
country_event = {
	id = prywhen_news.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event prywhen_news.4"}
	title = prywhen_news.4.t
	desc = prywhen_news.4.d
	picture = GFX_event_conquest_of_rice_book
	is_triggered_only = yes
	option = {
		trigger = { has_government = communism }
		name = prywhen_news.4.a
		add_political_power = 50
		add_popularity = { ideology = communism popularity = 0.05 }
	}
	option = {
		trigger = { NOT = { has_government = communism } }
		name = prywhen_news.4.b
		add_political_power = -30
		add_popularity = { ideology = communism popularity = -0.01 }
	}
	option = {
		trigger = { NOT = { has_government = communism } }
		name = prywhen_news.4.c
		set_temp_variable = { var = communism_support_rise value = stability }
		subtract_from_temp_variable = { communism_support_rise = 1 }
		multiply_temp_variable = { communism_support_rise = -0.1 }
		add_popularity = { ideology = communism popularity = communism_support_rise }
	}
}
