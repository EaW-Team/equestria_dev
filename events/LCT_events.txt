add_namespace = lakecity
add_namespace = lakecity_macb_event
add_namespace = lakecity_news

### Intro Event ###
#country_event = {
#	id = lakecity.1
#	immediate = {log = "[Root.GetName]: event lakecity.1"}#Auto-logging
#	title = lakecity.1.t
#	desc = lakecity.1.d
#	picture = GFX_event_lake_city
#
#	is_triggered_only = yes
#
#	immediate = {
#		hidden_effect = {
#			country_event = { id = lakecity.2 days = 10 }
#		}
#	}
#
#	option = {
#		name = lakecity.1.a
#	}
#}

### Political Background ###
country_event = {
	id = lakecity.2
	immediate = {log = "[Root.GetName]: event lakecity.2"}#Auto-logging
	title = lakecity.2.t
	desc = lakecity.2.d
	picture = GFX_event_lake_city

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.3 days = 5 }
		}
	}

	option = {
		name = lakecity.2.a
	}
}

### Wavebreaker Speaks ###
country_event = {
	id = lakecity.3
	immediate = {log = "[Root.GetName]: event lakecity.3"}#Auto-logging
	title = lakecity.3.t
	desc = lakecity.3.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.4 days = 5 }
		}
	}

	option = {
		name = lakecity.3.a
	}
}

### Westerly does something ###
country_event = {
	id = lakecity.4
	immediate = {log = "[Root.GetName]: event lakecity.4"}#Auto-logging
	title = lakecity.4.t
	desc = lakecity.4.d
	#picture = 

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.5 days = 13 }
		}
	}

	is_triggered_only = yes

	option = {
		name = lakecity.4.a
	}
}

#The Coup
country_event = {
	id = lakecity.5
	immediate = {log = "[Root.GetName]: event lakecity.5"}#Auto-logging
	title = lakecity.5.t
	desc = lakecity.5.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_stability = -0.3 
		}
	}

	option = { # Wavebreaker
		name = lakecity.5.a
		ai_chance = {
			base = 10
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_coup_fail_tt

		hidden_effect = {
			complete_national_focus = LCT_democracy_prevails
			set_global_flag = LCT_coup_delt_with_peacefully
			country_event = { days = 2 id = lakecity.6 }
			news_event = { days = 1 id = lakecity_news.1 }
		}
	}
	option = { # Westerly
		name = lakecity.5.b

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_westerly_is_sent_in_tt
		hidden_effect = {
			set_country_flag = LCT_vanguard_sent_in
			complete_national_focus = LCT_vanguard_restores_order
			country_event = { days = 2 id = lakecity.7 }
		}
	}
	option = { # Prince
		name = lakecity.5.c

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_coup_sucsess_tt
		hidden_effect = {
			country_event = { days = 2 id = lakecity.8 }
			news_event = { days = 1 id = lakecity_news.2 }
		}
	}
}

#The Coup Fails
country_event = {
	id = lakecity.6
	immediate = {log = "[Root.GetName]: event lakecity.6"}#Auto-logging
	title = lakecity.6.t
	desc = lakecity.6.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = lakecity.6.a
		remove_unit_leader = 902
	}
}

#Westerly's choice
country_event = {
	id = lakecity.7
	immediate = {log = "[Root.GetName]: event lakecity.7"}#Auto-logging
	title = lakecity.7.t
	desc = lakecity.7.d
	#picture = 

	is_triggered_only = yes

	option = { #Allow Elections
		name = lakecity.7.a
		add_stability = 0.1
		remove_unit_leader = 902
		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.1 }
		}
	}
	option = { #Take Control
		name = lakecity.7.b
		add_stability = -0.05
		
		add_popularity = {
			ideology = fascism
			popularity = 0.2
		}
		set_politics = { ruling_party = fascism elections_allowed = no }
		remove_unit_leader = 902
		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.3 }
			set_global_flag = LCT_vanguard_chosen
		}
	}
}

#The Coup Wins
country_event = {
	id = lakecity.8
	immediate = {log = "[Root.GetName]: event lakecity.8"}#Auto-logging
	title = lakecity.8.t
	desc = lakecity.8.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			kill_country_leader = yes
			create_country_leader = {
				name = "Wild Tree"
				desc = "POLITICS_WILDTREE_DESC"
				picture = "Wild_Tree.tga"
				expire = "1989.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
			set_party_name = {
				ideology = fascism
				long_name = LCT_prince_faction_long
				name = LCT_prince_faction
			}
			if = {
				limit = { has_cosmetic_tag = RIV_federation_mem }
				set_cosmetic_tag = LCT_prince_army_ally
			}
			else = {
				set_cosmetic_tag = LCT_prince_army
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
			set_politics = { ruling_party = fascism elections_allowed = no }
			swap_ideas = {
				remove_idea = LCT_rising_militarism
				add_idea = LCT_military_in_power1
			}
		}
	}

	option = {
		name = lakecity.8.a
		hidden_effect = {
			set_global_flag = LCT_prince_restored
		}
	}
}

# Election 1007
country_event = {
	id = lakecity.9
	immediate = {log = "[Root.GetName]: event lakecity.9"}#Auto-logging
	title = lakecity.9.t
	desc = lakecity.9.d
	picture = GFX_report_event_usa_election_generic
	
	fire_only_once = yes
	
	trigger = {
		original_tag = LCT
		OR = {
			has_government = neutrality
			has_government = democratic
		}
		NOT = { has_country_flag =  LCT_election_1007 }
	}
	
	is_triggered_only = yes 
	
	immediate = {
		hidden_effect = {			
			create_country_leader = {
				name = "Wavebreaker"
				desc = "POLITICS_WAVEBREAKER_DESC"
				picture = "WaveBreaker.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					dislikes_griffon_empire
				}
				id = 903
			}
		}
	}
	
	option = { #Wavebreaaker
		name = lakecity.9.a
		set_country_flag = LCT_election_1007
		ai_chance = {
			factor = 10
		}
		custom_effect_tooltip = LCT_wavebreaker_elected_effect_tt
		set_global_flag = LCT_wavebreaker_elected
	}
	
	option = { #Westerly
		name = lakecity.9.b
		set_country_flag = LCT_election_1007
		ai_chance = {
			factor = 6
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		custom_effect_tooltip = LCT_westerly_elected_effect_tt
		add_popularity = { ideology = fascism popularity = 0.20 }
		set_political_party = { ideology = fascism popularity = 20 }
		set_politics = { ruling_party = fascism elections_allowed = no }
		set_global_flag = LCT_westerly_elected
	}
}
# Election of Puppet Wavebreaker
country_event = {
	id = lakecity.901
	immediate = {log = "[Root.GetName]: event lakecity.901"}#Auto-logging
	title = lakecity.901.t
	desc = lakecity.901.d
	picture = GFX_report_event_usa_election_generic
	
	trigger = {
		original_tag = LCT
		has_government = neutrality
		has_country_flag =  LCT_election_1007
	}
	
	is_triggered_only = yes 
	
	immediate = {
		
	}
	
	option = { #Wavebreaaker
		name = lakecity.901.a
		ai_chance = {
			factor = 10
		}
	}
	
	option = { #Wavebreaaker
		name = lakecity.901.b
		ai_chance = {
			factor = 10
		}
	}
}

# Free Elections
country_event = {
	id = lakecity.902
	immediate = {log = "[Root.GetName]: event lakecity.902"}#Auto-logging
	title = lakecity.902.t
	desc = lakecity.902.d
	picture = GFX_report_event_usa_election_generic
	
	trigger = {
		original_tag = LCT
		has_government = democratic
		has_country_flag =  LCT_election_1007
	}
	
	is_triggered_only = yes 
	
	immediate = {
		
	}
	
	option = { #Wavebreaaker
		name = lakecity.902.a
		ai_chance = {
			factor = 10
		}
		create_country_leader = {
			name = "Wavebreaker"
			desc = "POLITICS_WAVEBREAKER_DESC"
			picture = "WaveBreaker.tga"
			expire = "1965.1.1"
			ideology = liberalism
			traits = {
				dislikes_griffon_empire
			}
			id = 903
		}
	}
	
	option = { #Skye
		name = lakecity.902.b
		ai_chance = {
			factor = 5
		}
		create_country_leader = {
			name = "Deirdra Skye"
			desc = "POLITICS_DEIRDRA_SKYE_DESC"
			picture = "DeirdraSkye.tga"
			expire = "1965.1.1"
			ideology = liberalism
			traits = {
				diehard_environmentalist
			}
		}
	}
}

#LCT demmands DEP
country_event = {
	id = lakecity.10
	immediate = {log = "[Root.GetName]: event lakecity.10"}#Auto-logging
	title = lakecity.10.t
	desc = lakecity.10.d
	#picture = 

	is_triggered_only = yes

	option = { #Ok
		name = lakecity.10.a
		ai_chance = {
			factor = 10
		}
		FROM = { country_event = lakecity.11 }
		effect_tooltip = {
			FROM = { puppet = ROOT }
		}
	}
	option = { #No
		name = lakecity.10.b
		ai_chance = {
			factor = 1
		}
		FROM = { country_event = lakecity.12 }
	}
}
#DEP says yes
country_event = {
	id = lakecity.11
	immediate = {log = "[Root.GetName]: event lakecity.11"}#Auto-logging
	title = lakecity.11.t
	desc = lakecity.11.d
	#picture = 

	is_triggered_only = yes

	option = { #Yes!
		name = lakecity.11.a

		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			DEP = { get_current_government_type = yes }
			set_autonomy = {
				target = DEP
				autonomous_state = autonomy_integrated_puppet
			}
			DEP = { restore_previous_government_type = yes }
		}
		else = {
			DEP = { get_current_government_type = yes }
			puppet = FROM
			DEP = { restore_previous_government_type = yes }
		}
	}
}
#DEP says no
country_event = {
	id = lakecity.12
	immediate = {log = "[Root.GetName]: event lakecity.12"}#Auto-logging
	title = lakecity.12.t
	desc = lakecity.12.d
	#picture = 

	is_triggered_only = yes

	option = { #Ok...
		name = lakecity.12.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
	#option = { #Press
	#	name = lakecity.12.b
	#	
	#}
}

#Buckrovic Incident
country_event = {
	id = lakecity.13
	immediate = {log = "[Root.GetName]: event lakecity.13"}#Auto-logging
	title = lakecity.13.t
	desc = lakecity.13.d
	picture = GFX_event_griffons_machine_gun


	is_triggered_only = yes

	option = { # We will fight!
		name = lakecity.13.a
		ai_chance = { factor = 90 }
		effect_tooltip = {
			FROM = {
				add_war_support = 0.05
				country_event = { id = lakecity.14 }
				create_wargoal = {
  					type = annex_everything
  					target = LNS
  				}
  				create_wargoal = {
  					type = annex_everything
  					target = HLQ
  				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = lakecity.14 } }
		}
	}
	option = { # Make more concessions
		name = lakecity.13.b
		ai_chance = { factor = 10 }
		FROM = {
			set_truce = { target = ROOT days = 180 }
			effect_tooltip = {
				transfer_state = 552
				transfer_state = 505
				add_state_claim = 540
			}
			country_event = { id = lakecity.15 }
		}
	}
}

# Longsword Refuse Concessions
country_event = {
	id = lakecity.14
	title = lakecity.13.t
	desc = lakecity.14.d
	picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.14"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.14.a
		create_wargoal = {
  			type = annex_everything
  			target = LNS
  		}
  		create_wargoal = {
  			type = annex_everything
  			target = HLQ
  		}
		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.4 }
		}
	}
}

# Longsword Concessions
country_event = {
	id = lakecity.15
	title = lakecity.13.t
	desc = lakecity.15.d
	picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.15"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.15.a
		effect_tooltip = {
			set_truce = { target = FROM days = 180 }
		}
		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.5 }
		}
		if = {
			limit = {
				552 = {
					is_controlled_by = FROM
				}
			}
			LCT = {
				transfer_state = 552
			}
		}
		if = {
			limit = {
				505 = {
					is_controlled_by = FROM
				}
			}
			LCT = {
				transfer_state = 505
			}
		}
		add_state_claim = 540
		
		add_ai_strategy = {
			type = antagonize
			id = "LNS"
			value = 500
		}
		add_ai_strategy = {
			type = antagonize
			id = "HLQ"
			value = 500
		}

		hidden_effect = {
			GRI = {
				country_event = { id = lakecity.16 days = 3 }
			}
		}
	}
}

# The Longsword Problem
country_event = {
	id = lakecity.16
	title = lakecity.16.t
	desc = lakecity.16.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.16"}#Auto-logging
	is_triggered_only = yes

	trigger = {
		LNS = { exists = yes }
	}
	
	option = {
		name = lakecity.16.a
		ai_chance = {
			factor = 100
		}
		LNS = { country_event = { id = lakecity.17 days = 1 } }
	}
	option = { # Do Nothing
		name = lakecity.17.a
		ai_chance = {
			factor = 0
		}
	}
}

# LNS Annex by GRI
country_event = {
	id = lakecity.17
	title = lakecity.17.t
	desc = lakecity.17.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.17"}#Auto-logging
	is_triggered_only = yes
	
	option = { # Acept Annexation
		name = lakecity.17.a
		ai_chance = {
			factor = 100
		}
		custom_effect_tooltip = GAME_OVER_TT
		GRI = { country_event = { id = lakecity.18 days = 1 } }
		effect_tooltip = {
			every_unit_leader = {
				set_nationality = GRI
			}
			if = {
				limit = { has_navy_size = { size > 0 } }
				transfer_navy = { target = GRI }
			}			
			GRI = {
				annex_country = { target = ROOT transfer_troops = yes }
			}
		}		
	}
	option = { # Do Nothing
		name = lakecity.17.b
		GRI = { country_event = { id = lakecity.19 days = 1 } }
		ai_chance = {
			factor = 0
		}
	}
}

# LNS Annexed by GRI
country_event = {
	id = lakecity.18
	title = lakecity.18.t
	desc = lakecity.18.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.18"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.18.a
		
		540 = {
			if = {
				limit = { is_owned_by = LNS }
				add_core_of = GRI
			}
		}
		LNS = {
			every_unit_leader = {
				set_nationality = GRI
			}
			if = {
				limit = { has_navy_size = { size > 0 } }
				transfer_navy = { target = GRI }
			}			
		}
		annex_country = { target = LNS transfer_troops = yes }
		
	}
}

# LNS said no
country_event = {
	id = lakecity.19
	title = lakecity.19.t
	desc = lakecity.19.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.19"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.19.a
	}
}

# Ally Dogs
country_event = {
	id = lakecity.20
	title = lakecity.20.t
	desc = lakecity.20.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.20"}#Auto-logging
	is_triggered_only = yes
	
	option = { # yes
		name = lakecity.20.a
		if = {
			limit = { is_river_fed_member = yes }
			RIV_leave_fed = yes
		}
		else_if = {
			limit = {
				is_in_faction = yes
			}
			leave_faction = yes
		}		

		LCT = {
			add_to_faction = ROOT
			country_event = lakecity.21
		}

		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}

		ai_chance = {
			factor = 100
		}
	}
	option = { # no
		name = lakecity.20.a
		LCT = {
			country_event = lakecity.22
		}
		ai_chance = {
			factor = 0
		}
	}
}

# Said yes to ally
country_event = {
	id = lakecity.21
	title = lakecity.21.t
	desc = lakecity.21.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.21"}#Auto-logging
	is_triggered_only = yes
	
	option = { # yes
		name = lakecity.21.a
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
	}
}

# Said no to ally
country_event = {
	id = lakecity.22
	title = lakecity.22.t
	desc = lakecity.22.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.22"}#Auto-logging
	is_triggered_only = yes
	
	option = { # yes
		name = lakecity.22.a
	}
}

# Harmony taking power in LCT - For RCT
country_event = {
	id = lakecity.23
	title = lakecity.23.t
	desc = lakecity.23.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.23"}#Auto-logging
	is_triggered_only = yes
	
	option = { # Support them!
		name = lakecity.23.a
		ai_chance = {
			factor = 100
			modifier = {
				has_government = fascism
				factor = 0
			}
		}
		FROM = {
			add_to_variable = { LCT_risk_of_assassination = 1 }
		}
	}
	option = { # We should leave them to their own divices
		name = lakecity.23.b
		ai_chance = {
			factor = 1
			modifier = {
				has_government = fascism
				factor = 100
			}
		}
	}
}

# Assassination Attempt
country_event = {
	id = lakecity.24
	title = lakecity.24.t
	desc = lakecity.24.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.24"}#Auto-logging
	is_triggered_only = yes
	hidden = yes
	
	option = {
		if = {
			limit = {
				check_variable = { LCT_risk_of_assassination < 1 }
			}
			random_list = {
				70 = {
					country_event = { id = lakecity.26 hours = 6 }
				}
				30 = {
					country_event = { id = lakecity.25 hours = 6 }
				}
			}
		}
		else_if = {
			limit = {
				check_variable = { LCT_risk_of_assassination = 1 }
			}
			random_list = {
				50 = {
					country_event = { id = lakecity.26 hours = 6 }
				}
				50 = {
					country_event = { id = lakecity.25 hours = 6 }
				}
			}
		}
		else_if = {
			limit = {
				check_variable = { LCT_risk_of_assassination = 2 }
			}
			random_list = {
				30 = {
					country_event = { id = lakecity.26 hours = 6 }
				}
				70 = {
					country_event = { id = lakecity.25 hours = 6 }
				}
			}
		}
		else = {
			country_event = { id = lakecity.25 hours = 6 }
		}
	}
}

# Attempt on Wavebreaker's life!
country_event = {
	id = lakecity.25
	title = lakecity.25.t
	desc = lakecity.25.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.25"}#Auto-logging
	is_triggered_only = yes
	
	option = { # yes
		name = lakecity.25.a
		add_stability = -0.05
	}
}

# Wavebreaker Assassinated!
country_event = {
	id = lakecity.26
	title = lakecity.26.t
	desc = lakecity.26.d
	#picture = GFX_event_griffons_machine_gun
	immediate = {log = "[Root.GetName]: event lakecity.26"}#Auto-logging
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			kill_country_leader = yes
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
			set_politics = { ruling_party = fascism elections_allowed = no }
			add_stability = -0.20
			set_country_flag = LCT_wavebreaker_assassinated
			complete_national_focus = LCT_westerly_takes_control
			news_event = { hours = 12 id = lakecity_news.9 }
			set_global_flag = LCT_vanguard_chosen
		}
	}

	option = { # yes
		name = lakecity.26.a
		
		effect_tooltip = {
			add_stability = -0.10
			add_popularity = {
				ideology = fascism
				popularity = 0.2
			}
			set_politics = { ruling_party = fascism elections_allowed = no }
			complete_national_focus = LCT_westerly_takes_control
		}
	}
}



###########################
####  MACB BANDITS  ####
###########################

# Pony Infiltration!
country_event = {
	id = lakecity.27
	title = lakecity.27.t
	desc = lakecity.27.d
	picture = GFX_event_bazooka_team
	immediate = {log = "[Root.GetName]: event lakecity.27"}#Auto-logging
	is_triggered_only = yes
	
	immediate = {
		
	}

	option = { # yes
		name = lakecity.27.a
		
		effect_tooltip = {
			add_ideas = LCT_macb_infiltration
		}

		random_owned_state = {
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.7
			}
		}

		custom_effect_tooltip = LCT_macb_raids_start
		
	}
}

country_event = {
	id = lakecity_macb_event.1
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.1"}#Auto-logging
	title = lakecity_macb_event.1.t
	desc = lakecity_macb_event.1.d
	picture = GFX_event_bazooka_team

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.1.a

		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = lakecity_macb_event.2
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.2"}#Auto-logging
	title = lakecity_macb_event.2.t
	desc = lakecity_macb_event.2.d
	picture = GFX_event_bazooka_team

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.2.a

		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = lakecity_macb_event.3
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.3"}#Auto-logging
	title = lakecity_macb_event.3.t
	desc = lakecity_macb_event.3.d
	picture = GFX_report_event_generic_train

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.3.a

		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure > 0
			}
			damage_building = {
				type = infrastructure
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = lakecity_macb_event.4
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.4"}#Auto-logging
	title = lakecity_macb_event.4.t
	desc = lakecity_macb_event.4.d
	picture = GFX_event_bazooka_team

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.4.a
		add_manpower = -100
	}
}

# The MACB escape capture
country_event = {
	id = lakecity_macb_event.5
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.5"}#Auto-logging
	title = lakecity_macb_event.5.t
	desc = lakecity_macb_event.5.d
	picture = GFX_event_griffon_with_gun

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.5.a
		add_manpower = -10
	}
}

# MACB have retreated
country_event = {
	id = lakecity_macb_event.6
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.6"}#Auto-logging
	title = lakecity_macb_event.6.t
	desc = lakecity_macb_event.6.d
	picture = GFX_event_griffon_with_gun

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.6.a
		add_political_power = 100
		custom_effect_tooltip = LCT_macb_left
		remove_ideas = LCT_macb_infiltration
		LCT = {
			country_event = lakecity_macb_event.7
		}
	}
}

# MACB have retreated - LCT
country_event = {
	id = lakecity_macb_event.7
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.7"}#Auto-logging
	title = lakecity_macb_event.7.t
	desc = lakecity_macb_event.7.d
	picture = GFX_event_griffon_with_gun

	is_triggered_only = yes

	option = {
		name = lakecity_macb_event.7.a
		add_political_power = -100
		custom_effect_tooltip = LCT_macb_left_lct
		effect_tooltip = {
			FROM = {
				remove_ideas = LCT_macb_infiltration
			}
		}		
	}
}

# MACB leaves after government change
country_event = {
	id = lakecity_macb_event.8
	immediate = {log = "[Root.GetName]: event lakecity_macb_event.8"}#Auto-logging
	title = lakecity_macb_event.8.t
	desc = lakecity_macb_event.8.d
	picture = GFX_event_griffon_with_gun

	trigger = {
		NOT = {
			has_government = communism
		}
		NOT = {
			has_country_flag = LCT_remove_macb
		}
		has_idea = LCT_macb_infiltration
	}

	option = {
		name = lakecity_macb_event.8.a
		custom_effect_tooltip = LCT_macb_left
		remove_ideas = LCT_macb_infiltration
		set_country_flag = LCT_remove_macb
		if = {
			limit = {
				is_in_faction = yes

			}
		}
		if = {
			limit = {
				NOT = {
					has_war_with = LCT
				}
			}
		}
	}
}

# Anti-Communist pact
country_event = {
	id = lakecity.80
	title = lakecity.80.t
	desc = lakecity.80.d
	#picture = GFX_report_event_japan_europe_pact
	immediate = {log = "[Root.GetName]: event lakecity.80"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.80.a		#join
		ai_chance = {
			factor = 75
			modifier = {
				factor = 2
				has_opinion = {
					target = GRW
					value < -10
				}
			}
			modifier = {
				factor = 0.5
				has_opinion = {
					target = LCT
					value < -10
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		set_country_flag = LCT_anti_comintern_member
		add_ideas = LCT_anti_commie_pact
		LCT = { add_opinion_modifier = { target = ROOT modifier = anti_comintern_pact_opinion } }
		add_opinion_modifier = { target = LCT modifier = anti_comintern_pact_opinion }
		GRW  = { add_opinion_modifier = { target = ROOT modifier = pact_against_us } }
	}
	
	option = {
		name = lakecity.80.b		#refuse
		trigger = { NOT = { is_puppet_of = LCT } }
		ai_chance = { 
			factor = 25 
		}
		LCT =  { add_opinion_modifier = { target = ROOT modifier = refused_anti_comintern_pact_opinion } }
	}
}

# Call Pact Members to War (Instigator)
country_event = {
	id = lakecity.81
	title = lakecity.81.t
	desc = lakecity.81.d
	picture = GFX_report_event_soviet_tanks
	immediate = {log = "[Root.GetName]: event lakecity.81"}#Auto-logging
	is_triggered_only = yes

	option = {
		name = lakecity.81.a
		every_other_country = {
			limit = {
				has_idea = LCT_anti_commie_pact
				NOT = { has_war_with = event_target:LCT_pact_war_starter }
				is_subject = no
				any_other_country = {
					has_idea = LCT_anti_commie_pact
					has_war_with = event_target:LCT_pact_war_starter
				}
			}
			country_event = { id = lakecity.82 days = 1 }
		}
	}
}

# [From.GetName] Calls Pact Members to War
country_event = {
	id = lakecity.82
	title = lakecity.82.t
	desc = lakecity.82.a
	picture = GFX_report_event_soviet_tanks
	immediate = {log = "[Root.GetName]: event lakecity.82"}#Auto-logging
	is_triggered_only = yes
	
	option = {
		name = lakecity.82.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = event_target:LCT_pact_war_starter
			hostility_reason = ally
		}
	}

	option = {
		name = lakecity.82.b
		trigger = {
			NOT = { original_tag = LCT }
		}
		ai_chance = {
			factor = 0
		}
		remove_ideas = LCT_anti_commie_pact
		FROM = { add_opinion_modifier = { target = ROOT modifier = anti_soviet_pact_call_refused } }
	}
}

# Reclaim the Empire!
country_event = {
	id = lakecity.90
	title = lakecity.90.t
	desc = lakecity.90.d
	picture = GFX_report_event_soviet_tanks
	immediate = {log = "[Root.GetName]: event lakecity.90"}#Auto-logging
	is_triggered_only = yes

	option = { # To Griffinhime!
		name = lakecity.90.a
		ai_chance = {
			factor = 10
		}
		add_state_claim = 382
		add_state_claim = 397
		add_state_claim = 405
		add_state_claim = 437
		add_state_claim = 555
		random_country = {
			limit = {
				owns_state = 397
			}
			ROOT = {
				create_wargoal = {
					type = take_state_focus
					target = PREV
					generator = { 397 382 405 437 555 }
				}
			}
		}
	}

	option = { # Nah, not intrested
		name = lakecity.90.b
		ai_chance = {
			factor = 0
		}
	}
}

# War against the pony threat!
country_event = {
	id = lakecity.91
	title = lakecity.91.t
	desc = lakecity.91.d
	picture = GFX_report_event_soviet_tanks
	immediate = {log = "[Root.GetName]: event lakecity.91"}#Auto-logging
	is_triggered_only = yes

	option = { # Anti-Pony Crusade Time!
		name = lakecity.91.a
		ai_chance = {
			factor = 10
		}
		every_other_country = {			
			limit = {
				has_idea = griffon_race
				NOT = { has_war_with = LCT }
				is_subject = no
				NOT = { has_war_with = ROOT }
				any_other_country = {
					has_idea = griffon_race
					has_war_with = LCT
				}
			}
			country_event = { id = lakecity.92 days = 1 }
		}
	}

	option = { # Who needs friends?
		name = lakecity.91.b
		ai_chance = {
			factor = 0
		}
	}
}

# [From.GetName] Calls Griffons in Crusade against Lake City
country_event = {
	id = lakecity.92
	title = lakecity.92.t
	desc = lakecity.92.d
	immediate = {log = "[Root.GetName]: event lakecity.92"}#Auto-logging
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	option = {
		name = lakecity.92.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = LCT
			hostility_reason = ally
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
				}
				country_event = { id = germany.127 days = 7 random = 7 }
			}
		}
	}

	option = { #This isn't our war
		name = lakecity.92.b
		ai_chance = {
			factor = 0
		}
	}
}

#############################
######## NEWS EVENTS ########
#############################

#Coup Failed
news_event = {
	id = lakecity_news.1
	immediate = {log = "[Root.GetName]: event lakecity_news.1"}#Auto-logging
	title = lakecity_news.1.t
	desc = lakecity_news.1.d
	picture = GFX_news_ponies_last_stand

	major = yes

	is_triggered_only = yes

	option = {		
		name = lakecity_news.1.a
	}
}

#Coup Sucsess
news_event = {
	id = lakecity_news.2
	immediate = {log = "[Root.GetName]: event lakecity_news.2"}#Auto-logging
	title = lakecity_news.2.t
	desc = lakecity_news.2.d
	picture = GFX_news_ponies_last_stand

	major = yes

	is_triggered_only = yes

	option = {		
		name = lakecity_news.2.a
	}
}

#Westerly Seized Power
news_event = {
	id = lakecity_news.3
	immediate = {log = "[Root.GetName]: event lakecity_news.3"}#Auto-logging
	title = lakecity_news.3.t
	desc = lakecity_news.3.d
	picture = GFX_news_ponies_last_stand

	major = yes

	is_triggered_only = yes

	option = {		
		name = lakecity_news.3.a
	}
}

# Buckrovic Incident - WAR
news_event = {
	id = lakecity_news.4
	title = lakecity.13.t
	desc = lakecity_news.4.d
	picture = GFX_news_pony_griffon_war
	immediate = {log = "[Root.GetName]: event lakecity_news.4"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.4.a
		trigger = {
			NOT = {
				TAG = LCT
				TAG = LNS
				TAG = HLQ
			}
		}
	}
	option = {
		name = lakecity_news.4.b
		trigger = { TAG = LCT }
	}
	option = {
		name = lakecity_news.4.c
		trigger = { OR = { TAG = LNS TAG = HLQ } }
	}
}

# Buckrovic Incident - PEACE
news_event = {
	id = lakecity_news.5
	title = lakecity.13.t
	desc = lakecity_news.5.d
	picture = GFX_news_pony_griffon_war
	immediate = {log = "[Root.GetName]: event lakecity_news.5"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.5.a
		trigger = {
			NOT = {
				TAG = LCT
				TAG = LNS
				TAG = HLQ
			}
		}
	}
	option = {
		name = lakecity_news.5.b
		trigger = { TAG = LCT }
	}
	option = {
		name = lakecity_news.5.c
		trigger = { OR = { TAG = LNS TAG = HLQ } }
	}
}

# The River Empire
news_event = {
	id = lakecity_news.6
	title = lakecity.6.t
	desc = lakecity_news.6.d
	#picture = GFX_news_event_018
	immediate = {log = "[Root.GetName]: event lakecity_news.6"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.6.a
		trigger = {
			NOT = {
				tag = LCT
			}
		}
	}
	option = {
		name = lakecity_news.6.b
		trigger = { tag = LCT }
	}
}

# The Holy Pony Empire
news_event = {
	id = lakecity_news.7
	title = lakecity.7.t
	desc = lakecity_news.7.d
	#picture = GFX_news_event_018
	immediate = {log = "[Root.GetName]: event lakecity_news.7"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.7.a
		trigger = {
			NOT = {
				tag = LCT
			}
		}
	}
	option = {
		name = lakecity_news.7.b
		trigger = { tag = LCT }
	}
}

# The Anti-Pony Crusade
news_event = {
	id = lakecity_news.8
	title = lakecity.8.t
	desc = lakecity_news.8.d
	picture = GFX_news_pony_griffon_war
	immediate = {log = "[Root.GetName]: event lakecity_news.8"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.8.a
		trigger = {
			has_idea = griffon_race
		}
	}
	option = {
		name = lakecity_news.8.b
		trigger = { tag = LCT }
	}
	option = {
		name = lakecity_news.8.c
		trigger = {			
			NOT = { has_idea = griffon_race }
			NOT = { tag = LCT }
		}
	}
}

# Wavebreaker Assassinated
news_event = {
	id = lakecity_news.9
	title = lakecity.9.t
	desc = lakecity_news.9.d
	picture = GFX_news_ponies_urben
	immediate = {log = "[Root.GetName]: event lakecity_news.9"}#Auto-logging
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = lakecity_news.9.a
		trigger = { tag = LCT }
	}
	option = {
		name = lakecity_news.9.b
		trigger = {
			NOT = { tag = LCT }
		}
	}
}


###########################
####  Lakecity Flavour ####
###########################

# lake festival preperation event, can't host during wartime
country_event = {
	id = lakecity.93
	immediate = {log = "[Root.GetName]: event lakecity.93"}#Auto-logging
	title = lakecity.93.t
	desc = lakecity.93.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# the holiday is upon us!
	option = {
		name = lakecity.93.a
		trigger = {
			has_war = no
		}
		hidden_effect = {		
			country_event = { 
				id = lakecity.94
				days = 20
			}
		}
	}
	
	# Can't fire the event during war.
	option = {
		name = lakecity.93.b
		trigger = {
			has_war = yes
		}
		country_event = { 
			id = lakecity.93
			days = 380
		}
	}
}

# Lake festival celebration
# Annual festival that happens every year, old traditions that celebrate
# the importance of the lake to the city

country_event = {
	id = lakecity.94
	immediate = {log = "[Root.GetName]: event lakecity.94"}#Auto-logging
	title = lakecity.94.t
	desc = lakecity.94.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# festival next year
	option = {
		name = lakecity.94.a
		add_political_power = 5
		hidden_effect = {
			country_event = { 
				id = lakecity.93
				days = 340
			}
		}
	}

	# "This event is a waste of time" #never fires again#
	option = {
		name = lakecity.94.b
		country_event = { 
			id = lakecity.95
			days = 2
		}
	}
}

# Lake festival cancled
# you chose to end the yearly festival

country_event = {
	id = lakecity.95
	immediate = {log = "[Root.GetName]: event lakecity.95"}#Auto-logging
	title = lakecity.95.t
	desc = lakecity.95.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# festivals are over
	option = {
		name = lakecity.95.a
		add_political_power = -10
	}
}

# Lost fishers
country_event = {
	id = lakecity.96
	immediate = {log = "[Root.GetName]: event lakecity.96"}#Auto-logging
	title = lakecity.96.t
	desc = lakecity.96.d
	picture = GFX_event_lake_city
	
	trigger = {
		tag = LCT
		has_stability = 0.5
		has_war = no
	}
	
	mean_time_to_happen = { days = 25 random = 30 }
	fire_only_once = yes
	
	# investigate
	option = {
		name = lakecity.96.a
		add_political_power = -5
		country_event = { 
			id = lakecity.97 
			days = 30
			random = 30
		}
	}
	
	# ignore
	option = {
		name = lakecity.96.b
		add_stability = -0.05
	}
}

# second event in the chain, they are not found yet
country_event = {
	id = lakecity.97
	immediate = {log = "[Root.GetName]: event lakecity.97"}#Auto-logging
	title = lakecity.97.t
	desc = lakecity.97.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# continue the search
	option = {
		name = lakecity.97.a
		add_political_power = -5
		country_event = {
			id = lakecity.98
			days = 17
			random = 22
		}
	}
	
	# give up
	option = {
		name = lakecity.97.b
		add_stability = -0.05
	}
}

# Third and final event, payoff
country_event = {
	id = lakecity.98
	immediate = {log = "[Root.GetName]: event lakecity.98"}#Auto-logging
	title = lakecity.98.t
	desc = lakecity.98.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# Fishermen found!
	option = {
		name = lakecity.98.a
		add_political_power = 20
		add_stability = 0.05
	}
}

# Guild dispute minichain (three events)
country_event = {
	id = lakecity.99
	immediate = {log = "[Root.GetName]: event lakecity.99"}#Auto-logging
	title = lakecity.99.t
	desc = lakecity.99.d
	picture = GFX_event_lake_city
	
	trigger = {
		tag = LCT
		has_war = no
		OR = {
			has_completed_focus = LCT_support_the_guilds
			has_completed_focus = LCT_empower_the_guilds
		}
	}
	
	fire_only_once = yes
	mean_time_to_happen = { days = 40 random = 50 }
	
	# Mediate negotiations
	option = {
		name = lakecity.99.a
		country_event = {
			id = lakecity.100
			days = 26
		}
	}
	
	# Let them Squabble
	option = {
		name = lakecity.99.b
		hidden_effect = {
			random_list = {
				50 = {
					country_event = {
						id = lakecity.101
						days = 15
						random = 25
					}
				}
				50 = {
					country_event = {
						id = lakecity.103
						days = 15
						random = 25
					}
				}
			}
		}
	}
}

# Guild dispute mediate
country_event = {
	id = lakecity.100
	immediate = {log = "[Root.GetName]: event lakecity.100"}#Auto-logging
	title = lakecity.100.t
	desc = lakecity.100.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# Guilds placated empowered
	option = {
		name = lakecity.100.a
		trigger = {
			has_completed_focus = LCT_empower_the_guilds
		}
		
		add_timed_idea = {
			idea = LTC_temp_guild_empower_bonus
			days = 90
		}
	}
	
	# Guilds placated supported
	option = {
		name = lakecity.100.b
		trigger = {
			has_completed_focus = LCT_support_the_guilds
		}
		
		add_timed_idea = {
			idea = LTC_temp_guild_support_bonus
			days = 90
		}
	}
}	
	
# Guild dispute squabble
country_event = {
	id = lakecity.101
	immediate = {log = "[Root.GetName]: event lakecity.101"}#Auto-logging
	title = lakecity.101.t
	desc = lakecity.101.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	# empowered guilds option
	option = {
		name = lakecity.101.a
		trigger = {
			has_completed_focus = LCT_empower_the_guilds
		}
		
		add_timed_idea = {
			idea = LTC_temp_guild_empower_bonus
			days = 150
		}
	}
	
	# supported guilds option
	option = {
		name = lakecity.101.b
		trigger = {
			has_completed_focus = LCT_support_the_guilds
		}
		
		add_timed_idea = {
			idea = LTC_temp_guild_support_bonus
			days = 150
		}
	}
}

# Military conflict with lake city
# Unruly soldiers causing issues
country_event = {
	id = lakecity.102
	immediate = {log = "[Root.GetName]: event lakecity.102"}#Auto-logging
	title = lakecity.102.t
	desc = lakecity.102.d
	picture = GFX_event_lake_city

	trigger = {
		has_completed_focus = LCT_westerly_takes_control
		has_war_support > 0.8
		has_stability > 0.65		
	}

	mean_time_to_happen = { days 35 random = 50 }

	fire_only_once = yes
	
	# Punish the military
	option = {
		name = lakecity.102.a
		add_political_power = -3
		add_war_support = -0.03
		add_stability = 0.03
	}
	
	# Lax response
	option = {
		name = lakecity.102.b
		add_political_power = -3
		add_war_support = 0.03
		add_stability = -0.03
	}
}

# guild dispute option squabble fail
country_event = {
	id = lakecity.103
	immediate = {log = "[Root.GetName]: event lakecity.103"}#Auto-logging
	title = lakecity.103.t
	desc = lakecity.103.d
	picture = GFX_event_lake_city
	is_triggered_only = yes
	
	option = {
		name = lakecity.103.a
		set_country_flag = { 
			flag = guild_disagreement 
			days = 360 
			value = 1 
		}
	}
}