add_namespace = fillydelphia_civil ## Civil war events
add_namespace = fillydelphia_general ## Post-civil war/general events
add_namespace = fillydelphia_elections ## Election related events
add_namespace = fillydelphia_manesix ## M6 and side cast events
add_namespace = fillydelphia_news ## News events
add_namespace = fillydelphia_utility ## Utility events
add_namespace = fillydelphia_debug

### CIVIL WAR EVENTS

	country_event = { #Fillydelphia Revolt
		id = fillydelphia_civil.1
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.1"}
		title = fillydelphia_civil.1.t
		desc = fillydelphia_civil.1.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {
			name = fillydelphia_civil.1.a
			create_dynamic_country = {
				original_tag = EQS
				set_AI_strategies_on_every_possible_country_delayed = yes
				set_research_slots = 3
				every_state = {
					limit = {
						OR = {
							state = 12
						}
					}
					transfer_state_to = PREV
					add_core_of = PREV
				}
				set_cosmetic_tag = EQS_FLY
				set_country_flag = FLY_filldelphia
				every_possible_country = {
					limit = {
						has_character = FLY_republican_council
					}
					FLY_republican_council = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_terrorists
					}
					FLY_terrorists = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_nopony
					}
					FLY_nopony = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_spearhead
					}
					FLY_spearhead = {
						add_corps_commander_role = {
							desc = FLY_spearhead_desc
							traits = { pony_race_trait vigilant_sentinel organizer }
							skill = 2
							attack_skill = 3
							defense_skill = 2
							planning_skill = 1
							logistics_skill = 2
							legacy_id = -1
						}
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_stygian
					}
					FLY_stygian = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_cheerilee
					}
					FLY_cheerilee = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_redheart
					}
					FLY_redheart = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_word_filter
					}
					FLY_word_filter = {
						add_corps_commander_role = {
							desc = FLY_word_filter_desc
							traits = { pony_race_trait media_personality determined_innovator }
							skill = 2
							attack_skill = 2
							defense_skill = 3
							planning_skill = 2
							logistics_skill = 1
							legacy_id = -1
						}
						set_nationality = PREV.PREV
					}
				}
				add_country_leader_role = {
					character = FLY_republican_council
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = liberalism
					}
				}
				add_country_leader_role = {
					character = FLY_terrorists
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = falangism
					}
				}
				add_country_leader_role = {
					character = FLY_nopony
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = leninism
					}
				}
				add_country_leader_role = {
					character = FLY_nopony
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = centrism
					}
				}
				add_ideas = war_economy
				add_ideas = no_poverty
				add_ideas = modern_society
				add_ideas = no_lack_of_scientists
				add_ideas = proper_science_base
				add_ideas = pony_race
				set_party_name = {
					ideology = democratic
					long_name = FLY_harmony_party_long
					name = FLY_harmony_party
				}
				set_party_name = {
					ideology = fascism
					long_name = FLY_fascist_civil_party_long
					name = FLY_fascist_civil_party
				}
				set_party_name = {
					ideology = communism
					long_name = FLY_communist_civil_party_long
					name = FLY_communist_civil_party
				}
				set_party_name = {
					ideology = neutrality
					long_name = FLY_neutrality_civil_party_long
					name = FLY_neutrality_civil_party
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_stability = 0.25
				set_war_support = 0.25
				set_popularities = {
					democratic = 15
					fascism = 25
					communism = 10
					neutrality = 50
				}
				load_focus_tree = { tree = FLY_wartime_tree keep_completed = yes }
				set_capital = {
					state = 12
				}
			}
			every_state = {
				limit = {
					NOT = {
						state = 12
					}
					OR = {
						is_core_of = EQS
						is_claimed_by = EQS
						is_core_of = NLR
						is_claimed_by = NLR
					}						
				}
				remove_core_of = FLY
				add_claim_by = FLY
			}
			FLY = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 750
					producer = EQS
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 50
					producer = EQS
				}
				add_equipment_to_stockpile = {
					type = motorized_equipment
					amount = 75
					producer = EQS
				}
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = 5
					producer = EQS
				}
				delete_unit_template_and_units = { division_template = "Armored-Division" }
				delete_unit_template_and_units = { division_template = "Pegasus Shock Unit" }
				load_oob = "FLY_civil_war"
				set_variable = {
					var = FLY_legitimacy
					value = 0
				}
				set_variable = {
					var = FLY_legitimacy_max
					value = 20
				}
				add_timed_idea = {
					idea = FLY_legitimacy_starting_timed_bonus
					days = 120
				}
				set_country_flag = FLY_filldelphia_legitimacy_active
				complete_national_focus = FLY_birth_of_republic
				country_event = {
					id = fillydelphia_civil.2
					hours = 1
				}
			}
		}
		option = {
			name = fillydelphia_civil.1.b
			create_dynamic_country = {
				original_tag = EQS
				set_AI_strategies_on_every_possible_country_delayed = yes
				set_research_slots = 3
				every_state = {
					limit = {
						OR = {
							state = 12
						}
					}
					transfer_state_to = PREV
					add_core_of = PREV
				}
				set_cosmetic_tag = EQS_FLY
				set_country_flag = FLY_filldelphia
				every_possible_country = {
					limit = {
						has_character = FLY_republican_council
					}
					FLY_republican_council = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_terrorists
					}
					FLY_terrorists = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_nopony
					}
					FLY_nopony = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_lyra_heartstrings
					}
					FLY_lyra_heartstrings = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_cirrus_cloud
					}
					FLY_cirrus_cloud = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_coco_pommel
					}
					FLY_coco_pommel = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_coloratura
					}
					FLY_coloratura = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_sunny_skies
					}
					FLY_sunny_skies = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_minuette
					}
					FLY_minuette = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_strawberry_snowflake
					}
					FLY_strawberry_snowflake = {
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_spearhead
					}
					FLY_spearhead = {
						add_corps_commander_role = {
							desc = FLY_spearhead_desc
							traits = { pony_race_trait vigilant_sentinel organizer }
							skill = 2
							attack_skill = 2
							defense_skill = 2
							planning_skill = 1
							logistics_skill = 2
							legacy_id = -1
						}
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = FLY_word_filter
					}
					FLY_word_filter = {
						add_corps_commander_role = {
							desc = FLY_word_filter_desc
							traits = { pony_race_trait media_personality determined_innovator }
							skill = 2
							attack_skill = 2
							defense_skill = 2
							planning_skill = 2
							logistics_skill = 1
							legacy_id = -1
						}
						set_nationality = PREV.PREV
					}
				}
				every_possible_country = {
					limit = {
						has_character = WIN_argentus
					}
					WIN_argentus = {
						add_corps_commander_role = {
							traits = { thestral_race_trait commando jungle_rat	trait_reckless trait_mercenary_commander }	
							skill = 2
							attack_skill = 2
							defense_skill = 1
							planning_skill = 2
							logistics_skill = 2
							legacy_id = 5562
						}
						set_nationality = PREV.PREV
					}
				}
				add_country_leader_role = {
					character = FLY_republican_council
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = liberalism
					}
				}
				add_country_leader_role = {
					character = FLY_terrorists
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = falangism
					}
				}
				add_country_leader_role = {
					character = FLY_nopony
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = leninism
					}
				}
				add_country_leader_role = {
					character = FLY_nopony
					promote_leader = yes
					country_leader = {
						desc = ""
						expire = "1965.1.1"
						ideology = centrism
					}
				}
				add_ideas = war_economy
				add_ideas = no_poverty
				add_ideas = modern_society
				add_ideas = no_lack_of_scientists
				add_ideas = proper_science_base
				add_ideas = pony_race
				set_party_name = {
					ideology = democratic
					long_name = FLY_harmony_party_long
					name = FLY_harmony_party
				}
				set_party_name = {
					ideology = fascism
					long_name = FLY_fascist_civil_party_long
					name = FLY_fascist_civil_party
				}
				set_party_name = {
					ideology = communism
					long_name = FLY_communist_civil_party_long
					name = FLY_communist_civil_party
				}
				set_party_name = {
					ideology = neutrality
					long_name = FLY_neutrality_civil_party_long
					name = FLY_neutrality_civil_party
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_stability = 0.25
				set_war_support = 0.25
				set_popularities = {
					democratic = 15
					fascism = 25
					communism = 10
					neutrality = 50
				}
				load_focus_tree = { tree = FLY_wartime_tree keep_completed = yes }
				complete_national_focus = FLY_birth_of_republic
				add_fuel = 45000
				set_capital = {
					state = 12
				}
			}
			every_state = {
				limit = {
					NOT = {
						state = 12
					}
					OR = {
						is_core_of = EQS
						is_claimed_by = EQS
						is_core_of = NLR
						is_claimed_by = NLR
					}						
				}
				remove_core_of = FLY
				add_claim_by = FLY
			}
			#### REMEMBER TO REMOVE THIS ####
			set_cosmetic_tag = EQS_SOL
			set_politics = {
				ruling_party = fascism
			}
			#### REMEMBER TO REMOVE THIS ####
			FLY = {
				delete_unit_template_and_units = { division_template = "Armored-Division" }
				delete_unit_template_and_units = { division_template = "Pegasus Shock Unit" }
				load_oob = "FLY_civil_war"
				set_variable = {
					var = FLY_legitimacy
					value = 0
				}
				set_variable = {
					var = FLY_legitimacy_max
					value = 20
				}
				set_country_flag = FLY_filldelphia_legitimacy_active
				add_timed_idea = {
					idea = FLY_legitimacy_starting_timed_bonus
					days = 120
				}
				country_event = {
					id = fillydelphia_civil.2
					hours = 1
				}
			}
			declare_war_on = {
				target = FLY
				type = annex_everything
			}
			if = {
				limit = {
					NLR = {
						exists = yes
					}
				}
				NLR = {
					declare_war_on = {
						target = FLY
						type = annex_everything
					}
				}
			}
			news_event = { id = fillydelphia_news.1 hours = 6 }
			FLY = { change_tag_from = ROOT }
		}
	}

	country_event = { #Introduction to the Legitimacy System
		id = fillydelphia_civil.2
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.2"}
		title = fillydelphia_civil.2.t
		desc = fillydelphia_civil.2.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {
			name = fillydelphia_civil.2.a
			custom_effect_tooltip = FLY_explain_legitimacy
		}
	}

	country_event = { #Choose Flag
		id = fillydelphia_civil.3
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.3"}
		title = fillydelphia_civil.3.t
		desc = fillydelphia_civil.3.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = { ### regular tricolour tricolour with three tribes symbol
			name = fillydelphia_civil.3.a
			custom_effect_tooltip = FLY_flag_texticon_1_tp
			hidden_effect = {
				set_cosmetic_tag = EQS_FLY_organised_1
			}
		}
		option = { ### tricolour with four tribes symbol
			name = fillydelphia_civil.3.b
			custom_effect_tooltip = FLY_flag_texticon_2_tp
			hidden_effect = {
				set_cosmetic_tag = EQS_FLY_organised_2
			}
		}
		option = { ### regular tricolour
			name = fillydelphia_civil.3.c
			custom_effect_tooltip = FLY_flag_texticon_3_tp
			hidden_effect = {
				set_cosmetic_tag = EQS_FLY_organised_3
			}
		}
	}
	
	country_event = { #Choose Wartime Leader
		id = fillydelphia_civil.4
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.4"}
		title = fillydelphia_civil.4.t
		desc = fillydelphia_civil.4.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = { ### Lyra Heartstrings
			name = fillydelphia_civil.4.a
			trigger = {
				check_variable = {
					FLY_lyra_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_lyra_heartstrings
				ideology = liberalism
			}
			add_to_variable = {
                FLY_lyra_influence = 1
            }
		}
		option = { ### Cirrus Cloud
			name = fillydelphia_civil.4.b
			trigger = {
				check_variable = {
					FLY_cirrus_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_cirrus_cloud
				ideology = harmonic_libertarianism
			}
			add_to_variable = {
                FLY_cirrus_influence = 1
            }
		}
		option = { ### Coco Pommel
			name = fillydelphia_civil.4.c
			trigger = {
				check_variable = {
					FLY_coco_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_coco_pommel
				ideology = harmonic_libertarianism
			}
			add_to_variable = {
                FLY_coco_influence = 1
            }
		}
		option = { ### Coloratura
			name = fillydelphia_civil.4.e
			trigger = {
				check_variable = {
					FLY_coloratura_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_coloratura
				ideology = harmonic_libertarianism
			}
			add_to_variable = {
                FLY_coloratura_influence = 1
            }
		}
		option = { ### Sunny Skies
			name = fillydelphia_civil.4.f
			trigger = {
				check_variable = {
					FLY_sunny_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_sunny_skies
				ideology = liberalism
			}
			add_to_variable = {
                FLY_sunny_influence = 1
            }
		}
		option = { ### Minuette
			name = fillydelphia_civil.4.g
			trigger = {
				check_variable = {
					FLY_minuette_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_minuette
				ideology = liberalism
			}
			add_to_variable = {
                FLY_minuette_influence = 1
            }
		}
		option = { ### Starlight Glimmer
			name = fillydelphia_civil.4.h
			trigger = {
				check_variable = {
					FLY_starlight_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = EQS_starlight_glimmer
				ideology = socialism
			}
			add_to_variable = {
                FLY_starlight_influence = 1
            }
		}
		option = { ### Strawberry Snowflake
			name = fillydelphia_civil.4.i
			trigger = {
				check_variable = {
					FLY_strawberry_influence > 0
				}
			}
			retire_country_leader = yes
			promote_character = {
				character = FLY_strawberry_snowflake
				ideology = socialism
			}
			add_to_variable = {
                FLY_strawberry_influence = 1
            }
		}
	}

	country_event = { # Arms Against Tyranny - event other countries get from FLY requesting help
		id = fillydelphia_civil.5
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.5"}
		title = fillydelphia_civil.5.t
		desc = fillydelphia_civil.5.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = { ### send some armaments
			name = fillydelphia_civil.5.a
			ai_chance = {
				base = 1
				modifier = {
					OR = {
						AND = {
							has_political_power > 49
							is_major = yes
						}
						AND = {
							has_political_power > 24
							is_major = no
						}
					}
					add = 4
				}
				modifier = {
					OR = {
						AND = {
							has_political_power > 99
							is_major = yes
						}
						AND = {
							has_political_power > 49
							is_major = no
						}
					}
					add = -5
				}
			}
			if = {
				limit = {
					is_major = yes
				}
				add_political_power = -50
				FLY = {
					country_event = fillydelphia_civil.6
				}
			}
			else = {
				add_political_power = -25
				FLY = {
					country_event = fillydelphia_civil.6
				}
			}
		}
		option = { ### allow volunteers to go
			name = fillydelphia_civil.5.b
			ai_chance = {
				base = 1
				modifier = {
					OR = {
						AND = {
							has_political_power > 49
							is_major = yes
						}
						AND = {
							has_political_power > 24
							is_major = no
						}
					}
					add = 4
				}
				modifier = {
					OR = {
						AND = {
							has_political_power > 99
							is_major = yes
						}
						AND = {
							has_political_power > 49
							is_major = no
						}
					}
					add = -5
				}
			}
			if = {
				limit = {
					is_major = yes
				}
				add_political_power = -100
				FLY = {
					country_event = fillydelphia_civil.7
				}
			}
			else = {
				add_political_power = -50
				FLY = {
					country_event = fillydelphia_civil.7
				}
			}
		}
		option = { ### armaments + volunteers
			name = fillydelphia_civil.5.c
			ai_chance = {
				base = 1
				modifier = {
					OR = {
						AND = {
							has_political_power > 99
							is_major = yes
						}
						AND = {
							has_political_power > 49
							is_major = no
						}
					}
					add = 4
				}
			}
			if = {
				limit = {
					is_major = yes
				}
				add_political_power = -100
				FLY = {
					country_event = fillydelphia_civil.8
				}
			}
			else = {
				add_political_power = -50
				FLY = {
					country_event = fillydelphia_civil.8
				}
			}
			
		}
		option = { ### give nothing
			name = fillydelphia_civil.5.e
			ai_chance = {
				base = 1
				modifier = {
					has_political_power < 1
					add = 9
				}
			}
		}
	}

	country_event = { # Arms Against Tyranny - FLY gets arms
		id = fillydelphia_civil.6
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.6"}
		title = fillydelphia_civil.6.t
		desc = fillydelphia_civil.6.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {
			name = fillydelphia_civil.6.a
			if = {
				limit = {
					PREV = {
						is_major = yes
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 800
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 25
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 25
					producer = PREV
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 400
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 10
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 10
					producer = PREV
				}
			}
		}
	}

	country_event = { # Arms Against Tyranny - FLY gets volunteers
		id = fillydelphia_civil.7
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.7"}
		title = fillydelphia_civil.7.t
		desc = fillydelphia_civil.7.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {
			name = fillydelphia_civil.7.a
			if = {
				limit = {
					PREV = {
						is_major = yes
					}
				}
				add_manpower = 7500
			}
			else = {
				add_manpower = 3250
			}
		}
	}

	country_event = { # Arms Against Tyranny - FLY gets arms+volunteers
		id = fillydelphia_civil.8
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_civil.8"}
		title = fillydelphia_civil.8.t
		desc = fillydelphia_civil.8.d
		
		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes
		
		option = {
			name = fillydelphia_civil.8.a
			if = {
				limit = {
					PREV = {
						is_major = yes
					}
				}
				add_manpower = 7500
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 800
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 25
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 25
					producer = PREV
				}
			}
			else = {
				add_manpower = 3250
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 400
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 10
					producer = PREV
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 10
					producer = PREV
				}
			}
		}
	}

### POST-CIVIL WAR/GENERAL EVENTS

	country_event = { ### Special Pegasus Service recruit listening to a speech about their symbol
		id = fillydelphia_general.1
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_general.1"}
		title = fillydelphia_general.1.t
		desc = fillydelphia_general.1.d

		picture = GFX_event_canterlot 
		is_triggered_only = yes

		option = {
			name = fillydelphia_general.1.a
			add_war_support = 0.015
		}
	}

### ELECTION AND CANDIDATE EVENTS


### STARLIGHT GLIMMER AND M6 EVENTS

	country_event = { # Starlight Glimmer arrives
		id = fillydelphia_manesix.1
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.1"}
		title = fillydelphia_manesix.1.t
		desc = fillydelphia_manesix.1.d

		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.1.a
			### add custom effect explaining Starlight's plan to unite the M6
			FLY_photos_starting_location = yes
			set_country_flag = FLY_searching_for_elements
			hidden_effect = {
				country_event = { id = fillydelphia_manesix.2 days = 15 }
				country_event = { id = fillydelphia_manesix.8 days = 15 random_days = 35 }
			}
		}
	}

	country_event = { # Fluttershy (and potentially RD) arrive to FLY - first event
		id = fillydelphia_manesix.2
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.2"}
		title = fillydelphia_manesix.2.t
		desc = fillydelphia_manesix.2.d

		picture = GFX_event_pony_soldiers
		is_triggered_only = yes
		fire_only_once = yes

		option = { ### Fluttershy arrives alone, Rainbow is stranded in Rambling Rock Ridge
			name = fillydelphia_manesix.2.a
			trigger = {
				NOT = {
					65 = {
						is_controlled_by = FLY
					}
				}
			}
			FLY_flutershy_location_fly = yes
			FLY_fluttershy_found = yes
			complete_national_focus = FLY_kindness
			country_event = { id = fillydelphia_manesix.3 }
		}
		option = { ### Fluttershy and Rainbow arrive together
			name = fillydelphia_manesix.2.a
			trigger = {
				65 = {
					is_controlled_by = FLY
				}
			}
			FLY_flutershy_location_fly = yes
			complete_national_focus = FLY_kindness
			FLY_fluttershy_found = yes
			complete_national_focus = FLY_loyalty
			FLY_rainbow_found = yes
			add_political_power = 150
			set_temp_variable = {
                var = FLY_legitimacy_temp
                value = 10
            }
            custom_effect_tooltip = FLY_add_legitimacy_tp
            add_to_variable = {
                FLY_legitimacy = FLY_legitimacy_temp
            }
		}
	}

	country_event = { # Fluttershy arrive to FLY - second event
		id = fillydelphia_manesix.3
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.3"}
		title = fillydelphia_manesix.3.t
		desc = fillydelphia_manesix.3.d

		picture = GFX_event_forest
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.3.a
			FLY_flutershy_location_fly = yes
			FLY_fluttershy_found = yes
			complete_national_focus = FLY_kindness
			custom_effect_tooltip = FLY_rd_hiding_mission_tp
			activate_mission = FLY_rescue_rainbow_dash
		}
	}

	country_event = { # Rainbow is rescued by FLY forces
		id = fillydelphia_manesix.4
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.4"}
		title = fillydelphia_manesix.4.t
		desc = fillydelphia_manesix.4.d

		picture = GFX_event_forest
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.4.a
			complete_national_focus = FLY_loyalty
			FLY_rainbow_found = yes
			add_political_power = 150
			set_temp_variable = {
                var = FLY_legitimacy_temp
                value = 10
            }
            custom_effect_tooltip = FLY_add_legitimacy_tp
            add_to_variable = {
                FLY_legitimacy = FLY_legitimacy_temp
            }
		}
	}

	country_event = { # Rainbow arrives on her own to FLY - first event
		id = fillydelphia_manesix.5
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.5"}
		title = fillydelphia_manesix.5.t
		desc = fillydelphia_manesix.5.d

		picture = GFX_event_pony_trench 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.5.a
			country_event = { id = fillydelphia_manesix.6 }
		}
	}

	country_event = { # Rainbow arrives on her own to FLY - second event
		id = fillydelphia_manesix.6
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.6"}
		title = fillydelphia_manesix.6.t
		desc = fillydelphia_manesix.6.d

		picture = GFX_event_pony_trench 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.6.a
			country_event = { id = fillydelphia_manesix.7 }
		}
	}

	country_event = { # Rainbow arrives on her own to FLY - third event
		id = fillydelphia_manesix.7
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.7"}
		title = fillydelphia_manesix.7.t
		desc = fillydelphia_manesix.7.d

		picture = GFX_event_pony_trench 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.7.a
			complete_national_focus = FLY_loyalty
			FLY_rainbow_found = yes
			EQS_rainbowdash = {
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 120
				}
			}
		}
	}

	country_event = { # Rurmour event for Applejack and Pinkie being in the west
		id = fillydelphia_manesix.8
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.8"}
		title = fillydelphia_manesix.8.t
		desc = fillydelphia_manesix.8.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.8.a
			FLY_applejack_location_west = yes
			FLY_pinkie_location_west = yes
			random_state = {
				limit = {
					OR = {
						state = 95
						state = 41
						state = 125
					}
				}
				set_state_flag = FLY_aj_pinkie_together_location
			}
			hidden_effect = {
				country_event = { id = fillydelphia_utility.3 days = 50 random_days = 15 }
			}
		}
	}

	country_event = { # Applejack and Pinkie are discovered together in the west
		id = fillydelphia_manesix.9
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.9"}
		title = fillydelphia_manesix.9.t
		desc = fillydelphia_manesix.9.d

		picture = GFX_event_pony_soldiers_sunset 
		trigger = {
			any_controlled_state = {
				has_state_flag = FLY_aj_pinkie_together_location
			}
		}
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.9.a
			complete_national_focus = FLY_honesty
			FLY_applejack_found = yes
			complete_national_focus = FLY_laughter
			FLY_pinkie_found = yes
		}
	}

	country_event = { # Rurmour event about Applejack being with her cousins and Pinkie with her family
		id = fillydelphia_manesix.10
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.10"}
		title = fillydelphia_manesix.10.t
		desc = fillydelphia_manesix.10.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.10.a
			random_state = {
				limit = {
					has_state_flag = FLY_aj_pinkie_together_location
				}
				clr_state_flag = FLY_aj_pinkie_together_location
			}
			FLY_applejack_location_pears = yes
			random_state = {
				limit = {
					OR = {
						state = 45
						state = 72
					}
				}
				set_state_flag = FLY_aj_location
			}
			FLY_pinkie_location_family = yes
			38 = {
				set_state_flag = FLY_pinkie_location
			}
		}
	}

	country_event = { # Applejack is found with her cousins the Pears - first event
		id = fillydelphia_manesix.11
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.11"}
		title = fillydelphia_manesix.11.t
		desc = fillydelphia_manesix.11.d

		picture = GFX_event_mlp_movie_tree 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.11.a
			country_event = { id = fillydelphia_manesix.12 }
		}
	}

	country_event = { # Applejack is found with her cousins the Pears - second event
		id = fillydelphia_manesix.12
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.12"}
		title = fillydelphia_manesix.12.t
		desc = fillydelphia_manesix.12.d

		picture = GFX_event_mlp_movie_tree 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.12.a
			complete_national_focus = FLY_honesty
			FLY_applejack_found = yes
		}
	}
	
	country_event = { # Pinkie is found with her family - first event
		id = fillydelphia_manesix.13
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.13"}
		title = fillydelphia_manesix.13.t
		desc = fillydelphia_manesix.13.d

		picture = GFX_event_generic_pony_soldier 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.13.a
			country_event = { id = fillydelphia_manesix.14 }
		}
	}

	country_event = { # Pinkie is found with her family - second event
		id = fillydelphia_manesix.14
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.14"}
		title = fillydelphia_manesix.14.t
		desc = fillydelphia_manesix.14.d

		picture = GFX_event_generic_pony_soldier 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.14.a
			complete_national_focus = FLY_laughter
			FLY_pinkie_found = yes
		}
	}

	country_event = { # Rarity is found in Manehattan/Albion - first event
		id = fillydelphia_manesix.15
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.15"}
		title = fillydelphia_manesix.15.t
		desc = fillydelphia_manesix.15.d

		picture = GFX_event_lake_city_city3 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.15.a
			country_event = { id = fillydelphia_manesix.16 }
		}
	}

	country_event = { # Rarity is found in Manehattan/Albion - second event
		id = fillydelphia_manesix.16
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.16"}
		title = fillydelphia_manesix.16.t
		desc = fillydelphia_manesix.16.d

		picture = GFX_event_lake_city_city3 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.16.a
			complete_national_focus = FLY_generosity
			FLY_rarity_found = yes
		}
	}

	country_event = { # event to warn about Rarity being moved to Albion
		id = fillydelphia_manesix.17
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.17"}
		title = fillydelphia_manesix.17.t
		desc = fillydelphia_manesix.17.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.17.a
			activate_mission = FLY_rarity_move
		}
	}

	country_event = { # Rarity is moved to Albion
		id = fillydelphia_manesix.18
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.18"}
		title = fillydelphia_manesix.18.t
		desc = fillydelphia_manesix.18.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.18.a
			FLY_rarity_location_moved = yes
		}
	}

	country_event = { # Twilight is found in Canterlot - first event
		id = fillydelphia_manesix.19
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.19"}
		title = fillydelphia_manesix.19.t
		desc = fillydelphia_manesix.19.d

		picture = GFX_event_cave 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.19.a
			country_event = { id = fillydelphia_manesix.20 }
		}
	}

	country_event = { # Twilight is found in Canterlot - second event
		id = fillydelphia_manesix.20
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.20"}
		title = fillydelphia_manesix.20.t
		desc = fillydelphia_manesix.20.d

		picture = GFX_event_cave 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.20.a
			country_event = { id = fillydelphia_manesix.21 }
		}
	}

	country_event = { # Twilight is found in Canterlot - third event
		id = fillydelphia_manesix.21
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.21"}
		title = fillydelphia_manesix.21.t
		desc = fillydelphia_manesix.21.d

		picture = GFX_event_cave 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.21.a
			complete_national_focus = FLY_magic
			FLY_twilight_found = yes
		}
	}

	country_event = { # Twilight is found in Whinnyapolis - first event
		id = fillydelphia_manesix.22
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.22"}
		title = fillydelphia_manesix.22.t
		desc = fillydelphia_manesix.22.d

		picture = GFX_event_cave 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.22.a
			country_event = { id = fillydelphia_manesix.20 }
		}
	}

	country_event = { # Twilight is found in Whinnyapolis - second event
		id = fillydelphia_manesix.23
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.23"}
		title = fillydelphia_manesix.23.t
		desc = fillydelphia_manesix.23.d

		picture = GFX_event_cave 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.23.a
			complete_national_focus = FLY_magic
			FLY_twilight_found = yes
		}
	}

	country_event = { # event to warn about Twilight being moved to Whinnyapolis
		id = fillydelphia_manesix.24
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.24"}
		title = fillydelphia_manesix.24.t
		desc = fillydelphia_manesix.24.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.14.a
			activate_mission = FLY_twilight_move
		}
	}

	country_event = { # Twilight is moved to Whinnyapolis
		id = fillydelphia_manesix.25
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.25"}
		title = fillydelphia_manesix.25.t
		desc = fillydelphia_manesix.25.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.25.a
			FLY_twilight_location_moved = yes
		}
	}

	### Optional Decision Events

	country_event = { # Fluttershy optional event
		id = fillydelphia_manesix.26
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.26"}
		title = fillydelphia_manesix.26.t
		desc = fillydelphia_manesix.26.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.26.a
		}
	}

	country_event = { # Rainbow Dash optional event
		id = fillydelphia_manesix.27
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.27"}
		title = fillydelphia_manesix.27.t
		desc = fillydelphia_manesix.27.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.27.a
		}
	}

	country_event = { # Applejack optional event
		id = fillydelphia_manesix.28
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_manesix.28"}
		title = fillydelphia_manesix.28.t
		desc = fillydelphia_manesix.28.d

		picture = GFX_event_exu_news 
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_manesix.28.a
		}
	}

### FILLYDELPHIA NEWS EVENTS

	news_event = { ### news event when Fillydelphia Revolt spawns
		id = fillydelphia_news.1
		title = fillydelphia_news.1.t
		desc = fillydelphia_news.1.d

		picture = GFX_event_fillydelphia_hole_colour_newspaper
		is_triggered_only = yes
		major = yes

		option = {
			name = fillydelphia_news.1.a
			trigger = {
				tag = FLY
			}
		}
		option = {
			name = fillydelphia_news.1.b
			trigger = {
				OR = {
					tag = SOL
					tag = EQS
				}
			}
		}
		option = {
			name = fillydelphia_news.1.c
			trigger = {
				NOT = {
					tag = FLY
					tag = SOL
					tag = EQS
				}
			}
		}
	}


### FILLYDELPHIA UTILITY EVENTS

	country_event = { # Unit/manpower spawn event during civil war when occupying SOL/NLR states
		id = fillydelphia_utility.1
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_utility.1"}
		title = fillydelphia_utility.1.t
		desc = fillydelphia_utility.1.d

		picture = GFX_event_canterlot 
		is_triggered_only = yes

		option = {
			name = fillydelphia_utility.1.a
			FLY_civil_war_occupation_effect = yes
		}
		option = { ## will make this event not appear again, bonuses are gained automatically
			name = fillydelphia_utility.1.b
			set_country_flag = FLY_skip_occupation_event
			custom_effect_tooltip = FLY_disable_civil_war_occupation_event_popup_tp
			FLY_civil_war_occupation_effect = yes
		}
	}

	country_event = { # Unit/manpower spawn event but hidden from player
		id = fillydelphia_utility.2
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_utility.2"}
		title = fillydelphia_utility.2.t
		desc = fillydelphia_utility.2.d

		picture = GFX_event_canterlot 
		is_triggered_only = yes
		hidden = yes

		option = {
			name = fillydelphia_utility.2.a
			FLY_civil_war_occupation_effect = yes
		}
	}

	country_event = { # Event to trigger AJ and Pinkie move if cw is still ongoing and they haven't been found
		id = fillydelphia_utility.3
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_utility.2"}
		title = fillydelphia_utility.2.t
		desc = fillydelphia_utility.2.d

		picture = GFX_event_canterlot 
		is_triggered_only = yes
		hidden = yes

		option = {
			name = fillydelphia_utility.3.a
			trigger = {
				AND = {
					NOT = {
						has_completed_focus = FLY_honesty
						has_completed_focus = FLY_laughter
					}
				}
			}
			country_event = { id = fillydelphia_manesix.9 }
		}
		option = {
			name = fillydelphia_utility.3.b
			trigger = {
				AND = {
					has_completed_focus = FLY_honesty
					has_completed_focus = FLY_laughter
				}
			}
			### nothing is meant to happen if the trigger condition is fulfilled
		}
	}

### DEBUG EVENT

	country_event = { # Starlight Glimmer arrives
		id = fillydelphia_debug.1
		immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia_debug.1"}
		title = fillydelphia_debug.1.t
		desc = fillydelphia_debug.1.d

		picture = GFX_event_canterlot
		is_triggered_only = yes
		fire_only_once = yes

		option = {
			name = fillydelphia_debug.1.a
			news_event = { id = fillydelphia_news.1 hours = 1 }
		}
	}