add_namespace = fillydelphia

country_event = { #Fillydelphia Uprising
	id = fillydelphia.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia.1"}
	title = fillydelphia.1.t
	desc = fillydelphia.1.d
	
	picture = GFX_event_canterlot
	is_triggered_only = yes
    fire_only_once = yes
	
	option = {
		name = fillydelphia.1.a
        create_dynamic_country = {
			original_tag = EQS
			set_AI_strategies_on_every_possible_country_delayed = yes
			set_research_slots = 3
			every_state = {
				limit = {
					OR = {
						state = 12
					}
				}
				transfer_state_to = PREV
				add_core_of = PREV
			}
			set_cosmetic_tag = EQS_FLY
			set_country_flag = FLY_filldelphia
			every_possible_country = {
				limit = {
					has_character = FLY_republican_council
				}
				FLY_republican_council = {
					set_nationality = PREV.PREV
				}
			}
            promote_character = {
			    character = FLY_republican_council
			    ideology = liberalism
		    }
			add_ideas = no_poverty
			add_ideas = modern_society
			add_ideas = no_lack_of_scientists
			add_ideas = proper_science_base
			add_ideas = pony_race
			set_party_name = {
				ideology = democratic
				long_name = FLY_harmony_party_long
				name = FLY_harmony_party
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			set_popularities = {
				democratic = 70
				fascism = 2
				communism = 25
				neutrality = 3
			}
			load_focus_tree = { tree = generic_focus keep_completed = yes }
			set_capital = {
				state = 12
			}
		}
		FLY = {
			country_event = {
				id = fillydelphia.2
				days = 2
			}
		}
	}
    option = {
		name = fillydelphia.1.b
        create_dynamic_country = {
			original_tag = EQS
			set_AI_strategies_on_every_possible_country_delayed = yes
			set_research_slots = 3
			every_state = {
				limit = {
					OR = {
						state = 12
					}
				}
				transfer_state_to = PREV
				add_core_of = PREV
			}
			set_cosmetic_tag = EQS_FLY
			set_country_flag = FLY_filldelphia
			every_possible_country = {
				limit = {
					has_character = FLY_republican_council
				}
				FLY_republican_council = {
					set_nationality = PREV.PREV
				}
			}
            promote_character = {
			    character = FLY_republican_council
			    ideology = liberalism
		    }
			add_ideas = no_poverty
			add_ideas = modern_society
			add_ideas = no_lack_of_scientists
			add_ideas = proper_science_base
			add_ideas = pony_race
			set_party_name = {
				ideology = democratic
				long_name = FLY_harmony_party_long
				name = FLY_harmony_party
			}
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
			set_popularities = {
				democratic = 70
				fascism = 2
				communism = 25
				neutrality = 3
			}
			load_focus_tree = { tree = generic_focus keep_completed = yes }
			set_capital = {
				state = 12
			}
		}
		FLY = {
			country_event = {
				id = fillydelphia.2
				days = 2
			}
		}
		FLY = { change_tag_from = ROOT }
	}
}

country_event = { #Introduction to the Legitimacy System
	id = fillydelphia.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia.2"}
	title = fillydelphia.2.t
	desc = fillydelphia.2.d
	
	picture = GFX_event_canterlot
	is_triggered_only = yes
    fire_only_once = yes
	
	option = {
		name = fillydelphia.2.a
		set_variable = {
			var = FLY_legitimacy
			value = 0
		}
		set_variable = {
			var = FLY_legitimacy_max
			value = 20
		}
		set_country_flag = FLY_filldelphia_legitimacy_active
	}
}

country_event = { #The political situation (it sucks)
	id = fillydelphia.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event fillydelphia.3"}
	title = fillydelphia.3.t
	desc = fillydelphia.3.d
	
	picture = GFX_event_canterlot
	is_triggered_only = yes
    fire_only_once = yes
	
	option = {
		name = fillydelphia.3.a
		add_stability = 0.05
		add_war_support = 0.1
		add_political_power = 50
	}
}