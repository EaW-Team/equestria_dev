add_namespace = riverfed

### Science Society Founded ###
country_event = {
	id = riverfed.1
	immediate = {log = "[Root.GetName]: event riverfed.1"}#Auto-logging
	title = riverfed.1.t
	desc = riverfed.1.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.1.a
		add_to_tech_sharing_group = RIV_science_society_group
	}
	option = {
		name = riverfed.1.b
		ai_chance = { factor = 0 }
	}
}

### RCSC Founded ###
country_event = {
	id = riverfed.2
	immediate = {log = "[Root.GetName]: event riverfed.2"}#Auto-logging
	title = riverfed.2.t
	desc = riverfed.2.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.2.a
		swap_ideas = {
			remove_idea = RIV_member_state
			add_idea = RIV_rcsc_member
		}
	}
	option = {
		name = riverfed.2.b
		ai_chance = { factor = 0 }
	}
}

### We've been developed DEP ###
country_event = {
	id = riverfed.3
	immediate = {log = "[Root.GetName]: event riverfed.3"}#Auto-logging
	title = riverfed.3.t
	desc = riverfed.3.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.3.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_DEP_building
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}

### We've been developed FRE ###
country_event = {
	id = riverfed.4
	immediate = {log = "[Root.GetName]: event riverfed.4"}#Auto-logging
	title = riverfed.3.t
	desc = riverfed.3.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.3.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_FRE_building
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}

### We've been developed Inf DEP ###
country_event = {
	id = riverfed.5
	immediate = {log = "[Root.GetName]: event riverfed.5"}#Auto-logging
	title = riverfed.5.t
	desc = riverfed.5.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.5.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_DEP_infrastructure
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}

### We've been developed Inf FRE ###
country_event = {
	id = riverfed.6
	immediate = {log = "[Root.GetName]: event riverfed.6"}#Auto-logging
	title = riverfed.5.t
	desc = riverfed.5.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.5.a
		effect_tooltip = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_FRE_infrastructure
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}


### We've been granted industrial aid ###
country_event = {
	id = riverfed.7
	immediate = {log = "[Root.GetName]: event riverfed.7"}#Auto-logging
	title = riverfed.7.t
	desc = riverfed.7.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.7.a
		effect_tooltip = {
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }	
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}

### We've been granted industrial aid - Northen States ###
country_event = {
	id = riverfed.8
	immediate = {log = "[Root.GetName]: event riverfed.8"}#Auto-logging
	title = riverfed.8.t
	desc = riverfed.8.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.8.a
		effect_tooltip = {
			random_state = {
				limit = {
					is_core_of = ROOT
					OR = {
						has_state_flag = RIV_develop_FIR_building
						has_state_flag = RIV_develop_FBK_building
						has_state_flag = RIV_develop_WAT_building
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }	
		}
		add_opinion_modifier = { target = FROM modifier = aided_industry }
	}
}

### An Offer of Friendship - NCH ###
country_event = {
	id = riverfed.9
	immediate = {log = "[Root.GetName]: event riverfed.9"}#Auto-logging
	title = riverfed.9.t
	desc = riverfed.9.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.9.a
		trigger = {
			NOT = { has_country_flag = NCH_having_crisis_flag }
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0.1
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
		add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation }
		FROM = { 
			add_opinion_modifier = { target = ROOT modifier = RIV_friendship_delegation } 
			country_event = { id = riverfed.10 hours = 1 }
		}
	}
	
	option = {
		name = riverfed.9.b
		trigger = {
			has_country_flag = NCH_having_crisis_flag
		}
		ai_chance = {
			factor = 100
		}
		set_country_flag = RIV_NCH_has_rejected_friendship
		add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation_rejected }
		FROM = { 
			add_opinion_modifier = { target = ROOT modifier = RIV_friendship_delegation_rejected }
			country_event = { id = riverfed.11 hours = 1 }
		}
	}

	option = {
		name = riverfed.9.c
		trigger = {
			NOT = { has_country_flag = NCH_having_crisis_flag }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
		set_country_flag = RIV_NCH_has_rejected_friendship
		add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation_rejected }
		FROM = { 
			add_opinion_modifier = { target = ROOT modifier = RIV_friendship_delegation_rejected }
			country_event = { id = riverfed.11 hours = 1 }
		}
	}
}
### An Offer of Friendship - Accepted ###
country_event = {
	id = riverfed.10
	immediate = {log = "[Root.GetName]: event riverfed.10"}#Auto-logging
	title = riverfed.10.t
	desc = riverfed.10.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.10.a
		effect_tooltip = {
			FROM = { add_opinion_modifier = { target = ROOT modifier = RIV_friendship_delegation } }
			give_guarantee = FROM
			add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation }
		}
	}
}

### An Offer of Friendship - Rejected ###
country_event = {
	id = riverfed.11
	immediate = {log = "[Root.GetName]: event riverfed.11"}#Auto-logging
	title = riverfed.11.t
	desc = riverfed.11.d
	#picture = 

	is_triggered_only = yes
	
	option = {
		name = riverfed.11.a

		effect_tooltip = {
			FROM = { add_opinion_modifier = { target = ROOT modifier = RIV_friendship_delegation_rejected } }
			add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation_rejected }
		}
	}
}

### An Invitation to Sign the Treaty of Coltstream ###
country_event = {
	id = riverfed.12
	immediate = {log = "[Root.GetName]: event riverfed.12"}#Auto-logging
	title = riverfed.12.t
	desc = riverfed.12.d
	#picture = 

	is_triggered_only = yes
	
	option = { #Yes
		name = riverfed.12.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				original_tag = FIR
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				original_tag = NCH
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				original_tag = FBK
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				has_country_flag = RIV_NCH_has_rejected_friendship
			}
			modifier = {
				factor = 0
				is_faction_leader = yes
			}
			modifier = {
				factor = 0
				is_in_faction = yes
			}
		}
		add_ideas = RIV_member_state
		FROM = {
			add_to_faction = ROOT
		}
		if = {
			limit = { original_tag = FIR }
			country_event = FIR.3
		}
		add_ai_strategy = {
			type = alliance
			id = FROM
			value = 200
		}
	}
	
	option = { #Not now
		name = riverfed.12.b
		FROM = { country_event = { id = riverfed.13 hours = 1 } }
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				original_tag = FIR
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				add = 10
				original_tag = NCH
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				add = 5
				has_country_flag = RIV_NCH_has_rejected_friendship
			}
			modifier = {
				add = 5
				is_faction_leader = yes
			}
		}
	}
}

### Invite to alliance - Rejected ###
country_event = {
	id = riverfed.13
	immediate = {log = "[Root.GetName]: event riverfed.13"}#Auto-logging
	title = riverfed.13.t
	desc = riverfed.13.d
	#picture = 

	is_triggered_only = yes
	
	option = {
		name = riverfed.13.a
	}
}

### RDC Founded ###
country_event = {
	id = riverfed.14
	immediate = {log = "[Root.GetName]: event riverfed.14"}#Auto-logging
	title = riverfed.14.t
	desc = riverfed.14.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.14.a
		if = {
			limit = {
				any_country = {
					has_completed_focus = RIV_eastern_transport_fund
				}
			}
			add_ideas = RIV_rdc2
		}
		else = {
			add_ideas = RIV_rdc
		}		
	}
	option = {
		name = riverfed.14.b
		ai_chance = { factor = 0 }
	}
}

### RCSC Founded ###
country_event = {
	id = riverfed.15
	immediate = {log = "[Root.GetName]: event riverfed.15"}#Auto-logging
	title = riverfed.15.t
	desc = riverfed.15.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.15.a
		swap_ideas = {
			remove_idea = RIV_rcsc_member
			add_idea = RIV_rec_member1
		}
	}
	option = {
		name = riverfed.15.b
		ai_chance = { factor = 0 }
	}
}

### Social Fund Founded ###
country_event = {
	id = riverfed.16
	immediate = {log = "[Root.GetName]: event riverfed.16"}#Auto-logging
	title = riverfed.16.t
	desc = riverfed.16.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.16.a
		swap_ideas = {
			remove_idea = RIV_rec_member1
			add_idea = RIV_rec_member2
		}
	}
	option = {
		name = riverfed.16.b
		ai_chance = { factor = 0 }
	}
}

### River Convention on Beings Rights ###
country_event = {
	id = riverfed.17
	immediate = {log = "[Root.GetName]: event riverfed.17"}#Auto-logging
	title = riverfed.17.t
	desc = riverfed.17.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.17.a
		add_ideas = RIV_beings_rights_idea

		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				has_government = fascism
			}
		}
	}
	option = {
		name = riverfed.17.b

		ai_chance = {
			base = 0
			modifier = {
				add = 10
				has_government = fascism
			}
		}
	}
}

### River Parliament ###
country_event = {
	id = riverfed.18
	immediate = {log = "[Root.GetName]: event riverfed.18"}#Auto-logging
	title = riverfed.18.t
	desc = riverfed.18.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.16.a
		swap_ideas = {
			remove_idea = RIV_rec_member2
			add_idea = RIV_rec_member3
		}
		ai_chance = { factor = 5 }
	}
	option = {
		name = riverfed.16.b
		ai_chance = {
			base = 0
			modifier = {
				add = 3
				OR = {
					has_government = fascism
					has_government = communism
				}				
			}
		 }
	}
}

### River Free Movement ###
country_event = {
	id = riverfed.19
	immediate = {log = "[Root.GetName]: event riverfed.19"}#Auto-logging
	title = riverfed.19.t
	desc = riverfed.19.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.19.a
		swap_ideas = {
			remove_idea = RIV_rec_member3
			add_idea = RIV_rec_member4
		}
		ai_chance = { factor = 5 }
	}
	option = {
		name = riverfed.19.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}				
			}
		 }
	}
}

### Central Bank ###
country_event = {
	id = riverfed.20
	immediate = {log = "[Root.GetName]: event riverfed.20"}#Auto-logging
	title = riverfed.20.t
	desc = riverfed.20.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.20.a
		add_ideas = RIV_centeral_bank_idea
		ai_chance = {
			factor = 5 
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = {
		name = riverfed.20.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		 }
	}
}

### RIvbit ###
country_event = {
	id = riverfed.21
	immediate = {log = "[Root.GetName]: event riverfed.21"}#Auto-logging
	title = riverfed.21.t
	desc = riverfed.21.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.21.a
		swap_ideas = {
			remove_idea = RIV_centeral_bank_idea
			add_idea = RIV_rivbit_idea
		}
		ai_chance = {
			factor = 5 
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = {
		name = riverfed.21.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		 }
	}
}

### River Union ###
country_event = {
	id = riverfed.22
	immediate = {log = "[Root.GetName]: event riverfed.22"}#Auto-logging
	title = riverfed.22.t
	desc = riverfed.22.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.22.a
		swap_ideas = {
			remove_idea = RIV_rec_member4
			add_idea = RIV_river_union_member1
		}
		ai_chance = {
			factor = 5 
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = {
		name = riverfed.22.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		 }
	}
}

### River Army ###
country_event = {
	id = riverfed.23
	immediate = {log = "[Root.GetName]: event riverfed.23"}#Auto-logging
	title = riverfed.23.t
	desc = riverfed.23.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.23.a
		add_ideas = RIV_river_army_idea
		ai_chance = {
			factor = 5 
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = {
		name = riverfed.23.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		 }
	}
}

### River Union ###
country_event = {
	id = riverfed.24
	immediate = {log = "[Root.GetName]: event riverfed.24"}#Auto-logging
	title = riverfed.24.t
	desc = riverfed.24.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = riverfed.24.a
		swap_ideas = {
			remove_idea = RIV_river_union_member1
			add_idea = RIV_river_union_member2
		}
		ai_chance = {
			factor = 5 
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = {
		name = riverfed.24.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		 }
	}
}

### River Federation ###
country_event = {
	id = riverfed.25
	immediate = {log = "[Root.GetName]: event riverfed.25"}#Auto-logging
	title = riverfed.25.t
	desc = riverfed.25.d
	#picture = 

	is_triggered_only = yes

	option = { # Join
		name = riverfed.25.a
		custom_effect_tooltip = GAME_OVER_TT
		FROM = { country_event = riverfed.26 }

		effect_tooltip = {
			every_state = {
				limit = { is_core_of = ROOT }
				add_core_of = FROM
			}
			every_unit_leader = {
				set_nationality = FROM
			}
			if = {
				limit = { has_navy_size = { size > 0 } }
				transfer_navy = { target = FROM }
			}
			FROM = { annex_country = { target = ROOT transfer_troops = yes } }
		}
		
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
		}
	}
	option = { # Refuse
		name = riverfed.25.b
		FROM = { country_event = riverfed.27 }
		effect_tooltip = {
			FROM = { puppet = ROOT }
		}
		
		ai_chance = {
			base = 1
			modifier = {
				add = 5
				has_opinion = { target = FROM value < 25 }
			}
			modifier = {
				factor = 5
				strength_ratio = {
					tag = FROM
					ratio = 2
				}
			}
		 }
	}
	option = { # Leave
		name = riverfed.25.c
		FROM = { country_event = riverfed.28 }
		RIV_leave_fed = yes

		ai_chance = {
			base = 1
			modifier = {
				add = 5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 5
				has_government = communism
				FROM = { NOT = { has_government = communism } }
			}
			modifier = {
				factor = 10
				has_government = fascism
			}
		}
	}
}

### River Federation - Accepted ###
country_event = {
	id = riverfed.26
	immediate = {log = "[Root.GetName]: event riverfed.26"}#Auto-logging
	title = riverfed.26.t
	desc = riverfed.26.d
	#picture = 

	is_triggered_only = yes

	option = { # Yay
		name = riverfed.26.a
		every_country = {
			limit = {
				is_subject_of = FROM
			}
			get_current_autonomy_level = yes
			get_current_government_type = yes
			end_puppet_this = yes
			ROOT = {
				puppet = PREV
			}
			restore_previous_government_type = yes
			set_previous_autonomy_level = yes
		}

		every_state = {
			limit = {
				is_core_of = FROM
			}
			add_core_of = ROOT
		}

		FROM = {			
			every_unit_leader = {
				set_nationality = ROOT
			}
			transfer_navy = { target = ROOT }
		}
		
		annex_country = { target = FROM transfer_troops = yes }
		
		add_to_variable = { annexed_riv_members = 1 }
		RIV_get_cosmetic_tag = yes
	}
}

### River Federation - Decline ###
country_event = {
	id = riverfed.27
	immediate = {log = "[Root.GetName]: event riverfed.27"}#Auto-logging
	title = riverfed.27.t
	desc = riverfed.27.d
	#picture = 

	is_triggered_only = yes

	option = { # Aww
		name = riverfed.27.a

		every_country = {
			limit = {
				is_subject_of = FROM
			}
			get_current_autonomy_level = yes
			get_current_government_type = yes
			end_puppet_this = yes
			ROOT = {
				puppet = PREV
			}
			restore_previous_government_type = yes
			set_previous_autonomy_level = yes
		}
		FROM = { get_current_government_type = yes }
		puppet = FROM
		FROM = { restore_previous_government_type = yes }
	}
}

### River Federation - Left ###
country_event = {
	id = riverfed.28
	immediate = {log = "[Root.GetName]: event riverfed.28"}#Auto-logging
	title = riverfed.28.t
	desc = riverfed.28.d
	#picture = 

	is_triggered_only = yes

	option = { # Gasp!
		name = riverfed.28.a
		add_political_power = -75
	}
}

### River Federation - Join Later ###
country_event = {
	id = riverfed.29
	immediate = {log = "[Root.GetName]: event riverfed.29"}#Auto-logging
	title = riverfed.29.t
	desc = riverfed.29.d
	#picture = 

	is_triggered_only = yes

	option = { # yay!
		name = riverfed.29.a
		every_country = {
			limit = {
				is_subject_of = FROM
			}
			get_current_autonomy_level = yes
			get_current_government_type = yes
			end_puppet_this = yes
			ROOT = {
				puppet = PREV
			}
			restore_previous_government_type = yes
			set_previous_autonomy_level = yes
		}

		every_state = {
			limit = {
				is_core_of = FROM
			}
			add_core_of = ROOT
		}

		FROM = {
			every_unit_leader = {
				set_nationality = ROOT
			}
			transfer_navy = { target = ROOT }
		}
		
		annex_country = { target = FROM transfer_troops = yes }
		
		add_to_variable = { annexed_riv_members = 1 }
		RIV_get_cosmetic_tag = yes
	}
}