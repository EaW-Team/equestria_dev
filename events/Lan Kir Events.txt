add_namespace = lan_kir
add_namespace = lan_kir_utility
add_namespace = lan_kir_test

country_event = {
	id = lan_kir.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.1"}
	title = lan_kir.1.t
	desc = lan_kir.1.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.1.a
	}
}

country_event = {
	id = lan_kir.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.2"}
	title = lan_kir.2.t
	desc = lan_kir.2.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.2.a
	}
}

country_event = {
	id = lan_kir.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.3"}
	title = lan_kir.3.t
	desc = lan_kir.3.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.3.a
		effect_tooltip = {
			random_other_country = {
				tooltip = KXN_Nirik_Storm_DUMMY
				custom_effect_tooltip = KXNHarvestButton_tt
			}
			custom_effect_tooltip = KIR_line_break
			random_other_country = {
				tooltip = KXN_Upon_Declare_War_tt
				random_other_country = {
					tooltip = KXN_Upon_Declare_War_Target_tt
					add_timed_idea = {
						idea = KXN_The_Nirik_Threat
						days = 365
					}
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.4"}
	title = lan_kir.4.t
	desc = lan_kir.4.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.4.a
		set_country_flag = KXN_Formed_Bodyguard_Flag
		hidden_effect = {
			division_template = {
				name = "Sworn Retinue"
				template_counter = 112
				division_names_group = KIR_BANNER
				priority = 2
				regiments = {
					kirin_vanguards = { x = 0 y = 0 }
					kirin_vanguards = { x = 0 y = 1 }
					kirin_vanguards = { x = 0 y = 2 }
					kirin_vanguards = { x = 1 y = 0 }
					kirin_vanguards = { x = 1 y = 1 }
					kirin_vanguards = { x = 1 y = 2 }
					kirin_vanguards = { x = 2 y = 0 }
					kirin_vanguards = { x = 2 y = 1 }
					kirin_vanguards = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					kirin_braves = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Sworn Retinue of the Rutilant Shield\" division_template = \"Sworn Retinue\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 1
				}
			}
		}
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 75
				custom_effect_tooltip = KIR_line_break
				add_attack = 1
				custom_effect_tooltip = KXN_Focus_MILTARCH_Bodyguard_tt
			}
		}
		set_division_template_cap = { division_template = "Sworn Retinue" division_cap = 1 }
	}

	option = {
		name = lan_kir.4.b
		set_country_flag = KXN_Formed_Companion_Flag
		hidden_effect = {
			division_template = {
				name = "Companion Kir"
				template_counter = 112
				division_names_group = KIR_BANNER
				priority = 2
				regiments = {
					kirin_vanguards = { x = 0 y = 0 }
					kirin_vanguards = { x = 0 y = 1 }
					kirin_vanguards = { x = 0 y = 2 }
					kirin_vanguards = { x = 1 y = 0 }
					kirin_vanguards = { x = 1 y = 1 }
					kirin_vanguards = { x = 1 y = 2 }
					kirin_vanguards = { x = 2 y = 0 }
					kirin_vanguards = { x = 2 y = 1 }
					kirin_vanguards = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					kirin_braves = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Companion Kir of the Home Hearth\" division_template = \"Companion Kir\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 1
				}
			}
		}
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 75
				custom_effect_tooltip = KIR_line_break
				add_defense = 1
				custom_effect_tooltip = KXN_Focus_MILTARCH_Companion_tt
			}
		}
		set_division_template_cap = { division_template = "Companion Kir" division_cap = 1 }
	}
}

country_event = {
	id = lan_kir.400
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.400"}
	title = lan_kir.400.t
	desc = lan_kir.400.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 30 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		OR = {
			has_tech = KXN_Elites
			has_tech = tech_engineers
		}
		OR = {
			has_country_flag = KXN_Formed_Bodyguard_Flag
			has_country_flag = KXN_Formed_Companion_Flag
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.400.a
		set_country_flag = KXN_Event_400_Flag
		if = {
			limit = { has_country_flag = KXN_Formed_Bodyguard_Flag }
			KXN = {
				KXN_Clarion_Call = {
					gain_xp = 100
					custom_effect_tooltip = KIR_line_break
				}
			}
			add_tech_bonus = {
				name = KXN_engineer
				bonus = 1
				uses = 1
				category = engineers_tech
			}
			custom_effect_tooltip = KXN_Event_400_A_tt
			hidden_effect = {
				add_units_to_division_template = {
					template_name = "Sworn Retinue"
					support = {
						engineer = 0
					}
				}
				fix_weapon_techs = yes
			}
		}
		else_if = {
			limit = { has_country_flag = KXN_Formed_Companion_Flag }
			KXN = {
				KXN_Prairie_Spark = {
					gain_xp = 100
					custom_effect_tooltip = KIR_line_break
				}
			}
			add_tech_bonus = {
				name = KXN_engineer
				bonus = 1
				uses = 1
				category = engineers_tech
			}
			custom_effect_tooltip = KXN_Event_400_B_tt
			hidden_effect = {
				add_units_to_division_template = {
					template_name = "Companion Kir"
					support = {
						engineer = 0
					}
				}
				fix_weapon_techs = yes
			}
		}
	}
}

country_event = {
	id = lan_kir.401
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.401"}
	title = lan_kir.401.t
	desc = lan_kir.401.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_country_flag = KXN_Formed_Bodyguard_Flag
		has_terrain = marsh
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 133
		}
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 128
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.401.a
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 100
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_401_tt
		hidden_effect = {
			add_units_to_division_template = {
				template_name = "Sworn Retinue"
				support = {
					hydras = 0
				}
			}
			fix_weapon_techs = yes
		}
	}
}

country_event = {
	id = lan_kir.402
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.402"}
	title = lan_kir.402.t
	desc = lan_kir.402.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_country_flag = KXN_Formed_Companion_Flag
		has_terrain = marsh
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 133
		}
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 128
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.402.a
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 100
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_402_tt
		hidden_effect = {
			set_technology = { KXN_Monster_Ally = 1 popup = no }
			add_units_to_division_template = {
				template_name = "Companion Kir"
				regiments = {
					ded_heavy_monster_2 = 3
				}
			}
			fix_weapon_techs = yes
			add_equipment_to_stockpile = {
				type = monster_equipment_0
				amount = 300
			}
		}
	}
}

country_event = {
	id = lan_kir.403
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.403"}
	title = lan_kir.403.t
	desc = lan_kir.403.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_country_flag = KXN_Formed_Bodyguard_Flag
		has_terrain = desert
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 309
		}
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			region = 289
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.403.a
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 150
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_403_tt
		hidden_effect = {
			set_technology = { KXN_Monster_Ally = 1 popup = no }
			add_units_to_division_template = {
				template_name = "Sworn Retinue"
				regiments = {
					ded_tatzlwurm = 3
				}
			}
			fix_weapon_techs = yes
			add_equipment_to_stockpile = {
				type = monster_equipment_0
				amount = 300
			}
		}
	}
}

country_event = {
	id = lan_kir.404
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.404"}
	title = lan_kir.404.t
	desc = lan_kir.404.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_country_flag = KXN_Formed_Companion_Flag
		any_state = {
			is_controlled_by_ROOT_or_ally = yes
			OR = {
				is_in_array = { BAT.original_cores = THIS }
				is_in_array = { TBK.original_cores = THIS }
				is_in_array = { MGY.original_cores = THIS }
				is_in_array = { MTO.original_cores = THIS }
				is_in_array = { AES.original_cores = THIS }
			}
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.404.a
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 150
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_404_tt
		hidden_effect = {
			add_units_to_division_template = {
				template_name = "Companion Kir"
				support = {
					unicorn_company = 0
				}
			}
			fix_weapon_techs = yes
		}
	}
}

country_event = {
	id = lan_kir.405
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.405"}
	title = lan_kir.405.t
	desc = {
		text = lan_kir.405.d_1
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
	}
	desc = {
		text = lan_kir.405.d_2
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
	}

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		1109 = { is_controlled_by_ROOT_or_ally = yes }
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.405.a
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 250
				custom_effect_tooltip = KIR_line_break
				add_attack = 1
				if = {
					limit = { check_variable = { KXN.KXN_Clarion_Call_Level_Up_Var > 1 } }
					add_max_trait = 1
					KXN = {
						custom_effect_tooltip = KIR_line_break
						add_unit_bonus = {
							category_racial_special_forces = {
								max_organisation = 10
								breakthrough = 0.1
							}
						}
					}
				}
			}
		}
		add_to_variable = { KXN_Clarion_Call_Level_Up_Var = 1 }
	}

	option = {
		name = lan_kir.405.b
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 150
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_405_tt
		hidden_effect = {
			set_technology = { KXN_Monster_Ally = 1 popup = no }
			add_units_to_division_template = {
				template_name = "Companion Kir"
				regiments = {
					ded_anti_infantry_monster = 4
				}
			}
			fix_weapon_techs = yes
			add_equipment_to_stockpile = {
				type = monster_equipment_0
				amount = 300
			}
		}
	}
}

country_event = {
	id = lan_kir.406
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.406"}
	title = lan_kir.406.t
	desc = {
		text = lan_kir.406.d_1
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
	}
	desc = {
		text = lan_kir.406.d_2
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
	}

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_terrain = mountain
		count_triggers = {
			amount = 3
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 138
			}
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 143
			}
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 146
			}
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 147
			}
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.406.a
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 250
				custom_effect_tooltip = KIR_line_break
				add_planning = 1
				if = {
					limit = { check_variable = { KXN.KXN_Clarion_Call_Level_Up_Var > 1 } }
					add_max_trait = 1
					KXN = {
						custom_effect_tooltip = KIR_line_break
						add_unit_bonus = {
							category_racial_special_forces = {
								max_organisation = 10
								breakthrough = 0.1
							}
						}
					}
				}
			}
		}
		add_to_variable = { KXN_Clarion_Call_Level_Up_Var = 1 }
	}

	option = {
		name = lan_kir.406.b
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 150
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_406_tt
		hidden_effect = {
			set_technology = { KXN_Monster_Ally = 1 popup = no }
			add_units_to_division_template = {
				template_name = "Companion Kir"
				regiments = {
					ded_anti_infantry_monster_2 = 4
				}
			}
			fix_weapon_techs = yes
			add_equipment_to_stockpile = {
				type = monster_equipment_0
				amount = 300
			}
		}
	}
}

country_event = {
	id = lan_kir.407
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.407"}
	title = lan_kir.407.t
	desc = {
		text = lan_kir.407.d_1
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
	}
	desc = {
		text = lan_kir.407.d_2
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
	}

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_400_Flag
		has_terrain = desert
		count_triggers = {
			amount = 2
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 219
			}
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 310
			}
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 315
			}
		}
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.407.a
		trigger = { has_country_flag = KXN_Formed_Bodyguard_Flag }
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 250
				custom_effect_tooltip = KIR_line_break
				add_defense = 1
				if = {
					limit = { check_variable = { KXN.KXN_Clarion_Call_Level_Up_Var > 1 } }
					add_max_trait = 1
					KXN = {
						custom_effect_tooltip = KIR_line_break
						add_unit_bonus = {
							category_racial_special_forces = {
								max_organisation = 10
								breakthrough = 0.1
							}
						}
					}
				}
			}
		}
		add_to_variable = { KXN_Clarion_Call_Level_Up_Var = 1 }
	}

	option = {
		name = lan_kir.407.b
		trigger = { has_country_flag = KXN_Formed_Companion_Flag }
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 150
				custom_effect_tooltip = KIR_line_break
			}
		}
		custom_effect_tooltip = KXN_Event_407_tt
		hidden_effect = {
			set_technology = { KXN_Monster_Ally = 1 popup = no }
			add_units_to_division_template = {
				template_name = "Companion Kir"
				regiments = {
					ded_anti_tank_monster = 3
				}
			}
			fix_weapon_techs = yes
			add_equipment_to_stockpile = {
				type = monster_equipment_0
				amount = 300
			}
		}
	}
}

country_event = {
	id = lan_kir.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.5"}
	title = lan_kir.5.t
	desc = lan_kir.5.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.5.a
		set_country_flag = KXN_Silver_Chime_Unlocked
		add_ideas = KXN_Silver_Chime
		set_can_be_fired_in_advisor_role = {
			character = KXN_Silver_Chime
			value = no
		}
		add_country_leader_role = {
			character = "KXN_Silver_Chime"
			promote_leader = yes
			country_leader = {
				ideology = harmonic_theocracy
				expire = "1965.1.1.1"
				traits = { }
			}
		}
	}
}

country_event = {
	id = lan_kir.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.6"}
	title = lan_kir.6.t
	desc = lan_kir.6.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.6.a
		add_political_power = 75
		add_war_support = 0.05
	}
}

country_event = {
	id = lan_kir.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.10"}
	title = lan_kir.10.t
	desc = lan_kir.10.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.10.a
		add_political_power = 75
		add_stability = 0.05
	}

	option = {
		name = lan_kir.10.b
		set_capital = {
			state = 1058
		}
		1058 = {
			add_manpower = 25000
			add_compliance = 10
			add_resistance = -10
		}
	}

	option = {
		name = lan_kir.10.c
		set_capital = {
			state = 1054
		}
		1054 = {
			add_manpower = 25000
			add_compliance = 10
			add_resistance = -10
		}
	}
}

country_event = {
	id = lan_kir.50
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.50"}
	immediate = {
		hidden_effect = {
			random_controlled_state = {
				limit = {
					is_coastal = yes
					KXN = {
						has_war_with = PREV.owner
					}
				}
				save_global_event_target_as = KXN_Event_50_state_target
			}
		}
	}
	title = lan_kir.50.t
	desc = lan_kir.50.d

	picture = GFX_event_devastation_nature
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		any_controlled_state = {
			is_coastal = yes
			KXN = {
				has_war_with = PREV.owner
			}
		}
	}

	option = {
		name = lan_kir.50.a
		add_command_power = 25
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 50
			}
		}
	}
}

country_event = {
	id = lan_kir.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.60"}
	title = lan_kir.60.t
	desc = lan_kir.60.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 30 }
	}

	option = {
		name = lan_kir.60.a
		add_political_power = 25
		custom_effect_tooltip = KXN_Event_60_tt
		hidden_effect = {
			KXN = {
				KXN_Giuseppe_Georginio = {
					add_corps_commander_role = { skill = 1 attack_skill = 1 defense_skill = 1 planning_skill = 1 logistics_skill = 1 }
					add_unit_leader_trait = renowned_marksgriff
					add_unit_leader_trait = griffon_race_trait
					add_unit_leader_trait = artillery_officer
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.100"}
	title = lan_kir.100.t
	desc = lan_kir.100.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 90 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		OR = {
			num_subjects > KXN.KXN_Event_100_Subjects_Var
			check_variable = { KXN.inflicted_casualties > KXN.KXN_Event_100_Casualties_Var }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > KXN.KXN_Event_100_Num_States_Var }
		}
		check_variable = { KXN.KXN_NM_Resistance_Var < 1 }
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
	}

	option = {
		name = lan_kir.100.a
		if = {
			limit = {
				has_completed_focus = KXN_Focus_AIRSHIP_3
				check_variable = { KXN.KXN_Aerostat_Loss_Var < 0.25 }
			}
			add_to_variable = { var = KXN_Aerostat_Loss_Var value = 0.05 }
			custom_effect_tooltip = KXN_Increase_Aerostat_Loss_tt
		}
		custom_effect_tooltip = KXN_Event_100_tt
		if = {
			limit = {
				check_variable = { KXN.KXNHarvest_Max_Var < 150 }
			}
			add_to_variable = { var = KXNHarvest_Max_Var value = 25 }
			custom_effect_tooltip = KXN_Increase_Nirik_Storm_Count_tt
		}
		effect_tooltip = {
			swap_ideas = { add_idea = KXN_Nirik_Militarchy_DUMMY_X remove_idea = KXN_Nirik_Militarchy_DUMMY_0 }
		}
		multiply_variable = { KXN_Overexpansion_Modifier_Multiplier_Var = 1.25 }
		add_to_variable = { var = KXN_NM_Resistance_Var value = 0.1 }
		subtract_from_variable = { var = KXN_NM_Compliance_Var value = 0.1 }
		add_to_variable = { var = KXN_Event_100_Num_States_Var value = 20 }
		add_to_variable = { var = KXN_Event_100_Casualties_Var value = 444 }
		add_to_variable = { var = KXN_Event_100_Subjects_Var value = 4 }
	}
}

country_event = {
	id = lan_kir.105
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.105"}
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Industrial_Complex_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Industrial_Complex_Num_Var = KXN.KXN_Off_Site_Industrial_Complex_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Industrial_Complex_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Industrial_Complex_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Arms_Factory_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Arms_Factory_Num_Var = KXN.KXN_Off_Site_Arms_Factory_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Arms_Factory_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Arms_Factory_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Dockyard_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Dockyard_Num_Var = KXN.KXN_Off_Site_Dockyard_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Dockyard_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Dockyard_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Synthetic_Refinery_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Synthetic_Refinery_Num_Var = KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Synthetic_Refinery_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Synthetic_Refinery_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Fuel_Silo_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Fuel_Silo_Num_Var = KXN.KXN_Off_Site_Fuel_Silo_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Fuel_Silo_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Fuel_Silo_Num_Var
			}
		}
	}
	title = lan_kir.105.t
	desc = lan_kir.105.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 90 }

	trigger = {
		tag = KXN
		is_ai = no
		is_subject = no
		OR = {
			check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
		}
	}

	option = {
		name = lan_kir.105.a
		custom_effect_tooltip = KXN_Event_105_tt
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Civ_tt
			hidden_effect = {
				add_offsite_building = { type = industrial_complex level = REMOVE_Off_Site_Industrial_Complex_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var = REMOVE_Off_Site_Industrial_Complex_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Mil_tt
			hidden_effect = {
				add_offsite_building = { type = arms_factory level = REMOVE_Off_Site_Arms_Factory_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var = REMOVE_Off_Site_Arms_Factory_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Nav_tt
			hidden_effect = {
				add_offsite_building = { type = dockyard level = REMOVE_Off_Site_Dockyard_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var = REMOVE_Off_Site_Dockyard_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Ref_tt
			hidden_effect = {
				add_offsite_building = { type = synthetic_refinery level = REMOVE_Off_Site_Synthetic_Refinery_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var = REMOVE_Off_Site_Synthetic_Refinery_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Sil_tt
			hidden_effect = {
				add_offsite_building = { type = fuel_silo level = REMOVE_Off_Site_Fuel_Silo_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var = REMOVE_Off_Site_Fuel_Silo_Num_Var }
			}
		}
	}
}

country_event = {
	id = lan_kir.150
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.150"}
	title = lan_kir.150.t
	desc = lan_kir.150.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_ai = no
		is_subject = no
		has_government = fascism
		count_triggers = {
			amount = 2
			num_subjects > 2
			check_variable = { KXN.inflicted_casualties > 250 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 25 }
			num_of_controlled_states > 10
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.150.a
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_6 remove_idea = KXN_Matriarch_Cult_DUMMY_0 } }
		subtract_from_variable = { KXN_Matriarch_Cult_Var_2 = 0.15 }
		set_country_flag = KXN_Lan_Kir_Needs_Enabled_Flag
		custom_effect_tooltip = KXN_Event_150_tt
		hidden_effect = {
			add_dynamic_modifier = { modifier = KXN_Avarice_Modifier }
			add_dynamic_modifier = { modifier = KXN_Bloodlust_Modifier }
		}
		add_to_variable = { KXN.KXNAvariceSatedDays = 90 }
		add_to_variable = { KXN.KXNBloodlustSatedDays = 90 }
	}
}

country_event = {
	id = lan_kir.160
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.160"}
	title = lan_kir.160.t
	desc = lan_kir.160.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }

	trigger = {
		tag = KXN
		is_ai = no
		is_subject = no
		num_subjects > 0
		any_subject_country = {
			has_idea = KXN_Tributary_State
		}
		has_government = fascism
		has_country_flag = KXN_Lan_Kir_Needs_Enabled_Flag
		OR = {
			check_variable = { KXN.KXNAvariceUnsatedDays > 120 }
			check_variable = { KXN.KXNBloodlustUnsatedDays > 120 }
			AND = {
				check_variable = { KXN.KXNAvariceUnsatedDays > 60 }
				check_variable = { KXN.KXNBloodlustUnsatedDays > 60 }
			}
			AND = {
				check_variable = { KXN.KXNAvariceUnsatedDays > 30 }
				check_variable = { KXN.KXNBloodlustUnsatedDays > 90 }
			}
			AND = {
				check_variable = { KXN.KXNAvariceUnsatedDays > 90 }
				check_variable = { KXN.KXNBloodlustUnsatedDays > 30 }
			}
		}
	}

	option = {
		name = lan_kir.160.a
		KXN = {
			every_subject_country = {
				limit = {
					has_idea = KXN_Tributary_State
				}
				custom_effect_tooltip = KXN_Increase_Tributary_Unrest_tt
				add_to_variable = { KXN_Tributary_Unrest_Var = 1 }
			}
		}
		if = {
			limit = {
				any_subject_country = {
					check_variable = { var = KXN_Tributary_Unrest_Var value = 2 compare = greater_than_or_equals }
				}
			}
			custom_effect_tooltip = KXN_Event_160_tt
			every_subject_country = {
				display_individual_scopes = yes
				limit = {
					check_variable = { var = KXN_Tributary_Unrest_Var value = 2 compare = greater_than_or_equals }
				}
				add_ai_strategy = {
					type = prepare_for_war
					id = KXN
					value = 1000
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.190
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.190"}
	title = lan_kir.190.t
	desc = lan_kir.190.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.190.a
		effect_tooltip = {
			KXN = {
				country_event = { id = lan_kir.191 }
			}
		}
	}
}

country_event = {
	id = lan_kir.191
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.191"}
	title = lan_kir.191.t
	desc = lan_kir.191.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		count_triggers = {
			amount = 2
			num_subjects > 1
			check_variable = { KXN.inflicted_casualties > 250 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 15 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 25 }
			num_of_controlled_states > 5
		}
		OR = {
			KIR = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
			KIS = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
			KIC = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.191.a
		add_political_power = -25
		set_country_flag = KXN_Event_191_Flag
		hidden_effect = {
			every_other_country = {
				limit = {
					exists = yes
					is_subject = no
					has_capitulated = no
					OR = {
						tag = KIR
						tag = KIS
						tag = KIC
					}
				}
				country_event = { id = lan_kir.190 }
			}
		}
	}
}

country_event = {
	id = lan_kir.192
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.192"}
	title = lan_kir.192.t
	desc = lan_kir.192.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.192.a
		effect_tooltip = {
			KXN = {
				country_event = { id = lan_kir.193 }
			}
		}
	}
}

country_event = {
	id = lan_kir.193
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.193"}
	title = lan_kir.193.t
	desc = lan_kir.193.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_191_Flag
		count_triggers = {
			amount = 2
			num_subjects > 2
			check_variable = { KXN.inflicted_casualties > 500 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 25 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 50 }
			num_of_controlled_states > 10
		}
		OR = {
			KIR = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
			KIS = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
			KIC = {
				exists = yes
				is_subject = no
				has_capitulated = no
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.193.a
		add_political_power = -75
		set_country_flag = KXN_Event_193_Flag
		every_other_country = {
			limit = {
				exists = yes
				is_subject = no
				has_capitulated = no
				OR = {
					tag = KIR
					tag = KIS
					tag = KIC
				}
			}
			add_opinion_modifier = {
				target = KXN
				modifier = KIR_ideological_differences
			}
			reverse_add_opinion_modifier = {
				target = KXN
				modifier = KIR_ideological_differences
			}
			hidden_effect = { country_event = { id = lan_kir.192 } }
		}
	}
}

country_event = {
	id = lan_kir.194
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.194"}
	title = lan_kir.194.t
	desc = lan_kir.194.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.194.a
		effect_tooltip = {
			KXN = {
				country_event = { id = lan_kir.195 }
			}
		}
	}
}

country_event = {
	id = lan_kir.195
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.195"}
	immediate = {
		hidden_effect = {
			every_other_country = {
				limit = {
					exists = yes
					is_subject = no
					has_capitulated = no
					OR = {
						tag = KIR
						tag = KIS
						tag = KIC
					}
				}
				country_event = { id = lan_kir.194 }
			}
		}
	}
	title = lan_kir.195.t
	desc = lan_kir.195.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Event_193_Flag
		count_triggers = {
			amount = 2
			num_subjects > 3
			check_variable = { KXN.inflicted_casualties > 750 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 50 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 75 }
			num_of_controlled_states > 15
		}
		OR = {
			KXN = {
				is_ai = no
				date > 1010.06.01
				OR = {
					KIR = {
						exists = yes
						has_war = no
						is_subject = no
						has_capitulated = no
					}
					KIS = {
						exists = yes
						has_war = no
						is_subject = no
						has_capitulated = no
					}
					KIC = {
						exists = yes
						has_war = no
						is_subject = no
						has_capitulated = no
					}
				}
			}
			KIR = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				OR = {
					has_completed_focus = KIR_POST_0
					has_completed_focus = KIR_TRAD_0
				}
			}
			KIS = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				has_completed_focus = KIR_empire_focus_1
			}
			KIC = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				has_completed_focus = KIR_republic_postwar_focus_1
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.195.a
		country_event = { id = lan_kir.199 hours = 3 }
	}

	option = {
		name = lan_kir.195.b
		country_event = { id = lan_kir.200 hours = 3 }
	}
}

country_event = {
	id = lan_kir.199
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.199"}
	title = lan_kir.199.t
	desc = lan_kir.199.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.199.a
		add_ideas = KXN_Showed_Weakness
		add_to_variable = { KXN.KXN_Overexpansion_Alert_Button_X_Axis_Var = 59 }
		add_to_variable = { KXN.KXN_Saurider_Alert_Button_X_Axis_Var = 59 }
		custom_effect_tooltip = KIR_line_break
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						original_tag = KIR
						original_tag = KIS
						original_tag = KIC
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					diplomatic_relation = {
						country = KXN
						relation = non_aggression_pact
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = military_access
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = docking_rights
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		clr_country_flag = KXN_Silver_Chime_Unlocked
		remove_ideas = KXN_Silver_Chime
	}
}

country_event = {
	id = lan_kir.200
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.200"}
	title = lan_kir.200.t
	desc = lan_kir.200.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.200.a
		add_manpower = -50
		KXN = {
			KXN_Long_Dusk = {
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 30	
				}
			}
			KXN_Clarion_Call = {
				add_timed_unit_leader_trait = {
					trait = wounded
					days = 90	
				}
			}
		}
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
			}
			display_individual_scopes = yes
			KXN = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
				set_temp_variable = { KXN_Conquest_Mission_Focus_Days_Timeout = PREV.num_owned_states }
				multiply_temp_variable = { KXN_Conquest_Mission_Focus_Days_Timeout = 30 }
				custom_effect_tooltip = KXN_Focus_Declare_War_TT
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						original_tag = KIR
						original_tag = KIS
						original_tag = KIC
					}
				}
				hidden_effect = {
					diplomatic_relation = {
						country = KXN
						relation = non_aggression_pact
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = military_access
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = docking_rights
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		clr_country_flag = KXN_Silver_Chime_Unlocked
		remove_ideas = KXN_Silver_Chime
	}
}

country_event = {
	id = lan_kir.201
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.201"}
	title = lan_kir.201.t
	desc = lan_kir.201.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 180 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		KIR_or_allies_controls_all_kiria_proper = yes
		has_country_leader = {
			character = KXN_Long_Dusk
			ruling_only = yes
		}
		KIR = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIS = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIC = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.201.a
		add_political_power = -100
		add_stability = -0.1
		retire_character = KXN_Long_Dusk
		add_country_leader_role = {
			character = "KXN_Clarion_Call"
			promote_leader = yes
			country_leader = {
				desc = "KXN_Clarion_Call_desc"
				ideology = stratocracy
				expire = "1965.1.1.1"
				traits = { KXN_Prime_Militarch }
			}
		}
		country_event = { id = lan_kir.202 days = 3 }
	}
}

country_event = {
	id = lan_kir.202
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.202"}
	title = lan_kir.202.t
	desc = lan_kir.202.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.202.a
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_7 remove_idea = KXN_Matriarch_Cult_DUMMY_0 } }
		subtract_from_variable = { KXN_Matriarch_Cult_Var_2 = 0.1 }
		custom_effect_tooltip = KXN_Event_202_tt
		every_country = {
			display_individual_scopes = yes
			limit = {
				NOT = {
					tag = ROOT
					is_ally_with = KXN
				}
				OR = {
					is_neighbor_of = KXN
					any_neighbor_country = {
						is_subject_of = KXN
					}
				}
			}
			add_ai_strategy = {
				type = prepare_for_war
				id = KXN
				value = 1000
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						tag = ROOT
						is_ally_with = KXN
					}
					OR = {
						is_neighbor_of = KXN
						any_neighbor_country = {
							is_subject_of = KXN
						}
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
	}
}

news_event = {
	id = lan_kir.205
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.205"}
	immediate = {
		hidden_effect = {
			set_country_flag = KXN_Event_205_Fired_Flag
		}
	}
	title = lan_kir.205.t
	desc = lan_kir.205.d
	picture = GFX_news_event_palace_supreme_harmony

	trigger = {
		NOT = { has_country_flag = KXN_Event_205_Fired_Flag }
		KXN = {
			exists = yes
			is_subject = no
			has_capitulated = no
			has_government = fascism
			OR = {
				has_war_with = KIR
				has_war_with = KIS
				has_war_with = KIC
			}
			OR = {
				NOT = { owns_state = 1077 }
				NOT = { owns_state = 1073 }
			}
			OR = {
				divisions_in_state = {
					state = 1077
					size > 1
				}
				divisions_in_state = {
					state = 1073
					size > 1
				}
			}
		}
	}
	
	major = yes

	option = {
		name = lan_kir.205.a
	}
}

country_event = {
	id = lan_kir.250
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.250"}
	title = lan_kir.250.t
	desc = lan_kir.250.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.250.a
		add_political_power = 50
		add_stability = 0.05
	}
}

country_event = {
	id = lan_kir.251
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.251"}
	title = lan_kir.251.t
	desc = lan_kir.251.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.251.a
		add_command_power = 50
		add_war_support = 0.05
	}
}

country_event = {
	id = lan_kir.252
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.252"}
	title = lan_kir.252.t
	desc = lan_kir.252.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.252.a
		add_political_power = 100
		save_current_manpower = yes
		1059 = { add_manpower = -250000 }
		restore_previous_manpower = yes
		add_to_variable = { KXN.total_inflicted_civilian_casualties = 250 }
		KXN_TALLY_CASUALTIES_EFFECT = yes
	}
}

country_event = {
	id = lan_kir.260
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.260"}
	title = lan_kir.260.t
	desc = lan_kir.260.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		KIR_or_allies_controls_all_kiria_proper = yes
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = lan_kir.260.a
		add_command_power = 25
		add_country_leader_trait = KXN_sword_wielder
	}
}

country_event = {
	id = lan_kir.300
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.300"}
	immediate = {
		hidden_effect = {
			get_highest_scored_country = {
				scorer = KXN_Satellite_Strength_Scorer
				var = KXN_Strongest_Satellite_State_Var
			}
			var:KXN_Strongest_Satellite_State_Var = {
				set_country_flag = KXN_Contender_Flag
			}
			clear_variable = KXN.KXN_Num_Satellite_States
			for_each_scope_loop = {
				array = KXN.subjects
				if = {
					limit = {
						original_tag = KXN
						KXN_IS_SATELLITE_TRIGGER = yes
					}
					add_to_variable = { KXN.KXN_Num_Satellite_States = 1 }
				}
			}
			subtract_from_variable = { KXN.KXN_Num_Satellite_States = 1 }
			divide_variable = { KXN.KXN_Num_Satellite_States = 2 }
		}
	}
	title = lan_kir.300.t
	desc = lan_kir.300.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 60 }
	fire_only_once = yes

	trigger = {
		tag = KXN
		is_subject = no
		num_subjects > 0
		has_government = fascism
		NOT = { has_global_flag = KXN_The_Shattering_Happened }
		check_variable = { KXN.KXN_Num_Tributaries_In_Revolt > KXN.KXN_Half_Subject_Num }
		count_triggers = {
			amount = 3
			has_global_flag = Form_KXN_Vermilion_Flag
			has_global_flag = Form_KXN_Fragrance_Flag
			has_global_flag = Form_KXN_Exarchate_Flag
			has_global_flag = Form_KXN_Eparchy_Flag
			has_global_flag = Form_KXN_Marshalcy_Flag
			has_global_flag = Form_KXN_Equatorarchy_Flag
			has_global_flag = Form_KXN_Occident_Flag
			has_global_flag = Form_KXN_Satellite_Flag
		}
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}

	option = {
		name = lan_kir.300.a
		random_other_country = {
			limit = {
				has_country_flag = KXN_Contender_Flag
			}
			KXN = { KXN_Bonfire_Cascade = { set_nationality = PREV.PREV } end_puppet = PREV }
			add_country_leader_role = {
				character = "KXN_Bonfire_Cascade"
				promote_leader = yes
				country_leader = {
					desc = ""
					ideology = kratokracy
					expire = "1965.1.1.1"
					traits = { KXN_pretender_militarch }
				}
			}
			leave_faction = yes
			effect_tooltip = {
				declare_war_on = {
					target = KXN
					type = annex_everything
				}
			}
			custom_effect_tooltip = KXN_Event_300_tt
			set_cosmetic_tag = KXN_Contender
			create_faction = KXN_Rutilant_Dynasty
			add_ideas = KXN_Nirik_Warlord_State
		}
		hidden_effect = {
			set_global_flag = KXN_Rutilant_Revolt_Happened
			var:KXN_Strongest_Satellite_State_Var = {
				set_party_name = {
					ideology = fascism
					long_name = KXN_Rutilant_Dynasty
					name = KXN_Rutilant_Dynasty
				}
				set_portraits = {
					character = KXN_Bonfire_Cascade
					army = {
						large = "GFX_portrait_KXN_Bonfire_Cascade_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade_Nirik.tga"
					}
					civilian = {
						large = "GFX_portrait_KXN_Bonfire_Cascade_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade_Nirik.tga"
					}
				}
				for_each_scope_loop = {
					array = KXN.subjects
					if = {
						limit = {
							original_tag = KXN
							KXN_IS_SATELLITE_TRIGGER = yes
							NOT = {
								has_country_flag = KXN_Vermilion_Flag
								has_country_flag = KXN_Colony_Flag
							}
							KXN = {
								any_subject_country = {
									original_tag = KXN
									KXN_IS_SATELLITE_TRIGGER = yes
								}
								check_variable = {
									var = KXN.KXN_Num_Satellite_States
									value = 1
									compare = greater_than_or_equals
								}
							}
						}
						PREV = {
							set_autonomy = {
								target = PREV
								autonomy_state = autonomy_imperial_mandate
							}
						}
						subtract_from_variable = { KXN.KXN_Num_Satellite_States = 1 }
					}
				}
				every_country = {
					limit = {
						OR = {
							tag = KXN
							AND = {
								is_subject_of = KXN
								is_neighbor_of = PREV
							}
						}
					}
					declare_war_on = {
						target = PREV
						type = civil_war
					}
				}
				division_template = {
					name = "Rutilant Guard"
					regiments = {
						kirin_vanguards = { x = 0 y = 0 }
						kirin_vanguards = { x = 0 y = 1 }
						kirin_vanguards = { x = 0 y = 2 }
						kirin_vanguards = { x = 1 y = 0 }
						kirin_vanguards = { x = 1 y = 1 }
						kirin_vanguards = { x = 1 y = 2 }
						kirin_vanguards = { x = 2 y = 0 }
						kirin_vanguards = { x = 2 y = 1 }
						kirin_vanguards = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				division_template = {
					name = "Motor Banner"
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				division_template = {
					name = "Veteran Bannerkir"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				division_template = {
					name = "Nirik War-Banner"
					regiments = {
						irregular_infantry = { x = 0 y = 0 }
						irregular_infantry = { x = 0 y = 1 }
						irregular_infantry = { x = 0 y = 2 }
						irregular_infantry = { x = 1 y = 0 }
						irregular_infantry = { x = 1 y = 1 }
						irregular_infantry = { x = 1 y = 2 }
						irregular_infantry = { x = 2 y = 0 }
						irregular_infantry = { x = 2 y = 1 }
						irregular_infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Rutilant Guard\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = PREV count = 3
					}
					create_unit = {
						division = "division_template = \"Veteran Bannerkir\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = PREV count = 3
					}
					create_unit = {
						division = "division_template = \"Motor Banner\" start_experience_factor = 0.5 start_equipment_factor = 1" owner = PREV count = 3
					}
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1" owner = PREV count = 3
					}
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.350
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.350"}
	title = lan_kir.350.t
	desc = lan_kir.350.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.350.a
		puppet = {
			target = KXR
			end_wars = no
		}
		KXR = {
			set_cosmetic_tag = KXN_Equatorarch
			KXN_Bonfire_Cascade = {
				swap_country_leader_traits = {
					remove = KXN_bandit_warlord
					add = KXN_Supreme_Equatorarch
					ideology = kratokracy
				}
			}
			hidden_effect = {
				set_politics = { ruling_party = fascism elections_allowed = no }
				set_popularities = {
					democratic = 3
					neutrality = 20
					fascism = 75
					communism = 2
				}
				set_portraits = {
					character = KXN_Bonfire_Cascade
					army = {
						large = "GFX_portrait_KXN_Bonfire_Cascade"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade.tga"
					}
					civilian = {
						large = "GFX_portrait_KXN_Bonfire_Cascade"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade.tga"
					}
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.420
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.420"}
	title = lan_kir.420.t
	desc = lan_kir.420.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.420.a
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KXN_Zebra_Sage
		set_country_flag = KXN_Zebra_Sage_Unlocked
	}
}

country_event = {
	id = lan_kir.421
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.421"}
	title = lan_kir.421.t
	desc = lan_kir.421.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.421.a
		custom_effect_tooltip = available_military_high_command
		show_ideas_tooltip = KXN_Deer_Seer
		set_country_flag = KXN_Deer_Seer_Unlocked
	}
}

country_event = {
	id = lan_kir.422
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.422"}
	title = lan_kir.422.t
	desc = lan_kir.422.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		has_country_flag = KXN_Zebra_Sage_Unlocked
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 50 }
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.422.a
		add_political_power = 10
	}
}

country_event = {
	id = lan_kir.430
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.430"}
	title = lan_kir.430.t
	desc = lan_kir.430.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.430.a
		add_manpower = -150
		army_experience = 25
		KXN_Prairie_Spark = {
			gain_xp = 100
			custom_effect_tooltip = KIR_line_break
			add_timed_unit_leader_trait = {
				trait = wounded
				days = 90	
			}
		}
	}
}

country_event = {
	id = lan_kir.496
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.496"}
	immediate = { hidden_effect = { set_country_flag = KXN_The_Beginning_Of_The_End } }
	immediate = {
		hidden_effect = {
			for_each_scope_loop = {
				array = KXN.subjects
				for_each_scope_loop = {
					array = owned_controlled_states	
					if = {
						limit = {
							is_one_state_island = no
							is_island_state = no
							is_capital = no
						}
						add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
					}
				}
			}
			for_each_scope_loop = {
				array = owned_controlled_states	
				if = {
					limit = {
						is_one_state_island = no
						is_island_state = no
						is_capital = no
					}
					add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
				}
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						is_on_continent = africa
						NOT = {
							any_neighbor_state = {
								is_capital = yes
								owner = { KXN_IS_SATELLITE_TRIGGER = yes }
							}
						}
					}
					set_variable = { state_distance_from_solstice = distance_to@1085 }
					add_to_array = { KXN.KXN_farthest_state_from_solstice = state_distance_from_solstice }
				}
			}
			find_highest_in_array = {
				array = KXN.KXN_farthest_state_from_solstice
				index = KXN_farthest_state_from_solstice_index
			}
			random_state = {
				limit = {
					is_in_array = { KXN.KXN_States_In_Our_Empire = THIS }
					check_variable = {
						var = distance_to@1085
						value = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index
						compare = greater_than_or_equals
					}
				}
				save_global_event_target_as = KXN_farthest_state_from_solstice_target
			}
			set_global_flag = KXN_has_set_farthest_state_from_solstice
		}
	}
	title = lan_kir.496.t
	desc = lan_kir.496.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 365 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 250 }
		NOT = { has_country_flag = KXN_The_Beginning_Of_The_End }
		has_country_flag = KXN_Zebra_Sage_Unlocked
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.496.a
		goto_state = event_target:KXN_farthest_state_from_solstice_target
		retire_character = KXN_Zebra_Sage
		add_political_power = -75
		hidden_effect = {
			country_event = { id = lan_kir.497 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.497
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.497"}
	title = lan_kir.497.t
	desc = lan_kir.497.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.497.a
		add_political_power = 25
		hidden_effect = {
			country_event = { id = lan_kir.499 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.498
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.498"}
	immediate = { hidden_effect = { set_country_flag = KXN_The_Beginning_Of_The_End } }
	title = lan_kir.498.t
	desc = lan_kir.498.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 365 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 250 }
		NOT = { has_country_flag = KXN_The_Beginning_Of_The_End }
		NOT = { has_country_flag = KXN_Zebra_Sage_Unlocked }
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.498.a
		add_political_power = 25
		hidden_effect = {
			country_event = { id = lan_kir.499 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.499
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.499"}
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_global_flag = KXN_has_set_farthest_state_from_solstice
					}
				}
				for_each_scope_loop = {
					array = KXN.subjects
					for_each_scope_loop = {
						array = owned_controlled_states	
						if = {
							limit = {
								is_one_state_island = no
								is_island_state = no
								is_capital = no
							}
							add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
						}
					}
				}
				for_each_scope_loop = {
					array = owned_controlled_states	
					if = {
						limit = {
							is_one_state_island = no
							is_island_state = no
							is_capital = no
						}
						add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
					}
				}
				for_each_scope_loop = {
					array = KXN.KXN_States_In_Our_Empire
					if = {
						limit = {
							is_on_continent = africa
							NOT = {
								any_neighbor_state = {
									is_capital = yes
									owner = { KXN_IS_SATELLITE_TRIGGER = yes }
								}
							}
						}
						set_variable = { state_distance_from_solstice = distance_to@1085 }
						add_to_array = { KXN.KXN_farthest_state_from_solstice = state_distance_from_solstice }
					}
				}
				find_highest_in_array = {
					array = KXN.KXN_farthest_state_from_solstice
					index = KXN_farthest_state_from_solstice_index
				}
				random_state = {
					limit = {
						is_in_array = { KXN.KXN_States_In_Our_Empire = THIS }
						check_variable = {
							var = distance_to@1085
							value = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index
							compare = greater_than_or_equals
						}
					}
					save_global_event_target_as = KXN_farthest_state_from_solstice_target
				}
				set_global_flag = KXN_has_set_farthest_state_from_solstice
			}
		}
	}
	title = lan_kir.499.t
	desc = lan_kir.499.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.499.a
		retire_character = KXN_Clarion_Call
		add_political_power = -150
		add_command_power = -100
		add_stability = -0.15
		country_event = { id = lan_kir.500 days = 3 }
	}
}

country_event = {
	id = lan_kir.500 ## The Nirik Collapse
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.500"}
	immediate = {
		hidden_effect = {
			set_global_flag = KXN_The_Shattering_Happened
			every_enemy_country = {
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = ROOT
			}
			country_event = { id = lan_kir_utility.500 }
			country_event = { id = lan_kir_utility.501 }
			country_event = { id = lan_kir_utility.502 }
			country_event = { id = lan_kir_utility.503 hours = 6 }
			country_event = { id = lan_kir_utility.505 hours = 12 }
			country_event = { id = lan_kir_utility.509 hours = 18 }
			country_event = { id = lan_kir_utility.510 hours = 24 }
			country_event = { id = lan_kir.501 hours = 24 }
		}
	}
	title = lan_kir.500.t
	desc = lan_kir.500.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = lan_kir.500.a
		add_political_power = -300 ## Shit's fucked yo
		custom_effect_tooltip = KXN_Event_500_tt
	}
}

country_event = {
	id = lan_kir.501
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.501"}
	immediate = {
		hidden_effect = {
			set_research_slots = 2
			dismantle_faction = yes
			set_variable = { var = KXN_Remove_Off_Site_Building_Cap value = 10 }
			set_variable = { var = KXN_Overexpansion_Modifier_Multiplier_Var value = 2 }
			
			set_variable = { var = KXN_Survivors_Resistance_Neg_Var value = -0.5 }
			set_variable = { var = KXN_Survivors_Resistance_Var value = 0.5 }
			set_variable = { var = KXN_Survivors_MP_Var value = -0.75 }
			set_variable = { var = KXN_Survivors_RS_LR_Var value = -0.5 }
			set_variable = { var = KXN_Survivors_Industry_Var value = -0.5 }
			set_variable = { var = KXN_Survivors_Construction_Var value = -0.5 }
			set_variable = { var = KXN_Survivors_XP_Loss_Var value = 0.1 }
			set_variable = { var = KXN_Survivors_Supply_Var value = -0.1 }
			
			remove_dynamic_modifier = { modifier = KXN_Avarice_Modifier }
			remove_dynamic_modifier = { modifier = KXN_Bloodlust_Modifier }
			remove_dynamic_modifier = { modifier = KXN_Tributary_Buff }
			remove_dynamic_modifier = { modifier = KXN_Nirik_Militarchy }
			add_dynamic_modifier = { modifier = KXN_Survivors_Fallen_Empire }
			
			clear_variable = KXNAvariceUnsatedDebuff
			clear_variable = KXNBloodlustUnsatedDebuff
			clr_country_flag = KXN_Lan_Kir_Needs_Enabled_Flag
			clr_country_flag = KXN_Consecrate_State_Flag
			clr_country_flag = KXN_Form_Tributary_Flag
			clr_country_flag = KXN_Form_Empire_Flag
			transfer_state = event_target:KXN_farthest_state_from_solstice_target
			set_capital = { state = event_target:KXN_farthest_state_from_solstice_target }
			event_target:KXN_farthest_state_from_solstice_target = {
				force_disable_resistance = KXN
			}
			release = NVA
			NVA = {
				transfer_state = 1083
				add_state_core = 1083
				add_state_core = 1084
				set_cosmetic_tag = ZAI_League
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 15
					neutrality = 30
					fascism = 55
					communism = 0
				}
				set_party_name = {
					ideology = fascism
					long_name = ZAI_League_party
					name = ZAI_League_party
				}
				retire_ideology_leader = fascism
				set_country_leader_ideology = plutocracy ## Avarice
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
					transfer_units_fraction = {
						target = PREV
						size = 0.2
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 75000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Clan War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Clan War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 3
					}
				}
				every_controlled_state = {
					create_unit = {
						division = "division_template = \"Clan War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 2
					}
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Warlord_Flag
				set_cosmetic_tag = KXN_Warlord
				transfer_state = 1084
				transfer_state = 1085
				transfer_state = 1086
				transfer_state = 1056
				transfer_state = 1057
				add_state_core = 1083
				add_state_core = 1084
				add_state_core = 1085
				add_state_core = 1086
				add_state_core = 1054
				add_state_core = 1055
				add_state_core = 1056
				add_state_core = 1057
				add_state_core = 1058
				set_capital = { state = 1085 }
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 0
					neutrality = 0
					fascism = 100
					communism = 0
				}
				set_party_name = {
					ideology = fascism
					long_name = KXN_Warlord_party
					name = KXN_Warlord_party
				}
				KXN = { KXN_Wildfire_Flourish = { set_nationality = PREV.PREV } }
				add_country_leader_role = {
					character = "KXN_Wildfire_Flourish"
					promote_leader = yes
					country_leader = {
						desc = ""
						ideology = falangism
						expire = "1965.1.1.1"
						traits = { KXN_nirik_despot }
					}
				}
				set_portraits = {
					character = KXN_Wildfire_Flourish
					army = {
						large = "GFX_portrait_KXN_Wildfire_Flourish_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Wildfire_Flourish_Nirik.tga"
					}
					civilian = {
						large = "GFX_portrait_KXN_Wildfire_Flourish_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Wildfire_Flourish_Nirik.tga"
					}
				}
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
					every_owned_state = {
						limit = {
							is_capital = no
							is_controlled_by = PREV
						}
						transfer_state_to = PREV.PREV
					}
					transfer_units_fraction = {
						target = PREV
						size = 0.25
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 75000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Nirik War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 10
					}
				}
				every_controlled_state = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 1
					}
				}
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				for_each_scope_loop = {
					array = enemies
					PREV = {
						capital_scope = {
							create_unit = {
								division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
								owner = PREV
								count = 2
							}
						}
					}
					for_each_scope_loop = {
						array = neighbors
						if = {
							limit = {
								NOT = {
									original_tag = KXN
									has_war_with = PREV.PREV
								}
							}
							KXW = {
								create_wargoal = { type = annex_everything target = PREV }
							}
						}
					}
				}
			}
			NVA = {
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						KXN = {
							divisions_in_state = {
								size > 0
								state = PREV
							}
						}
					}
					teleport_armies = {
						limit = { tag = KXN }
						to_state = event_target:KXN_farthest_state_from_solstice_target
					}
				}
			}
			every_controlled_state = {
				damage_units = {
					state = THIS
					limit = { tag = KXN }
					damage = 0.5
					ratio = yes
					army = yes
					navy = yes
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Airforce_Flag
				set_cosmetic_tag = KXN_Airforce
				transfer_state = event_target:KXN_Airforce_state_target
				add_state_core = event_target:KXN_Airforce_state_target
				set_capital = { state = event_target:KXN_Airforce_state_target }
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
				}
				set_politics = { ruling_party = neutrality elections_allowed = no }
				set_popularities = {
					democratic = 0
					neutrality = 55
					fascism = 40
					communism = 5
				}
				retire_ideology_leader = neutrality
				set_country_leader_ideology = khakistocracy
				set_party_name = {
					ideology = neutrality
					long_name = KXN_Airforce_party
					name = KXN_Airforce_party
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Far West Expeditionary Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				set_technology = { paratroopers = 1 popup = no }
				division_template = {
					name = "Aero-Descent Banner"
					division_names_group = KIR_BANNER
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
						paratrooper = { x = 2 y = 0 }
						paratrooper = { x = 2 y = 1 }
						paratrooper = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
					priority = 2
				}
				set_technology = { marines = 1 popup = no }
				division_template = {
					name = "Aero-Marine Banner"
					division_names_group = KIR_BANNER
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 0 y = 3 }
						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
						marine = { x = 1 y = 3 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
					priority = 2
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Far West Expeditionary Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 4
					}
					create_unit = {
						division = "division_template = \"Aero-Descent Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 4
					}
					create_unit = {
						division = "division_template = \"Aero-Marine Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 2
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = { has_dlc = "By Blood Alone" }
					add_ideas = KXN_Nirik_Aerostats_BBA_1
				}
				else = { add_ideas = KXN_Nirik_Aerostats_1 }
				set_technology = { KXN_Aerostat = 1 popup = no }
				add_equipment_to_stockpile = {
					type = medium_airship_equipment_0
					amount = 750
				}
				every_neighbor_country = {
					limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_female" }
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Navy_Flag
				set_cosmetic_tag = KXN_Navy
				transfer_state = event_target:KXN_Navy_state_target
				add_state_core = event_target:KXN_Navy_state_target
				set_capital = { state = event_target:KXN_Navy_state_target }
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
				}
				set_politics = { ruling_party = fascism elections_allowed = no }
				set_popularities = {
					democratic = 7
					neutrality = 18
					fascism = 55
					communism = 20
				}
				retire_ideology_leader = fascism
				set_country_leader_ideology = stratocracy
				set_party_name = {
					ideology = fascism
					long_name = KXN_Navy_party
					name = KXN_Navy_party
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Expeditionary War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				set_technology = { marines = 1 }
				set_technology = { KXN_Elites = 1 }
				division_template = {
					name = "Mariner Bannerkir"
					division_names_group = KIR_BANNER
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
						marine = { x = 2 y = 0 }
						marine = { x = 2 y = 1 }
						marine = { x = 2 y = 2 }
					}
					support = {
						pioneer_support = { x = 0 y = 0 }
						kirin_braves = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
					}
					priority = 2
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Expeditionary War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 4
					}
					create_unit = {
						division = "division_template = \"Mariner Bannerkir\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 4
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				set_technology = { KXN_Aerostat = 1 popup = no }
				add_equipment_to_stockpile = {
					type = medium_airship_equipment_0
					amount = 250
				}
				KXN = {
					transfer_units_fraction = {
						target = PREV
						size = 0
						navy_ratio = 0.9
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
				every_neighbor_country = {
					limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_male" }
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Federation_Flag
				set_cosmetic_tag = KXN_Federation
				transfer_state = event_target:KXN_Federation_state_target
				add_state_core = event_target:KXN_Federation_state_target
				set_capital = { state = event_target:KXN_Federation_state_target }
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
				}
				set_politics = { ruling_party = neutrality elections_allowed = no }
				set_popularities = {
					democratic = 10
					neutrality = 65
					fascism = 20
					communism = 5
				}
				retire_ideology_leader = neutrality
				set_country_leader_ideology = republicanism
				set_party_name = {
					ideology = neutrality
					long_name = KXN_Federation_party
					name = KXN_Federation_party
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Outer-Kir Clan Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Outer-Kir Clan Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
						owner = PREV
						count = 6
					}
				}
				every_neighbor_country = {
					limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
				set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_male" }
			}
			if = {
				limit = { has_global_flag = KXN_Expedition_Exist_Flag }
				create_dynamic_country = {
					original_tag = KXN
					set_country_flag = KXN_Expedition_Flag
					set_cosmetic_tag = KXN_Expedition
					transfer_state = event_target:KXN_Expedition_state_target
					add_state_core = event_target:KXN_Expedition_state_target
					set_capital = { state = event_target:KXN_Expedition_state_target }
					KXN = {
						PREV = {
							transfer_technology = yes
							transfer_society_ideas = yes
							transfer_science_ideas = yes
							transfer_poverty_ideas = yes
							transfer_illiteracy_ideas = yes
						}
					}
					set_politics = { ruling_party = fascism elections_allowed = no }
					set_popularities = {
						democratic = 0
						neutrality = 40
						fascism = 60
						communism = 0
					}
					retire_ideology_leader = fascism
					set_country_leader_ideology = stratocracy
					set_party_name = {
						ideology = fascism
						long_name = KXN_Expedition_party
						name = KXN_Expedition_party
					}
					every_core_state = {
						limit = {
							NOT = { is_owned_and_controlled_by = PREV }
						}
						remove_core_of = PREV
					}
					set_country_flag = KIR_can_have_banner_system
					add_ideas = KXN_The_Shattering
					add_ideas = tot_economic_mobilisation
					add_ideas = KIR_banner_system
					add_ideas = closed_economy
					add_ideas = kirin_race
					add_manpower = 50000
					army_experience = 150
					add_political_power = 150
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
					division_template = {
						name = "Outland Expeditionary Banner"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							artillery_brigade = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					division_template = {
						name = "Expeditionary Vanguard Banner"
						division_names_group = KIR_BANNER
						regiments = {
							kirin_vanguards = { x = 0 y = 0 }
							kirin_vanguards = { x = 0 y = 1 }
							kirin_vanguards = { x = 0 y = 2 }
							kirin_vanguards = { x = 0 y = 3 }
							kirin_vanguards = { x = 1 y = 0 }
							kirin_vanguards = { x = 1 y = 1 }
							kirin_vanguards = { x = 1 y = 2 }
							kirin_vanguards = { x = 1 y = 3 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					set_technology = { marines = 1 }
					division_template = {
						name = "Expeditionary Naval Landing Banner"
						division_names_group = KIR_BANNER
						regiments = {
							marine = { x = 0 y = 0 }
							marine = { x = 0 y = 1 }
							marine = { x = 0 y = 2 }
							marine = { x = 1 y = 0 }
							marine = { x = 1 y = 1 }
							marine = { x = 1 y = 2 }
							marine = { x = 2 y = 0 }
							marine = { x = 2 y = 1 }
							marine = { x = 2 y = 2 }
						}
						support = {
							pioneer_support = { x = 0 y = 0 }
							kirin_braves = { x = 0 y = 1 }
							artillery = { x = 0 y = 2 }
						}
						priority = 2
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Outland Expeditionary Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
							owner = PREV
							count = 5
						}
						create_unit = {
							division = "division_template = \"Expeditionary Vanguard Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 3
						}
						create_unit = {
							division = "division_template = \"Expeditionary Naval Landing Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 2
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					set_technology = { KXN_Aerostat = 1 popup = no }
					add_equipment_to_stockpile = {
						type = medium_airship_equipment_0
						amount = 250
					}
					every_neighbor_country = {
						limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
					set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_male" }
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Splinter_Flag
				set_cosmetic_tag = KXN_Splinter
				transfer_state = event_target:KXN_Nirik_Equatorarchy_state_target
				add_state_core = event_target:KXN_Nirik_Equatorarchy_state_target
				set_capital = { state = event_target:KXN_Nirik_Equatorarchy_state_target }
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
				}
				set_politics = { ruling_party = fascism elections_allowed = no }
				set_popularities = {
					democratic = 0
					neutrality = 10
					fascism = 90
					communism = 0
				}
				set_party_name = {
					ideology = fascism
					long_name = KXN_Splinter_party
					name = KXN_Splinter_party
				}
				KXN = { KXN_Bonfire_Cascade = { set_nationality = PREV.PREV } }
				add_country_leader_role = {
					character = "KXN_Bonfire_Cascade"
					promote_leader = yes
					country_leader = {
						desc = ""
						ideology = kratokracy
						expire = "1965.1.1.1"
						traits = { KXN_bandit_warlord }
					}
				}
				set_portraits = {
					character = KXN_Bonfire_Cascade
					army = {
						large = "GFX_portrait_KXN_Bonfire_Cascade_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade_Nirik.tga"
					}
					civilian = {
						large = "GFX_portrait_KXN_Bonfire_Cascade_Nirik"
						small = "gfx/interface/ideas/Advisors/KXN/KXN_Bonfire_Cascade_Nirik.tga"
					}
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				random_other_country = {
					limit = { any_core_state = { is_core_of = PREV.PREV } }
					every_core_state = {
						add_core_of = PREV.PREV
					}
				}
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Nirik War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 12
					}
				}
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				for_each_scope_loop = {
					array = enemies
					PREV = {
						capital_scope = {
							create_unit = {
								division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
								owner = PREV
								count = 2
							}
						}
					}
					for_each_scope_loop = {
						array = neighbors
						if = {
							limit = {
								NOT = {
									original_tag = KXN
									has_war_with = PREV.PREV
								}
							}
							KXR = {
								create_wargoal = { type = annex_everything target = PREV }
							}
						}
					}
				}
			}
			if = {
				limit = { has_global_flag = KXN_Tanker_Exist_Flag }
				create_dynamic_country = {
					original_tag = KXN
					set_country_flag = KXN_Tanker_Flag
					set_cosmetic_tag = KXN_Tanker
					transfer_state = event_target:KXN_Tanker_state_target
					add_state_core = event_target:KXN_Tanker_state_target
					set_capital = { state = event_target:KXN_Tanker_state_target }
					KXN = {
						PREV = {
							transfer_technology = yes
							transfer_society_ideas = yes
							transfer_science_ideas = yes
							transfer_poverty_ideas = yes
							transfer_illiteracy_ideas = yes
						}
					}
					set_politics = { ruling_party = fascism elections_allowed = no }
					set_popularities = {
						democratic = 0
						neutrality = 20
						fascism = 70
						communism = 10
					}
					retire_ideology_leader = fascism
					set_country_leader_ideology = stratocracy
					set_party_name = {
						ideology = fascism
						long_name = KXN_Tanker_party
						name = KXN_Tanker_party
					}
					every_core_state = {
						limit = {
							NOT = { is_owned_and_controlled_by = PREV }
						}
						remove_core_of = PREV
					}
					set_country_flag = KIR_can_have_banner_system
					add_ideas = KXN_The_Shattering
					add_ideas = tot_economic_mobilisation
					add_ideas = KIR_banner_system
					add_ideas = closed_economy
					add_ideas = kirin_race
					add_manpower = 50000
					army_experience = 150
					add_political_power = 150
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
					set_technology = { motorised_infantry = 1 popup = no }
					add_equipment_to_stockpile = {
						type = motorized_equipment
						amount = 750
					}
					set_technology = { mechanised_infantry = 1 popup = no }
					add_equipment_to_stockpile = {
						type = mechanized_equipment
						amount = 500
					}
					if = {
						limit = {
							NOT = { has_dlc = "No Step Back" }
						}
						set_technology = {
							gwtank = 1
							basic_light_tank = 1
							basic_heavy_tank = 1
						}
					}
					if = {
						limit = {
							has_dlc = "No Step Back"
						}
						set_technology = {
							gwtank_chassis = 1
							basic_light_tank_chassis = 1
							basic_medium_tank_chassis = 1
							basic_heavy_tank_chassis = 1
						}
					}
					add_equipment_to_stockpile = {
						type = light_tank_chassis
						amount = 200
					}
					add_equipment_to_stockpile = {
						type = heavy_tank_chassis
						amount = 100
					}
					add_fuel = 25000
					division_template = {
						name = "Iron Motor Banner"
						division_names_group = KIR_BANNER
						regiments = {
							motorized = { x = 0 y = 0 }
							motorized = { x = 0 y = 1 }
							motorized = { x = 0 y = 2 }
							motorized = { x = 1 y = 0 }
							motorized = { x = 1 y = 1 }
							motorized = { x = 1 y = 2 }
							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							motorized = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					division_template = {
						name = "Iron Mechanized Banner"
						division_names_group = KIR_BANNER
						regiments = {
							mechanized = { x = 0 y = 0 }
							mechanized = { x = 0 y = 1 }
							mechanized = { x = 0 y = 2 }
							mechanized = { x = 0 y = 3 }
							mechanized = { x = 1 y = 0 }
							mechanized = { x = 1 y = 1 }
							mechanized = { x = 1 y = 2 }
							mechanized = { x = 1 y = 3 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					division_template = {
						name = "Iron Light Tank Banner"
						division_names_group = KIR_BANNER
						regiments = {
							light_armor = { x = 0 y = 0 }
							light_armor = { x = 0 y = 1 }
							light_armor = { x = 0 y = 2 }
							light_armor = { x = 0 y = 3 }
							motorized = { x = 1 y = 0 }
							motorized = { x = 1 y = 1 }
							motorized = { x = 1 y = 2 }
							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							motorized = { x = 2 y = 2 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }
							kirin_braves = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
						}
					}
					division_template = {
						name = "Iron Heavy Tank Banner"
						division_names_group = KIR_BANNER
						regiments = {
							heavy_armor = { x = 0 y = 0 }
							heavy_armor = { x = 0 y = 1 }
							heavy_armor = { x = 0 y = 2 }
							heavy_armor = { x = 0 y = 3 }
							motorized = { x = 1 y = 0 }
							motorized = { x = 1 y = 1 }
							motorized = { x = 1 y = 2 }
							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							motorized = { x = 2 y = 2 }
						}
						support = {
							light_tank_recon = { x = 0 y = 0 }
							kirin_braves = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Iron Motor Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 2
						}
						create_unit = {
							division = "division_template = \"Iron Mechanized Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 2
						}
						create_unit = {
							division = "division_template = \"Iron Light Tank Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 2
						}
						create_unit = {
							division = "division_template = \"Iron Heavy Tank Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
							owner = PREV
							count = 1
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = synthetic_refinery
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = fuel_silo
							level = 1
							instant_build = yes
						}
					}
					every_neighbor_country = {
						limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
					set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_female" }
				}
			}
			every_country = {
				limit = {
					OR = {
						KXN_IS_SATELLITE_TRIGGER = yes
						is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
						has_country_flag = KXN_Federation_Flag
						has_country_flag = KXN_Expedition_Flag
						has_country_flag = KXN_Airforce_Flag
						has_country_flag = KXN_Splinter_Flag
						has_country_flag = KXN_Warlord_Flag
						has_country_flag = KXN_Tanker_Flag
						has_country_flag = KXN_Navy_Flag
						tag = NVA
					}
				}
				add_ideas = KXN_The_Shattering
				load_focus_tree = generic_zebra_focus
			}
			every_country = {
				limit = {
					KXN = {
						has_wargoal_against = PREV
					}
				}
				KXN = {
					remove_wargoal = {
						type = all
						target = PREV
					}
				}
			}
			every_country = {
				limit = {
					has_wargoal_against = KXN
				}
				remove_wargoal = {
					type = all
					target = KXN
				}
			}
			for_each_scope_loop = {
				array = global.countries
				if = {
					limit = {
						exists = yes
						original_tag = KXN
						OR = {
							has_country_flag = KXN_Vermilion_Flag
							has_country_flag = KXN_Fragrance_Flag
							has_country_flag = KXN_Exarchate_Flag
							has_country_flag = KXN_Eparchy_Flag
							has_country_flag = KXN_Marshalcy_Flag
							has_country_flag = KXN_Equatorarchy_Flag
							has_country_flag = KXN_Occident_Flag
							has_country_flag = KXN_Satellite_Flag
							has_country_flag = KXN_Mellifluve_Flag
							has_country_flag = KXN_Domain_Flag
							has_country_flag = KXN_Colony_Flag
							has_country_flag = KXN_Federation_Flag
							has_country_flag = KXN_Expedition_Flag
							has_country_flag = KXN_Airforce_Flag
							has_country_flag = KXN_Tanker_Flag
							has_country_flag = KXN_Navy_Flag
						}
					}
					capital_scope = {
						add_to_array = { KXN.KXN_Remnant_Capital_Array = THIS }
					}
				}
			}
		}
	}
	title = lan_kir.501.t
	desc = lan_kir.501.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = lan_kir.501.a
		add_political_power = -150
		set_country_flag = KXN_Airlift_To_Remnant_Show_Flag
		goto_state = event_target:KXN_farthest_state_from_solstice_target
		custom_effect_tooltip = KXN_Unlock_Long_March_Focus_Tree_tt
		set_cosmetic_tag = KXN_Host
		hidden_effect = {
			load_focus_tree = KXN_LONG_MARCH_FOCUS_TREE
			mark_focus_tree_layout_dirty = yes
			country_event = { id = lan_kir.502 days = 3 }
			if = {
				limit = { KXC = { exists = yes } }
				KXC = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					add_popularity = { ideology = neutrality popularity = 0.5 }
					retire_ideology_leader = neutrality
					set_country_leader_ideology = oligarchism
					set_country_leader_portrait = { portrait = "GFX_portrait_unknown_kirin_female" }
					set_cosmetic_tag = KXN_City
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.502
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.502"}
	immediate = {
		hidden_effect = {
			country_event = { id = lan_kir.503 days = 3 }
			random_list = {
				1 = {
					modifier = {
						KXN_Cobalt_Floret = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cobalt_Floret = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Peach_Glaze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Peach_Glaze = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flaming_Pearl = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flaming_Pearl = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brazier_Haze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brazier_Haze = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brush_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brush_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Cobalt_Floret = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cobalt_Floret = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Peach_Glaze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Peach_Glaze = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flaming_Pearl = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flaming_Pearl = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brazier_Haze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brazier_Haze = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brush_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brush_Fire = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Flash_Pan = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					KXN_Oak_Laurel = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Air_Chief_1 = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					KXN_Air_Chief_2 = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Navy_Chief_1 = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					KXN_Navy_Chief_2 = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
		}
	}
	title = lan_kir.502.t
	desc = lan_kir.502.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.502.a
		add_manpower = -75000
		KXN = {
			every_character = {
				limit = { has_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				set_nationality = KXW
			}
			every_character = {
				limit = { has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				set_nationality = NVA
			}
			every_core_state = {
				limit = {
					NOT = {
						state = 1085
						state = 1086
					}
				}
				remove_core_of = KXN
			}
			hidden_effect = {
				add_state_core = 1085
				add_state_core = 1086
			}
		}
	}
}

country_event = {
	id = lan_kir.503
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.503"}
	immediate = {
		hidden_effect = {
			set_variable = { KXN_Extra_Units_For_Enemy = KXN.num_armies }
			divide_variable = { KXN_Extra_Units_For_Enemy = 5 }
			clamp_variable = { var = KXN_Extra_Units_For_Enemy min = 6 }
			every_neighbor_country = {
				limit = {
					is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
				}
				declare_war_on = {
					target = KXN
					type = annex_everything
				}
				set_country_flag = KXN_Revenge_War_Neighbors_Flag
				division_template = {
					name = "Assault Brigade"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						artillery_brigade = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				capital_scope = {
					meta_effect = {
						text = {
							create_unit = {
								division = "division_template = \"Assault Brigade\" start_experience_factor = 0.25 start_equipment_factor = 1"
								owner = PREV
								count = [KXNEnemyUnitCount]
							}
						}
						KXNEnemyUnitCount = "[?KXN.KXN_Extra_Units_For_Enemy]"
					}
				}
			}
		}
	}
	title = lan_kir.503.t
	desc = lan_kir.503.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.503.a
		add_command_power = 25
		every_neighbor_country = {
			limit = { has_war_with = ROOT }
			custom_effect_tooltip = KXN_Event_503_tt
			add_timed_idea = {
				idea = KXN_Revenge_On_Us
				days = 365
			}
		}
	}
}

country_event = {
	id = lan_kir.504
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.504"}
	title = lan_kir.504.t
	desc = lan_kir.504.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes

	option = {
		name = lan_kir.504.a
		add_country_leader_role = {
			character = "KXN_Prairie_Spark"
			promote_leader = yes
			country_leader = {
				ideology = khakistocracy
				expire = "1965.1.1.1"
				traits = { }
			}
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.25
		}
		set_party_name = {
			ideology = neutrality
			long_name = KXN_Commonweal_party
			name = KXN_Commonweal_party
		}
		set_party_name = {
			ideology = communism
			long_name = KXN_Commonweal_communism_party
			name = KXN_Commonweal_communism_party
		}
		set_party_name = {
			ideology = democratic
			long_name = KXN_Commonweal_democratic_party
			name = KXN_Commonweal_democratic_party
		}
		set_party_name = {
			ideology = fascism
			long_name = KXN_Commonweal_fascism_party
			name = KXN_Commonweal_fascism_party
		}
		hidden_effect = {
			set_politics = { ruling_party = neutrality elections_allowed = no }
			set_popularities = {
				democratic = 10
				neutrality = 40
				fascism = 45
				communism = 5
			}
			set_cosmetic_tag = KXN_Host
		}
	}
}

country_event = {
	id = lan_kir.505
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.505"}
	title = lan_kir.505.t
	desc = lan_kir.505.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.505.a
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.15
		}
		set_country_flag = KXN_Commonweal_Flag
		set_cosmetic_tag = KXN_Commonweal
		add_country_leader_trait = KXN_First_Among_Equals
	}
}

country_event = {
	id = lan_kir.506
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.506"}
	title = lan_kir.506.t
	desc = lan_kir.506.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.506.a
		add_political_power = 75
		add_war_support = 0.05
	}
}

country_event = {
	id = lan_kir.507
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.507"}
	title = lan_kir.507.t
	desc = lan_kir.507.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.507.a
		add_command_power = 50
		add_war_support = 0.1
	}
}

country_event = {
	id = lan_kir.508
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.508"}
	title = lan_kir.508.t
	desc = lan_kir.508.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.508.a
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KXN_Signal_Flare
		set_country_flag = KXN_Signal_Flare_Unlocked
	}
}

country_event = {
	id = lan_kir.550
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.550"}
	title = lan_kir.550.t
	desc = lan_kir.550.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.550.a
		ai_chance = {
			base = 1
		}
		set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
		white_peace = KXN
	}

	option = {
		name = lan_kir.550.b
		ai_chance = {
			base = 0
		}
		KXN = { country_event = { id = lan_kir.551 hours = 3 } }
	}
}

country_event = {
	id = lan_kir.551
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.551"}
	title = lan_kir.551.t
	desc = lan_kir.551.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.551.a
	}
}

country_event = {
	id = lan_kir.552
	title = lan_kir.552.t
	is_triggered_only = yes
	hidden = yes

	option = {
		KXN = { country_event = { id = lan_kir.553 } }
	}
}

country_event = {
	id = lan_kir.553
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.553"}
	title = lan_kir.553.t
	desc = lan_kir.553.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.553.a
	}
}

country_event = {
	id = lan_kir.560
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.560"}
	title = lan_kir.560.t
	desc = lan_kir.560.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes
	trigger = {
		KXN = {
			num_subjects > 0
		}
	}

	option = {
		name = lan_kir.560.a
		end_puppet = KXN.KXN_Friendly_Government_Array^0
		every_other_country = {
			limit = { tag = KXN.KXN_Friendly_Government_Array^0 }
			give_military_access = KXN
		}
		remove_from_array = { array = KXN.KXN_Friendly_Government_Array index = 0 }
	}
}

#################################
########## Test Events ##########
#################################
country_event = {
	id = lan_kir_test.1
	is_triggered_only = yes
	hidden = yes

	option = {
		capital_scope = {
			create_unit = { division = "division_template = \"Banner Guard\" start_equipment_factor = 1 start_experience_factor = 0.25" owner = ROOT count = 2 }
			create_unit = { division = "division_template = \"War Banner\" start_equipment_factor = 1 start_experience_factor = 0.25" owner = ROOT count = 5 }
		}
	}
}
country_event = {
	id = lan_kir_test.2
	is_triggered_only = yes
	hidden = yes

	option = {
	}
}

####################################
########## Utility Events ##########
####################################
country_event = {
	id = lan_kir_utility.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.1"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = {
				has_tech = KXN_Super_Valiants
			}
			set_technology = {
				popup = no
				KXN_Super_Valiants = 0
			}
			KXN_REFRESH_VALIANTS_EFFECT = yes
		}
		KXN_SET_KIRIN_PORTRAITS_EFFECT = yes
		add_dynamic_modifier = { modifier = KXN_Nirik_Veisalgia days = KXN.KXN_Kirin_Countdown_Difference }
		remove_country_leader_trait = nirik_fury
	}
}
country_event = {
	id = lan_kir_utility.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.2"}
	is_triggered_only = yes
	hidden = yes

	option = {
		add_to_variable = { KXN.Num_Aerostats_Deployed = 25 }
		add_equipment_to_stockpile = {
			type = medium_airship_equipment_0
			amount = 25
		}
	}
}
country_event = {
	id = lan_kir_utility.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.3"}
	is_triggered_only = yes
	hidden = yes

	option = {
		add_to_variable = { KXN.Num_Aerostats_Deployed = 30 }
		add_equipment_to_stockpile = {
			type = medium_airship_equipment_0
			amount = 30
		}
	}
}
country_event = {
	id = lan_kir_utility.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.10"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.11"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.12"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.13"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.20"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.21"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.22"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.23"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.30"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.31"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.32"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.33"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.40
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.40"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.41
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.41"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.42
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.42"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.43
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.43"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.50
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.50"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.51
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.51"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.52
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.52"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.53
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.53"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.60"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.61
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.61"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.62
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.62"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.63
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.63"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.70
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.70"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.71
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.71"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.72
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.72"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.73
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.73"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.80
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.80"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.81
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.81"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.82
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.82"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.83
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.83"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.90
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.90"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.91
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.91"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.92
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.92"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.93
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.93"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.100"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.101"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.102
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.102"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.103
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.103"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.110
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.110"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.111
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.111"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.112
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.112"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.113
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.113"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.120
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.120"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.121
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.121"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.122
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.122"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.123
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.123"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.130
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.130"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.131
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.131"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.132
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.132"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.133
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.133"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.140
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.140"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.141
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.141"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.142
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.142"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.143
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.143"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.150
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.150"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.151
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.151"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.152
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.152"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.153
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.153"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.160
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.160"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.161
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.161"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.162
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.162"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.163
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.163"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.170
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.170"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.171
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.171"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.172
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.172"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.173
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.173"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.180
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.180"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.181
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.181"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.182
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.182"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.183
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.183"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.190
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.190"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.191
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.191"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.192
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.192"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.193
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.193"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.200
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.200"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.201
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.201"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.202
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.202"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.203
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.203"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}

country_event = {
	id = lan_kir_utility.8964
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.8964"}
	is_triggered_only = yes
	hidden = yes

	option = {
		subtract_from_variable = { KXN_Bonus_Overexpansion_Var = KXN_Bonus_Overexpansion_Array^0 }
		remove_from_array = { array = KXN_Bonus_Overexpansion_Array index = 0 }
	}
}

country_event = {
	id = lan_kir_utility.9000
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.9000"}
	is_triggered_only = yes
	hidden = yes

	option = {
		subtract_from_variable = { KXN_Bonus_Overexpansion_Var = 0.1 }
	}
}

country_event = {
	id = lan_kir_utility.500 ## Fire in order. Prepare for lag.
	is_triggered_only = yes
	hidden = yes

	option = {
		every_subject_country = {
			limit = { KXN_IS_SATELLITE_TRIGGER = yes }
			add_ideas = KXN_Satellite_Focus_On_Defense
			every_core_state = {
				limit = { is_capital = no }
				remove_core_of = PREV
			}
			every_owned_state = {
				limit = {
					is_capital = no
					is_controlled_by = PREV
				}
				transfer_state_to = KXN
			}
			division_template = {
				name = "Bannerkirin Garrison"
				division_names_group = KIR_BANNER
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					artillery_brigade = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Bannerkirin Garrison\" start_experience_factor = 0.25 start_equipment_factor = 1" owner = PREV count = 2
				}
			}
		}
		for_each_scope_loop = {
			array = KXN.KXN_States_In_Our_Empire
			if = {
				limit = {
					KXN = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
				teleport_armies = {
					limit = { tag = KXN }
					to_state = event_target:KXN_farthest_state_from_solstice_target
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.501
	is_triggered_only = yes
	hidden = yes

	option = {
		every_subject_country = {
			limit = { KXN_IS_SATELLITE_TRIGGER = no }
			set_variable = { manpower_k_before_KXN_explosion = manpower_k }
			KXN = {
				annex_country = {
					target = PREV
					transfer_troops = no
				}
			}
		}
		every_subject_country = {
			KXN = { end_puppet = PREV }
			leave_faction = yes
		}
	}
}
country_event = {
	id = lan_kir_utility.502
	is_triggered_only = yes
	hidden = yes

	option = {
		random_controlled_state = {
			limit = {
				NOT = {
					has_state_flag = KXN_Breakaway_State_Flag
					any_neighbor_state = {
						is_capital = yes
					}
				}
				OR = {
					state = 741
					state = 775
					state = 790
					state = 810
					state = 811
					state = 834
					state = 843
					state = 854
					state = 858
					state = 866
					state = 868
					state = 937
					state = 943
					state = 948
					state = 951
					state = 986
					state = 990
					state = 995
					state = 999
					state = 1002
					state = 1009
					state = 1014
					state = 1017
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			save_global_event_target_as = KXN_Airforce_state_target
		}
		random_controlled_state = {
			limit = {
				is_coastal = yes
				any_province_building_level = {
					province = {
						all_provinces = yes
						limit_to_border = no
					}
					building = naval_base
					level > 1
				}
				NOT = {
					has_state_flag = KXN_Breakaway_State_Flag
					any_neighbor_state = {
						is_capital = yes
					}
				}
				OR = {
					region = 2
					region = 15
					region = 125
					region = 126
					region = 134
					region = 135
					region = 136
					region = 137
					region = 212
					region = 257
					region = 279
					region = 325
					region = 328
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			save_global_event_target_as = KXN_Navy_state_target
		}
		set_variable = { KXN_faraway_state_from_solstice = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index }
		subtract_from_variable = { KXN_faraway_state_from_solstice = 150 }
		random_state = {
			limit = {
				NOT = { has_state_flag = KXN_Breakaway_State_Flag }
				is_in_array = { KXN.KXN_States_In_Our_Empire = THIS }
				check_variable = {
					var = distance_to@1085
					value = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index
					compare = less_than
				}
				check_variable = {
					var = distance_to@1085
					value = KXN.KXN_faraway_state_from_solstice
					compare = greater_than_or_equals
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			save_global_event_target_as = KXN_Federation_state_target
		}
		random_controlled_state = {
			limit = {
				infrastructure > 0
				OR = {
					arms_factory > 0
					industrial_complex > 0
					dockyard > 0
					synthetic_refinery > 0
					fuel_silo > 0
				}
				NOT = {
					has_state_flag = KXN_Breakaway_State_Flag
					is_on_continent = africa
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			set_global_flag = KXN_Expedition_Exist_Flag
			save_global_event_target_as = KXN_Expedition_state_target
		}
		random_controlled_state = {
			limit = {
				NOT = {
					has_state_flag = KXN_Breakaway_State_Flag
					any_neighbor_state = {
						is_capital = yes
					}
				}
				OR = {
					state = 1185
					state = 1184
					state = 1176
					state = 1169
					state = 1168
					state = 1167
					state = 1104
					state = 1095
					state = 1093
					state = 1092
					state = 875
					state = 852
					state = 713
					state = 710
					state = 706
					state = 705
					state = 703
					state = 701
					state = 699
					state = 698
					state = 697
					state = 690
					state = 688
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			save_global_event_target_as = KXN_Nirik_Equatorarchy_state_target
		}
		random_controlled_state = {
			limit = {
				infrastructure > 0
				OR = {
					arms_factory > 0
					synthetic_refinery > 0
					fuel_silo > 0
				}
				NOT = {
					region = 85
					region = 94
					has_state_flag = KXN_Breakaway_State_Flag
					any_neighbor_state = {
						is_capital = yes
					}
				}
			}
			set_state_flag = KXN_Breakaway_State_Flag
			set_global_flag = KXN_Tanker_Exist_Flag
			save_global_event_target_as = KXN_Tanker_state_target
		}
	}
}
country_event = {
	id = lan_kir_utility.503
	is_triggered_only = yes
	hidden = yes

	option = {
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
	}
}
country_event = {
	id = lan_kir_utility.504 ## This needs to be fired several times to get all of them.
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.occupied_countries
			if = {
				limit = {
					NOT = {
						original_tag = NVA
						original_tag = KHM
					}
				}
				KXN = { release = PREV }
				add_manpower = manpower_k_before_KXN_explosion
				drop_cosmetic_tag = yes
				add_to_array = {
					array = KXN.KXN_Former_Conquered_Territories
					value = THIS
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.505
	is_triggered_only = yes
	hidden = yes

	option = {
		country_event = { id = lan_kir_utility.506 }
		country_event = { id = lan_kir_utility.507 }
		#country_event = { id = lan_kir_utility.508 }
	}
}
country_event = {
	id = lan_kir_utility.506
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.KXN_Former_Conquered_Territories
			if = {
				limit = {
					NOT = {
						tag = KXN
						original_tag = KXN
					}
				}
				if = {
					limit = {
						NOT = {
							has_country_flag = deployed_KXN_explosion_army
						}
					}
					division_template = {
						name = "Infantry Division"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
						}
					}
					division_template = {
						name = "Militia Division"
						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
							militia = { x = 1 y = 2 }
							militia = { x = 2 y = 0 }
							militia = { x = 2 y = 1 }
							militia = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Infantry Division\" start_experience_factor = 0.25 start_equipment_factor = 1"
							owner = PREV
							count = 5
						}
						create_unit = {
							division = "division_template = \"Militia Division\" start_experience_factor = 0.15 start_equipment_factor = 1"
							owner = PREV
							count = 8
						}
					}
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 7500
					}
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = 250
					}
					set_country_flag = deployed_KXN_explosion_army
				}
				if = {
					limit = {
						num_of_controlled_states > 5
						NOT = {
							original_tag = YAN
							original_tag = ZAI
						}
						OR = {
							has_government = communism
							has_government = democratic
							has_government = neutrality
						}
					}
					start_civil_war = {
						ideology = fascism
						size = 0.5
						add_to_array = {
							array = KXN.KXN_Former_Conquered_Territories
							value = THIS
						}
					}
				}
				else_if = {
					limit = {
						num_of_controlled_states > 5
						NOT = {
							original_tag = YAN
							original_tag = ZAI
						}
						has_government = fascism 
					}
					random_list = {
						1 = {
							start_civil_war = {
								ideology = communism
								size = 0.5
								add_to_array = {
									array = KXN.KXN_Former_Conquered_Territories
									value = THIS
								}
							}
						}
						1 = {
							start_civil_war = {
								ideology = democratic
								size = 0.5
								add_to_array = {
									array = KXN.KXN_Former_Conquered_Territories
									value = THIS
								}
							}
						}
						1 = {
							start_civil_war = {
								ideology = neutrality
								size = 0.5
								add_to_array = {
									array = KXN.KXN_Former_Conquered_Territories
									value = THIS
								}
							}
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.507
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.KXN_Former_Conquered_Territories
			for_each_scope_loop = {
				array = neighbors
				if = {
					limit = {
						NOT = {
							has_war_with = PREV
							is_ally_with = PREV
							is_guaranteed_by = PREV
							PREV = { has_wargoal_against = PREV }
						}
					}
					PREV = { create_wargoal = { type = annex_everything target = PREV } }
					hidden_effect = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.508
	is_triggered_only = yes
	hidden = yes

	option = {
		every_other_country = {
			limit = { original_tag = KXN }
			every_controlled_state = {
				damage_units = {
					state = THIS
					limit = { original_tag = KXN }
					damage = 0.25
					ratio = yes
					army = yes
					navy = yes
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.509
	is_triggered_only = yes
	hidden = yes

	option = {
		every_other_country = {
			limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
			every_neighbor_country = {
				limit = {
					OR = {
						KXN_IS_SATELLITE_TRIGGER = yes
						is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
					}
				}
				PREV = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.510
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.KXN_States_In_Our_Empire
			if = {
				limit = {
					KXN = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
				teleport_armies = {
					limit = { tag = KXN }
					to_state = event_target:KXN_farthest_state_from_solstice_target
				}
			}
		}
		random_other_country = {
			limit = {
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
				has_government = fascism
			}
			set_cosmetic_tag = KIS_salvation_front
			random_other_country = {
				limit = {
					OR = {
						original_tag = KIR
						original_tag = KIS
						original_tag = KIC
					}
					has_government = fascism
				}
				set_cosmetic_tag = KIR_harmony_nirik
			}
		}
		random_other_country = {
			limit = {
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
				has_government = communism
			}
			set_cosmetic_tag = KIR_communism
			random_other_country = {
				limit = {
					OR = {
						original_tag = KIR
						original_tag = KIS
						original_tag = KIC
					}
					has_government = communism
				}
				set_cosmetic_tag = KIR_CoC
			}
		}
		random_other_country = {
			limit = {
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
				has_government = democratic
			}
			set_cosmetic_tag = KIR_NSA
		}
		random_other_country = {
			limit = {
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
				has_government = neutrality
			}
			set_cosmetic_tag = KIR_PGK
		}
		random_other_country = {
			limit = {
				original_tag = CTL
				has_government = neutrality
			}
			set_cosmetic_tag = CTL_REPUBLIC_neutrality
		}
		random_other_country = {
			limit = {
				original_tag = CTL
				has_government = fascism
			}
			set_cosmetic_tag = CTL_TUYA_fascism
		}
		random_other_country = {
			limit = {
				original_tag = HIN
				has_government = neutrality
			}
			set_cosmetic_tag = HIN_UNI_neutrality
		}
		random_other_country = {
			limit = {
				original_tag = HIN
				has_government = fascism
			}
			set_cosmetic_tag = CTL_HIN_kratokracy
		}
		random_other_country = {
			limit = {
				original_tag = ROA
				has_government = neutrality
			}
			set_cosmetic_tag = HIN_ROA
		}
	}
}