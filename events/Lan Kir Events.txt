add_namespace = lan_kir
add_namespace = lan_kir_utility
add_namespace = lan_kir_test

country_event = {
	id = lan_kir.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.1"}
	title = lan_kir.1.t
	desc = lan_kir.1.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.1.a
	}
}

country_event = {
	id = lan_kir.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.2"}
	title = lan_kir.2.t
	desc = lan_kir.2.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.2.a
	}
}

country_event = {
	id = lan_kir.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.3"}
	title = lan_kir.3.t
	desc = lan_kir.3.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.3.a
	}
}

country_event = {
	id = lan_kir.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.4"}
	title = lan_kir.4.t
	desc = lan_kir.4.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.4.a
		custom_effect_tooltip = KXN_Focus_MILTARCH_Bodyguard_tt
		hidden_effect = {
			division_template = {
				name = "Sworn Retinue"
				division_names_group = KIR_BANNER
				priority = 2
				regiments = {
					kirin_vanguards = { x = 0 y = 0 }
					kirin_vanguards = { x = 0 y = 1 }
					kirin_vanguards = { x = 0 y = 2 }
					kirin_vanguards = { x = 1 y = 0 }
					kirin_vanguards = { x = 1 y = 1 }
					kirin_vanguards = { x = 1 y = 2 }
					kirin_vanguards = { x = 2 y = 0 }
					kirin_vanguards = { x = 2 y = 1 }
					kirin_vanguards = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Sworn Retinue of the Rutilant Shield\" division_template = \"Sworn Retinue\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 1
				}
			}
		}
		KXN = {
			KXN_Clarion_Call = {
				gain_xp = 75
				custom_effect_tooltip = KIR_line_break
				add_attack = 1
			}
		}
	}

	option = {
		name = lan_kir.4.b
		custom_effect_tooltip = KXN_Focus_MILTARCH_Companion_tt
		hidden_effect = {
			division_template = {
				name = "Companion Kir"
				division_names_group = KIR_BANNER
				priority = 2
				regiments = {
					kirin_vanguards = { x = 0 y = 0 }
					kirin_vanguards = { x = 0 y = 1 }
					kirin_vanguards = { x = 0 y = 2 }
					kirin_vanguards = { x = 1 y = 0 }
					kirin_vanguards = { x = 1 y = 1 }
					kirin_vanguards = { x = 1 y = 2 }
					kirin_vanguards = { x = 2 y = 0 }
					kirin_vanguards = { x = 2 y = 1 }
					kirin_vanguards = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Companion Kir of the Home Hearth\" division_template = \"Companion Kir\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 1
				}
			}
		}
		KXN = {
			KXN_Prairie_Spark = {
				gain_xp = 75
				custom_effect_tooltip = KIR_line_break
				add_defense = 1
			}
		}
	}
}

country_event = {
	id = lan_kir.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.5"}
	title = lan_kir.5.t
	desc = lan_kir.5.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.5.a
		set_country_flag = KXN_Silver_Chime_Unlocked
		add_ideas = KXN_Silver_Chime
		set_can_be_fired_in_advisor_role = {
			character = KXN_Silver_Chime
			value = no
		}
		add_country_leader_role = {
			character = "KXN_Silver_Chime"
			promote_leader = yes
			country_leader = {
				ideology = harmonic_theocracy
				expire = "1965.1.1.1"
				traits = { }
			}
		}
	}
}

country_event = {
	id = lan_kir.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.6"}
	title = lan_kir.6.t
	desc = lan_kir.6.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.6.a
		add_political_power = 75
		add_war_support = 0.05
	}
}

country_event = {
	id = lan_kir.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.100"}
	title = lan_kir.100.t
	desc = lan_kir.100.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 90 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		OR = {
			num_subjects > KXN.KXN_Event_100_Subjects_Var
			check_variable = { KXN.inflicted_casualties > KXN.KXN_Event_100_Casualties_Var }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > KXN.KXN_Event_100_Num_States_Var }
		}
		check_variable = { KXN.KXN_NM_Resistance_Var < 1 }
	}

	option = {
		name = lan_kir.100.a
		if = {
			limit = {
				has_completed_focus = KXN_Focus_AIRSHIP_3
				check_variable = { KXN.KXN_Aerostat_Loss_Var < 0.25 }
			}
			add_to_variable = { var = KXN_Aerostat_Loss_Var value = 0.05 }
			custom_effect_tooltip = KXN_Increase_Aerostat_Loss_tt
		}
		custom_effect_tooltip = KXN_Event_100_tt
		effect_tooltip = {
			swap_ideas = { add_idea = KXN_Nirik_Militarchy_DUMMY_X remove_idea = KXN_Nirik_Militarchy_DUMMY_0 }
		}
		multiply_variable = { KXN_Overexpansion_Modifier_Multiplier_Var = 1.25 }
		add_to_variable = { var = KXN_NM_Resistance_Var value = 0.1 }
		subtract_from_variable = { var = KXN_NM_Compliance_Var value = 0.1 }
		add_to_variable = { var = KXN_Event_100_Num_States_Var value = 20 }
		add_to_variable = { var = KXN_Event_100_Casualties_Var value = 444 }
		add_to_variable = { var = KXN_Event_100_Subjects_Var value = 4 }
	}
}

country_event = {
	id = lan_kir.105
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.105"}
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Industrial_Complex_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Industrial_Complex_Num_Var = KXN.KXN_Off_Site_Industrial_Complex_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Industrial_Complex_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Industrial_Complex_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Arms_Factory_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Arms_Factory_Num_Var = KXN.KXN_Off_Site_Arms_Factory_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Arms_Factory_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Arms_Factory_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Dockyard_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Dockyard_Num_Var = KXN.KXN_Off_Site_Dockyard_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Dockyard_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Dockyard_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Synthetic_Refinery_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Synthetic_Refinery_Num_Var = KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Synthetic_Refinery_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Synthetic_Refinery_Num_Var
			}
			if = {
				limit = {
					check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
				}
				clear_variable = REMOVE_Off_Site_Fuel_Silo_Num_Var
				subtract_from_variable = { REMOVE_Off_Site_Fuel_Silo_Num_Var = KXN.KXN_Off_Site_Fuel_Silo_Num_Var }
				multiply_variable = { REMOVE_Off_Site_Fuel_Silo_Num_Var = KXN.KXN_Off_Site_Building_Remove_Var }
				round_variable = REMOVE_Off_Site_Fuel_Silo_Num_Var
			}
		}
	}
	title = lan_kir.105.t
	desc = lan_kir.105.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 90 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		OR = {
			check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
		}
	}

	option = {
		name = lan_kir.105.a
		custom_effect_tooltip = KXN_Event_105_tt
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Civ_tt
			hidden_effect = {
				add_offsite_building = { type = industrial_complex level = REMOVE_Off_Site_Industrial_Complex_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Industrial_Complex_Num_Var = REMOVE_Off_Site_Industrial_Complex_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Mil_tt
			hidden_effect = {
				add_offsite_building = { type = arms_factory level = REMOVE_Off_Site_Arms_Factory_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Arms_Factory_Num_Var = REMOVE_Off_Site_Arms_Factory_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Nav_tt
			hidden_effect = {
				add_offsite_building = { type = dockyard level = REMOVE_Off_Site_Dockyard_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Dockyard_Num_Var = REMOVE_Off_Site_Dockyard_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Ref_tt
			hidden_effect = {
				add_offsite_building = { type = synthetic_refinery level = REMOVE_Off_Site_Synthetic_Refinery_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Synthetic_Refinery_Num_Var = REMOVE_Off_Site_Synthetic_Refinery_Num_Var }
			}
		}
		if = {
			limit = {
				check_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var > KXN.KXN_Remove_Off_Site_Building_Cap }
			}
			custom_effect_tooltip = KXN_Event_105_Sil_tt
			hidden_effect = {
				add_offsite_building = { type = fuel_silo level = REMOVE_Off_Site_Fuel_Silo_Num_Var }
				subtract_from_variable = { KXN.KXN_Off_Site_Fuel_Silo_Num_Var = REMOVE_Off_Site_Fuel_Silo_Num_Var }
			}
		}
	}
}

country_event = {
	id = lan_kir.150
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.150"}
	title = lan_kir.150.t
	desc = lan_kir.150.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		count_triggers = {
			amount = 2
			num_subjects > 2
			check_variable = { KXN.inflicted_casualties > 250 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 25 }
			num_of_controlled_states > 10
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.150.a
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_6 remove_idea = KXN_Matriarch_Cult_DUMMY_0 } }
		subtract_from_variable = { KXN_Matriarch_Cult_Var_2 = 0.15 }
		set_country_flag = KXN_Lan_Kir_Needs_Enabled_Flag
		custom_effect_tooltip = KXN_Event_150_tt
		hidden_effect = {
			add_dynamic_modifier = { modifier = KXN_Avarice_Modifier }
			add_dynamic_modifier = { modifier = KXN_Bloodlust_Modifier }
		}
		add_to_variable = { KXN.KXNAvariceSatedDays = 90 }
		add_to_variable = { KXN.KXNBloodlustSatedDays = 90 }
	}
}

country_event = {
	id = lan_kir.200
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.200"}
	title = lan_kir.200.t
	desc = lan_kir.200.d

	picture = GFX_event_devastation_nature

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		count_triggers = {
			amount = 2
			num_subjects > 4
			check_variable = { KXN.inflicted_casualties > 750 }
			check_variable = { KXN.KXN_Num_States_In_Our_Empire > 50 }
			num_of_controlled_states > 15
		}
		OR = {
			KIR = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				OR = {
					has_completed_focus = KIR_POST_0
					has_completed_focus = KIR_TRAD_0
				}
			}
			KIS = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				has_completed_focus = KIR_empire_focus_1
			}
			KIC = {
				exists = yes
				has_war = no
				is_subject = no
				has_capitulated = no
				has_completed_focus = KIR_republic_postwar_focus_1
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.200.a
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					original_tag = KIR
					original_tag = KIS
					original_tag = KIC
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						original_tag = KIR
						original_tag = KIS
						original_tag = KIC
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					diplomatic_relation = {
						country = KXN
						relation = non_aggression_pact
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = military_access
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = docking_rights
						active = no
					}
					diplomatic_relation = {
						country = KXN
						relation = guarantee
						active = no
					}
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		clr_country_flag = KXN_Silver_Chime_Unlocked
		remove_ideas = KXN_Silver_Chime
	}
}

country_event = {
	id = lan_kir.201
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.201"}
	title = lan_kir.201.t
	desc = lan_kir.201.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 180 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		KIR_or_allies_controls_all_kiria_proper = yes
		has_country_leader = {
			character = KXN_Long_Dusk
			ruling_only = yes
		}
		KIR = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIS = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIC = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.201.a
		add_political_power = -100
		add_stability = -0.1
		retire_character = KXN_Long_Dusk
		add_country_leader_role = {
			character = "KXN_Clarion_Call"
			promote_leader = yes
			country_leader = {
				desc = ""
				ideology = stratocracy
				expire = "1965.1.1.1"
				traits = { KXN_Prime_Militarch }
			}
		}
		country_event = { id = lan_kir.202 days = 3 }
	}
}

country_event = {
	id = lan_kir.202
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.202"}
	title = lan_kir.202.t
	desc = lan_kir.202.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.202.a
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_7 remove_idea = KXN_Matriarch_Cult_DUMMY_0 } }
		subtract_from_variable = { KXN_Matriarch_Cult_Var_2 = 0.1 }
		custom_effect_tooltip = KXN_Event_202_tt
		every_country = {
			display_individual_scopes = yes
			limit = {
				NOT = {
					tag = ROOT
					is_ally_with = KXN
				}
				OR = {
					is_neighbor_of = KXN
					any_neighbor_country = {
						is_subject_of = KXN
					}
				}
			}
			add_ai_strategy = {
				type = prepare_for_war
				id = KXN
				value = 1000
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						tag = ROOT
						is_ally_with = KXN
					}
					OR = {
						is_neighbor_of = KXN
						any_neighbor_country = {
							is_subject_of = KXN
						}
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
	}
}

country_event = {
	id = lan_kir.420
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.420"}
	title = lan_kir.420.t
	desc = lan_kir.420.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.420.a
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KXN_Zebra_Sage
		set_country_flag = KXN_Zebra_Sage_Unlocked
	}
}

country_event = {
	id = lan_kir.421
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.421"}
	title = lan_kir.421.t
	desc = lan_kir.421.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.421.a
		custom_effect_tooltip = available_military_high_command
		show_ideas_tooltip = KXN_Deer_Seer
		set_country_flag = KXN_Deer_Seer_Unlocked
	}
}

country_event = {
	id = lan_kir.496
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.496"}
	immediate = { hidden_effect = { set_country_flag = KXN_The_Beginning_Of_The_End } }
	immediate = {
		hidden_effect = {
			for_each_scope_loop = {
				array = KXN.subjects
				for_each_scope_loop = {
					array = owned_controlled_states	
					if = {
						limit = {
							is_one_state_island = no
							is_island_state = no
							is_capital = no
						}
						add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
					}
				}
			}
			for_each_scope_loop = {
				array = owned_controlled_states	
				if = {
					limit = {
						is_one_state_island = no
						is_island_state = no
						is_capital = no
					}
					add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
				}
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						NOT = {
							any_neighbor_state = {
								is_capital = yes
								owner = { KXN_IS_SATELLITE_TRIGGER = yes }
							}
						}
					}
					set_variable = { state_distance_from_solstice = distance_to@1085 }
					add_to_array = { KXN.KXN_farthest_state_from_solstice = state_distance_from_solstice }
				}
			}
			find_highest_in_array = {
				array = KXN.KXN_farthest_state_from_solstice
				index = KXN_farthest_state_from_solstice_index
			}
			random_state = {
				limit = {
					is_in_array = { KXN.KXN_States_In_Our_Empire = THIS }
					check_variable = {
						var = distance_to@1085
						value = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index
						compare = greater_than_or_equals
					}
				}
				save_global_event_target_as = KXN_farthest_state_from_solstice_target
			}
		}
	}
	title = lan_kir.496.t
	desc = lan_kir.496.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 365 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 250 }
		NOT = { has_country_flag = KXN_The_Beginning_Of_The_End }
		has_country_flag = KXN_Zebra_Sage_Unlocked
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.496.a
		retire_character = KXN_Zebra_Sage
		add_political_power = -75
		hidden_effect = {
			country_event = { id = lan_kir.497 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.497
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.497"}
	title = lan_kir.497.t
	desc = lan_kir.497.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.497.a
		add_political_power = 25
		hidden_effect = {
			country_event = { id = lan_kir.499 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.498
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.498"}
	immediate = { hidden_effect = { set_country_flag = KXN_The_Beginning_Of_The_End } }
	title = lan_kir.498.t
	desc = lan_kir.498.d

	picture = GFX_event_devastation_nature
	mean_time_to_happen = { days = 365 }

	trigger = {
		tag = KXN
		is_subject = no
		has_government = fascism
		check_variable = { KXN.KXN_Num_States_In_Our_Empire > 250 }
		NOT = { has_country_flag = KXN_The_Beginning_Of_The_End }
		NOT = { has_country_flag = KXN_Zebra_Sage_Unlocked }
		has_country_leader = {
			character = KXN_Clarion_Call
			ruling_only = yes
		}
	}
	
	fire_only_once = yes

	option = {
		name = lan_kir.498.a
		add_political_power = 25
		hidden_effect = {
			country_event = { id = lan_kir.499 days = 30 random_days = 60 }
		}
	}
}

country_event = {
	id = lan_kir.499
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.499"}
	immediate = {
		hidden_effect = {
			for_each_scope_loop = {
				array = KXN.subjects
				for_each_scope_loop = {
					array = owned_controlled_states	
					if = {
						limit = {
							is_one_state_island = no
							is_island_state = no
							is_capital = no
						}
						add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
					}
				}
			}
			for_each_scope_loop = {
				array = owned_controlled_states	
				if = {
					limit = {
						is_one_state_island = no
						is_island_state = no
						is_capital = no
					}
					add_to_array = { KXN.KXN_States_In_Our_Empire = THIS }
				}
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						NOT = {
							any_neighbor_state = {
								is_capital = yes
								owner = { KXN_IS_SATELLITE_TRIGGER = yes }
							}
						}
					}
					set_variable = { state_distance_from_solstice = distance_to@1085 }
					add_to_array = { KXN.KXN_farthest_state_from_solstice = state_distance_from_solstice }
				}
			}
			find_highest_in_array = {
				array = KXN.KXN_farthest_state_from_solstice
				index = KXN_farthest_state_from_solstice_index
			}
			random_state = {
				limit = {
					is_in_array = { KXN.KXN_States_In_Our_Empire = THIS }
					check_variable = {
						var = distance_to@1085
						value = KXN.KXN_farthest_state_from_solstice^KXN_farthest_state_from_solstice_index
						compare = greater_than_or_equals
					}
				}
				save_global_event_target_as = KXN_farthest_state_from_solstice_target
			}
		}
	}
	title = lan_kir.499.t
	desc = lan_kir.499.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.499.a
		retire_character = KXN_Clarion_Call
		add_political_power = -150
		add_command_power = -100
		add_stability = -0.15
		country_event = { id = lan_kir.500 days = 3 }
	}
}

country_event = {
	id = lan_kir.500 ## The Nirik Collapse
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.500"}
	immediate = {
		hidden_effect = {
			set_global_flag = KXN_The_Shattering_Happened
			every_enemy_country = {
				set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
				white_peace = ROOT
			}
			country_event = { id = lan_kir_utility.500 }
			country_event = { id = lan_kir_utility.501 }
			country_event = { id = lan_kir_utility.502 }
			country_event = { id = lan_kir_utility.503 hours = 6 }
			country_event = { id = lan_kir_utility.505 hours = 12 }
			country_event = { id = lan_kir_utility.509 hours = 18 }
			country_event = { id = lan_kir.501 hours = 24 }
		}
	}
	title = lan_kir.500.t
	desc = lan_kir.500.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = lan_kir.500.a
		add_political_power = -300 ## Shit's fucked yo
	}
}

country_event = {
	id = lan_kir.501
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.501"}
	immediate = {
		hidden_effect = {
			dismantle_faction = yes
			load_focus_tree = KXN_LONG_MARCH_FOCUS_TREE
			set_variable = { var = KXN_Remove_Off_Site_Building_Cap value = 10 }
			add_dynamic_modifier = { modifier = KXN_Survivors_Fallen_Empire }
			remove_dynamic_modifier = { modifier = KXN_Tributary_Buff }
			remove_dynamic_modifier = { modifier = KXN_Nirik_Militarchy }
			remove_dynamic_modifier = { modifier = KXN_Overexpansion }
			remove_dynamic_modifier = { modifier = KXN_Avarice_Modifier }
			remove_dynamic_modifier = { modifier = KXN_Bloodlust_Modifier }
			clear_variable = KXN_Overexpansion_Effect_1_Var
			clear_variable = KXN_Overexpansion_Effect_2_Var
			clear_variable = KXN_Overexpansion_Effect_3_Var
			clear_variable = KXNAvariceUnsatedDebuff
			clear_variable = KXNBloodlustUnsatedDebuff
			clr_country_flag = KXN_Lan_Kir_Needs_Enabled_Flag
			clr_country_flag = KXN_Consecrate_State_Flag
			clr_country_flag = KXN_Form_Tributary_Flag
			clr_country_flag = KXN_Form_Empire_Flag
			transfer_state = event_target:KXN_farthest_state_from_solstice_target
			set_capital = { state = event_target:KXN_farthest_state_from_solstice_target }
			event_target:KXN_farthest_state_from_solstice_target = {
				force_disable_resistance = KXN
			}
			release = NVA
			NVA = {
				transfer_state = 1083
				add_state_core = 1083
				add_state_core = 1084
				set_cosmetic_tag = ZAI_League
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 15
					neutrality = 30
					fascism = 55
					communism = 0
				}
				set_party_name = {
					ideology = fascism
					long_name = ZAI_League_party
					name = ZAI_League_party
				}
				retire_ideology_leader = fascism
				set_country_leader_ideology = plutocracy ## Avarice
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
					transfer_units_fraction = {
						target = PREV
						size = 0.2
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
				load_focus_tree = blank_focus_tree
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Clan War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Clan War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 3
					}
				}
				every_controlled_state = {
					create_unit = {
						division = "division_template = \"Clan War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 2
					}
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Warlord_Flag
				set_cosmetic_tag = KXN_Warlord
				transfer_state = 1084
				transfer_state = 1085
				transfer_state = 1086
				transfer_state = 1056
				transfer_state = 1057
				add_state_core = 1083
				add_state_core = 1084
				add_state_core = 1085
				add_state_core = 1086
				add_state_core = 1054
				add_state_core = 1055
				add_state_core = 1056
				add_state_core = 1057
				add_state_core = 1058
				set_capital = { state = 1085 }
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 0
					neutrality = 0
					fascism = 100
					communism = 0
				}
				set_party_name = {
					ideology = fascism
					long_name = KXN_Warlord_party
					name = KXN_Warlord_party
				}
				retire_ideology_leader = fascism
				set_country_leader_ideology = kratokracy ## Bloodlust
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
					every_owned_state = {
						limit = {
							is_capital = no
							is_controlled_by = PREV
						}
						transfer_state_to = PREV.PREV
					}
					transfer_units_fraction = {
						target = PREV
						size = 0.25
						keep_unit_leaders_trigger = {
							always = yes
						}
					}
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				load_focus_tree = blank_focus_tree
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Nirik War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 10
					}
				}
				every_controlled_state = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 1
					}
				}
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				for_each_scope_loop = {
					array = enemies
					PREV = {
						capital_scope = {
							create_unit = {
								division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.25 start_equipment_factor = 1"
								owner = PREV
								count = 1
							}
						}
					}
					for_each_scope_loop = {
						array = neighbors
						if = {
							limit = {
								NOT = {
									original_tag = KXN
									has_war_with = PREV.PREV
								}
							}
							PREV.PREV = {
								create_wargoal = { type = annex_everything target = PREV }
							}
						}
					}
				}
			}
			NVA = {
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						KXN = {
							divisions_in_state = {
								size > 0
								state = PREV
							}
						}
					}
					teleport_armies = {
						limit = { tag = KXN }
						to_state = event_target:KXN_farthest_state_from_solstice_target
					}
				}
			}
			every_controlled_state = {
				damage_units = {
					state = THIS
					limit = { tag = KXN }
					damage = 0.5
					ratio = yes
					army = yes
					navy = yes
				}
			}
			if = {
				limit = { KXM = { exists = yes } }
				KXM = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					set_popularities = {
						democratic = 0
						neutrality = 75
						fascism = 20
						communism = 5
					}
					retire_ideology_leader = neutrality
					set_country_leader_ideology = khakistocracy
					set_cosmetic_tag = KXN_Airforce
					set_party_name = {
						ideology = neutrality
						long_name = KXN_Airforce_party
						name = KXN_Airforce_party
					}
					set_technology = { paratroopers = 1 popup = no }
					division_template = {
						name = "Aero-Descent Banner"
						regiments = {
							paratrooper = { x = 0 y = 0 }
							paratrooper = { x = 0 y = 1 }
							paratrooper = { x = 0 y = 2 }
							paratrooper = { x = 1 y = 0 }
							paratrooper = { x = 1 y = 1 }
							paratrooper = { x = 1 y = 2 }
							paratrooper = { x = 2 y = 0 }
							paratrooper = { x = 2 y = 1 }
							paratrooper = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
						priority = 2
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Aero-Descent Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
							owner = PREV
							count = 3
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					if = {
						limit = { has_dlc = "By Blood Alone" }
						add_ideas = KXN_Nirik_Aerostats_BBA_1
					}
					else = { add_ideas = KXN_Nirik_Aerostats_1 }
					set_technology = { KXN_Aerostat = 1 popup = no }
					add_equipment_to_stockpile = {
						type = medium_airship_equipment_0
						amount = 750
					}
				}
			}
			else = {
				create_dynamic_country = {
					original_tag = KXN
					set_country_flag = KXN_Airforce_Flag
					set_cosmetic_tag = KXN_Airforce
					transfer_state = event_target:KXN_Airforce_state_target
					add_state_core = event_target:KXN_Airforce_state_target
					set_capital = { state = event_target:KXN_Airforce_state_target }
					KXN = {
						PREV = {
							transfer_technology = yes
							transfer_society_ideas = yes
							transfer_science_ideas = yes
							transfer_poverty_ideas = yes
							transfer_illiteracy_ideas = yes
						}
					}
					set_politics = { ruling_party = neutrality elections_allowed = no }
					set_popularities = {
						democratic = 0
						neutrality = 75
						fascism = 20
						communism = 5
					}
					retire_ideology_leader = neutrality
					set_country_leader_ideology = khakistocracy
					set_party_name = {
						ideology = neutrality
						long_name = KXN_Airforce_party
						name = KXN_Airforce_party
					}
					every_core_state = {
						limit = {
							NOT = { is_owned_and_controlled_by = PREV }
						}
						remove_core_of = PREV
					}
					load_focus_tree = blank_focus_tree
					set_country_flag = KIR_can_have_banner_system
					add_ideas = KXN_The_Shattering
					add_ideas = tot_economic_mobilisation
					add_ideas = KIR_banner_system
					add_ideas = closed_economy
					add_ideas = kirin_race
					add_manpower = 50000
					army_experience = 150
					add_political_power = 150
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
					division_template = {
						name = "Far West Expeditionary Banner"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					set_technology = { paratroopers = 1 popup = no }
					division_template = {
						name = "Aero-Descent Banner"
						regiments = {
							paratrooper = { x = 0 y = 0 }
							paratrooper = { x = 0 y = 1 }
							paratrooper = { x = 0 y = 2 }
							paratrooper = { x = 1 y = 0 }
							paratrooper = { x = 1 y = 1 }
							paratrooper = { x = 1 y = 2 }
							paratrooper = { x = 2 y = 0 }
							paratrooper = { x = 2 y = 1 }
							paratrooper = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
						priority = 2
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Far West Expeditionary Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
							owner = PREV
							count = 4
						}
						create_unit = {
							division = "division_template = \"Aero-Descent Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
							owner = PREV
							count = 3
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					if = {
						limit = { has_dlc = "By Blood Alone" }
						add_ideas = KXN_Nirik_Aerostats_BBA_1
					}
					else = { add_ideas = KXN_Nirik_Aerostats_1 }
					set_technology = { KXN_Aerostat = 1 popup = no }
					add_equipment_to_stockpile = {
						type = medium_airship_equipment_0
						amount = 750
					}
					every_neighbor_country = {
						limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
			if = {
				limit = { KXE = { exists = yes } }
				KXE = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					set_popularities = {
						democratic = 10
						neutrality = 65
						fascism = 20
						communism = 5
					}
					retire_ideology_leader = neutrality
					set_country_leader_ideology = republicanism
					set_cosmetic_tag = KXN_Federation
					set_party_name = {
						ideology = neutrality
						long_name = KXN_Federation_party
						name = KXN_Federation_party
					}
				}
			}
			else = {
				create_dynamic_country = {
					original_tag = KXN
					set_country_flag = KXN_Federation_Flag
					set_cosmetic_tag = KXN_Federation
					transfer_state = event_target:KXN_Federation_state_target
					add_state_core = event_target:KXN_Federation_state_target
					set_capital = { state = event_target:KXN_Federation_state_target }
					KXN = {
						PREV = {
							transfer_technology = yes
							transfer_society_ideas = yes
							transfer_science_ideas = yes
							transfer_poverty_ideas = yes
							transfer_illiteracy_ideas = yes
						}
					}
					set_politics = { ruling_party = neutrality elections_allowed = no }
					set_popularities = {
						democratic = 10
						neutrality = 65
						fascism = 20
						communism = 5
					}
					retire_ideology_leader = neutrality
					set_country_leader_ideology = republicanism
					set_party_name = {
						ideology = neutrality
						long_name = KXN_Federation_party
						name = KXN_Federation_party
					}
					every_core_state = {
						limit = {
							NOT = { is_owned_and_controlled_by = PREV }
						}
						remove_core_of = PREV
					}
					load_focus_tree = blank_focus_tree
					set_country_flag = KIR_can_have_banner_system
					add_ideas = KXN_The_Shattering
					add_ideas = tot_economic_mobilisation
					add_ideas = KIR_banner_system
					add_ideas = closed_economy
					add_ideas = kirin_race
					add_manpower = 50000
					army_experience = 150
					add_political_power = 150
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
					division_template = {
						name = "Outer-Kir Clan Banner"
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 2 y = 0 }
							infantry = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
						}
						support = {
							kirin_braves = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					capital_scope = {
						create_unit = {
							division = "division_template = \"Outer-Kir Clan Banner\" start_experience_factor = 0.3 start_equipment_factor = 1"
							owner = PREV
							count = 6
						}
					}
					every_neighbor_country = {
						limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Splinter_Flag
				set_cosmetic_tag = KXN_Splinter
				transfer_state = event_target:KXN_Nirik_Equatorarchy_state_target
				add_state_core = event_target:KXN_Nirik_Equatorarchy_state_target
				set_capital = { state = event_target:KXN_Nirik_Equatorarchy_state_target }
				KXN = {
					PREV = {
						transfer_technology = yes
						transfer_society_ideas = yes
						transfer_science_ideas = yes
						transfer_poverty_ideas = yes
						transfer_illiteracy_ideas = yes
					}
				}
				set_politics = { ruling_party = fascism elections_allowed = no }
				set_popularities = {
					democratic = 0
					neutrality = 10
					fascism = 90
					communism = 0
				}
				retire_ideology_leader = fascism
				set_country_leader_ideology = bandit
				set_party_name = {
					ideology = fascism
					long_name = KXN_Splinter_party
					name = KXN_Splinter_party
				}
				every_core_state = {
					limit = {
						NOT = { is_owned_and_controlled_by = PREV }
					}
					remove_core_of = PREV
				}
				load_focus_tree = blank_focus_tree
				set_country_flag = KIR_can_have_banner_system
				add_ideas = KXN_The_Shattering
				add_ideas = tot_economic_mobilisation
				add_ideas = KIR_banner_system
				add_ideas = closed_economy
				add_ideas = kirin_race
				add_manpower = 50000
				army_experience = 150
				add_political_power = 150
				add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 }
				division_template = {
					name = "Nirik War-Banner"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = PREV
						count = 12
					}
				}
				every_neighbor_country = {
					PREV = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
				for_each_scope_loop = {
					array = enemies
					PREV = {
						capital_scope = {
							create_unit = {
								division = "division_template = \"Nirik War-Banner\" start_experience_factor = 0.5 start_equipment_factor = 1"
								owner = PREV
								count = 2
							}
						}
					}
					for_each_scope_loop = {
						array = neighbors
						if = {
							limit = {
								NOT = {
									original_tag = KXN
									has_war_with = PREV.PREV
								}
							}
							PREV.PREV = {
								create_wargoal = { type = annex_everything target = PREV }
							}
						}
					}
				}
			}
			every_country = {
				limit = {
					OR = {
						KXN_IS_SATELLITE_TRIGGER = yes
						is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
					}
				}
				add_ideas = KXN_The_Shattering
			}
			every_country = {
				limit = {
					KXN = {
						has_wargoal_against = PREV
					}
				}
				KXN = {
					remove_wargoal = {
						type = all
						target = PREV
					}
				}
			}
			every_country = {
				limit = {
					has_wargoal_against = KXN
				}
				remove_wargoal = {
					type = all
					target = KXN
				}
			}
		}
	}
	title = lan_kir.501.t
	desc = lan_kir.501.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = lan_kir.501.a
		add_political_power = -150
		goto_state = event_target:KXN_farthest_state_from_solstice_target
		country_event = { id = lan_kir.502 hours = 3 }
	}
}

country_event = {
	id = lan_kir.502
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.502"}
	immediate = {
		hidden_effect = {
			country_event = { id = lan_kir.503 days = 3 }
			random_list = {
				1 = {
					modifier = {
						KXN_Cobalt_Floret = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cobalt_Floret = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Peach_Glaze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Peach_Glaze = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flaming_Pearl = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flaming_Pearl = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brazier_Haze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brazier_Haze = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brush_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brush_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Cobalt_Floret = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cobalt_Floret = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Peach_Glaze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Peach_Glaze = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flaming_Pearl = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flaming_Pearl = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brazier_Haze = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brazier_Haze = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Brush_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Brush_Fire = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Flash_Pan = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					KXN_Oak_Laurel = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
			random_list = {
				1 = {
					modifier = {
						KXN_Thunder_Run = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Thunder_Run = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flame_Sprint = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flame_Sprint = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Flint_Lock = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Flint_Lock = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Match_Strike = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Match_Strike = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Cold_Burn = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Cold_Burn = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Jet_Fire = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Jet_Fire = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					modifier = {
						KXN_Klaxon_Blare = {
							OR = {
								has_character_flag = KXN_Advisor_To_Nirik_Breakaway
								has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway
							}
						}
						factor = 0
					}
					KXN_Klaxon_Blare = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Air_Chief_1 = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
				1 = {
					KXN_Air_Chief_2 = { set_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				}
			}
			random_list = {
				1 = {
					KXN_Navy_Chief_1 = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
				1 = {
					KXN_Navy_Chief_2 = { set_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				}
			}
		}
	}
	title = lan_kir.502.t
	desc = lan_kir.502.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.502.a
		KXN = {
			every_character = {
				limit = { has_character_flag = KXN_Advisor_To_Nirik_Breakaway }
				set_nationality = KXW
			}
			every_character = {
				limit = { has_character_flag = KXN_Advisor_To_Triapolitan_Breakaway }
				set_nationality = NVA
			}
		}
	}
}

country_event = {
	id = lan_kir.503
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.503"}
	immediate = {
		hidden_effect = {
			set_variable = { KXN_Extra_Units_For_Enemy = KXN.num_armies }
			divide_variable = { KXN_Extra_Units_For_Enemy = 5 }
			clamp_variable = { var = KXN_Extra_Units_For_Enemy min = 6 }
			every_neighbor_country = {
				limit = {
					is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
				}
				declare_war_on = {
					target = KXN
					type = annex_everything
				}
				set_country_flag = KXN_Revenge_War_Neighbors_Flag
				division_template = {
					name = "Assault Brigade"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						artillery_brigade = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				capital_scope = {
					meta_effect = {
						text = {
							create_unit = {
								division = "division_template = \"Assault Brigade\" start_experience_factor = 0.25 start_equipment_factor = 1"
								owner = PREV
								count = [KXNEnemyUnitCount]
							}
						}
						KXNEnemyUnitCount = "[?KXN.KXN_Extra_Units_For_Enemy]"
					}
				}
			}
		}
	}
	title = lan_kir.503.t
	desc = lan_kir.503.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.503.a
		add_command_power = 25
		every_neighbor_country = {
			limit = { has_war_with = ROOT }
			custom_effect_tooltip = KXN_Event_503_tt
			add_timed_idea = {
				idea = KXN_Revenge_On_Us
				days = 365
			}
		}
	}
}

country_event = {
	id = lan_kir.504
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.504"}
	title = lan_kir.504.t
	desc = lan_kir.504.d

	picture = GFX_event_devastation_nature
	is_triggered_only = yes

	option = {
		name = lan_kir.504.a
		add_country_leader_role = {
			character = "KXN_Prairie_Spark"
			promote_leader = yes
			country_leader = {
				ideology = khakistocracy
				expire = "1965.1.1.1"
				traits = { }
			}
		}
		set_party_name = {
			ideology = neutrality
			long_name = KXN_Commonweal_party
			name = KXN_Commonweal_party
		}
		set_party_name = {
			ideology = communism
			long_name = KXN_Commonweal_communism_party
			name = KXN_Commonweal_communism_party
		}
		set_party_name = {
			ideology = democratic
			long_name = KXN_Commonweal_democratic_party
			name = KXN_Commonweal_democratic_party
		}
		set_party_name = {
			ideology = fascism
			long_name = KXN_Commonweal_fascism_party
			name = KXN_Commonweal_fascism_party
		}
		hidden_effect = {
			set_politics = { ruling_party = neutrality elections_allowed = no }
			set_popularities = {
				democratic = 10
				neutrality = 60
				fascism = 20
				communism = 10
			}
			for_each_scope_loop = {
				array = KXN.KXN_States_In_Our_Empire
				if = {
					limit = {
						KXN = {
							divisions_in_state = {
								size > 0
								state = PREV
							}
						}
					}
					teleport_armies = {
						limit = { tag = KXN }
						to_state = event_target:KXN_farthest_state_from_solstice_target
					}
				}
			}
			set_cosmetic_tag = KXN_fascism
		}
	}
}

country_event = {
	id = lan_kir.505
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.505"}
	title = lan_kir.505.t
	desc = lan_kir.505.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.505.a
		set_country_flag = KXN_Commonweal_Flag
		set_cosmetic_tag = KXN_Commonweal
		add_country_leader_trait = KXN_First_Among_Equals
	}
}

country_event = {
	id = lan_kir.550
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.550"}
	title = lan_kir.550.t
	desc = lan_kir.550.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.550.a
		ai_chance = {
			base = 1
		}
		set_country_flag = { flag = bypass_on_peaceconference_ended days = 1 value = 1 }
		white_peace = KXN
	}

	option = {
		name = lan_kir.550.b
		ai_chance = {
			base = 0
		}
		KXN = { country_event = { id = lan_kir.551 hours = 3 } }
	}
}

country_event = {
	id = lan_kir.551
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir.551"}
	title = lan_kir.551.t
	desc = lan_kir.551.d

	picture = GFX_event_devastation_nature

	is_triggered_only = yes

	option = {
		name = lan_kir.551.a
	}
}

#################################
########## Test Events ##########
#################################
country_event = {
	id = lan_kir_test.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_test.1"}
	is_triggered_only = yes
	hidden = yes

	option = {
		capital_scope = {
			create_unit = { division = "division_template = \"Banner Guard\" start_equipment_factor = 1 start_experience_factor = 0.25" owner = ROOT count = 2 }
			create_unit = { division = "division_template = \"War Banner\" start_equipment_factor = 1 start_experience_factor = 0.25" owner = ROOT count = 5 }
		}
	}
}
country_event = {
	id = lan_kir_test.2
	is_triggered_only = yes
	hidden = yes

	option = {
	}
}

####################################
########## Utility Events ##########
####################################
country_event = {
	id = lan_kir_utility.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.1"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = {
				has_tech = KXN_Super_Valiants
			}
			set_technology = {
				popup = no
				KXN_Super_Valiants = 0
			}
			KXN_REFRESH_VALIANTS_EFFECT = yes
		}
		KXN_SET_KIRIN_PORTRAITS_EFFECT = yes
		add_dynamic_modifier = { modifier = KXN_Nirik_Veisalgia days = KXN.KXN_Kirin_Countdown_Difference }
		remove_country_leader_trait = nirik_fury
	}
}
country_event = {
	id = lan_kir_utility.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.2"}
	is_triggered_only = yes
	hidden = yes

	option = {
		add_to_variable = { KXN.Num_Aerostats_Deployed = 25 }
		add_equipment_to_stockpile = {
			type = medium_airship_equipment_0
			amount = 25
		}
	}
}
country_event = {
	id = lan_kir_utility.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.3"}
	is_triggered_only = yes
	hidden = yes

	option = {
		add_to_variable = { KXN.Num_Aerostats_Deployed = 30 }
		add_equipment_to_stockpile = {
			type = medium_airship_equipment_0
			amount = 30
		}
	}
}
country_event = {
	id = lan_kir_utility.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.10"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.11"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.12"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.13"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_1 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.20"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.21"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.22"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.23"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_2 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.30"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.31"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.32"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.33
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.33"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_3 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.40
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.40"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.41
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.41"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.42
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.42"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.43
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.43"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_4 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.50
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.50"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.51
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.51"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.52
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.52"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.53
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.53"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_5 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.60
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.60"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.61
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.61"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.62
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.62"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.63
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.63"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_6 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.70
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.70"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.71
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.71"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.72
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.72"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.73
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.73"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_7 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.80
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.80"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.81
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.81"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.82
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.82"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.83
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.83"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_8 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.90
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.90"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.91
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.91"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.92
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.92"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.93
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.93"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_9 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.100"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.101"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.102
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.102"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.103
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.103"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_10 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.110
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.110"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.111
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.111"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.112
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.112"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.113
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.113"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_11 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.120
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.120"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.121
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.121"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.122
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.122"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.123
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.123"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_12 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.130
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.130"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.131
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.131"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.132
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.132"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.133
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.133"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_13 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.140
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.140"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.141
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.141"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.142
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.142"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.143
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.143"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_14 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.150
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.150"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.151
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.151"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.152
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.152"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.153
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.153"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_15 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.160
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.160"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.161
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.161"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.162
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.162"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.163
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.163"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_16 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.170
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.170"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.171
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.171"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.172
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.172"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.173
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.173"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_17 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.180
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.180"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.181
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.181"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.182
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.182"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.183
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.183"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_18 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.190
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.190"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.191
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.191"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.192
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.192"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.193
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.193"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_19 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.200
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.200"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_1_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_1_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.201
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.201"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_2_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.202
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.202"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_3_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers }
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.203
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.203"}
	is_triggered_only = yes
	hidden = yes

	option = {
		if = {
			limit = { has_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers } }
			remove_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_4_Modifiers }
			if = {
				limit = { has_war_with = event_target:KXN_Conquest_Target_20 }
				add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_5_Modifiers }
			}
		}
	}
}

country_event = {
	id = lan_kir_utility.8964
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.8964"}
	is_triggered_only = yes
	hidden = yes

	option = {
		subtract_from_variable = { KXN_Bonus_Overexpansion_Var = KXN_Bonus_Overexpansion_Array^0 }
		remove_from_array = { array = KXN_Bonus_Overexpansion_Array index = 0 }
	}
}

country_event = {
	id = lan_kir_utility.9000
	immediate = {log = "[GetDateText]: [Root.GetName]: event lan_kir_utility.9000"}
	is_triggered_only = yes
	hidden = yes

	option = {
		subtract_from_variable = { KXN_Bonus_Overexpansion_Var = 0.1 }
	}
}

country_event = {
	id = lan_kir_utility.500 ## Fire in order. Prepare for lag.
	is_triggered_only = yes
	hidden = yes

	option = {
		every_subject_country = {
			limit = { KXN_IS_SATELLITE_TRIGGER = yes }
			load_focus_tree = blank_focus_tree
			every_core_state = {
				limit = { is_capital = no }
				remove_core_of = PREV
			}
			every_owned_state = {
				limit = {
					is_capital = no
					is_controlled_by = PREV
				}
				transfer_state_to = KXN
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.501
	is_triggered_only = yes
	hidden = yes

	option = {
		every_subject_country = {
			limit = { KXN_IS_SATELLITE_TRIGGER = no }
			set_variable = { manpower_k_before_KXN_explosion = manpower_k }
			KXN = {
				annex_country = {
					target = PREV
					transfer_troops = no
				}
			}
		}
		every_subject_country = {
			KXN = { end_puppet = PREV }
			leave_faction = yes
		}
	}
}
country_event = {
	id = lan_kir_utility.502
	is_triggered_only = yes
	hidden = yes

	option = {
		random_controlled_state = {
			limit = {
				OR = {
					state = 790
					state = 810
					state = 811
					state = 834
					state = 843
					state = 854
					state = 858
					state = 866
					state = 868
					state = 956
					state = 986
					state = 990
					state = 995
					state = 999
					state = 1002
					state = 1009
					state = 1014
					state = 1017
				}
			}
			save_global_event_target_as = KXN_Airforce_state_target
		}
		random_controlled_state = {
			limit = {
				OR = {
					state = 685
					state = 697
					state = 712
					state = 715
					state = 721
					state = 725
					state = 728
					state = 743
					state = 875
					state = 883
					state = 1093
					state = 1099
					state = 1165
					state = 1168
					state = 1202
					state = 1204
				}
			}
			save_global_event_target_as = KXN_Federation_state_target
		}
		random_controlled_state = {
			limit = {
				NOT = {
					any_neighbor_state = {
						is_capital = yes
					}
				}
				OR = {
					state = 1185
					state = 1184
					state = 1176
					state = 1169
					state = 1168
					state = 1167
					state = 1104
					state = 1095
					state = 1093
					state = 1092
					state = 875
					state = 852
					state = 713
					state = 710
					state = 706
					state = 705
					state = 703
					state = 701
					state = 699
					state = 698
					state = 697
					state = 690
					state = 688
				}
			}
			save_global_event_target_as = KXN_Nirik_Equatorarchy_state_target
		}
	}
}
country_event = {
	id = lan_kir_utility.503
	is_triggered_only = yes
	hidden = yes

	option = {
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 1 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 2 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 3 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 4 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
		country_event = { id = lan_kir_utility.504 hours = 5 }
	}
}
country_event = {
	id = lan_kir_utility.504 ## This needs to be fired several times to get all of them.
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.occupied_countries
			if = {
				limit = {
					NOT = {
						original_tag = NVA
						original_tag = KHM
					}
				}
				KXN = { release = PREV }
				add_manpower = manpower_k_before_KXN_explosion
				load_focus_tree = blank_focus_tree
				drop_cosmetic_tag = yes
				add_to_array = {
					array = KXN.KXN_Former_Conquered_Territories
					value = THIS
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.505
	is_triggered_only = yes
	hidden = yes

	option = {
		country_event = { id = lan_kir_utility.506 }
		country_event = { id = lan_kir_utility.507 }
		#country_event = { id = lan_kir_utility.508 }
	}
}
country_event = {
	id = lan_kir_utility.506
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.KXN_Former_Conquered_Territories
			if = {
				limit = {
					NOT = {
						has_country_flag = deployed_KXN_explosion_army
					}
				}
				division_template = {
					name = "Infantry Division"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				division_template = {
					name = "Militia Division"
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
						militia = { x = 2 y = 0 }
						militia = { x = 2 y = 1 }
						militia = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Infantry Division\" start_experience_factor = 0.25 start_equipment_factor = 1"
						owner = PREV
						count = 3
					}
					create_unit = {
						division = "division_template = \"Militia Division\" start_experience_factor = 0.15 start_equipment_factor = 1"
						owner = PREV
						count = 6
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 7500
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment
					amount = 250
				}
				set_country_flag = deployed_KXN_explosion_army
			}
			if = {
				limit = {
					num_of_controlled_states > 4
					OR = {
						has_government = communism
						has_government = democratic
						has_government = neutrality
					}
				}
				start_civil_war = {
					ideology = fascism
					size = 0.5
					load_focus_tree = blank_focus_tree
					add_to_array = {
						array = KXN.KXN_Former_Conquered_Territories
						value = THIS
					}
				}
			}
			else_if = {
				limit = {
					num_of_controlled_states > 4
					has_government = fascism 
				}
				start_civil_war = {
					ideology = neutrality
					size = 0.5
					load_focus_tree = blank_focus_tree
					add_to_array = {
						array = KXN.KXN_Former_Conquered_Territories
						value = THIS
					}
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.507
	is_triggered_only = yes
	hidden = yes

	option = {
		for_each_scope_loop = {
			array = KXN.KXN_Former_Conquered_Territories
			for_each_scope_loop = {
				array = neighbors
				if = {
					limit = {
						NOT = {
							has_war_with = PREV
							is_ally_with = PREV
							is_guaranteed_by = PREV
							PREV = { has_wargoal_against = PREV }
						}
					}
					PREV = { create_wargoal = { type = annex_everything target = PREV } }
					hidden_effect = {
						add_ai_strategy = {
							type = prepare_for_war
							id = PREV
							value = 1000
						}
					}
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.508
	is_triggered_only = yes
	hidden = yes

	option = {
		every_other_country = {
			limit = { original_tag = KXN }
			every_controlled_state = {
				damage_units = {
					state = THIS
					limit = { original_tag = KXN }
					damage = 0.5
					ratio = yes
					army = yes
					navy = yes
				}
			}
		}
	}
}
country_event = {
	id = lan_kir_utility.509
	is_triggered_only = yes
	hidden = yes

	option = {
		every_other_country = {
			limit = { is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS } }
			every_neighbor_country = {
				limit = {
					OR = {
						KXN_IS_SATELLITE_TRIGGER = yes
						is_in_array = { KXN.KXN_Former_Conquered_Territories = THIS }
					}
				}
				PREV = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
	}
}