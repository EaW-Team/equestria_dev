BAR_ambrosius_boredoom = {
	BAR_ambrosius_boredom = {
		
		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
		}
		allowed = { always = no }
		cancel_trigger = { 
			hidden_trigger = {
				NOT = {
					has_country_flag = { flag = barrad_endgame value = 0 }
				}
			}
		}
		available = {
			always = no
		}
		
		icon = pawn

		selectable_mission = yes
		days_mission_timeout = bar_thh?70
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_ambrosius_boredom"
			activate_mission = BAR_ambrosius_boredom
			country_event = { days = 1 id = barrad_ambrosius.1 }
		}

	}
}
BAR_assasination_attempts = {
	BAR_assasination_asinti_silver = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_silver_star_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_silver_star_alive
			check_variable = { BAR_relations_asinti_silver = 0 }
			NOT = {
				has_country_flag = BAR_silver_immunity
				has_country_flag = BAR_asinti_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_asinti_alive
						has_country_flag = barrad_silver_star_alive
					}
				}
				OR = {
					has_country_flag = BAR_silver_immunity
					has_country_flag = BAR_asinti_immunity
				}
				check_variable = { BAR_relations_asinti_silver > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_asinti_leopold"
			country_event = { days = 1 id = barrad_death.1 }
		}

	}
	BAR_assasination_asinti_leopold = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_leopold_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_leopold_alive
			check_variable = { BAR_relations_asinti_leopold = 0 }
			NOT = {
				has_country_flag = BAR_leopold_immunity
				has_country_flag = BAR_asinti_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_asinti_alive
						has_country_flag = barrad_leopold_alive
					}
				}
				OR = {
					has_country_flag = BAR_leopold_immunity
					has_country_flag = BAR_asinti_immunity
				}
				check_variable = { BAR_relations_asinti_leopold > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_asinti_leopold"
			country_event = { days = 1 id = barrad_death.2 }
		}

	}
	BAR_assasination_asinti_viira = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_viira_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_viira_alive
			check_variable = { BAR_relations_asinti_viira = 0 }
			NOT = {
				has_country_flag = BAR_viira_immunity
				has_country_flag = BAR_asinti_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_asinti_alive
					}
					NOT = {
						has_country_flag = barrad_viira_alive
					}
				}
				OR = {
					has_country_flag = BAR_viira_immunity
					has_country_flag = BAR_asinti_immunity
				}
				check_variable = { BAR_relations_asinti_viira > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		selectable_mission = yes
		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_asinti_viira"
			country_event = { days = 1 id = barrad_death.3 }
		}
	}
	BAR_assasination_silver_leopold = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_silver_star_alive
			has_country_flag = barrad_leopold_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_silver_star_alive
			has_country_flag = barrad_leopold_alive
			check_variable = { BAR_relations_silver_leopold = 0 }
			NOT = {
				has_country_flag = BAR_silver_immunity
				has_country_flag = BAR_leopold_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_silver_star_alive
						has_country_flag = barrad_leopold_alive
					}
				}
				OR = {
					has_country_flag = BAR_silver_immunity
					has_country_flag = BAR_leopold_immunity
				}
				check_variable = { BAR_relations_silver_leopold > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		selectable_mission = yes
		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_silver_leopold"
			country_event = { days = 1 id = barrad_death.4 }
		}
	}
	BAR_assasination_silver_viira = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_silver_star_alive
			has_country_flag = barrad_viira_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_silver_star_alive
			has_country_flag = barrad_viira_alive
			check_variable = { BAR_relations_silver_viira = 0 }
			NOT = {
				has_country_flag = BAR_silver_immunity
				has_country_flag = BAR_viira_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_silver_star_alive
						has_country_flag = barrad_viira_alive
					}
				}
				OR = {
					has_country_flag = BAR_silver_immunity
					has_country_flag = BAR_viira_immunity
				}
				check_variable = { BAR_relations_silver_viira > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		selectable_mission = yes
		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_silver_viira"
			country_event = { days = 1 id = barrad_death.5 }
		}

	}
	BAR_assasination_leopold_viira = {
		
		visible = {
			original_tag = BAR
			has_country_flag = barrad_leopold_alive
			has_country_flag = barrad_viira_alive
		}
		
		available = {
			always = no
		}
		activation = {
			has_country_flag = barrad_leopold_alive
			has_country_flag = barrad_viira_alive
			check_variable = { BAR_relations_leopold_viira = 0 }
			NOT = {
				has_country_flag = BAR_viira_immunity
				has_country_flag = BAR_leopold_immunity
			}
			NOT = {
				BAR_is_doing_main_storyline = yes
			}
		}
		cancel_trigger = {
			OR = {
				OR = {
					NOT = {
						has_country_flag = barrad_leopold_alive
						has_country_flag = barrad_viira_alive
					}
				}
				OR = {
					has_country_flag = BAR_viira_immunity
					has_country_flag = BAR_leopold_immunity
				}
				check_variable = { BAR_relations_leopold_viira > 0 }
				BAR_is_doing_main_storyline = yes
			}
		}
		icon = daggers

		selectable_mission = yes
		days_mission_timeout = 30
		is_good = no

		days_remove = 0
	

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_assasination_leopold_viira"
			country_event = { days = 1 id = barrad_death.6 }
		}

	}
}
BAR_silver_star_cat = {
	BAR_silver_star_info = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_silver_star_alive
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_star_info"
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_dev_up = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_silver_star_alive
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_silver_1500 = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_dev_up"
			increase_society_development_gradual = yes
			BAR_resources_subtract_silver_1500 = yes
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_doc_bonus = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_silver_star_alive
		}
		available = {
			BAR_resources_above_silver_1000 = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_dev_up"
			BAR_resources_subtract_silver_1000 = yes
			add_tech_bonus = {
				name = cat_grand_battle_plan
				bonus = 1.0
				uses = 1
				category = cat_grand_battle_plan
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_silver_raid_prepare = {
		icon = hol_draw_up_staff_plans

		available = {
			FROM = {
				any_owned_state = {
					is_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
						set_temp_variable = { var:attacker_state_temp = id }
						has_ROOT_at_least_1_div_in_current_state_scope = yes
					}
					set_temp_variable = { var:defender_state_temp = id }
				}
			}
			NOT = { 
                has_non_aggression_pact_with = FROM
				has_country_flag = raid_succeeded
			    has_country_flag = raid_failed
			    has_country_flag = raid_in_progress 		
            }
		}

		visible = {
			NOT = { 
                has_country_flag = preparing_raid
                has_war_with = FROM
                is_subject_of = FROM 
            }
			FROM = {
                exists = yes
				is_pony_race = yes
				NOT = { 
                    is_subject_of = ROOT
                    is_in_faction_with = ROOT
                    has_idea = detached_country
                }
			}
			OR = {
				NOT = { has_border_war_with = FROM }
				AND = {
					FROM = {
						any_owned_state = {
							is_controlled_by = FROM
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
			}
		}
		target_array = neighbors
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
			}
		}

		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cost = 25

		fire_only_once = no

		days_re_enable = 180
		days_remove = 30

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_raid_prepare target: [From.GetName]"
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = preparing_raid
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAR_silver_raid_prepare target: [From.GetName]"
			activate_targeted_decision = { target = FROM decision = BAR_silver_raid }
		}
	}

	BAR_silver_raid = {

		icon = crossed_swords

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cancel_trigger = {
			OR = {
                is_subject_of = FROM
                is_in_faction_with = FROM
                has_war_with = FROM
                FROM = {
                    is_subject_of = ROOT
                }
            }
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_silver_raid"
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_silver_raid }
				activate_targeted_decision = { target = FROM decision = BAR_silver_raid_prepare }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_silver_raid"
			effect_tooltip = {
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = var:FROM.attacker_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.1
						on_lose = barrad_raid.3
						on_cancel = barrad_raid.2
					}

					defender = {
						state = var:FROM.defender_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.6
						on_lose = barrad_raid.4
						on_cancel = barrad_raid.5
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_silver
			}
			hidden_effect = {
				if = {
					limit = { 
						FROM = { 
							has_war = yes
							divisions_in_border_state = {
								border_state = var:FROM.attacker_state_vs_@ROOT
								state = var:FROM.defender_state_vs_@ROOT
								size < 1
							}
						} 
					}
					FROM = { country_event = barrad_raid.100 }
				}
				else = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = var:FROM.attacker_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.1
							on_lose = barrad_raid.3
							on_cancel = barrad_raid.2
						}

						defender = {
							state = var:FROM.defender_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.6
							on_lose = barrad_raid.4
							on_cancel = barrad_raid.5
						}
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_in_progress
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_silver_raid }
				activate_targeted_decision = { target = FROM decision = BAR_silver_raid_prepare }
			}
		}
	}
}
BAR_leopold_cat = {
	BAR_leopold_info = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_leopold_alive
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_leopold_dev_up = {
		icon = griffon
		
		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_leopold_alive
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_leopold_1500 = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			increase_society_development_gradual = yes
			BAR_resources_subtract_leopold_1500 = yes
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_leopold_doc_bonus = {
		icon = griffon
		
		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_leopold_alive
		}
		available = {
			BAR_resources_above_leopold_1000 = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_info"
			BAR_resources_subtract_leopold_1000 = yes
			add_tech_bonus = {
				name = cat_superior_firepower
				bonus = 1.0
				uses = 1
				category = cat_superior_firepower
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	BAR_leopold_raid_prepare = {
		icon = hol_draw_up_staff_plans

		available = {
			FROM = {
				any_owned_state = {
					is_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
						set_temp_variable = { var:attacker_state_temp = id }
						has_ROOT_at_least_1_div_in_current_state_scope = yes
					}
					set_temp_variable = { var:defender_state_temp = id }
				}
			}
			NOT = { 
                has_non_aggression_pact_with = FROM
				has_country_flag = raid_succeeded
			    has_country_flag = raid_failed
			    has_country_flag = raid_in_progress 		
            }
		}

		visible = {
			NOT = { 
                has_country_flag = preparing_raid
                has_war_with = FROM
                is_subject_of = FROM 
            }
			FROM = {
                exists = yes
				is_griffon_race = yes
				NOT = { 
                    is_subject_of = ROOT
                    is_in_faction_with = ROOT
                    has_idea = detached_country
                }
			}
			OR = {
				NOT = { has_border_war_with = FROM }
				AND = {
					FROM = {
						any_owned_state = {
							is_controlled_by = FROM
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
			}
		}
		target_array = neighbors
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
			}
		}

		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cost = 25

		fire_only_once = no

		days_re_enable = 180
		days_remove = 30

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_raid_prepare target: [From.GetName]"
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = preparing_raid
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAR_leopold_raid_prepare target: [From.GetName]"
			activate_targeted_decision = { target = FROM decision = BAR_leopold_raid }
		}
	}

	BAR_leopold_raid = {

		icon = crossed_swords

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cancel_trigger = {
			OR = {
                is_subject_of = FROM
                is_in_faction_with = FROM
                has_war_with = FROM
                FROM = {
                    is_subject_of = ROOT
                }
            }
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_leopold_raid"
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_leopold_raid }
				activate_targeted_decision = { target = FROM decision = BAR_leopold_raid_prepare }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_leopold_raid"
			effect_tooltip = {
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = var:FROM.attacker_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.1
						on_lose = barrad_raid.3
						on_cancel = barrad_raid.2
					}

					defender = {
						state = var:FROM.defender_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.6
						on_lose = barrad_raid.4
						on_cancel = barrad_raid.5
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_leopold
			}
			hidden_effect = {
				if = {
					limit = { 
						FROM = { 
							has_war = yes
							divisions_in_border_state = {
								border_state = var:FROM.attacker_state_vs_@ROOT
								state = var:FROM.defender_state_vs_@ROOT
								size < 1
							}
						} 
					}
					FROM = { country_event = barrad_raid.100 }
				}
				else = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = var:FROM.attacker_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.1
							on_lose = barrad_raid.3
							on_cancel = barrad_raid.2
						}

						defender = {
							state = var:FROM.defender_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.6
							on_lose = barrad_raid.4
							on_cancel = barrad_raid.5
						}
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_in_progress
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_leopold_raid }
				activate_targeted_decision = { target = FROM decision = BAR_leopold_raid_prepare }
			}
		}
	}
}
BAR_asinti_cat = {
	BAR_asinti_info = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_asinti_alive
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_asinti_dev_up = {
		icon = griffon
		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_asinti_alive
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_asinti_1500 = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
			increase_society_development_gradual = yes
			BAR_resources_subtract_asinti_1500 = yes
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_asinti_doc_bonus = {
		icon = griffon
		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_asinti_alive
			has_pre_industrial_society = yes
		}
		available = {
			has_pre_industrial_society = yes
			BAR_resources_above_asinti_1000 = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_info"
			BAR_resources_subtract_asinti_1000 = yes
			add_tech_bonus = {
				name = cat_mass_assault
				bonus = 1.0
				uses = 1
				category = cat_mass_assault
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	BAR_asinti_raid_prepare = {
		icon = hol_draw_up_staff_plans

		available = {
			FROM = {
				any_owned_state = {
					is_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
						set_temp_variable = { var:attacker_state_temp = id }
						has_ROOT_at_least_1_div_in_current_state_scope = yes
					}
					set_temp_variable = { var:defender_state_temp = id }
				}
			}
			NOT = { 
                has_non_aggression_pact_with = FROM
				has_country_flag = raid_succeeded
			    has_country_flag = raid_failed
			    has_country_flag = raid_in_progress 		
            }
		}

		visible = {
			NOT = { 
                has_country_flag = preparing_raid
                has_war_with = FROM
                is_subject_of = FROM 
            }
			FROM = {
                exists = yes
				NOT = { 
                    is_subject_of = ROOT
                    is_in_faction_with = ROOT
                    has_idea = detached_country
                }
			}
			OR = {
				NOT = { has_border_war_with = FROM }
				AND = {
					FROM = {
						any_owned_state = {
							is_controlled_by = FROM
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
			}
		}
		target_array = neighbors
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
			}
		}

		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cost = 25

		fire_only_once = no

		days_re_enable = 180
		days_remove = 30

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_raid_prepare target: [From.GetName]"
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = preparing_raid
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAR_asinti_raid_prepare target: [From.GetName]"
			activate_targeted_decision = { target = FROM decision = BAR_asinti_raid }
		}
	}

	BAR_asinti_raid = {

		icon = crossed_swords

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 100
			modifier = {

			}
		}

		cancel_trigger = {
			OR = {
                is_subject_of = FROM
                is_in_faction_with = FROM
                has_war_with = FROM
                FROM = {
                    is_subject_of = ROOT
                }
            }
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAR_asinti_raid"
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_asinti_raid }
				activate_targeted_decision = { target = FROM decision = BAR_asinti_raid_prepare }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_asinti_raid"
			effect_tooltip = {
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = var:FROM.attacker_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.1
						on_lose = barrad_raid.3
						on_cancel = barrad_raid.2
					}

					defender = {
						state = var:FROM.defender_state_vs_@ROOT
						num_provinces = 4
						on_win = barrad_raid.6
						on_lose = barrad_raid.4
						on_cancel = barrad_raid.5
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_asinti
			}
			hidden_effect = {
				if = {
					limit = { 
						FROM = { 
							has_war = yes
							divisions_in_border_state = {
								border_state = var:FROM.attacker_state_vs_@ROOT
								state = var:FROM.defender_state_vs_@ROOT
								size < 1
							}
						} 
					}
					FROM = { country_event = barrad_raid.100 }
				}
				else = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = var:FROM.attacker_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.1
							on_lose = barrad_raid.3
							on_cancel = barrad_raid.2
						}

						defender = {
							state = var:FROM.defender_state_vs_@ROOT
							num_provinces = 4
							on_win = barrad_raid.6
							on_lose = barrad_raid.4
							on_cancel = barrad_raid.5
						}
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_in_progress
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAR_asinti_raid }
				activate_targeted_decision = { target = FROM decision = BAR_asinti_raid_prepare }
			}
		}
	}
}
BAR_viira_cat = {
	BAR_viira_info = {
		icon = griffon

		visible = {
			original_tag = BAR
			has_country_flag = { flag = barrad_endgame value = 0 }
			has_country_flag = barrad_viira_alive
		}
		available = {
			always = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAR_viira_info"
		}

		ai_will_do = {
			factor = 0
		}
	}
}
