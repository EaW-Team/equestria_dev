MGY_GranaryOfZebrica_cat = {
	# Granary of Zebrica - debug
	MGY_debugGranarySetup_dec = {
		priority = 2000
		visible = {
			is_debug = yes
		}

		complete_effect = {
			custom_effect_tooltip = MGY_debugGranarySetup_tt
			hidden_effect = {
				MGY_Granary_Setup_effect = yes
				MGY_Granary_CalcPercentageGain_effect = yes
				MGY_Granary_CalcPercentageMax_effect = yes
				MGY_Granary_CheckFoodNeeds_effects = yes
			}
		}
	}
	MGY_debugFocusUnlock_dec = {
		priority = 1000
		complete_effect = {
			complete_national_focus = MGY_AgrarianCensus
		}
		visible = {
			is_debug = yes
			NOT = {
				has_completed_focus = MGY_AgrarianCensus
			}
		}
	}
	MGY_debugFocusRelock_dec = {
		priority = 1000
		complete_effect = {
			uncomplete_national_focus = {
				focus = MGY_AgrarianCensus
				uncomplete_children = yes
			}
		}
		visible = {
			has_completed_focus = MGY_AgrarianCensus
			is_debug = yes
		}
	}
	MGY_debugGranaryNegativeFood_dec = {
		priority = 1000
		visible = {
			is_debug = yes
		}

		complete_effect = {
			set_variable = {
				MGY_Grain_var = -10
				tooltip = MGY_Grain_var_set_tt
			}
			MGY_Granary_CheckFoodNeeds_effects = yes
		}
	}
	MGY_debugGranaryPositiveFood_dec = {
		priority = 1000
		visible = {
			is_debug = yes
		}

		complete_effect = {
			set_variable = {
				MGY_Grain_var = 10
				tooltip = MGY_Grain_var_set_tt
			}
			MGY_Granary_CheckFoodNeeds_effects = yes
		}
	}
	MGY_debugGranaryIncreaseGrainFactor_dec = {
		priority = 1000
		visible = {
			is_debug = yes
		}

		days_remove = 10

		modifier = {
			MGY_Grain_increase_factor_modifier = 0.05
		}

		complete_effect = {
			hidden_effect = {
				add_to_variable = {
					MGY_Grain_increase_factor_var = 0.05
				}
				#
				MGY_Granary_CalcPercentageGain_effect = yes
				MGY_Granary_CalcPercentageMax_effect = yes
			}
		}

		remove_effect = {
			hidden_effect = {
				add_to_variable = {
					MGY_Grain_increase_factor_var = -0.05
				}
				#
				MGY_Granary_CalcPercentageGain_effect = yes
				MGY_Granary_CalcPercentageMax_effect = yes
			}
		}

	}
	# Granary of Zebrica
	MGY_GrannaryOfZebrica_SellGrain_Dec = {
		priority = 100

		icon = GFX_MGY_FoodstuffsSell_dec

		days_remove = 60

		custom_cost_trigger = {
			always = yes
		}
		custom_cost_text = MGY_GranaryWheatCost_tt

		targets_dynamic = yes
		target_trigger = {
			FROM = {
				OR = {
					tag = EQS
					tag = HIP
					is_subject_of = EQS
					is_subject_of = HIP
					has_country_flag = MGY_GrainPartner_flag
				}
				NOT = {
					is_subject_of = ROOT
				}
			}
		}

		available = {
			NOT = {
				is_embargoing = FROM
			}
			FROM = {
				NOT = {
					has_war_with = ROOT
				}
				NOT = {
					is_embargoing = ROOT
				}
				OR = {
					has_opinion = {
						target = ROOT
						value > 24
					}
					is_in_faction_with = ROOT
				}
			}
		}

		cancel_effect = {
			add_to_variable = {
				MGY_Grain_var = 100
				tooltip = MGY_Grain_var_tt
			}
			MGY_Granary_CheckFoodNeeds_effects = yes
		}

		cancel_trigger = {
			OR = {
				is_embargoing = FROM
				FROM = {
					is_embargoing = ROOT
				}
				FROM = {
					has_war_with = ROOT
				}
			}
		}

		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GrannaryOfZebrica_SellGrain_Dec"
			#
			add_to_variable = {
				MGY_Grain_var = -100
				tooltip = MGY_Grain_var_tt
			}
			MGY_Granary_CheckFoodNeeds_effects = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GrannaryOfZebrica_SellGrain_Dec"
			add_cic = 5000
			add_political_power = 10
		}
	}
	MGY_GranaryOfZebrica_SendTrucks_Dec = {
		priority = 200

		icon = GFX_decision_generic_motorized

		days_remove = 180

		fire_only_once = yes

		cost = MGY_GranaryPolCost_var

		available = {
			has_completed_focus = MGY_ImportTools
			custom_trigger_tooltip = {
				tooltip = MGY_UniqueDecision_tt
			}
			has_equipment = {
				motorized_equipment > 299
			}
			has_equipment = {
				support_equipment > 99
			}
		}

		cancel_effect = {
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 300
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 100
			}
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryNoGrainState_tt
				NOT= {
					any_owned_state = {
						is_controlled_by = ROOT
						has_state_flag = MGY_clearedforagrigculture_flag
					}
				}
			}
		}

		modifier = {
			industrial_capacity_factory = -0.1
			industrial_capacity_dockyard = -0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_SendTrucks_Dec"
			#
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -300
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -100
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_SendTrucks_Dec"
			add_to_variable = {
				MGY_Grain_increase_factor_var = 0.15
				tooltip = MGY_Grain_increase_factor_var_tt
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
			custom_effect_tooltip = MGY_DoubleSpace_tt
			#
			every_owned_state = {
				limit = {
					has_state_flag = MGY_clearedforagrigculture_flag
				}
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
		}
	}
	MGY_GranaryOfZebrica_DiversifyCulture_Dec = {
		priority = 200

		icon = GFX_MGY_Foodstuffs_dec

		days_remove = 180

		fire_only_once = yes

		cost = MGY_GranaryPolCost_var

		available = {
			has_completed_focus = MGY_ImportTools
			custom_trigger_tooltip = {
				tooltip = MGY_UniqueDecision_tt
			}
		}

		cancel_effect = {
			
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryNoGrainState_tt
				NOT= {
					any_owned_state = {
						is_controlled_by = ROOT
						has_state_flag = MGY_clearedforagrigculture_flag
					}
				}
			}
		}

		modifier = {
			consumer_goods_factor = 0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_DiversifyCulture_Dec"
			#
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_DiversifyCulture_Dec"
			#
			custom_effect_tooltip = MGY_GranaryOfZebrica_DiversifyCulture_tt
			set_country_flag = MGY_GranaryOfZebrica_DiversifyCulture_flag
			MGY_Granary_CheckFoodNeeds_effects = yes
		}
	}
	MGY_GranaryOfZebrica_SugarCrops_Dec = {
		priority = 200

		icon = GFX_MGY_Foodstuffs_dec

		days_remove = 180

		fire_only_once = yes

		cost = MGY_GranaryPolCost_var

		available = {
			has_completed_focus = MGY_ImportTools
			custom_trigger_tooltip = {
				tooltip = MGY_UniqueDecision_tt
			}
		}

		cancel_effect = {
			
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryNoGrainState_tt
				NOT= {
					any_owned_state = {
						is_controlled_by = ROOT
						has_state_flag = MGY_clearedforagrigculture_flag
					}
				}
			}
		}

		modifier = {
			consumer_goods_factor = 0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_SugarCrops_Dec"
			#
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_SugarCrops_Dec"
			#
			custom_effect_tooltip = MGY_GranaryOfZebrica_DiversifyCulture_tt
			set_country_flag = MGY_GranaryOfZebrica_SugarCrops_flag
			MGY_Granary_CheckFoodNeeds_effects = yes
		}
	}
	MGY_GranaryOfZebrica_PurchaseFertiliser_Dec = {
		priority = 200

		icon = GFX_MGY_Foodstuffs_dec

		days_remove = 60

		cost = MGY_GranaryPolCost_var

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}

		available = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = MGY_VarLowerThan_tt
					VAR = MGY_Grain_increase_var
					VALUE = 90
				}
				check_variable = {
					MGY_Grain_increase_var < 91
				}
			}
		}

		modifier = {
			consumer_goods_factor = 0.15
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_PurchaseFertiliser_Dec"
			#
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_PurchaseFertiliser_Dec"
			#
			add_to_variable = {
				var = MGY_Grain_increase_var
				value = 10
				tooltip = MGY_Grain_increase_var_tt
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryNoGrainState_tt
				NOT= {
					any_owned_state = {
						is_controlled_by = ROOT
						has_state_flag = MGY_clearedforagrigculture_flag
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				add_to_variable = {
					var = MGY_Grain_increase_factor_var
					value = 0.25
					tooltip = MGY_Grain_increase_factor_var_tt
				}
				MGY_Granary_CalcPercentageGain_effect = yes
				MGY_Granary_CalcPercentageMax_effect = yes
			}
		}
	}
	MGY_GranaryOfZebrica_GrainLevies_Dec = {
		priority = 200

		icon = GFX_MGY_Wheat_dec

		days_remove = 60

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}

		cost = MGY_GranaryPolCost_var

		available = {
			
		}

		modifier = {
			stability_factor = -0.1
			MGY_Grain_increase_modifier = 10
			MGY_Grain_increase_factor_modifier = 0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_GrainLevies_Dec"
			#
			hidden_effect = {
				add_to_variable = {
					MGY_Grain_increase_var = 10
				}
				add_to_variable = {
					MGY_Grain_increase_factor_var = 0.1
				}
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
			#
			if = {
				limit = {
					has_idea = MGY_PoliticalUnrest
				}
				every_owned_state = {
					limit = {
						has_state_flag = MGY_clearedforagrigculture_flag
					}
					random_select_amount = 2
					MGY_IncreaseStateUnrest_small_effect = yes
				}
			}
			else = {
				add_stability = -0.01
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_GrainLevies_Dec"
			#
			hidden_effect = {	
				add_to_variable = {
					MGY_Grain_increase_var = -10
				}
				add_to_variable = {
					MGY_Grain_increase_factor_var = -0.1
				}
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryNoGrainState_tt
				NOT= {
					any_owned_state = {
						is_controlled_by = ROOT
						has_state_flag = MGY_clearedforagrigculture_flag
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				
			}
		}
	}
	
	MGY_EconomyDevelopment_IrrigationWorks_dec = {
		priority = 100

		icon = GFX_decision_hol_drain_water_lines
		
		on_map_mode = map_only
		state_target = yes
		days_remove = 60
		cancel_if_not_visible = no

		fire_only_once = yes

		visible = {
			FROM ={
				has_state_flag = MGY_clearedforagrigculture_flag
				has_state_flag = MGY_canBuildWaterworks_flag
			}
		}
		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		target_array = owned_states

		cost = MGY_GranaryPolCost_var

		available = {
			has_completed_focus = MGY_IrrigationWorks
			custom_override_tooltip = {
				tooltip = {
					localization_key = MGY_AvailableCivilianFactories_tt
					FACTORIES = 2
				}
				num_of_available_civilian_factories > 1
			}
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryPonypowerCostSmall_tt	
				OR = {
					has_manpower = MGY_GranaryPonypowerLargeCost_var
					has_manpower > MGY_GranaryPonypowerLargeCost_var
				}
			}
		}
		
		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_EconomyDevelopment_IrrigationWorks_dec"
			hidden_effect = {
				# Temp variables to properly handle the cost
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPolCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_political_power = MGY_decisionCost_tempvar
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_manpower = MGY_decisionCost_tempvar
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: REMOVE EFFECT MGY_EconomyDevelopment_IrrigationWorks_dec"
			#
			add_to_variable = {
				value = 0.025
				var = MGY_Grain_increase_factor_var
				tooltip = MGY_Grain_increase_factor_var_tt
			}
			#
			FROM = {
				add_dynamic_modifier = {
					modifier = MGY_NewIrrigation_Dynmod
				}
			}
			#
			hidden_effect = {
				set_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = 0.8
				}
			}
			custom_effect_tooltip = MGY_DoubleSpace_tt
			custom_effect_tooltip = MGY_GranaryPonyPowerReturn_tt
			add_manpower = MGY_GranaryPonyPowerReturn_tempvar
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					NOT = {
						is_controlled_by = ROOT
					}
				}
			}
		}
	}
	
	MGY_GranaryOfZebrica_ExpandGranaries_Dec = {
		priority = 100

		icon = GFX_MGY_Granary_dec
		
		on_map_mode = map_only
		state_target = yes
		days_remove = 40
		cancel_if_not_visible = no

		fire_only_once = yes

		visible = {
			FROM ={
				has_state_flag = MGY_clearedforagrigculture_flag
			}
		}
		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		target_array = owned_states

		cost = MGY_GranaryPolCost_var

		available = {
			custom_override_tooltip = {
				tooltip = {
					localization_key = MGY_AvailableCivilianFactories_tt
					FACTORIES = 2
				}
				num_of_available_civilian_factories > 1
			}
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryPonypowerCostSmall_tt	
				OR = {
					has_manpower = MGY_GranaryPonypowerSmallCost_var
					has_manpower > MGY_GranaryPonypowerSmallCost_var
				}
			}
		}
		
		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_ExpandGranaries_Dec"
			hidden_effect = {
				# Temp variables to properly handle the cost
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPolCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_political_power = MGY_decisionCost_tempvar
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPonypowerSmallCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_manpower = MGY_decisionCost_tempvar
			}
			#
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: REMOVE EFFECT MGY_GranaryOfZebrica_ExpandGranaries_Dec"
			#
			add_to_variable = {
				value = 50
				var = MGY_Grain_max_var
				tooltip = MGY_Grain_max_var_tt
			}
			#
			custom_override_tooltip = {
				tooltip = {
					localization_key = MGY_UnlockDecisionTooltip_tt
					DECISION = MGY_EconomyDevelopment_IrrigationWorks_dec
				}
			}
			FROM = {
				set_state_flag = MGY_canBuildWaterworks_flag
			}
			#
			hidden_effect = {
				set_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = MGY_GranaryPonypowerSmallCost_var
				}
				multiply_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = 0.9
				}
			}
			custom_effect_tooltip = MGY_DoubleSpace_tt
			custom_effect_tooltip = MGY_GranaryPonyPowerReturn_tt
			add_manpower = MGY_GranaryPonyPowerReturn_tempvar
			#
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					NOT = {
						is_controlled_by = ROOT
					}
				}
			}
		}
	}
	MGY_GranaryOfZebrica_IncreaseProduction_Dec = {
		priority = 100

		icon = GFX_decision_generic_military
		
		on_map_mode = map_only
		state_target = yes
		days_remove = 40
		cancel_if_not_visible = no

		visible = {
			FROM ={
				has_state_flag = MGY_clearedforagrigculture_flag
			}
		}
		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		target_array = owned_states

		cost = MGY_GranaryPolCost_var

		available = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryPonypowerCostLarge_tt
				OR = {
					has_manpower = MGY_GranaryPonypowerLargeCost_var
					has_manpower > MGY_GranaryPonypowerLargeCost_var
				}
			}
		}
		
		modifier = {
			MGY_Grain_increase_factor_modifier = 0.05
			war_support_factor = -0.03
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_IncreaseProduction_Dec"
			hidden_effect = {
				# Temp variables to properly handle the cost
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPolCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_political_power = MGY_decisionCost_tempvar
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_manpower = MGY_decisionCost_tempvar
				#
				add_to_variable = {
					MGY_Grain_increase_factor_var = 0.05
				}
				#
				MGY_Granary_CalcPercentageGain_effect = yes
				MGY_Granary_CalcPercentageMax_effect = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: REMOVE EFFECT MGY_GranaryOfZebrica_IncreaseProduction_Dec"
			#
			hidden_effect = {
				set_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = 0.9
				}
				#
				add_to_variable = {
					MGY_Grain_increase_factor_var = -0.05
				}
			}
			custom_effect_tooltip = MGY_GranaryPonyPowerReturn_tt
			add_manpower = MGY_GranaryPonyPowerReturn_tempvar
			#
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
		}

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					NOT = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		cancel_effect = {
			add_to_variable = {
				MGY_Grain_increase_factor_var = -0.1
			}
		}
	}
	MGY_GranaryOfZebrica_DrainTheMarshes_Dec = {
		priority = 100

		icon = GFX_decision_generic_construction
		
		on_map_mode = map_only
		state_target = yes
		days_remove = 80
		cancel_if_not_visible = no

		fire_only_once = yes

		visible = {
			
		}
		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		targets = {
			737
			734
		}
		cost = MGY_GranaryPolCost_var

		available = {
			custom_trigger_tooltip = {
				tooltip = MGY_GranaryPonypowerCostLarge_tt
				OR = {
					has_manpower = MGY_GranaryPonypowerLargeCost_var
					has_manpower > MGY_GranaryPonypowerLargeCost_var
				}
			}
		}
		
		modifier = {
			consumer_goods_factor = 0.1
			production_speed_buildings_factor = -0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_DrainTheMarshes_Dec"
			hidden_effect = {
				# Temp variables to properly handle the cost
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPolCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_political_power = MGY_decisionCost_tempvar
				set_temp_variable = {
					MGY_decisionCost_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_decisionCost_tempvar = -1
				}
				add_manpower = MGY_decisionCost_tempvar
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: REMOVE EFFECT MGY_GranaryOfZebrica_DrainTheMarshes_Dec"
			add_to_variable = {
				MGY_Grain_increase_factor_var = 0.025
				tooltip = MGY_Grain_increase_factor_var_tt
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
			#
			FROM = {
				set_state_flag = MGY_clearedforagrigculture_flag
				add_extra_state_shared_building_slots = 1
				custom_override_tooltip = {
					tooltip = {
						localization_key = MGY_UnlockDecisionTooltip_tt
						DECISION = MGY_GranaryOfZebrica_ExpandGranaries_Dec
					}
				}
				custom_override_tooltip = {
					tooltip = {
						localization_key = MGY_UnlockDecisionTooltip_tt
						DECISION = MGY_GranaryOfZebrica_IncreaseProduction_Dec
					}
				}
				custom_override_tooltip = {
					tooltip = {
						localization_key = MGY_UnlockDecisionTooltip_tt
						DECISION = MGY_GranaryOfZebrica_CottonFarms_Dec
					}
				}
			}
			# 
			hidden_effect = {
				set_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = MGY_GranaryPonypowerLargeCost_var
				}
				multiply_temp_variable = {
					MGY_GranaryPonyPowerReturn_tempvar = 0.9
				}
			}
			custom_effect_tooltip = MGY_DoubleSpace_tt
			custom_effect_tooltip = MGY_GranaryPonyPowerReturn_tt
			add_manpower = MGY_GranaryPonyPowerReturn_tempvar
			#
		}

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					NOT = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		cancel_effect = {
			
		}
	}
	MGY_GranaryOfZebrica_CottonFarms_Dec = {
		priority = 100

		icon = GFX_MGY_Foodstuffs_dec
		
		on_map_mode = map_only
		state_target = yes
		days_remove = 80
		cancel_if_not_visible = no

		fire_only_once = yes

		visible = {
			
		}
		target_root_trigger = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_AgrarianCensus
			}
		}
		target_trigger = {
			FROM = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
				has_state_flag = MGY_clearedforagrigculture_flag
			}
		}
		targets = {
			737
			734
			735
		}
		cost = MGY_GranaryPolCost_var

		available = {
			has_completed_focus = MGY_ImportTools
			custom_override_tooltip = {
				tooltip = {
					localization_key = MGY_AvailableCivilianFactories_tt
					FACTORIES = 4
				}
				num_of_available_civilian_factories > 3
			}
		}
		
		modifier = {
			consumer_goods_factor = 0.1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: COMPLETE EFFECT MGY_GranaryOfZebrica_CottonFarms_Dec"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: REMOVE EFFECT MGY_GranaryOfZebrica_CottonFarms_Dec"
			add_to_variable = {
				value = -0.1
				var = MGY_Grain_max_factor_var
				tooltip = MGY_Grain_max_factor_var_tt
			}
			MGY_Granary_CalcPercentageGain_effect = yes
			MGY_Granary_CalcPercentageMax_effect = yes
			#
			FROM = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
			}
			#
		}

		cancel_trigger = {
			FROM = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					NOT = {
						is_controlled_by = ROOT
					}
				}
			}
		}

		cancel_effect = {
			
		}
	}
}