MGY_PoliticalUnrest_cat = {

}

MGY_GranaryOfZebrica_cat = {

}

MGY_EconomyDebts_cat = {
	MGY_EconomyDevelopment_PayDebt_dec = {
		icon = GFX_decision_eng_trade_unions_support

		cost = MGY_DebtPaymentCost_var

		available = {
			has_idea = MGY_IndebtedEconomy
		}

		complete_effect = {
			remove_ideas = MGY_IndebtedEconomy

			#TODO: add event

			# Reverse the bad cost IF it was taken
			if = {
				limit = {
					has_completed_focus = MGY_FinancialAusterity
				}
				hidden_effect = {
					add_to_variable = {
						MGY_EconomyDevCost_var = -20
					}
					add_to_variable = {
						MGY_GranaryOfZebricaCost_var = -20
					}
				}
			}
		}

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_FateOfCommission
			}
		}
	}
	MGY_EconomyDevelopment_ImposeTariffs_dec = {
		icon = GFX_MGY_Foodstuffs_dec

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_FinancialAusterity
			}
		}

		# TODO: remove industrial advisor
	}
	MGY_EconomyDevelopment_NationaliseIndustries_dec = {
		icon = GFX_decision_generic_confiscation

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_FinancialAusterity
			}
		}
	}
	MGY_EconomyDevelopment_ApproachEquestria_dec = {
		icon = GFX_decision_generic_political_discourse

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_SeekInvestments
			}
		}
	}
	MGY_EconomyDevelopment_ApproachHippogriff_dec = {
		icon = GFX_decision_generic_political_discourse

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_SeekInvestments
			}
		}
	}
	MGY_EconomyDevelopment_ApproachWingbardy_dec = {
		icon = GFX_decision_generic_political_discourse

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_SeekInvestments
			}
		}
	}
	MGY_EconomyDevelopment_KulgetownConnections_dec = {
		icon = GFX_decision_generic_political_discourse

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_SeekInvestments
			}
		}
	}
}

MGY_EconomySociety_cat = {
	MGY_EconomyDevelopment_ImproveTrotanis_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 737 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_TrotanisImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveDelta_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 734 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_DeltaImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveManephis_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 735 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_ManephisImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveHaxyor_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 736 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_HaxyorImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveDahshoof_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 758 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_DahshoofImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveAssyut_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 761 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_AssyutImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveKoltnak_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 760 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_BeniyHaysanImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_ImproveMareydum_dec = {
		icon = GFX_decision_generic_construction

		fire_only_once = yes

		cost = 25
		days_remove = 120

		state_target = yes	
		on_map_mode = decision_view_only
		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 759 }

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_DevelopProvinces
			}
		}

		available = {
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}

		cancel_trigger = {
			FROM = {
				NOT = {
					is_owned_and_controlled_by = ROOT
				}
			}
		}

		modifier = {
			custom_modifier_tooltip = MGY_MareydumImprovement_tt
		}

		complete_effect = {
			hidden_effect = {
				FROM = {
					add_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		remove_effect = {
			if = {
				limit = {
					NOT = {
						has_idea = no_poverty
					}
				}
				decrease_poverty = yes
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
					}
				}
			}
			else = {
				add_stability = 0.05
				FROM = {
					improve_state_category = yes
					add_extra_state_shared_building_slots = 2
				}
			}
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}

		cancel_effect = {
			hidden_effect = {
				FROM = {
					remove_dynamic_modifier = {
						modifier = MGY_MODIFIER_ProvinceImprovement_Dynmod
					}
				}
			}
		}
	}
	MGY_EconomyDevelopment_LitteracyCampaign_dec = {
		icon = GFX_decision_generic_research

		days_remove = 180

		modifier = {
			political_power_factor = -0.2
		}

		cancel_trigger = {
			has_idea = no_lack_of_scientists
		}

		available = {
			NOT = {
				has_idea = no_lack_of_scientists
			}
		}
		
		visible = {
			OR = {
				is_debug = yes
				AND = {
					NOT = {
						has_idea = no_lack_of_scientists
					}
					has_completed_focus = MGY_BroadEducationCampaign
				}
			}
		}

		complete_effect = {
			hidden_effect = {
				set_country_flag = MGY_litteracyCampaignInProgress_flag
			}
		}

		cancel_effect = {
			hidden_effect = {
				clr_country_flag = MGY_litteracyCampaignInProgress_flag
			}
		}

		remove_effect = {
			decrease_illiteracy = yes
			hidden_effect = {
				clr_country_flag = MGY_litteracyCampaignInProgress_flag
			}
		}
	}
	MGY_EconomyDevelopment_RevokeScribalPrivileges_dec = {
		icon = GFX_decision_generic_break_treaty

		cost = 20
		days_remove = 30
		
		available = {
			has_country_flag = MGY_litteracyCampaignInProgress_flag
		}

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_BroadEducationCampaign
			}
		}

		complete_effect = {
			if = {
				limit = {
					has_idea = MGY_PoliticalUnrest
				}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = MGY_MODIFIER_LocalUnrest_Dynmod
						}
						check_variable = {
							MGY_StateUnrestImpact_var < 100
						}
					}
					random_select_amount = 2
					MGY_IncreaseStateUnrest_small_effect = yes
				}
			}
		}

		remove_effect = {
			add_days_remove = {
				decision = MGY_EconomyDevelopment_LitteracyCampaign_dec
				days = -30
			}
		}
	}
}

MGY_EconomyDevelopment_cat = {
	MGY_EconomyDevelopment_RataphetSteelIndustry_dec = {
		icon = GFX_decision_generic_factory

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_EconomyDevelopment
			}
		}
	}
	MGY_EconomyDevelopment_ExploitWadi_dec = {
		icon = GFX_decision_generic_construction

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_EconomyDevelopment
			}
		}
	}
	MGY_EconomyDevelopment_ManephisTruckFactory_dec = {
		icon = GFX_decision_generic_trucks

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_EconomyDevelopment
			}
		}
	}
	MGY_EconomyDevelopment_Bucksiris_dec = {
		icon = GFX_decision_generic_merge_plant_ship

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_EconomyDevelopment
			}
		}
	}
	MGY_EconomyDevelopment_SomnambulaMetalworks_dec = {
		icon = GFX_decision_generic_factory

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_IndustrialisationSomnambula
			}
		}
	}
	MGY_EconomyDevelopment_SomnambulaFishieries_dec = {
		icon = GFX_decision_generic_merge_plant_ship

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_IndustrialisationSomnambula
			}
		}
	}
	MGY_EconomyDevelopment_SouthernDevelopment_dec = {
		icon = GFX_decision_generic_construction

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_RoyalOfficeOfWorks
			}
		}
	}
	MGY_EconomyDevelopment_SineighiDevelopment_dec = {
		icon = GFX_decision_generic_construction

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_RoyalOfficeOfWorks
			}
		}
	}
	MGY_EconomyDevelopment_ManeisrataDevelopment_dec = {
		icon = GFX_decision_generic_factory

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_RoyalOfficeOfWorks
			}
		}
	}
	MGY_EconomyDevelopment_AssyutDam_dec = {
		icon = GFX_decision_hol_drain_water_lines

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_ExploitTheNeighle
			}
		}
	}
	MGY_EconomyDevelopment_DahshoofDam_dec = {
		icon = GFX_decision_hol_drain_water_lines

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_ExploitTheNeighle
			}
		}
	}
	MGY_EconomyDevelopment_ManephisElectrification_dec = {
		icon = GFX_decision_generic_electricity

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_ExploitTheNeighle
			}
		}
	}
	MGY_EconomyDevelopment_KoltnakToMeroeRail_dec = {
		icon = GFX_decision_railroad

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_NationalRail
			}
		}
	}
	MGY_EconomyDevelopment_SomnambulaToBuckSiris_dec = {
		icon = GFX_decision_railroad

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_NationalRail
			}
		}
	}
	MGY_EconomyDevelopment_RataPhetToManeisrata_dec = {
		icon = GFX_decision_railroad

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_NationalRail
			}
		}
	}
	MGY_EconomyDevelopment_MareoeToKlugetown_dec = {
		icon = GFX_decision_railroad

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_NationalRail
			}
		}
	}
	MGY_EconomyDevelopment_BucksirisToMenzaka_dec = {
		icon = GFX_decision_railroad

		visible = {
			OR = {
				is_debug = yes
				has_completed_focus = MGY_NationalRail
			}
		}
	}
}
