GRI_diplomacy = {
	GRI_takeover_TRD_fleet = {
		icon = generic_naval
		allowed = {
			always = yes
		}
		target_trigger = {
			FROM = {
				tag = TRD
			}
		}
		visible = {
			FROM = {
				is_subject_of = ROOT
				has_navy_size = { size > 8 }
			}
		}
		fire_only_once = yes
		complete_effect = {
			FROM = { transfer_navy = { target = ROOT } }
		}
		ai_will_do = {
			factor = 200
		}
	}
	GRI_kill_blockers = {
		icon = generic_decision
		allowed = {
			#always = yes
			is_ai = yes
		}
		visible = {
			is_ai = yes
			has_war = yes
			any_enemy_country = {
				NOT = { is_neighbor_of = ROOT }
				custom_trigger_tooltip = {
					tooltip = IS_IN_GRIFFONIA_TT
					is_on_griffon_continent = yes
				}
			}
		}
		available = {
			has_war = yes
			any_enemy_country = {
				NOT = { is_neighbor_of = ROOT }
				custom_trigger_tooltip = {
					tooltip = IS_IN_GRIFFONIA_TT
					is_on_griffon_continent = yes
				}
			}
		}
		target_trigger = {
			FROM = {
				is_ai = yes
				is_major = no
				NOT = { has_idea = detached_country }
				OR = {
					is_neighbor_of = ROOT
					any_neighbor_country = {
						is_subject_of = ROOT
					}
				}
				NOT = { has_war_with = ROOT }
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_war_together_with = ROOT
					gives_military_access_to = ROOT
				}
				OR = {
					AND = {
						any_neighbor_country = {
							has_war_with = ROOT
							NOT = { is_neighbor_of = ROOT }
						}
					}
					AND = {
						any_neighbor_country = {
							any_neighbor_country = {
								has_war_with = ROOT
								NOT = { is_neighbor_of = ROOT }
							}
						}
					}
				}
			}
		}
		cost = 125
		days_remove = 30
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 1.5
					strength_ratio = { tag = FROM ratio < 1 }
				}
			}
		}
		remove_effect = {
			create_wargoal = { type = annex_everything target = FROM }
		}
	}
}

GRI_remove_NCH_trade_category = {
	GRI_remove_NCH_trade = {
		icon = decision_infiltrate_state
		available = {
			original_tag = GRI
			has_country_flag = NCH_trading_with_flag
		}
		cost = 200
		ai_will_do = {
		
			factor = 1
			
			modifier = {
				has_idea = NCH_trading_with_NCH_harmonic
				factor = 0.01
			}
			modifier = {
				has_idea = NCH_trading_with_NCH_fascist
				factor = 80
			}
		}
		

		fire_only_once = yes

		visible = {
			original_tag = GRI
			has_country_flag = NCH_trading_with_flag
		}
		modifier = {
			
		}
		complete_effect = {
			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_harmonic
				}
				remove_ideas = NCH_trading_with_NCH_harmonic
			}
			
			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_fascist
				}
				remove_ideas = NCH_trading_with_NCH_fascist
			}
			
			clr_country_flag = NCH_trading_with_flag
			
			NCH = {
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 1 }
					}
					remove_ideas = NCH_trade_1
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 2 }
					}
					swap_ideas = {add_idea = NCH_trade_1 remove_idea = NCH_trade_2}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 3 }
					}
					swap_ideas = {add_idea = NCH_trade_2 remove_idea = NCH_trade_3}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 4 }
					}
					swap_ideas = {add_idea = NCH_trade_3 remove_idea = NCH_trade_4}
				}

				add_to_variable = {
					var = NCH_trade_partners_iter
					value = -1
				}
				hidden_effect = { 
					add_to_variable = { var = gytha_sanity value = 1 } 
					country_event = {id = greneclyf.62 days = 1}
				} 
			}
		}
	}
}