NCH_submarine_category = {

	NCH_remove_submarine = {
		icon = decision_infiltrate_state
		available = {
			original_tag = NCH
			has_country_flag = NCH_CHN_Submarine_Flag
		}
		cost = 600
		ai_will_do = {
			factor = 10
			modifier = {

			}
		}
		fire_only_once = yes

		visible = {
			original_tag = NCH
			has_country_flag = NCH_CHN_Submarine_Flag
		}
		modifier = {

		}
		complete_effect = {
			remove_ideas = NCH_changeling_submarine

			every_country = {
				if = {
					limit = {
						has_country_flag = NCH_trading_with_flag
					}
					swap_ideas = {
						remove_idea = NCH_trading_with_NCH_fascist
						add_idea = NCH_trading_with_NCH_harmonic
					}
				}
			}
		}
	}
}

NCH_marriages = {

	NCH_marry_cenhelm_decision = {
		icon = GFX_decision_wedding

		cost = 200
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes

		visible = {
			has_government = democratic
			FROM = {
				has_country_flag = NCH_trading_with_flag
				NOT = {
					has_idea = NCH_trading_with_NCH_fascist
				}
			}
			NOT = {
				has_country_flag = NCH_having_crisis_flag
			}
		}

		target_trigger = {
			FROM = { tag = FBK }
		}


		complete_effect = {
			add_ideas = NCH_marriage_cenhelm_idea
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}
			give_guarantee = FROM
			FROM = {
				give_guarantee = ROOT
			}
		}
	}
}

Remove_NCH_trade_category = {
	Remove_NCH_trade = {
		icon = decision_infiltrate_state

		cost = 50
		ai_will_do = {

			factor = 1

			modifier = {
				has_idea = NCH_trading_with_NCH_harmonic
				factor = 0.01
			}
			modifier = {
				has_idea = NCH_trading_with_NCH_fascist
				factor = 80
			}
		}


		fire_only_once = yes

		visible = {
			has_country_flag = NCH_trading_with_flag
		}
		target_trigger = {
			FROM = { tag = NCH }
		}
		complete_effect = {
			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_harmonic
				}
				remove_ideas = NCH_trading_with_NCH_harmonic
			}

			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_fascist
				}
				remove_ideas = NCH_trading_with_NCH_fascist
			}

			clr_country_flag = NCH_trading_with_flag

			if = {
				limit = {
					original_tag = GRI
				}
				country_event = greneclyf.63
			}
			if = {
				limit = {
					original_tag = LCT
				}
				country_event = greneclyf.61
			}
			if = {
				limit = {
					original_tag = NIM
				}
				country_event = greneclyf.62
			}
			if = {
				limit = {
					original_tag = EQS
				}
				country_event = greneclyf.64
			}
			if = {
				limit = {
					original_tag = BAK
				}
				country_event = greneclyf.65
			}
			if = {
				limit = {
					original_tag = FBK
				}
				country_event = greneclyf.66
			}
			if = {
				limit = {
					original_tag = RCT
				}
				country_event = greneclyf.67
			}

			FROM = {
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 1 }
					}
					remove_ideas = NCH_trade_1
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 2 }
					}
					swap_ideas = {add_idea = NCH_trade_1 remove_idea = NCH_trade_2}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 3 }
					}
					swap_ideas = {add_idea = NCH_trade_2 remove_idea = NCH_trade_3}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 4 }
					}
					swap_ideas = {add_idea = NCH_trade_3 remove_idea = NCH_trade_4}
				}
				hidden_effect = {

					add_to_variable = {
						var = NCH_trade_partners_iter
						value = -1
					}

					add_to_variable = { var = gytha_sanity value = 1 }
				}
			}
		}
	}
}

NCH_crisis_category = {

	NCH_crisis = {
		icon = griffon_bandits
		allowed = { tag = NCH }
		fire_only_once = yes

		available = {
		
			check_variable = {
				var = NCH_Crisis_Resolve_Points
				value = 4
				compare = equals
			}

		}
		activation = {
			NCH = {
				has_country_flag = NCH_having_crisis_flag
			}
		}
		is_good = no
		days_mission_timeout = 140
		timeout_effect = {
			country_event = greneclyf_crisis.8
		}
		complete_effect = {
			hidden_effect = {
				clr_country_flag = NCH_having_crisis_flag
			}
			
			country_event = greneclyf_crisis.9
		}
	}
}