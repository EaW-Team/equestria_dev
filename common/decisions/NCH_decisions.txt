NCH_submarine_category = {

	NCH_remove_submarine = {
		icon = decision_infiltrate_state
		available = {
			original_tag = NCH
			has_country_flag = NCH_CHN_Submarine_Flag
		}
		cost = 600
		ai_will_do = {
			factor = 10
			modifier = {
				
			}
		}
		fire_only_once = yes

		visible = {
			original_tag = NCH
			has_country_flag = NCH_CHN_Submarine_Flag
		}
		modifier = {
			
		}
		complete_effect = {
			remove_ideas = NCH_changeling_submarine
			
			every_country = {
				if = {
					limit = {
						has_country_flag = NCH_trading_with_flag
					}
					swap_ideas = {
						remove_idea = NCH_trading_with_NCH_fascist
						add_idea = NCH_trading_with_NCH_harmonic
					}
				}
			}
		}
	}
}

NCH_marriages = {

	NCH_marry_cenhelm_decision = {
		icon = GFX_decision_wedding

		cost = 200
		ai_will_do = {
			factor = 10
			modifier = {
				
			}
		}
		fire_only_once = yes

		visible = {
			original_tag = NCH
			has_government = democratic
			FBK = {
				exists = yes
				has_country_flag = NCH_trading_with_flag
				NOT = {
					has_idea = NCH_trading_with_NCH_fascist
				}
			}
			NOT = {
				has_country_flag = NCH_having_crisis_flag
			}
		}
		modifier = {
			
		}
		complete_effect = {
			add_ideas = NCH_marriage_cenhelm_idea
			give_guarantee = FBK
			FBK = {
				give_guarantee = NCH
			}
		}
	}
}

Remove_NCH_trade_category = {
	Remove_NCH_trade = {
		icon = decision_infiltrate_state

		cost = 50
		ai_will_do = {
		
			factor = 1
			
			modifier = {
				has_idea = NCH_trading_with_NCH_harmonic
				factor = 0.01
			}
			modifier = {
				has_idea = NCH_trading_with_NCH_fascist
				factor = 80
			}
		}
		

		fire_only_once = yes

		visible = {
			OR = {
				original_tag = GRI
				original_tag = FBK
				original_tag = EQS
				original_tag = NIM
				original_tag = BAK
				original_tag = LCT
				original_tag = RCT
			}
			
			has_country_flag = NCH_trading_with_flag
		}
		modifier = {
			
		}
		complete_effect = {
			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_harmonic
				}
				remove_ideas = NCH_trading_with_NCH_harmonic
			}
			
			if = {
				limit = {
					has_idea = NCH_trading_with_NCH_fascist
				}
				remove_ideas = NCH_trading_with_NCH_fascist
			}
			
			clr_country_flag = NCH_trading_with_flag
			
			if = {
				limit = {
					original_tag = GRI
				}
				country_event = greneclyf.63
			}
			if = {
				limit = {
					original_tag = LCT
				}
				country_event = greneclyf.61
			}
			if = {
				limit = {
					original_tag = NIM
				}
				country_event = greneclyf.62
			}
			if = {
				limit = {
					original_tag = EQS
				}
				country_event = greneclyf.64
			}
			if = {
				limit = {
					original_tag = BAK
				}
				country_event = greneclyf.65
			}
			if = {
				limit = {
					original_tag = FBK
				}
				country_event = greneclyf.66
			}
			if = {
				limit = {
					original_tag = RCT
				}
				country_event = greneclyf.67
			}
			
			NCH = {
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 1 }
					}
					remove_ideas = NCH_trade_1
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 2 }
					}
					swap_ideas = {add_idea = NCH_trade_1 remove_idea = NCH_trade_2}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 3 }
					}
					swap_ideas = {add_idea = NCH_trade_2 remove_idea = NCH_trade_3}
				}
				if = {
					limit = {
						check_variable = { NCH_trade_partners_iter = 4 }
					}
					swap_ideas = {add_idea = NCH_trade_3 remove_idea = NCH_trade_4}
				}
				hidden_effect = {
				
					add_to_variable = {
						var = NCH_trade_partners_iter
						value = -1
					}
				
					add_to_variable = { var = gytha_sanity value = 1 } 
				} 
			}
		}
	}
}