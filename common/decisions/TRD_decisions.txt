TRD_vaults = {
	TRD_money_guichard = {
		icon = steel
		available = {
			always = no
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_money_guichard"
		}
	}
	TRD_money_mission = {
		icon = steel
		available = {
			check_variable = { trade_partners^num < 1 }
		}
		activation = {
			check_variable = { trade_partners^num > 0 }
		}
		is_good = yes
		days_mission_timeout = 120 #4 months, change if you need to later
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TRD_money_mission"
			hidden_effect = {
				# first we wanna remove countries we are no longer trading with
				# we use two arrays because removing stuff from an array you are iterating over is a BAD IDEA
				for_each_loop = {
					array = trade_partners
					var:v = {
						if = {
							limit = {
								OR = {
									exists = no
									AND = {
										NOT = { has_idea = TRD_trading_with_skyfall_1 }
										NOT = { has_idea = TRD_trading_with_skyfall_2 }
									}
								}
							}
							add_to_array = { ROOT.trade_partners_to_remove = THIS.id }
						}
					}
				}
				for_each_loop = {
					array = trade_partners_to_remove
					remove_from_array = { ROOT.trade_partners_to_remove = v }
				}
				set_temp_variable = { add_to_bank = trade_partners^num }
				multiply_temp_variable = { add_to_bank = 0.25 }
				clear_array = trade_partners_to_remove
			}

			# Cyrus baby, localise it plz <3
			custom_effect_tooltip = TRD_GAIN_BANK
			add_to_variable = {
				var = bank
				value = add_to_bank
			}

			hidden_effect = {
				activate_mission = TRD_money_mission
			}
		}
	}
}

TRD_power_struggle = {
	TRD_power_struggle_mission = {
	    icon = generic_ignite_civil_war
		available = {
			always = no
		}
		activation = {
			has_country_flag = TRD_power_struggle_flag
		}
		days_mission_timeout = 180
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout TRD_power_struggle_mission"
			find_highest_in_array = {
				array = TRD_power_struggle_array
				#index = TRD_power_struggle_max 
				# looks like index only works if variable name is all lowercase - default is i so we may as well use it
			}
			if = {
				limit = { check_variable = { i = 0 } }
				country_event = { id = tradefed.27 }
			}
			else_if = {
				limit = { check_variable = { i = 1 } }
				country_event = { id = tradefed.32 }
			}
			else_if = {
				limit = { check_variable = { i = 2 } }
				country_event = { id = tradefed.37 }
			}
			else = {
				country_event = { id = tradefed.38 }
			}
			clear_array = TRD_power_struggle_array
		}
	}

    TRD_pick_a_side = {
		icon = generic_form_nation
		visible = {
			has_country_flag = TRD_power_struggle_flag
			NOT = {
			    has_country_flag = TRD_supporting_kessler
				has_country_flag = TRD_supporting_banker
				has_country_flag = TRD_supporting_bechard
				has_country_flag = TRD_supporting_whitefeather
			}
		}
		
		fire_only_once = yes

		ai_will_do = {
			base = 100
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_pick_a_side"
		country_event = { id = tradefed.22 days = 1 }
		}
	}
	
	TRD_sabotage_kessler = {
		icon = generic_industry
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			has_country_flag = TRD_supporting_banker
		}
		
		custom_cost_trigger = {
			has_political_power > 19
			check_variable = { bank > 1 }
		}
		custom_cost_text = decision_cost_bank_2_pp_20

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_sabotage_kessler"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -20
            subtract_from_variable = {
				var = bank
				value = 2
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_sabotage_kessler"
		country_event = { id = tradefed.30 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_hire_whistleblowers = {
		icon = ger_mefo_bills
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			has_country_flag = TRD_supporting_kessler
		}
		
		custom_cost_trigger = {
			has_political_power > 19
			check_variable = { bank > 1 }
		}
		custom_cost_text = decision_cost_bank_2_pp_20

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_hire_whistleblowers"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -20
            subtract_from_variable = {
				var = bank
				value = 2
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_hire_whistleblowers"
		country_event = { id = tradefed.24 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_sabotage = {
		icon = generic_naval
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
		    OR = {
			    has_country_flag = TRD_supporting_kessler
			    has_country_flag = TRD_supporting_banker
			}
		}
		
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { bank > 0 }
		}
		custom_cost_text = decision_cost_bank_1_pp_15

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_sabotage"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -15
            subtract_from_variable = {
				var = bank
				value = 1
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_sabotage"
		country_event = { id = tradefed.26 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_tip_the_police = {
		icon = generic_army_support
		available = {
			hidden_trigger = { check_variable = { bank > 0 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			OR = {
			    has_country_flag = TRD_supporting_kessler
			    has_country_flag = TRD_supporting_banker
			}
		}
		
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { bank > 0 }
		}
		custom_cost_text = decision_cost_bank_1_pp_15

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_tip_the_police"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -15
            subtract_from_variable = {
				var = bank
				value = 1
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_tip_the_police"
		country_event = { id = tradefed.23 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_intimidate_workers = {
		icon = generic_political_discourse
		available = {
			hidden_trigger = { check_variable = { bank > 0 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			OR = {
			    has_country_flag = TRD_supporting_bechard
			    has_country_flag = TRD_supporting_whitefeather
			}
		}
		
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { bank > 0 }
		}
		custom_cost_text = decision_cost_bank_1_pp_15

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_intimidate_workers"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -15
            subtract_from_variable = {
				var = bank
				value = 1
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_intimidate_workers"
		country_event = { id = tradefed.33 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_steal_from_banks = {
		icon = ger_mefo_bills
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
		    OR = {
			    has_country_flag = TRD_supporting_bechard
			    has_country_flag = TRD_supporting_whitefeather
			}
		}
		
		custom_cost_trigger = {
			has_political_power > 14
			check_variable = { bank > 0 }
		}
		custom_cost_text = decision_cost_bank_1_pp_15

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_steal_from_banks"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -15
            subtract_from_variable = {
				var = bank
				value = 1
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_steal_from_banks"
		country_event = { id = tradefed.34 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_drug_bust = {
		icon = generic_research
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			has_country_flag = TRD_supporting_bechard
		}
		
		custom_cost_trigger = {
			has_political_power > 19
			check_variable = { bank > 1 }
		}
		custom_cost_text = decision_cost_bank_2_pp_20

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_drug_bust"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -20
            subtract_from_variable = {
				var = bank
				value = 2
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_drug_bust"
		country_event = { id = tradefed.35 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_felina = {
		icon = generic_ignite_civil_war
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			has_country_flag = TRD_supporting_whitefeather
		}
		
		custom_cost_trigger = {
			has_political_power > 19
			check_variable = { bank > 1 }
		}
		custom_cost_text = decision_cost_bank_2_pp_20

		days_remove = 21
		fire_only_once = yes
		
		ai_will_do = {
			base = 10
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_felina"
		hidden_effect = { 
		    set_country_flag = TRD_political_action
			add_political_power = -20
            subtract_from_variable = {
				var = bank
				value = 2
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_felina"
		country_event = { id = tradefed.36 days = 1 }
		hidden_effect = {
		    clr_country_flag = TRD_political_action
		    }
	    }
    }
	
	TRD_gather_support = {
		icon = ger_mefo_bills
		available = {
			hidden_trigger = { check_variable = { bank > 1 } }
			NOT = { has_country_flag = TRD_political_action }
		}
		visible = {
			OR = {
			    has_country_flag = TRD_supporting_kessler
				has_country_flag = TRD_supporting_banker
				has_country_flag = TRD_supporting_bechard
				has_country_flag = TRD_supporting_whitefeather
			}
		}

		custom_cost_trigger = {
			has_political_power > 19
			check_variable = { bank > 1 }
		}
		custom_cost_text = decision_cost_bank_2_pp_20

		days_re_enable = 60

		ai_will_do = {
			base = 10
			modifier = {
				check_variable = { bank < 25 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 20 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = 8
			}
			modifier = {
				check_variable = { bank < 5 }
				add = 10
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_gather_support"
		    custom_effect_tooltip = TRD_gather_influence_tp
			hidden_effect = {
		    subtract_from_variable = {
                var = bank
                value = 2
                }
			if = {
			limit = { has_country_flag = TRD_supporting_kessler }
			add_to_variable = { 
		    var = TRD_power_struggle_array^0
            value = 2
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_banker }
			add_to_variable = { 
		    var = TRD_power_struggle_array^1
            value = 2			
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_bechard }
			add_to_variable = { 
		    var = TRD_power_struggle_array^2
            value = 2
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_whitefeather }
			add_to_variable = { 
		    var = TRD_power_struggle_array^3
            value = 2			
		            }
			    }
			}
		}
	}
	
	TRD_embezzle_funds = {
		icon = ger_mefo_bills
		visible = {
			OR = {
			    has_country_flag = TRD_supporting_kessler
				has_country_flag = TRD_supporting_banker
				has_country_flag = TRD_supporting_bechard
				has_country_flag = TRD_supporting_whitefeather
			}
		}

		cost = 25
		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { bank < 25 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 20 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = 8
			}
			modifier = {
				check_variable = { bank < 5 }
				add = 10
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_embezzle_funds"
		    custom_effect_tooltip = TRD_gain_money_influence_tp
			hidden_effect = {
		    add_to_variable = {
                var = bank
                value = 7
                }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_kessler }
			subtract_from_variable = { 
		    var = TRD_power_struggle_array^0
            value = 5			
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_banker }
			subtract_from_variable = { 
		    var = TRD_power_struggle_array^1
            value = 5			
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_bechard }
			subtract_from_variable = { 
		    var = TRD_power_struggle_array^2
            value = 5
		        }
			}
			if = {
			limit = { has_country_flag = TRD_supporting_whitefeather }
			subtract_from_variable = { 
		    var = TRD_power_struggle_array^3
            value = 5			
		        }
			}
		}
	}
}

foreign_politics = {
	TRD_trade_with_skyfall = {
		icon = ger_mefo_bills
		available = {
			any_owned_state = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
			}
		}
		allowed = {
			NOT = {
				original_tag = KAT
				original_tag = TRD
				original_tag = FBK
				original_tag = WAT
				original_tag = FIR
				original_tag = NIM
				original_tag = BAK
				original_tag = DEP
				original_tag = LCT
				original_tag = RCT
				original_tag = DMT
				original_tag = FBK
				original_tag = FRE
				original_tag = WIT
				original_tag = BAR
				original_tag = FEZ
				original_tag = GRI
				original_tag = DED
				original_tag = HLR
				original_tag = EWI
				original_tag = HAU
				original_tag = MAN
				original_tag = ELF
				original_tag = BAT
				original_tag = STM
				original_tag = SCT
				original_tag = CST
				original_tag = CAM
			}
		}
		visible = {
			NOT = {
				has_government = communism
				has_idea = detached_country
				has_idea = communal_society
				has_idea = agrarian_society
				has_tribal_society = yes
				has_idea = TRD_trading_with_skyfall_1
				has_idea = TRD_trading_with_skyfall_2
				AND = {
					original_tag = FLO
					NOT = {
						has_completed_focus = FLO_trade_with_skyfall
					}
				}
			}
			FROM = {
				exists = yes
				NOT = {
					has_war_with = ROOT
					has_government = communism
					has_government = fascism
					AND = {
						has_government = democratic
						has_completed_focus = TRD_altesburg
					}
				}
			}
		}
		target_root_trigger = {
			NOT = {
				has_government = communism
				has_idea = detached_country
				has_idea = communal_society
				has_idea = agrarian_society
				has_tribal_society = yes
				has_idea = TRD_trading_with_skyfall_1
				has_idea = TRD_trading_with_skyfall_2
				AND = {
					original_tag = FLO
					NOT = {
						has_completed_focus = FLO_trade_with_skyfall
					}
				}
			}
		}
		targets = { TRD }
		target_trigger = {
			FROM = { tag = TRD }
		}
		
		cost = 100
		days_re_enable = 180
		
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_trade_with_skyfall target: [From.GetName]"
			FROM = {
				country_event = tradefed.7
			}
			custom_effect_tooltip = if_they_accept
			if = {
			    limit = {
				    is_major = yes
				}
				effect_tooltip = {
				    add_ideas = TRD_trading_with_skyfall_2
				}
			}
			else = {
			    effect_tooltip = {
				    add_ideas = TRD_trading_with_skyfall_1
				}
			}
		}
	}
	
	TRD_stop_trading_with_skyfall = {
		icon = ger_mefo_bills
		available = {
		
		}
		visible = {
		    OR = {
				has_idea = TRD_trading_with_skyfall_1
				has_idea = TRD_trading_with_skyfall_2
			}
		}
		target_root_trigger = {
		    OR = {
				has_idea = TRD_trading_with_skyfall_1
				has_idea = TRD_trading_with_skyfall_2
			}
		}
		targets = { TRD }
		target_trigger = {
			FROM = { tag = TRD }
		}
		
		cost = 25
		days_re_enable = 180
		
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1.5
				has_opinion = { target = TRD value < -75 }
			}
			modifier = {
				add = 1.5
				has_opinion = { target = TRD value < -50 }
			}
			modifier = {
				add = 1.5
				has_opinion = { target = TRD value < -25 }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_stop_trading_with_skyfall target: [From.GetName]"
			if = { 
		    	limit = { has_idea = TRD_trading_with_skyfall_2 }
		    	remove_ideas = TRD_trading_with_skyfall_2
		    }
		    if = { 
		    	limit = { has_idea = TRD_trading_with_skyfall_1 }
		    	remove_ideas = TRD_trading_with_skyfall_1
		    }
			FROM = {
				country_event = tradefed.10
			}
			hidden_effect = {
				remove_from_array = {
					TRD.trade_partners = ROOT
				}
			}
		}
	}
}

political_actions = {
	TRD_invite_migrats = {
		icon = infiltrate_state
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 2 } }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 2 }
		}
		custom_cost_text = decision_cost_bank_3_pp_50

		days_remove = 60
		days_re_enable = 120
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		modifier = {
		    political_power_gain = -0.15
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_invite_migrats"
		hidden_effect = { 
			add_political_power = -50
            subtract_from_variable = {
				var = bank
				value = 3
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_invite_migrats"
		random_owned_controlled_state = {
		limit = { is_core_of = TRD } 
		    add_manpower = 15000
		}
		random_owned_controlled_state = {
		limit = { is_core_of = TRD } 
		    add_manpower = 15000
		}
		random_owned_controlled_state = {
		limit = { is_core_of = TRD } 
		    add_manpower = 15000
		}
		random_owned_controlled_state = {
		limit = { is_core_of = TRD } 
		    add_manpower = 15000
		    }
		}
	}
	
	TRD_bread_and_circuses = {
		icon = generic_nationalism
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 3 } }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
			NOT = {
			    has_completed_focus = TRD_every_man_a_king
			}
		}

		custom_cost_trigger = {
			has_political_power > 25
			check_variable = { bank > 3 }
		}
		custom_cost_text = decision_cost_bank_4_pp_25

		days_re_enable = 90
		
		ai_will_do = {
			base = 100
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
		    log = "[GetDateText]: [Root.GetName]: Decision TRD_bread_and_circuses"
		    add_stability = 0.05

		hidden_effect = { 
			add_political_power = -25
            subtract_from_variable = {
				var = bank
				value = 4
			    }				
		    }
		}
	}
	
	TRD_integrate_HAU = {
		icon = border_war
		allowed = {
		    original_tag = TRD
		}
		visible = {
			owns_state = 659
			owns_state = 660
			owns_state = 658
			OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
				has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
		}
		
		cost = 100
		fire_only_once = yes
		
		days_remove = 90
		
		ai_will_do = {
			factor = 100
		}
		
		modifier = {
			political_power_gain = -0.25
			stability_factor = -0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_integrate_HAU"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_integrate_HAU"
			659 = {
                add_core_of = TRD
            }
			660 = {
                add_core_of = TRD
            }
			658 = {
                add_core_of = TRD
            }
		}
	}
	
	TRD_integrate_FEZ = {
		icon = border_war
		allowed = {
		    original_tag = TRD
		}
		visible = {
			owns_state = 390
			OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
				has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
		}
		
		cost = 100
		fire_only_once = yes
		
		days_remove = 90
		
		ai_will_do = {
			factor = 100
		}
		
		modifier = {
			political_power_gain = -0.25
			stability_factor = -0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_integrate_FEZ"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_integrate_FEZ"
			390 = {
                add_core_of = TRD
            }
		}
	}
}

propaganda_efforts = {
    TRD_war_propaganda = {
		icon = generic_nationalism
		allowed = {
			original_tag = TRD
		}
		available = {
		    threat > 0.25
			has_war_support < 0.50
			hidden_trigger = { check_variable = { bank > 4 } }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 74
			check_variable = { bank > 5 }
		}
		custom_cost_text = decision_cost_bank_5_pp_75

		days_remove = 90
		days_re_enable = 180
		
		ai_will_do = {
			base = 1
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		modifier = {
		    political_power_gain = -0.15
			war_support_weekly = 0.005
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_war_propaganda"
		hidden_effect = { 
			add_political_power = -75
            subtract_from_variable = {
				var = bank
				value = 5
			    }				
		    }
		}
	}
	
	TRD_recruitment_drive = {
		icon = generic_decision
		allowed = {
			original_tag = TRD
		}
		available = {
		    threat > 0.30
			hidden_trigger = { check_variable = { bank > 4 } }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 50
			check_variable = { bank > 5 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 14
		days_re_enable = 60
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_recruitment_drive"
		hidden_effect = { 
			add_political_power = -50
            subtract_from_variable = {
				var = bank
				value = 5
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_recruitment_drive"
		add_war_support = 0.05
		add_stability = -0.05
		add_manpower = 20000
		}
	}
	
	TRD_spread_pamphlets = {
		icon = ger_mefo_bills
		allowed = {
			original_tag = TRD
		}
		available = {
		    threat > 0.10
			has_war_support < 0.30
			hidden_trigger = { check_variable = { bank > 4 } }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 24
			check_variable = { bank > 2 }
		}
		custom_cost_text = decision_cost_bank_2_pp_25

		days_remove = 14
		days_re_enable = 60
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_spread_pamphlets"
		hidden_effect = { 
			add_political_power = -25
            subtract_from_variable = {
				var = bank
				value = 2
			    }				
		    }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_spread_pamphlets"
		    add_war_support = 0.05
		}
	}
}

economy_decisions = {
    TRD_buy_factory = {
		icon = generic_construction
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
		}
		visible = {
			any_owned_state = {
			    is_controlled_by = ROOT
			    free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			    }
		    }
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 74
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_75

		days_re_enable = 180
		days_remove = 35
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_buy_factory"
			hidden_effect = { 
			    add_political_power = -75
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_buy_factory"
			random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			    }
		    }
		}
	}
	
	TRD_buy_arms_factory = {
		icon = ger_military_buildup
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
		}
		visible = {
			any_owned_state = {
			    is_controlled_by = ROOT
			    free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			    }
		    }
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 74
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_75

		days_re_enable = 180
		days_remove = 35
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
        
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_buy_arms_factory"
			hidden_effect = { 
			    add_political_power = -75
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_buy_arms_factory"
			random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			    }
		    }
		}
	}
	
	TRD_foreign_technicians = {
		icon = generic_decision
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
			has_war = no
			NOT = {
				has_idea = TRD_industrial_experts_idea
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 20

		ai_will_do = {
			base = 0
			modifier = {
				threat > 0.50
				add = 2
			}
			modifier = {
				has_political_power > 250
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_foreign_technicians"
			hidden_effect = { 
			    add_political_power = -50
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_foreign_technicians"
			add_timed_idea = { idea = TRD_industrial_experts_idea days = 240 }
		}
	}
	
	TRD_land_grants = {
		icon = ger_mefo_bills
		allowed = {
			original_tag = TRD
		}
		available = {
			NOT = { has_idea = TRD_land_sale_idea }
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		cost = 25

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { bank < 25 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 20 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = 8
			}
			modifier = {
				check_variable = { bank < 5 }
				add = 10
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_land_grants"
		    custom_effect_tooltip = TRD_gain_money_4_tp
			add_timed_idea = { idea = TRD_land_sale_idea days = 160 }
			hidden_effect = {
		    add_to_variable = {
                var = bank
                value = 2
                }
			}
		}
	}
	
	TRD_sell_guns = {
		icon = ger_military_buildup
		allowed = {
			original_tag = TRD
		}
		visible = {
			has_completed_focus = TRD_war_is_a_racket
		}

		custom_cost_trigger = {
			has_political_power > 24
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = decision_cost_2000_guns_25_pp

		days_re_enable = 60

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { bank < 25 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 20 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = 8
			}
			modifier = {
				check_variable = { bank < 5 }
				add = 10
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_sell_guns"
		    custom_effect_tooltip = TRD_gain_money_6_tp
			hidden_effect = {
			add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = -2000
            }
		    add_to_variable = {
                var = bank
                value = 3
                }
			}
		}
	}
}

military_training_category = {
	TRD_changeling_advisors = {
		icon = generic_army_support
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
			has_war = no
			NOT = {
				has_idea = TRD_changeling_adv
				has_idea = TRD_severnya_adv 
				has_idea = TRD_equestrian_adv
				has_idea = TRD_aquileian_adv
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 20

		ai_will_do = {
			base = 0
			modifier = {
				threat > 0.50
				add = 2
			}
			modifier = {
				has_government = democratic
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = neutrality
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = communism
				threat > 0.20
				add = 1
			}
			modifier = {
				has_government = fascism
				threat > 0.15
				add = 1
			}
			modifier = {
				has_political_power > 250
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		modifier = {
			experience_gain_army = 0.50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_changeling_advisors"
			hidden_effect = { 
			    add_political_power = -50
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_changeling_advisors"
			add_timed_idea = { idea = TRD_changeling_adv days = 200 }
		}
	}
	
	TRD_severnya_advisors = {
		icon = generic_industry
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
			has_war = no
			NOT = {
				has_idea = TRD_changeling_adv
				has_idea = TRD_severnya_adv 
				has_idea = TRD_equestrian_adv
				has_idea = TRD_aquileian_adv
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 20

		ai_will_do = {
			base = 0
			modifier = {
				threat > 0.50
				add = 2
			}
			modifier = {
				has_government = democratic
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = neutrality
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = communism
				threat > 0.20
				add = 1
			}
			modifier = {
				has_government = fascism
				threat > 0.15
				add = 1
			}
			modifier = {
				has_political_power > 250
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		modifier = {
			experience_gain_army = 0.50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_severnya_advisors"
			hidden_effect = { 
			    add_political_power = -50
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_severnya_advisors"
			add_timed_idea = { idea = TRD_severnya_adv days = 200 }
		}
	}
	
	TRD_equestria_advisors = {
		icon = generic_operation
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
			has_war = no
			NOT = {
				has_idea = TRD_changeling_adv
				has_idea = TRD_severnya_adv 
				has_idea = TRD_equestrian_adv
				has_idea = TRD_aquileian_adv
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 20

		ai_will_do = {
			base = 0
			modifier = {
				threat > 0.50
				add = 2
			}
			modifier = {
				has_government = democratic
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = neutrality
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = communism
				threat > 0.20
				add = 1
			}
			modifier = {
				has_government = fascism
				threat > 0.15
				add = 1
			}
			modifier = {
				has_political_power > 250
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		modifier = {
			experience_gain_army = 0.50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_equestria_advisors"
			hidden_effect = { 
			    add_political_power = -50
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_equestria_advisors"
			add_timed_idea = { idea = TRD_equestrian_adv days = 200 }
		}
	}
	
	TRD_aquileian_advisors = {
		icon = generic_ignite_civil_war
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 4 } }
			has_war = no
			NOT = {
				has_idea = TRD_changeling_adv
				has_idea = TRD_severnya_adv 
				has_idea = TRD_equestrian_adv
				has_idea = TRD_aquileian_adv
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 49
			check_variable = { bank > 4 }
		}
		custom_cost_text = decision_cost_bank_5_pp_50

		days_remove = 20

		ai_will_do = {
			base = 0
			modifier = {
				threat > 0.50
				add = 2
			}
			modifier = {
				has_government = democratic
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = neutrality
				threat > 0.25
				add = 1
			}
			modifier = {
				has_government = communism
				threat > 0.20
				add = 1
			}
			modifier = {
				has_government = fascism
				threat > 0.15
				add = 1
			}
			modifier = {
				has_political_power > 250
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
		modifier = {
			experience_gain_army = 0.50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_aquileian_advisors"
			hidden_effect = { 
			    add_political_power = -50
                subtract_from_variable = {
					var = bank
					value = 5
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_aquileian_advisors"
			add_timed_idea = { idea = TRD_aquileian_adv days = 200 }
		}
	}
	
	TRD_buy_light_tanks = {
		icon = generic_tank
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 2 } }
			any_owned_state = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 24
			check_variable = { bank > 2 }
		}
		custom_cost_text = decision_cost_bank_3_pp_25

		days_re_enable = 90
		days_remove = 7
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
        
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_buy_light_tanks"
			hidden_effect = { 
			    add_political_power = -25
                subtract_from_variable = {
					var = bank
					value = 3
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_buy_light_tanks"
		    add_equipment_to_stockpile = {
			    type = light_tank_equipment
			    amount = 60
			    producer = CHN
		    }
		}
	}
	
	TRD_buy_fighters = {
		icon = generic_air
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 2 } }
			any_owned_state = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 24
			check_variable = { bank > 2 }
		}
		custom_cost_text = decision_cost_bank_3_pp_25

		days_re_enable = 90
		days_remove = 7
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
        
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_buy_fighters"
			hidden_effect = { 
			    add_political_power = -25
                subtract_from_variable = {
					var = bank
					value = 3
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_buy_fighters"
		    add_equipment_to_stockpile = {
			    type = fighter_equipment
			    amount = 30
			    producer = CHN
		    }
		}
	}
	
	TRD_buy_bombers_dec = {
		icon = generic_air
		allowed = {
			original_tag = TRD
		}
		available = {
			hidden_trigger = { check_variable = { bank > 2 } }
			any_owned_state = {
				is_coastal = yes
				is_fully_controlled_by = ROOT
			}
		}
		visible = {
			NOT = {
			    has_government = communism
			}
			NOT = {
			    has_government = fascism
			}
			NOT = {
				AND = {
			        has_government = democratic
				    has_completed_focus = TRD_altesburg
			    }
			}
		}

		custom_cost_trigger = {
			has_political_power > 24
			check_variable = { bank > 2 }
		}
		custom_cost_text = decision_cost_bank_3_pp_25

		days_re_enable = 90
		days_remove = 7
		
		ai_will_do = {
			base = 0
			modifier = {
				has_political_power > 200
				add = 2
			}
			modifier = {
				check_variable = { bank > 30 }
				add = 3
			}
			modifier = {
				check_variable = { bank > 25 }
				add = 2
			}
			modifier = {
				check_variable = { bank > 20 }
				add = 1.5
			}
			modifier = {
				check_variable = { bank > 15 }
				add = 1
			}
			modifier = {
				check_variable = { bank < 15 }
				add = -4
			}
			modifier = {
				check_variable = { bank < 10 }
				add = -8
			}
		}
        
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_buy_bombers_dec"
			hidden_effect = { 
			    add_political_power = -25
                subtract_from_variable = {
					var = bank
					value = 3
				}				
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_buy_bombers_dec"
		    add_equipment_to_stockpile = {
			    type = tac_bomber_equipment
			    amount = 25
			    producer = CHN
		    }
		}
	}
}

foreign_politics = {
    TRD_join_faction = {
		icon = generic_ignite_civil_war
		allowed = {
			original_tag = TRD
		}
		targets = { GRW WNG JER FAT SRS }
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				OR = {
					original_tag = GRW
					original_tag = WNG
					original_tag = JER
					original_tag = FAT
					original_tag = SRS
				}
				has_government = ROOT
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}
		target_root_trigger = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_government = democratic
				has_government = communism
			}
			if = {
				limit = { has_government = communism }
				OR = {
					has_completed_focus = TRD_restructure_the_state
					has_completed_focus = TRD_our_shining_democracy
					has_completed_focus = TRD_perfection
				}
			}
			else = {
				has_completed_focus = TRD_a_better_skyfall
			}
		}
		visible = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_government = democratic
				has_government = communism
			}
			if = {
				limit = { has_government = communism }
				OR = {
					has_completed_focus = TRD_restructure_the_state
					has_completed_focus = TRD_our_shining_democracy
					has_completed_focus = TRD_perfection
				}
			}
			else = {
				has_completed_focus = TRD_a_better_skyfall
			}
			FROM = {
				exists = yes
				has_government = ROOT
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}
		
		days_re_enable = 90
				
		ai_will_do = {
			base = opinion@FROM
			modifier = {
				factor = 10
				always = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_join_faction target: [From.GetName]"
		    FROM = {
				country_event = generic.2
			}
		}
	}

    TRD_send_commie_advisors = {
		icon = generic_ignite_civil_war
		allowed = {
		    original_tag = TRD
		}
		available = {
			is_subject = no
			FROM = {
				has_opinion = {
					target = ROOT
					value > 20
				}
			}
		}
		target_trigger = {
			FROM = {
				has_government = communism
				has_war = yes
				NOT = { has_war_with = ROOT }
				NOT = { has_idea = TRD_skyfall_advisors_idea }
			}
		}
		target_root_trigger = {
			has_idea = TRD_internationalism_idea
		}
		visible = {
			has_idea = TRD_internationalism_idea
			FROM = {
				exists = yes
				has_government = communism
				has_war = yes
				NOT = { has_war_with = ROOT }
				NOT = { has_idea = TRD_skyfall_advisors_idea }
			}
		}
		cancel_trigger = {
			FROM = {
				OR = {
					exists = no
					NOT = { has_idea = TRD_skyfall_advisors_idea }
				}
			}
		}
		modifier = {
			max_command_power = -20
		}
		
		cost = 75
		
		days_remove = 999999
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = {
				factor = 0
				command_power < 30
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_send_commie_advisors target: [From.GetName]"
		    FROM = {
				add_ideas = TRD_skyfall_advisors_idea
				add_opinion_modifier = { target = ROOT modifier = TRD_sent_advisors }
				country_event = tradefed.999
			}
		}
	}
    TRD_conquer_FEZ = {
		icon = generic_ignite_civil_war
		allowed = {
		    original_tag = TRD
		}
		available = {
			is_subject = no
		}
		targets = { FEZ }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = FEZ }
		}
		target_root_trigger = {
		    OR = {
			    has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
		}
		visible = {
			OR = {
			    has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 75
		fire_only_once = yes
		
		days_remove = 60
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_conquer_FEZ target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
		    add_threat = 3
			hidden_effect = {
			    FEZ = { country_event = { days = 1 id = tradefed.29 } }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_conquer_FEZ target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = FEZ
				}
			}
			declare_war_on = {
                target = FEZ
                type = annex_everything
            }
		}
	}
	
	TRD_conquer_HAU = {
		icon = generic_ignite_civil_war
		allowed = {
		    original_tag = TRD
		}
		available = {
			is_subject = no
		}
		targets = { HAU }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = HAU }
		}
		target_root_trigger = {
		    OR = {
			    has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
		}
		visible = {
		    OR = {
			    has_completed_focus = TRD_the_city
				has_completed_focus = TRD_model_imperial_province
				has_completed_focus = TRD_a_better_skyfall
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 75
		fire_only_once = yes
		
		days_remove = 60
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_conquer_HAU target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
			add_threat = 3
			hidden_effect = {
			    HAU = { country_event = { days = 1 id = tradefed.29 } }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_conquer_HAU target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = HAU
				}
			}
			declare_war_on = {
                target = HAU
                type = annex_everything
            }
		}
	}
	
	TRD_spread_revolution_FEZ = {
		icon = generic_nationalism
		allowed = {
		    original_tag = TRD
		}
		available = {
			is_subject = no
		}
		targets = { FEZ }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = FEZ }
		}
		target_root_trigger = {
		    OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
			}
		}
		visible = {
			OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 75
		fire_only_once = yes
		
		days_remove = 60
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_spread_revolution_FEZ target: [From.GetName]"
			add_threat = 3
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
			hidden_effect = {
			    HAU = { country_event = { days = 1 id = tradefed.29 } }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_spread_revolution_FEZ target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = FEZ
				}
			}
			declare_war_on = {
                target = FEZ
                type = annex_everything
            }
		}
	}
	
	TRD_spread_revolution_HAU = {
		icon = generic_nationalism
		allowed = {
		    original_tag = TRD
		}
		available = {
			is_subject = no
		}
		targets = { HAU }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = HAU }
		}
		target_root_trigger = {
		    OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
			}
		}
		visible = {
			OR = {
		        has_completed_focus = TRD_restructure_the_state
				has_completed_focus = TRD_our_shining_democracy
				has_completed_focus = TRD_perfection
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 75
		fire_only_once = yes
		
		days_remove = 60
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision TRD_spread_revolution_HAU target: [From.GetName]"
			add_threat = 3
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
			hidden_effect = {
			    HAU = { country_event = { days = 1 id = tradefed.29 } }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TRD_spread_revolution_HAU target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = HAU
				}
			}
			declare_war_on = {
                target = HAU
                type = annex_everything
            }
		}
	}
}