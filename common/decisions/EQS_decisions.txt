EQS_celestia_evil_meter_category = {
	EQS_become_daybreaker_decision = {
		icon = celestia
		available = {
			hidden_trigger = {
				has_country_flag = { flag = celestia_evil_meter value > 46 }
			}
			if = {
				limit = { has_country_flag = { flag = celestia_evil_meter value > 46 }  }
				NOT = { has_country_flag = nightmare_moon }
				OR = {
					AND = {
						has_war = yes
						fascism > 0.3
					}
					fascism > 0.5
				}
			}
		}
		visible = {
			has_country_leader = { character = EQS_princess_celestia ruling_only = yes }
			
			is_subject = no
			NOT = {
				focus_progress = { focus = eqs_come_to_compromise progress > 0 }
				has_completed_focus = eqs_come_to_compromise
			}
			is_EQS_SOL = no
			OR = {
				has_war = yes
				hidden_trigger = { has_country_flag = { flag = celestia_evil_meter value > 8 } }
			}
			NOT = { has_country_flag = supernova_fired }
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_become_daybreaker_decision"
			if = {
				limit = { hidden_trigger = { has_country_flag = { flag = celestia_evil_meter value > 46 } } }
				set_country_flag = supernova_by_decision
				country_event = equestria.154
			}
		}
	}
	EQS_conscription_decision = {
		icon = rifles
		visible = {
			OR = {
				has_defensive_war = yes
				has_completed_focus = Extreme_war_comittee
				focus_progress = {
					focus = Extreme_war_comittee
					progress > 0
				}
				hidden_trigger = {
					AND = {
						is_ai = yes
						NOT = {
							has_game_rule = {
								rule = great_war_ai_buffs
								option = BUFFS_REMOVED
							}
						}
						OR = {
							any_country_with_original_tag = {
							original_tag_to_check = CHN
							AND = {
									NOT = { has_war_with = CCN }
									has_war = yes
								}
							}
							any_country_with_original_tag = {
							original_tag_to_check = CRY
							OR = {
									has_global_flag = sombra_returned 
								}
							}
							any_country_with_original_tag = {
							original_tag_to_check = OLE
							OR = {
									is_subject_of = CHN
									is_in_faction_with = CHN
								}
							}
							NOT = { country_exists = OLE }
							AND = {
								any_of_scopes = {
									array = global.majors
									is_major = yes
									exists = yes
									OR = {
										has_wargoal_against = ROOT
										is_justifying_wargoal_against = ROOT
										AND = {
											is_neighbor_of = ROOT
											has_added_tension_amount > 0
										}
									}
								}
							}
						}
					}
				}
			}
			has_country_flag = manpower_laws_blocked
		}
		cost = 10
		ai_will_do = {
			factor = 1000
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_conscription_decision"
			country_event = equestria.139
		}
	}
	EQS_economy_decision = {
		icon = generic_industry
		visible = {
			OR = {
				has_defensive_war = yes
				has_completed_focus = Extreme_war_comittee
				focus_progress = {
					focus = Extreme_war_comittee
					progress > 0
				}
				hidden_trigger = {
					AND = {
						is_ai = yes
						NOT = {
							has_game_rule = {
								rule = great_war_ai_buffs
								option = BUFFS_REMOVED
							}
						}
						OR = {
							any_country_with_original_tag = {
							original_tag_to_check = CHN
							AND = {
									NOT = { has_war_with = CCN }
									has_war = yes
								}
							}
							any_country_with_original_tag = {
							original_tag_to_check = CRY
							OR = {
									has_global_flag = sombra_returned 
								}
							}
							any_country_with_original_tag = {
							original_tag_to_check = OLE
							OR = {
									is_subject_of = CHN
									is_in_faction_with = CHN
								}
							}
							NOT = { country_exists = OLE }
							AND = {
								any_of_scopes = {
									array = global.majors
									is_major = yes
									exists = yes
									OR = {
										has_wargoal_against = ROOT
										is_justifying_wargoal_against = ROOT
										AND = {
											is_neighbor_of = ROOT
											has_added_tension_amount > 0
										}
									}
								}
							}
						}
					}
				}
			}
			has_country_flag = economic_laws_blocked
		}
		cost = 10
		ai_will_do = {
			factor = 1000
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_economy_decision"
			country_event = equestria.140
		}
	}
	EQS_celestia_speech_decision = {
		icon = celestia
		visible = {
			has_war_with = CHN
			has_completed_focus = Extreme_war_comittee

			has_country_leader = { ruling_only = yes character = EQS_princess_celestia }
			
		}
		cost = 25
		ai_will_do = {
			factor = 1000
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_celestia_speech_decision"
			country_event = equestria.143
			hidden_effect = {
				if = {
					limit = { is_ai = yes }
					add_political_power = 300
				}
			}
		}
	}
	EQS_enact_war_plan_decision = {
		icon = war_plan_eqs
		visible = {
			OR = {
				is_EQS_SOL = yes
				has_completed_focus = War_Plan
			}
			NOT = {
				has_idea = war_plan_equestria_mild
				has_idea = war_plan_equestria
				has_idea = war_plan_equestria_extreme
			}
		}
		available = {
			NOT = { has_country_flag = war_plan_timeout }
			has_war = yes
			OR = {
				has_war_support > 0.5
				surrender_progress > 0.15
				AND = {
					has_defensive_war = yes
					any_enemy_country = {
						is_major = yes
					}
				}
			}
		}
		cost = 100
		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				surrender_progress < 0.3
				OR = {
					has_stability < 0.75
					has_war_support < 0.75
					surrender_progress < 0.1
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_enact_war_plan_decision"
			if = {
				limit = { has_country_flag = EQS_war_plan_equestria_mild }
				add_ideas = war_plan_equestria_mild
			}
			else_if = {
				limit = { has_country_flag = EQS_war_plan_equestria }
				add_ideas = war_plan_equestria
			}
			else_if = {
				limit = { has_country_flag = EQS_war_plan_equestria_extreme }
				add_ideas = war_plan_equestria_extreme
			}
			else = {
				country_event = equestria.152
				if = {
					limit = {
						NOT = {
							has_idea = war_economy
							has_idea = tot_economic_mobilisation
						}
					}
					add_ideas = war_economy
				}
			}
			hidden_effect = {
				set_country_flag = { flag = war_plan_timeout days = 60 value = 1 }
			}
		}
	}
	EQS_turn_off_war_plan_decision = {
		icon = war_plan_eqs
		visible = {
			OR = {
				has_idea = war_plan_equestria_mild
				has_idea = war_plan_equestria
				has_idea = war_plan_equestria_extreme
			}
		}
		available = {
			NOT = { has_country_flag = war_plan_timeout }
		}
		cost = 50
		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				surrender_progress < 0.1
				OR = {
					has_stability < 0.75
					has_war_support < 0.75
				}
			}
			modifier = {
				add = 25
				surrender_progress < 0.2
				OR = {
					has_stability < 0.5
					has_war_support < 0.5
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_turn_off_war_plan_decision"
			if = {
				limit = { has_country_flag = EQS_war_plan_equestria_mild }
				remove_ideas = war_plan_equestria_mild
			}
			else_if = {
				limit = { has_country_flag = EQS_war_plan_equestria }
				remove_ideas = war_plan_equestria
			}
			else_if = {
				limit = { has_country_flag = EQS_war_plan_equestria_extreme }
				remove_ideas = war_plan_equestria_extreme
			}
			hidden_effect = {
				set_country_flag = { flag = war_plan_timeout days = 60 value = 1 }
			}
		}
	}
	EQS_support_thorax_decision = {
		icon = rifles
		visible = {
			has_government = democratic
			CHN = { has_war_with = CCN }
		}
		available = {
			has_equipment = { infantry_equipment > 499 }
		}
		cost = 50
		ai_will_do = {
			factor = 100
			modifier = {
				has_global_flag = EQS_evil_celestia
				factor = 0
			}
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_support_thorax_decision"
			send_equipment = { target = CCN type = infantry_equipment amount = 500 }
			reverse_add_opinion_modifier = { target = CCN modifier = OLE_civil_war_support }
			hidden_effect = {
				add_ai_strategy = {
					type = support
					id = "CCN"
					value = 300
				}
				set_country_flag = EQS_helped_CCN
			}
		}
	}
}
SOL_dealing_with_resistance = {
	SOL_resistance_crisis = {
		icon = revolt
		activation = {
			democratic > 0.3
			has_idea = SOL_harmonic_resistance_idea3
			has_war = no
		}
		available = {
			NOT = {
				has_idea = SOL_harmonic_resistance_idea3
			}
		}
		cancel_trigger = {
			hidden_trigger = { has_war = yes }
		}
		is_good = no
		days_mission_timeout = 240
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SOL_resistance_crisis"
			set_variable = { civ_war_size = party_popularity@democratic }
			multiply_variable = { civ_war_size = 2 }
			clamp_variable = {
				var = civ_war_size
				min = 0.4
				max = 0.65
			}
			add_stability = -0.3
			add_war_support = -0.3
			add_political_power = -250
			start_civil_war = {
				ideology = democratic
				size = civ_war_size
			}
			clear_variable = civ_war_size
			hidden_effect = {
				remove_ideas = SOL_harmonic_resistance_idea3
				random_other_country = {
					limit = {
						original_tag = EQS
						has_government = democratic
					}
					#load_focus_tree = { tree = equestria_focus keep_completed = yes }
					set_capital = { state = 75 }
					add_political_power = 450
					set_party_name = { ideology = fascism long_name = EQS_fascism_generic_party_long name = EQS_fascism_generic_party }
					set_country_flag = EQS_force_republic
					complete_national_focus = eqs_come_to_compromise
					complete_national_focus = eqs_allow_the_vote
					set_country_flag = congress_president
					set_cosmetic_tag = EQS_DEM1
					set_party_name = { ideology = democratic long_name = EQS_republic_long name = EQS_republic }
					country_event = { hours = 24 id = equestriadem.1 }
					set_country_flag = { flag = celestia_evil_meter value = 0 }
					save_global_event_target_as = equestria
					every_character = {
						limit = {
							is_country_leader = no
							OR = {
								is_character = EQS_prince_blueblood
								is_character = EQS_SOL_august_fon_eisenstadt
								is_character = EQS_SOL_comet_trail
								is_character = EQS_SOL_Stormchaser
								is_character = EQS_SOL_comm_rush
								is_character = EQS_SOL_Capsaicin
								is_character = EQS_SOL_midwinter_halo
							}
						}
						set_nationality = event_target:solar_empire
					}
					ROOT = {
						every_character = {
							limit = {
								is_country_leader = no
								OR = {
									is_character = EQS_applejack
									is_character = EQS_sergeant_reckless
									is_character = EQS_big_macintosh
									#has_id = 8
									is_character = EQS_pinkie_pie
									is_character = EQS_caltrop_decay
									is_character = EQS_braeburn
									is_character = EQS_NLR_tempest_wind
									is_character = EQS_NLR_midnight_oil
									is_character = EQS_NLR_bipen
									is_character = EQS_oli_equites
								}
							}
							set_nationality = PREV.PREV
						}
					}
				}
				news_event = { id = news.sol.5 hours = 1 }
			}
		}
	}
	SOL_laws = {
		icon = anti_harmony
		visible = {
			OR = {
				has_completed_focus = SOL_Freedom_from_Fear
				has_completed_focus = SOL_Firm_but_Fair
				has_completed_focus = SOL_Imperial_Inquisition
			}
			OR = {
				has_idea = SOL_harmonic_resistance_idea
				has_idea = SOL_harmonic_resistance_idea2
				has_idea = SOL_harmonic_resistance_idea3
			}
		}
		fire_only_once = yes
		cost = 70
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SOL_laws"
			unlock_decision_tooltip = SOL_wrap_up
			unlock_decision_tooltip = SOL_raids_2
			unlock_decision_tooltip = SOL_raids
			hidden_effect = { set_country_flag = SOL_laws_done }
		}
		ai_will_do = {
			factor = 20
		}
	}
	SOL_raids = {
		icon = anti_harmony
		visible = {
			has_idea = SOL_harmonic_resistance_idea3
		}
		available = {
			has_country_flag = SOL_laws_done
			hidden_trigger = {
				NOT = {
					has_country_flag = block_harmonic_resistance
				}
			}
		}
		cost = 140
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SOL_raids"
			swap_ideas = { add_idea = SOL_harmonic_resistance_idea2 remove_idea = SOL_harmonic_resistance_idea3 }
		}
		modifier = {
			democratic_drift = -0.02
			stability_factor = -0.05
			political_power_cost = 0.2
		}
		ai_will_do = {
			factor = 100
		}
	}
	SOL_raids_2 = {
		icon = anti_harmony
		visible = {
			has_idea = SOL_harmonic_resistance_idea2
		}
		available = {
			has_country_flag = SOL_laws_done
			hidden_trigger = {
				NOT = {
					has_country_flag = block_harmonic_resistance
				}
			}
		}
		cost = 70
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SOL_raids_2"
			swap_ideas = { add_idea = SOL_harmonic_resistance_idea remove_idea = SOL_harmonic_resistance_idea2 }
			hidden_effect = {
				clr_country_flag = SOL_raids_2_in_progress
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOL_raids_2"
			hidden_effect = {
				set_country_flag = SOL_raids_2_in_progress
			}
		}
		modifier = {
			democratic_drift = -0.02
		}
		ai_will_do = {
			factor = 20
		}
	}
	SOL_wrap_up = {
		icon = anti_harmony
		visible = {
			has_idea = SOL_harmonic_resistance_idea
		}
		available = {
			has_country_flag = SOL_laws_done
			hidden_trigger = {
				NOT = {
					has_country_flag = block_harmonic_resistance
				}
			}
		}
		fire_only_once = yes
		cost = 100
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SOL_wrap_up"
			remove_ideas = SOL_harmonic_resistance_idea
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			hidden_effect = { clr_country_flag = SOL_wrap_up_in_progress }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOL_wrap_up"
			hidden_effect = {
				set_country_flag = SOL_wrap_up_in_progress
				country_event = { id = solarempire.30 days = 35 }
			}
		}
		ai_will_do = {
			factor = 20
		}
	}
}
SOL_trolling_chiropterra = {
	SOL_bat_puppeting = {
		icon = soljudge
		available = {
		    is_subject = no
		    has_DB_ruler = yes
			BAT = {
			    exists = no
			}
			custom_trigger_tooltip = {
				tooltip = SOL_BAT_decision_req_tt
				all_of_scopes = {
					array = BAT.core_states
					owner = {
						OR = {
							tag = EQS
							is_subject_of = EQS
						}
						PREV = { is_fully_controlled_by = PREV }
					}
				}
			}
		}

		cost = 50

		days_remove = 1

		fire_only_once = yes

        ai_will_do = {
			factor = 15
        }

		visible = {
			has_government = fascism
			is_subject = no
		    has_DB_ruler = yes
			all_of_scopes = {
				array = BAT.core_states
				owner = {
					OR = {
						tag = EQS
						is_subject_of = EQS
					}
					PREV = { is_fully_controlled_by = PREV }
				}
			}
		}

		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			custom_effect_tooltip = SOL_BAT_puppet_tt0
			custom_effect_tooltip = BAR_viira_puppet_break
			custom_effect_tooltip = SOL_BAT_puppet_tt1
			713 = {
				add_manpower = -343468
				set_state_category = wasteland
			}
			set_province_name = {
				id = 18601
				name =  EQS_SOL_port
			}
			set_capital = {state = 713}
			712 = {
				add_manpower = -620322
				set_state_category = wasteland
			}
			custom_effect_tooltip = BAR_viira_puppet_genocide2_5
			custom_effect_tooltip = EQS_SOL_BAT_GAMER1
			add_victory_points = {
				province = 18570
				value = -19
			}
			set_province_name = {
				id = 18570
				name = EQS_SOL_batcityburnt
			}
			690 = {
				add_manpower = -138034
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER2
			add_victory_points = {
				province = 18583
				value = -3
			}
			689 = {
				add_manpower = -356244
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER3
			add_victory_points = {
				province = 18526
				value = -5
			}
			691 = {
				add_manpower = -448210
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER4
			add_victory_points = {
				province = 18499
				value = -3
			}
			815 = {
				add_manpower = -204763
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER5
			add_victory_points = {
				province = 18477
				value = -3
			}
			custom_effect_tooltip = BAR_viira_puppet_break
			custom_effect_tooltip = SOL_BAT_puppet_tt3
			show_ideas_tooltip = SOL_BAT_order
			hidden_effect = {
			712 = {
					remove_building = {
    					type = arms_factory
    					level = 100
					}
					remove_building = {
    					type = infrastructure
    					level = 5
					}
					remove_building = {
    					type = dockyard
    					level = 100
					}
					remove_building = {
    					type = industrial_complex
    					level = 100
					}
			}
			712 = {
					remove_building = {
    					type = arms_factory
    					level = 100
					}
					remove_building = {
    					type = infrastructure
    					level = 5
					}
					remove_building = {
    					type = dockyard
    					level = 100
					}
					remove_building = {
    					type = industrial_complex
    					level = 100
					}
			}
			create_dynamic_country = {
                original_tag = BAT
                set_country_flag = BAT_SOLAR
                set_politics = {
                    ruling_party = fascism
                    elections_allowed = no
                }
                set_cosmetic_tag = BAT_SOL
                set_research_slots = 3
				set_AI_strategies_on_every_possible_country_delayed = yes
            }
			EQS_SOL_batcouncil = {
				set_nationality = BTS
			}
			BTS = {
			    add_ideas = {
	                pony_race
			        modern_society
			        proper_science_base
			        no_lack_of_scientists
			        no_poverty
			    }
				    add_ideas = SOL_BAT_order
					load_focus_tree = barrad_focus_viira_bonus
					set_party_name = { 
						ideology = fascism 
						name = BAT_SOL_PUPPET_fash
						long_name = BAT_SOL_PUPPET_fash_long
					}
					add_country_leader_role = {
						character = EQS_SOL_batcouncil
						promote_leader = yes

						country_leader = {
							expire = "1965.1.1"
							ideology = falangism
							traits = { }
						}
					}
					transfer_state = 713
					transfer_state = 712
					transfer_state = 690
					transfer_state = 691
					transfer_state = 689
					transfer_state = 815
				    add_state_core = 713
					add_state_core = 712
					add_state_core = 690
					add_state_core = 691
					add_state_core = 689
					add_state_core = 815
				}
            puppet = BTS
			}
		}
    }
}
demobilization = {
	EQS_remove_fascism_decision = {
		icon = generic_political_actions
		visible = {
			tag = EQS
			has_war = no
			has_country_flag = { flag = celestia_evil_meter value < 34 }
			OR = {
				has_idea = eqs_media_control
				has_idea = eqs_war_law_extreme
				has_idea = eqs_war_admin_extreme
				has_idea = eqs_order_idea
			}
		}
		cost = 75
		ai_will_do = {
			factor = 10
			modifier = {
				fascism > 0.3
				factor = 2
			}
			modifier = {
				has_global_flag = EQS_nice_celestia
				factor = 5
			}
			modifier = {
				has_global_flag = EQS_evil_celestia
				factor = 0
			}
		}
		fire_only_once = yes
		days_remove = 60
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_remove_fascism_decision"
			remove_ideas = {
				eqs_media_control
				eqs_war_law_extreme
				eqs_war_admin_extreme
				eqs_order_idea
			}
		}
		modifier = {
			fascism_drift = -0.08
		}
	}
}
political_actions = {
	SOL_rehabilitate_generals = {

		icon = generic_army_support

		fire_only_once = yes
		allowed = {
			original_tag = EQS
		}
		cost = sol_redemption_cost?200
		visible = {
			is_EQS_SOL = yes
			has_completed_focus = SOL_rehabilitate
			NOT = {
				country_exists = event_target:equestria
			}
			NOT = {
				has_character = EQS_soarin
				has_character = EQS_fast_clip
				has_character = EQS_whiplash
				has_character = EQS_sergeant_reckless
				has_character = EQS_madoor_stronghammer
				has_character = EQS_evening_squall
				has_character = EQS_fizzlepop
				has_character = EQS_bernard_hoofgonery
				has_character = EQS_allen_spark
				has_character = EQS_swift_wing
				has_character = EQS_sun_marble
				has_character = EQS_sentinel
				has_character = EQS_Fireflight
			}
		}

		available = {
			is_subject = no
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SOL_rehabilitate_generals"
			if = {
				limit = { NOT = { has_character = EQS_soarin } }
				every_possible_country = {
					limit = {
						has_character = EQS_soarin
					}
					EQS_soarin = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_fast_clip } }
				every_possible_country = {
					limit = {
						has_character = EQS_fast_clip
					}
					EQS_fast_clip = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_whiplash } }
				every_possible_country = {
					limit = {
						has_character = EQS_whiplash
					}
					EQS_whiplash = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_sergeant_reckless } }
				every_possible_country = {
					limit = {
						has_character = EQS_sergeant_reckless
					}
					EQS_sergeant_reckless = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_fizzlepop } }
				every_possible_country = {
					limit = {
						has_character = EQS_fizzlepop
					}
					EQS_fizzlepop = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_bernard_hoofgonery } }
				every_possible_country = {
					limit = {
						has_character = EQS_bernard_hoofgonery
					}
					EQS_bernard_hoofgonery = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_madoor_stronghammer } }
				every_possible_country = {
					limit = {
						has_character = EQS_madoor_stronghammer
					}
					EQS_madoor_stronghammer = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_evening_squall } }
				every_possible_country = {
					limit = {
						has_character = EQS_evening_squall
					}
					EQS_evening_squall = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_allen_spark } }
				every_possible_country = {
					limit = {
						has_character = EQS_allen_spark
					}
					EQS_allen_spark = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_swift_wing } }
				every_possible_country = {
					limit = {
						has_character = EQS_swift_wing
					}
					EQS_swift_wing = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_sentinel } }
				every_possible_country = {
					limit = {
						has_character = EQS_sentinel
					}
					EQS_sentinel = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_sun_marble } }
				every_possible_country = {
					limit = {
						has_character = EQS_sun_marble
					}
					EQS_sun_marble = {
						set_nationality = ROOT 
					}
				}
			}
			if = {
				limit = { NOT = { has_character = EQS_Fireflight } }
				every_possible_country = {
					limit = {
						has_character = EQS_Fireflight
					}
					EQS_Fireflight = {
						set_nationality = ROOT 
					}
				}
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
	EQS_rename_stalliongrad_decision = {
		icon = anti_communist
		allowed = {
			original_tag = EQS
		}
		visible = {
			owns_state = 153
			OR = {
				has_government = fascism
				has_country_flag = war_with_stg
			}
			NOT = { has_country_flag = stg_renamed_eqs }
			NOT = { has_country_flag = EQS_april_fools }
		}


		highlight_states = {
			highlight_state_targets = {
				state = 153
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_rename_stalliongrad_decision"
			country_event = equestria.133
			hidden_effect = {
				168 = {
					reset_state_name = yes
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	EQS_generic_rename_stalliongrad_decision = {
		icon = anti_communist
		allowed = {
			NOT = {
				original_tag = EQS
				original_tag = NLR
				original_tag = CHN
				original_tag = MAN
				original_tag = STG
				original_tag = STL
			}
		}
		visible = {
			NOT = {
				has_global_flag = stg_renamed
				has_government = communism
			}
			owns_state = 153
		}
		highlight_states = {
			highlight_state_targets = {
				state = 153
			}
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_generic_rename_stalliongrad_decision"
			153 = { set_state_name = EQS_vp_princessyn }
			235 = { set_state_name = EQS_vp_ladimir }
			168 = {
				reset_state_name = yes
			}
			set_global_flag = stg_renamed
		}
	}
}
foreign_politics = {
	EQS_annex_darkwing = {
		icon = stg_cores
		allowed = { original_tag = EQS }
		available = {
			FROM = {
				is_subject_of = ROOT
				has_country_flag = darwking_puppet
				NOT = { has_country_flag = darkwing_not_ready_to_be_annexed }
			}
		}
		visible = {
			has_government = democratic
			FROM = {
				original_tag = STG
				exists = yes
				is_subject_of = ROOT
			}
		}
		target_root_trigger = {
			has_government = democratic
		}
		targets = { STG }
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				original_tag = STG
				is_subject_of = ROOT
			}
		}
		cost = 50
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_annex_darkwing target: [From.GetName]"
			FROM = {
				country_event = stalliongrad.143
			}
		}
	}
	EQS_stop_commies = {
		 visible = {
               has_country_flag = EQS_remove_stalliongradian_influence
          }
		icon = red_star

		cost = 200
		
		ai_will_do = {
			factor = 150
		}
		
		fire_only_once = yes
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YAK_stop_commies"
			add_stability = -0.1
			remove_ideas = internationalism
			remove_ideas = stalliongrad_propaganda
			clr_country_flag = EQS_remove_stalliongradian_influence
		}
	}
}
EQS_bring_back_puppets = {
	EQS_bring_back_puppet = {
		icon = generic_political_actions
		days_re_enable = 30
		visible = {
			is_subject = no
			eqs_not_has_civil_war = yes
			OR = {
				has_completed_focus = SOL_end_of_civil_war
				AND = {
					is_original_EQS = yes
					OR = {
						has_completed_focus = EQS_Civil_War_End
						has_global_flag = equestrian_civil_war_daybreaker_ended
					}
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				has_country_flag = former_EQS_puppet
				is_former_subject = yes
				has_war = no
			}
		}
		target_root_trigger = {
			is_subject = no
			eqs_not_has_civil_war = yes
			OR = {
				has_completed_focus = SOL_end_of_civil_war
				AND = {
					is_original_EQS = yes
					OR = {
						has_completed_focus = EQS_Civil_War_End
						has_global_flag = equestrian_civil_war_daybreaker_ended
					}
				}
			}
		}
		target_array = global.former_EQS_puppets
		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				has_country_flag = former_EQS_puppet
				is_former_subject = yes
				has_war = no
			}
		}
		cost = 50
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 1.5
					strength_ratio = { tag = FROM ratio < 1 }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_puppet target: [From.GetName]"
			if = {
				limit = { is_EQS_SOL = yes }
				FROM = { country_event = { id = solarempire.12 days = 1 } }
			}
			else_if = {
				limit = { is_original_EQS = yes }
				FROM = { country_event = { id = solarempire.123 days = 1 } }
			}
		}
	}
}
EQS_bring_back_civil_war_countries = {
	EQS_bring_back_SCS = {
		icon = generic_political_actions
		visible = {
			has_completed_focus = EQS_United_Equestria
			country_exists = FROM
		}
		available = {
			has_war = no
			FROM = {
				is_subject = no
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = EQS_United_Equestria
		}
		targets = { SCS }
		target_trigger = {
			FROM = {
				tag = SCS
			}
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_SCS target: [From.GetName]"
			country_event = equestria.117
		}
		ai_will_do = {
			factor = 100
			#modifier = {
			#	factor = 0
			#	strength_ratio = {
			#		tag = FROM
			#		ratio < 0.8
			#	}
			#}
		}
	}
	EQS_bring_back_VAN = {
		icon = generic_political_actions
		visible = {
			has_completed_focus = EQS_United_Equestria
			country_exists = FROM
		}
		available = {
			has_war = no
			FROM = {
				is_subject = no
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = EQS_United_Equestria
		}
		targets = { VAN }
		target_trigger = {
			FROM = {
				tag = VAN
			}
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_VAN target: [From.GetName]"
			country_event = equestria.118
		}
		ai_will_do = {
			factor = 100
			#modifier = {
			#	factor = 0
			#	strength_ratio = {
			#		tag = FROM
			#		ratio < 0.8
			#	}
			#}
		}
	}
	EQS_bring_back_BAL = {
		icon = generic_political_actions
		visible = {
			has_completed_focus = EQS_United_Equestria
			country_exists = FROM
		}
		available = {
			has_war = no
			FROM = {
				is_subject = no
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = EQS_United_Equestria
		}
		targets = { BAL }
		target_trigger = {
			FROM = {
				tag = BAL
			}
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_BAL target: [From.GetName]"
			country_event = equestria.119
		}
		ai_will_do = {
			factor = 100
			#modifier = {
			#	factor = 0
			#	strength_ratio = {
			#		tag = FROM
			#		ratio < 0.8
			#	}
			#}
		}
	}
	EQS_bring_back_JUN = {
		icon = generic_political_actions
		visible = {
			has_completed_focus = EQS_United_Equestria
			country_exists = FROM
		}
		available = {
			has_war = no
			FROM = {
				is_subject = no
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = EQS_United_Equestria
		}
		targets = { JUN }
		target_trigger = {
			FROM = {
				tag = JUN
			}
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_JUN target: [From.GetName]"
			country_event = equestria.112
		}
		ai_will_do = {
			factor = 100
			#modifier = {
			#	factor = 0
			#	strength_ratio = {
			#		tag = FROM
			#		ratio < 0.8
			#	}
			#}
		}
	}
		EQS_bring_back_LSP = {
		icon = generic_political_actions
		visible = {
			has_completed_focus = EQS_United_Equestria
			country_exists = FROM
		}
		available = {
			has_war = no
			FROM = {
				is_subject = no
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = EQS_United_Equestria
		}
		targets = { LSP }
		target_trigger = {
			FROM = {
				tag = LSP
			}
		}
		fire_only_once = yes
		cost = 10
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_bring_back_LSP target: [From.GetName]"
			country_event = equestria.1170  
		}
		ai_will_do = {
			factor = 100
			#modifier = {
			#	factor = 0
			#	strength_ratio = {
			#		tag = FROM
			#		ratio < 0.8
			#	}
			#}
		}
	}
}
military_training_category = {
	EQS_improve_tank = {
		icon = GFX_decision_generic_tank
		allowed = {
			original_tag = EQS
			NOT = {
				has_dlc = "No Step Back"
			}
		}
		visible = {
			has_idea = EQS_bad_tanks
		}
		ai_will_do = {
			factor = 10
		}
		custom_cost_trigger = {
			has_army_experience > 9
		}
		fire_only_once = yes
		complete_effect = {
			swap_ideas = {
				remove_idea = EQS_bad_tanks
				add_idea = EQS_bad_tanks2
			}
			hidden_effect = {
				army_experience = -10
			}
		}
	}
	EQS_improve_tank2 = {
		icon = GFX_decision_generic_tank
		allowed = {
			original_tag = EQS
			NOT = {
				has_dlc = "No Step Back"
			}
		}
		custom_cost_trigger = {
			has_army_experience > 19
		}
		visible = {
			has_idea = EQS_bad_tanks2
		}
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes
		complete_effect = {
			swap_ideas = {
				remove_idea = EQS_bad_tanks2
				add_idea = EQS_bad_tanks3
			}
			hidden_effect = {
				army_experience = -20
			}
		}
	}
	EQS_improve_tank3 = {
		icon = GFX_decision_generic_tank
		allowed = {
			original_tag = EQS
			NOT = {
				has_dlc = "No Step Back"
			}
		}
		custom_cost_trigger = {
			has_army_experience > 29
		}
		visible = {
			has_idea = EQS_bad_tanks3
		}
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes
		complete_effect = {
			remove_ideas = EQS_bad_tanks3
			hidden_effect = {
				army_experience = -30
			}
		}
	}
	
}
EQS_militias = {
	EQS_militias_north_central_region = {			#8 divisions
		icon = rifles_whinnyapolis
		available = {
			179 = { is_owned_and_controlled_by = EQS }
			74 = { is_owned_and_controlled_by = EQS }
			178 = { is_owned_and_controlled_by = EQS }
			70 = { is_owned_and_controlled_by = EQS }
			is_EQS_losing_war_20 = yes
		}
		#cost = 40
		ai_will_do = {
			factor = 500
		}
		fire_only_once = yes
		visible = {
			has_defensive_war = yes
			any_enemy_country = {
				is_major = yes
			}
			eqs_not_has_civil_war = yes
		}
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete EQS_militias_north_central_region"
			if = {
				limit = { NOT = { has_country_flag = militia_division_template } }
				delete_unit_template_and_units = { division_template = "Militia Division" }
				division_template = {
					name = "Militia Division"			#Infantry Division
					priority = 0
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				set_country_flag = militia_division_template
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_militias_north_central_region"
			custom_effect_tooltip = EQS_north_cent_militia_tt
			hidden_effect = {
				load_oob = "EQS_north_central_militia"
			}
		}
		modifier = {
			political_power_gain = -2.5
		}
	}
	EQS_militias_east_coast = {				#8 divisions
		icon = rifles_manehattan
		available = {
			75 = { is_owned_and_controlled_by = EQS }
			110 = { is_owned_and_controlled_by = EQS }
			12 = { is_owned_and_controlled_by = EQS }
			187 = { is_owned_and_controlled_by = EQS }
			230 = { is_owned_and_controlled_by = EQS }
			is_EQS_losing_war_20 = yes
		}
		#cost = 40
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		visible = {
			has_defensive_war = yes
			any_enemy_country = {
				is_major = yes
			}
			eqs_not_has_civil_war = yes
		}
		days_remove = 35
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete EQS_militias_east_coast"
			if = {
				limit = { NOT = { has_country_flag = militia_division_template } }
				delete_unit_template_and_units = { division_template = "Militia Division" }
				division_template = {
					name = "Militia Division"			#Infantry Division
					priority = 0
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				set_country_flag = militia_division_template
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_militias_east_coast"
			custom_effect_tooltip = EQS_east_coast_militia_tt
			hidden_effect = {
				load_oob = "EQS_east_coast_militia"
			}
		}
		modifier = {
			political_power_gain = -2.5
		}
	}
	EQS_militias_central_equestria = {		#12 divisions
		icon = rifles_canterlot
		available = {
			1 = { is_owned_and_controlled_by = EQS }
			2 = { is_owned_and_controlled_by = EQS }
			3 = { is_owned_and_controlled_by = EQS }
			is_EQS_losing_war_20 = yes
		}
		#cost = 40
		ai_will_do = {
			factor = 150
		}
		fire_only_once = yes
		visible = {
			has_defensive_war = yes
			any_enemy_country = {
				is_major = yes
			}
			eqs_not_has_civil_war = yes
		}
		days_remove = 70
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete EQS_militias_central_equestria"
			if = {
				limit = { NOT = { has_country_flag = militia_division_template } }
				delete_unit_template_and_units = { division_template = "Militia Division" }
				division_template = {
					name = "Militia Division"			#Infantry Division
					priority = 0
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				set_country_flag = militia_division_template
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_militias_central_equestria"
			custom_effect_tooltip = EQS_equestrian_heart_militia_tt
			hidden_effect = {
				load_oob = "EQS_equestrian_heart_militia"
			}
		}
		modifier = {
			political_power_gain = -2.5
		}
	}
	EQS_militias_south_west = {				#10 divisions
		icon = rifles_appleloosa
		available = {
			66 = { is_owned_and_controlled_by = EQS }
			38 = { is_owned_and_controlled_by = EQS }
			21 = { is_owned_and_controlled_by = EQS }
			is_EQS_losing_war_20 = yes
		}
		#cost = 40
		ai_will_do = {
			factor = 250
		}
		fire_only_once = yes
		visible = {
			has_defensive_war = yes
			any_enemy_country = {
				is_major = yes
			}
			eqs_not_has_civil_war = yes
		}
		days_remove = 40
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete EQS_militias_south_east"
			if = {
				limit = { NOT = { has_country_flag = militia_division_template } }
				delete_unit_template_and_units = { division_template = "Militia Division" }
				division_template = {
					name = "Militia Division"			#Infantry Division
					priority = 0
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				set_country_flag = militia_division_template
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_militias_south_east"
			custom_effect_tooltip = EQS_south_east_militia_tt
			hidden_effect = {
				load_oob = "EQS_south_east_militia"
			}
		}
		modifier = {
			political_power_gain = -2.5
		}
	}
	EQS_militias_south_east = {				#8 divisions
		icon = rifles_temple
		available = {
			13 = { is_owned_and_controlled_by = EQS }
			16 = { is_owned_and_controlled_by = EQS }
			15 = { is_owned_and_controlled_by = EQS }
			is_EQS_losing_war_20 = yes
		}
		#cost = 40
		ai_will_do = {
			factor = 50
		}
		fire_only_once = yes
		visible = {
			NOT = { BAL = { exists = yes } }
			has_defensive_war = yes
			any_enemy_country = {
				is_major = yes
			}
			eqs_not_has_civil_war = yes
		}
		days_remove = 45
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete EQS_militias_south_west"
			if = {
				limit = { NOT = { has_country_flag = militia_division_template } }
				delete_unit_template_and_units = { division_template = "Militia Division" }
				division_template = {
					name = "Militia Division"			#Infantry Division
					priority = 0
					is_locked = yes
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
				
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				set_country_flag = militia_division_template
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_militias_south_west"
			custom_effect_tooltip = EQS_south_west_militia_tt
			hidden_effect = {
				load_oob = "EQS_south_west_militia"
			}
		}
		modifier = {
			political_power_gain = -2.5
		}
	}
}
EQS_foreign_affairs = {
	EQS_call_yakyakistan_to_war_CHN = {
		icon = rifles

		fire_only_once = yes
		available = {
			surrender_progress > 0.1
		}
		visible = {
			has_completed_focus = pinkie_pie
			has_defensive_war_with = CHN
			FROM = {
				exists = yes 
				is_subject = no
				has_war = no
				has_government = democratic
			}
		}
		target_root_trigger = {
			has_completed_focus = pinkie_pie
			has_defensive_war_with = CHN
		}
		targets = { YAK }
		target_trigger = {
			FROM = { tag = YAK }
		}
		cost = 20
		ai_will_do = {
			factor = 0
			modifier = {
				add = 14
				surrender_progress > 0.1
			}
			modifier = {
				add = 40
				surrender_progress > 0.2
			}
			modifier = {
				add = 70
				surrender_progress > 0.35
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_call_yakyakistan_to_war_CHN target: [From.GetName]"
			YAK = { country_event = equestria.72 }
		}
	}
	EQS_sombra_return_civil_war_help = {
		icon = sombra_return
		available = {
			has_war_support > 0.10
		}
		cost = 50
		ai_will_do = {
			factor = 150
		}
		fire_only_once = yes
		targets = { CRY }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = CRY }
		}

		visible = {
			FROM = { 
				has_civil_war = yes
				exists = yes
				original_tag = CRY
				has_global_flag = sombra_returned 
				has_government = fascism
			}
		}
		cancel_trigger = {
			FROM = {
				has_civil_war = no
			}
		}
		war_with_target_on_remove = yes
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_sombra_return_civil_war_help target: [From.GetName]"
			random_other_country = {
				limit = { original_tag = CRY has_government = democratic}
				save_event_target_as = cry_dem
				add_political_power = 150
				add_manpower = 50000
				custom_effect_tooltip = sombra_civil_war_tt
				hidden_effect = {
					load_oob = "EQS_sombra_civil_war"
					ROOT = {
						add_ai_strategy = {
							type = support
							id = PREV
							value = 300
						}
					}
				}
			}
			country_event = {
				id = equestria.53 days = 1
			}
		}
		modifier = {
			political_power_gain = -0.3
		}
	}
	EQS_sombra_return_war = {
		icon = sombra_return
		available = {
			has_war_support > 0.10
		}
		cost = 50
		ai_will_do = {
			factor = 150
		}
		fire_only_once = yes
		targets = { CRY }
		targets_dynamic = yes
		target_trigger = {
			FROM = { original_tag = CRY }
		}

		war_with_on_remove = CRY
		target_root_trigger = {
			has_global_flag = sombra_returned
			has_global_flag = return_of_sombra
		}
		visible = {
			has_global_flag = sombra_returned
			has_global_flag = return_of_sombra
			FROM = {
				original_tag = CRY
				exists = yes
				has_government = fascism
				has_country_leader = { character = CRY_sombra ruling_only = yes }
				has_civil_war = no
			}
		}
		cancel_trigger = {
			FROM = {
				has_war_with = ROOT
			}
		}
		days_remove = 70
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_sombra_return_war target: [From.GetName]"
			country_event = {
				id = equestria.54 days = 1
			}
		}
		modifier = {
			political_power_gain = -0.3
		}
	}
	EQS_operation_sunrise_freedom = {
		icon = rifles
		cost = 100
		ai_will_do = {
			factor = 150
		}
		fire_only_once = yes

		war_with_target_on_remove = yes
		targets = { EQC }
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				original_tag = EQC
				has_country_flag = is_maresoc
				has_government = communism
			}
		}
		target_root_trigger = {
			has_country_flag = EQS_will_war_with_maresoc
			is_subject = no
		}
		visible = {
			has_country_flag = EQS_will_war_with_maresoc
			FROM = {
				exists = yes
				original_tag = EQC
				has_country_flag = is_maresoc
				has_government = communism
				NOT = { has_war_with = ROOT }
			}
		}
		days_remove = 70

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision EQS_operation_sunrise_freedom target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
			FROM = {
				activate_targeted_decision = { target = ROOT decision = EQC_equestria_anti_maresoc }
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_operation_sunrise_freedom target: [From.GetName]"
			log = "[GetDateText] [Root.GetName]: decision EQS_operation_sunrise_freedom"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = puppet_wargoal_focus 
					target = FROM 
				}
			}
			declare_war_on = {
				type = puppet_wargoal_focus
				target = FROM
			}
			every_country ={
				limit = { has_country_flag = will_help_against_maresoc }
				country_event = { id = mareland.63 hours = 2 }
			}
		}

		modifier = {
			war_support_weekly = 0.025
			political_power_gain = -0.05
		}
	}
}
EQS_construction_projects = {
	EQS_develop_canterlot_fillydelphia_railroad = {
		icon = railroad
		available = {
			3 = { is_owned_and_controlled_by = ROOT }
			65 = { is_owned_and_controlled_by = ROOT }
			109 = { is_owned_and_controlled_by = ROOT }
			12 = { is_owned_and_controlled_by = ROOT }
		}
		cost = 25
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				has_political_power > 155
			}
		}
		fire_only_once = yes
		visible = {
		}
		highlight_states = {
			highlight_state_targets = {
				state = 3
				state = 65
				state = 109
				state = 12
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		days_remove = 80
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_develop_canterlot_fillydelphia_railroad"
			set_country_flag = equestrian_railroads_1
			build_railway = {
                level = 1
                path = { 179 11114 9738 6788 3773 3976 771 11726 3772 9478 11718 3887  }
            }
			build_railway = {
                level = 1
                path = { 3887 11870 9889 832 888 3858 10063 950 }
            }
			3 = {
				add_extra_state_shared_building_slots = 1
			}
			12 = {
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	EQS_develop_fillydelphia_manehattan_railroad = {
		icon = railroad
		available = {
			12 = { is_owned_and_controlled_by = ROOT }
			185 = { is_owned_and_controlled_by = ROOT }
			110 = { is_owned_and_controlled_by = ROOT }
			75 = { is_owned_and_controlled_by = ROOT }
		}
		cost = 25
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				has_political_power > 155
			}
		}
		fire_only_once = yes
		visible = {
		}
		highlight_states = {
			highlight_state_targets = {
				state = 110
				state = 185
				state = 75
				state = 12
			}
		}
		modifier = {
			civilian_factory_use = 1
		}
		days_remove = 80
		remove_effect = {
			build_railway = {
               level = 1
               path = { 950 12081 9828 1178 9891 6954 7068 7153 920 970 11805 9686 11710 }
			}
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_develop_fillydelphia_manehattan_railroad"
			set_country_flag = equestrian_railroads_2
			12 = {
				add_extra_state_shared_building_slots = 1
			}
			75 = {
				add_extra_state_shared_building_slots = 1
			}
		}
	}
	EQS_develop_west_coast_to_canterlot = {
		icon = railroad
		available = {
			14 = { is_owned_and_controlled_by = ROOT }
			45 = { is_owned_and_controlled_by = ROOT }
			59 = { is_owned_and_controlled_by = ROOT }
			46 = { is_owned_and_controlled_by = ROOT }
			48 = { is_owned_and_controlled_by = ROOT }
			96 = { is_owned_and_controlled_by = ROOT }
			125 = { is_owned_and_controlled_by = ROOT }
			95 = { is_owned_and_controlled_by = ROOT }
			99 = { is_owned_and_controlled_by = ROOT }
			68 = { is_owned_and_controlled_by = ROOT }
			3 = { is_owned_and_controlled_by = ROOT }
		}
		cost = 25
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				has_political_power > 155
			}
		}
		fire_only_once = yes
		visible = {
		}
		highlight_states = {
			highlight_state_targets = {
				state = 14
				state = 45
				state = 59
				state = 46
				state = 48
				state = 96
				state = 125
				state = 95
				state = 99
				state = 68
				state = 3
			}
		}
		modifier = {
			civilian_factory_use = 1
		}
		days_remove = 80
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove EQS_develop_west_coast_to_canterlot"
			set_country_flag = equestrian_railroads_3
			build_railway = {
               level = 1
               path = { 179 11114 911 9909 3961 9603 11672 6731 9672 11676 6282 11359 526 9375 3522 388 243 130 205 9035 11515 9193 35 3182 6050 11231 9410 6412 3106 11197 11044 3141 11380 6311 11160 2064 7943 5095 12022 12082 10754 7985 3573 737 4129 7077 9994 7180 1141 585 }
			}
			3 = {
				add_extra_state_shared_building_slots = 1
			}
			14 = {
				add_extra_state_shared_building_slots = 1
			}
		}
	}
}
