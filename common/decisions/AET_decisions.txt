changeling_friends_category = { #used for trimmel's bonuses also
	changeling_friends = {

		icon = generic_form_nation

		visible = {
			original_tag = AET
			has_government = neutrality
			CHN = {
				OR = {
					exists = no
					is_subject = yes
					NOT = { has_government = fascism }
				}
			}
		}
		fire_only_once = yes
		cost = 50
		days_remove = -1
		available = {
			#original_tag = AET
			#has_government = neutrality
			has_completed_focus = AET_immigration_act
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision changeling_friends"
			custom_effect_tooltip = FEA_new_focus_tree_tp
			hidden_effect = {
				load_focus_tree = { tree = greifwald_bugs_focus keep_completed = yes }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
}

AET_maarite_sacrifice_category = { #we love casting spells

	AET_ziggurat_building = {
		icon = generic_construction
		available = {
			has_government = fascism
			has_completed_focus = AET_build_the_ziggurat
		}
		cost = 25

		days_remove = 90
		#is_good = yes
		visible = {
			has_government = fascism
			NOT = {
				has_country_flag = {
					flag = AET_ziggurat_layers
					value > 4
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		cancel_trigger = {
			NOT = {
				has_government = fascism
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AET_ziggurat_building"
			modify_country_flag = { flag = AET_ziggurat_layers value = 1 }
			382 = {
				add_extra_state_shared_building_slots = -1
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_political_power > 160
				factor = 10
			}
		}
	}
	AET_ziggurat_finish = {
		icon = STG_palace_construction_effort
		available = {
			has_government = fascism
			custom_trigger_tooltip = {
				tooltip = AET_ziggurat_finish_building_tt
				has_country_flag = {
					flag = AET_ziggurat_layers
					value > 4
				}
			}
			hidden_trigger = {
				has_country_flag = {
					flag = AET_ziggurat_layers
					value > 4
				}
			}
		}
		cost = 50

		days_remove = 90

		fire_only_once = yes
		visible = {
			has_government = fascism
			has_country_flag = {
				flag = AET_ziggurat_layers
				value > 4
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		cancel_trigger = {
			NOT = {
				has_government = fascism
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AET_ziggurat_finish"
			add_ideas = AET_ziggurat
			add_political_power = 200
			add_stability = 0.15
			add_country_flag = AET_ziggurat_built
		}
		ai_will_do = {
			factor = 1
		}
	}

	AET_go_mask_off = {

		icon = bird_skull

		visible = {
			original_tag = AET
			# has_completed_focus = AET_mask_off
			# has_government = fascism
		}
		fire_only_once = yes
		available = {
			NOT = {
				has_country_flag = AET_mask_off
			}
			OR = {
				owns_state = 377
				owns_state = 382
				owns_state = 381
				AND = {
					owns_state = 501
					owns_state = 442
					owns_state = 470
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_raise_dead"
			add_stability = -0.30
			add_war_support = -0.10
			set_cosmetic_tag = AET_imperium
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			AET_prelate_ludwig_ebonwing = {
				set_character_name = AET_archon_erebus_i
	
				add_country_leader_role = {
					promote_leader = yes
	
					country_leader = {
						expire = "1965.1.1"
						ideology = maarite_minion
						traits = { archon_maar_lar }
					}
				}
			}
		}
		else = {
			AET_prelate_ludwig_ebonwing = {
				set_character_name = AET_archon_erebus_i
	
				add_country_leader_role = {
					promote_leader = yes
	
					country_leader = {
						expire = "1965.1.1"
						ideology = maarite_minion
						traits = { archon_maar }
					}
				}
			}
		}
		hidden_effect = {
			set_country_flag = trade_laws_blocked
			add_ideas = closed_economy
		}
		every_other_country = {
			limit = {
				OR = {
					is_griffon_race = yes
					is_EQS_SOL = yes
					AND = {
						original_tag = OLE
						has_government = fascism
						is_subject = no
					}
				}
			}
			add_opinion_modifier = { target = ROOT modifier = sworn_enemies }
			add_opinion_modifier = { target = ROOT modifier = CHN_Embargo }
		}
		every_other_country = {
			limit = {
				is_griffon_race = no
				is_EQS_SOL = no
				NOT = {
					AND = {
						original_tag = OLE
						has_government = fascism
						is_subject = no
					}
				}
				NOT = { tag = DED }
			}
			add_opinion_modifier = { target = ROOT modifier = hostility }
			add_opinion_modifier = { target = ROOT modifier = embargo }
		}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_fell_wind_spell = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_completed_focus = AET_mask_off
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_fell_wind_spell"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			any_country = {
				limit = {
					has_war_with = AET
				}
				add_timed_idea = { idea = AET_maar_fell_wind days = 180 }
			}
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_ruin_engines = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_completed_focus = AET_maar_magic_vehicles
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_ruin_engines"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			any_country = {
				limit = {
					has_war_with = AET
				}
				add_timed_idea = { idea = AET_maar_car_curse days = 100 }
			}
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_research_black_blood = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_cosmetic_tag = AET_imperium
			owns_state = 437
			has_government = fascism
		}
		fire_only_once = no
		cost = 50
		days_remove = 50
		available = {
			any_controlled_state = {
				state_population > 5000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_research_black_blood"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 5
				}
				add_manpower = -4999
			}
			restore_previous_manpower = yes
			set_country_flag = AET_black_blood_found
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_black_blood_spell = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_country_flag = AET_black_blood_found
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_black_blood_spell"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			any_country = {
				limit = {
					has_war_with = AET
				}
				add_timed_idea = { idea = AET_maar_black_blood days = 60 }
			}
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}
	AET_black_blood_spell_us = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_country_flag = AET_black_blood_found
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_black_blood_spell_us"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			add_timed_idea = { idea = AET_maar_black_blood days = 60 }
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_research_revolutionary_fervor = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_cosmetic_tag = AET_imperium
			owns_state = 406
			has_government = fascism
		}
		fire_only_once = no
		cost = 50
		days_remove = 50
		available = {
			any_controlled_state = {
				state_population > 5000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_research_revolutionary_fervor"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 5
				}
				add_manpower = -4999
			}
			restore_previous_manpower = yes
			set_country_flag = AET_mania_curse_found
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_revolutionary_fervor_spell = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_country_flag = AET_mania_curse_found
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_revolutionary_fervor_spell"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			any_country = {
				limit = {
					has_war_with = AET
				}
				add_timed_idea = { idea = AET_maar_revolutionary_fervor days = 120 }
			}
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_research_factory_broke = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_cosmetic_tag = AET_imperium
			owns_state = 381
			has_government = fascism
		}
		fire_only_once = no
		cost = 50
		days_remove = 50
		available = {
			any_controlled_state = {
				state_population > 5000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_research_factory_broke"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 5
				}
				add_manpower = -4999
			}
			restore_previous_manpower = yes
			set_country_flag = AET_pot_of_greed_found
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_factory_broke = {

		icon = bird_skull

		visible = {
			original_tag = AET
			has_country_flag = AET_pot_of_greed_found
			has_government = fascism
		}
		fire_only_once = no
		cost = 75
		days_remove = 1
		available = {
			NOT = { has_country_flag = AET_maar_sacrifice }
			any_controlled_state = {
				state_population > 10000
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_factory_broke_spell"
			save_current_manpower = yes
			random_controlled_state = {
				limit = {
					state_population > 10000
				}
				add_manpower = -9999
			}
			restore_previous_manpower = yes
			any_country = {
				limit = {
					has_war_with = AET
				}
				add_timed_idea = { idea = AET_maar_factory_broke days = 120 }
			}
			hidden_effect = {
				set_country_flag = { flag = AET_maar_sacrifice days = 120 value = 1 }
			}
		}
		ai_will_do = {
			factor = 80
		}
	}

	AET_funny_weather = {
		available = {
		    FROM = {
			    NOT = {
				    has_state_flag = AET_calling_funny_weather
				}
			}
		}
		visible = {
			has_completed_focus = AET_maar_today
			FROM = {
				is_controlled_by = AET
			}
		}
		target_root_trigger = {
            has_completed_focus = AET_maar_today
			tag = AET
        }
		state_target = yes
		on_map_mode = map_and_decisions_view
		icon = GFX_decision_category_viirats
		cost = 20
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AET_funny_weather"
			if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 3 compare = less_than }
						check_variable = { var = global.month value = 11 compare = greater_than }
					}
				}
				FROM = {
					add_province_modifier = {
						static_modifiers = { 
							weather_extreme_hot
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 6 compare = less_than }
					}
				}
				FROM = {
					add_province_modifier = {
						static_modifiers = { 
							weather_mud
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 9 compare = less_than }
					}
				}
				FROM = {
					add_province_modifier = {
						static_modifiers = { 
							weather_extreme_cold
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else = {
				FROM = {
					add_province_modifier = {
						static_modifiers = { 
							weather_flooded
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			hidden_effect = {
			    FROM = {
			        set_state_flag = AET_calling_funny_weather
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_SPP_snow"
			if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 4 compare = less_than }
					}
				}
				FROM = {
					remove_province_modifier = {
						static_modifiers = { 
							weather_extreme_hot
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 7 compare = less_than }
					}
				}
				FROM = {
					remove_province_modifier = {
						static_modifiers = { 
							weather_mud
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						check_variable = { var = global.month value = 10 compare = less_than }
					}
				}
				FROM = {
					remove_province_modifier = {
						static_modifiers = { 
							weather_extreme_cold
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			else = {
				FROM = {
					remove_province_modifier = {
						static_modifiers = { 
							weather_flooded
						}
						province = {
							all_provinces = yes
						}
					}
				}
			}
			hidden_effect = {
			    FROM = {
			        clr_state_flag = AET_calling_funny_weather
				}
			}
		}
	}
}

AET_style_meter_category = {

}

AET_neutrality_tactics_category = {
	AET_sell_resources = {

		icon = rifles

		visible = {
			OR = {
				has_completed_focus = AET_appease_neither
				is_debug = yes
			}
		}
		fire_only_once = no
		cost = 50
		days_remove = 90
		available = {
			always = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AET_research_factory_broke"
			add_equipment_subsidy = {
				cic = 1200
				equipment_type = infantry_equipment
				seller_trigger = is_major_country_trigger
			}
			hidden_effect = {
				add_ideas = AET_sell_resources_idea
			}
			custom_effect_tooltip = AET_sell_resources_tt
		}
		remove_effect = {
			hidden_effect = {
				remove_ideas = AET_sell_resources_idea
			}
		}
	}
}