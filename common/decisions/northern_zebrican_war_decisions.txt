north_zebrican_war = {
	northern_war_BAT_CTH = { #Thanks Alpina
		icon = eng_trade_unions_support
		available = {
			hidden_trigger = {
				always = no
			}
		}
		allowed = {
			OR = {
				original_tag = BAT
				original_tag = CTH
				original_tag = WNG
			}
		}
		visible = {
			has_country_flag = north_zebrican_war_participant
			has_war_with = HIP
			NOT = {
				OR = {
					has_country_flag = permenant_total_war
					has_country_flag = BAT_HIP_defeated
				}
			}
		}
		activation = {
			HIP = {
			    is_subject = no
				any_enemy_country = {
					has_country_flag = partial_war
					NOT = {
						original_tag = WNG
					}
					NOT = {
						has_country_flag = BAT_HIP_defeated
					}
				}
				NOT = {
					controls_state = 710
					controls_state = 711
					controls_state = 697
					controls_state = 698
					any_controlled_state = {
						OR = {
							is_core_of = CTH
							is_core_of = BAT
							is_core_of = WAR
							is_core_of = TBK
							is_core_of = BAT
							is_core_of = ZUM
						}
					}
				}
			}
		}
		cancel_trigger = {
			OR = {
				AND = {
					CTH = {
						OR = {
							has_country_flag = total_war
							has_country_flag = permenant_total_war
						}
					}
					BAT = {
						OR = {
							has_country_flag = total_war
							has_country_flag = permenant_total_war
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = northern_zebrica_cancel_tp
					HIP = {
					    is_subject = yes
						any_controlled_state = {
							OR = {
								is_core_of = CTH
								is_core_of = BAT
								is_core_of = WAR
								is_core_of = TBK
								is_core_of = BAT
								is_core_of = ZUM
							}
						}
					}
				}
			}
			hidden_trigger = {
			    ROOT = {
				    NOT = {
					    has_country_flag = north_zebrican_war_participant
					}
				}
			}
		}
		is_good = yes
		days_mission_timeout = 180
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout northern_war_BAT_CTH"
			if = {
				limit = {
					ROOT = {
						has_war_with = HIP
						has_country_flag = partial_war
					}
					OR = {
						ROOT = {
							original_tag = BAT
							is_in_faction_with = CTH
						}
						ROOT = {
							original_tag = CTH
							is_in_faction_with = BAT
						}
					}
					WNG = {
						NOT = {
							has_war_with = HIP
							has_country_flag = partial_war
						}
					}
				}
				custom_effect_tooltip = peace_1_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.1
						}
					}
				}
			}
			else_if = {
				limit = {
					ROOT = {
						original_tag = BAT
						NOT = {
							is_in_faction_with = CTH
						}
						has_war_with = HIP
						has_country_flag = partial_war
					}
					CTH = {
						NOT = {
							has_war_with = HIP
						}
					}
				}
				custom_effect_tooltip = peace_2_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.5
						}
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						original_tag = CTH
						NOT = {
							is_in_faction_with = BAT
						}
						has_war_with = HIP
						has_country_flag = partial_war
					}
					BAT = {
						NOT = {
							has_war_with = HIP
						}
					}
				}
				custom_effect_tooltip = peace_3_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.9
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						AND = {
							ROOT = {
								original_tag = CTH
								NOT = {
									is_in_faction_with = BAT
								}
								has_war_with = HIP
								has_country_flag = partial_war
							}
							BAT = {
								has_war_with = HIP
							}
						}
						AND = {
							ROOT = {
								original_tag = BAT
								NOT = {
									is_in_faction_with = CTH
								}
								has_war_with = HIP
								has_country_flag = partial_war
							}
							CTH = {
								has_war_with = HIP
							}
						}
					}
				}
				custom_effect_tooltip = peace_1_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.1
						}
					}
				}
			}
			if = {
				limit = {
					AND = {
						BAT = {
							is_in_faction_with = CTH
							has_war_with = HIP
							has_country_flag = partial_war
						}
						CTH = {
							is_in_faction_with = BAT
							has_war_with = HIP
							has_country_flag = partial_war
						}
						WNG = {
							has_war_with = HIP
							has_country_flag = partial_war
						}
					}
				}
				custom_effect_tooltip = peace_4_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.13
						}
					}
				}
			}
		}
	}
	
	northern_war_WNG = { #Thanks Alpina
		icon = eng_trade_unions_support
		available = {
			hidden_trigger = {
				always = no
			}
		}
		allowed = {
			OR = {
				original_tag = BAT
				original_tag = CTH
				original_tag = WNG
			}
		}
		visible = {
			has_country_flag = north_zebrican_war_participant
			has_war_with = HIP
			NOT = {
				has_country_flag = permenant_total_war
				has_country_flag = BAT_HIP_defeated
			}
		}
		activation = {
			WNG = {
				has_country_flag = partial_war
				NOT = {
					has_country_flag = BAT_HIP_defeated
				}
			}
			NOT = {
				AND = {
					BAT = {
						is_in_faction_with = CTH
						has_country_flag = partial_war
					}
					CTH = {
						is_in_faction_with = BAT
						has_country_flag = partial_war
					}
					WNG = {
						has_war_with = HIP
						has_country_flag = partial_war
					}
				}
			}
			HIP = {
				NOT = {
					controls_state = 687
					controls_state = 694
					controls_state = 693
					any_controlled_state = {
						is_core_of = WNG
					}
				}
			}
		}
		cancel_trigger = {
			OR = {
				WNG = {
					OR = {
						has_country_flag = total_war
						has_country_flag = permenant_total_war
						has_country_flag = BAT_HIP_defeated
					}
				}
				custom_trigger_tooltip = {
					tooltip = northern_zebrica_cancel_2_tp
					HIP = {
						any_controlled_state = {
							is_core_of = WNG
						}
					}
				}
				AND = {
					BAT = {
						is_in_faction_with = CTH
						has_country_flag = partial_war
					}
					CTH = {
						is_in_faction_with = BAT
						has_country_flag = partial_war
					}
					WNG = {
						has_war_with = HIP
						has_country_flag = partial_war
					}
				}
			}
		}
		is_good = yes
		days_mission_timeout = 90
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout northern_war_WNG"
			if = {
				limit = {
					ROOT = {
						original_tag = WNG
						has_war_with = HIP
						has_country_flag = partial_war
					}
				}
				custom_effect_tooltip = peace_5_tp
				hidden_effect = {
					HIP = {
						country_event = {
							id = north_war.17
						}
					}
				}
			}
		}
	}
	
	set_stance_total_war = {
		ai_will_do = {
			factor = 0
		}
		available = {
			if = {
				limit = {
					is_in_faction = yes
				}
				is_faction_leader = yes
			}
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = northern_zebrica_180_days_tp
				NOT = {
					has_country_flag = recently_changed_stance
				}
			}
		}
		allowed = {
			OR = {
				original_tag = CTH
				original_tag = BAT
				original_tag = WNG
			}
		}
		visible = {
			has_country_flag = north_zebrican_war_participant
			has_country_flag = partial_war
			NOT = {
				OR = {
					has_country_flag = permenant_total_war
					has_country_flag = BAT_HIP_defeated
				}
			}
		}
		icon = hol_war_on_pacifism
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision set_stance_total_war"
			hidden_effect = {
				clr_country_flag = partial_war
				set_country_flag = total_war
				every_country = {
					limit = {
						has_country_flag = north_zebrican_war_participant
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					clr_country_flag = partial_war
					set_country_flag = total_war
				}
				set_country_flag = {
					flag = recently_changed_stance
					days = 180
					value = 1
				}
			}
		}
	}
	
	set_stance_partial_war = {
		ai_will_do = {
			factor = 100
		}
		available = {
			if = {
				limit = {
					is_in_faction = yes
				}
				is_faction_leader = yes
			}
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = northern_zebrica_180_days_tp
				NOT = {
					has_country_flag = recently_changed_stance
				}
			}
		}
		allowed = {
			OR = {
				original_tag = CTH
				original_tag = BAT
				original_tag = WNG
			}
		}
		visible = {
			has_country_flag = north_zebrican_war_participant
			has_country_flag = total_war
			NOT = {
				OR = {
					has_country_flag = permenant_total_war
					has_country_flag = BAT_HIP_defeated
				}
			}
		}
		icon = hol_war_on_pacifism
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision set_stance_partial_war"
			hidden_effect = {
				clr_country_flag = total_war
				set_country_flag = partial_war
				every_country = {
					limit = {
						has_country_flag = north_zebrican_war_participant
						OR = {
							is_in_faction_with = ROOT
							is_subject_of = ROOT
						}
					}
					clr_country_flag = total_war
					set_country_flag = partial_war
				}
				set_country_flag = {
					flag = recently_changed_stance
					days = 180
					value = 1
				}
			}
		}
	}
	
	WNG_join_the_war = {
		icon = generic_intelligence_operation
		allowed = {
		    original_tag = WNG
		}
		available = {
			is_subject = no
		}
		targets = { HIP }
		targets_dynamic = yes
		target_trigger = {
			FROM = { 
			    original_tag = HIP
			}
		}
		target_root_trigger = {
			FROM = {
				exists = yes
				NOT = {
					is_in_faction_with = ROOT 
				}
				NOT = {
					is_subject_of = ROOT 
				}
				NOT = { 
				    has_war_with = ROOT 
				}
			}
		}
		visible = {
		    has_government = fascism
		    AND = {
		        BAT = {
					is_in_faction_with = CTH
					has_war_with = HIP
				}
				CTH = {
					is_in_faction_with = BAT
					has_war_with = HIP
				}
			}
			FROM = {
				exists = yes
				NOT = {
					is_in_faction_with = ROOT 
				}
				NOT = {
					is_subject_of = ROOT 
				}
				NOT = { 
				    has_war_with = ROOT 
				}
			}
			NOT = {
			    has_country_flag = BAT_HIP_defeated
			}
			NOT = {
			    has_global_flag = BAT_won_civil_war
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject_of = ROOT 
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 50
		fire_only_once = yes
		
		days_remove = 7
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision WNG_join_the_war target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove WNG_join_the_war target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = HIP
				}
			}
			declare_war_on = {
                target = HIP
                type = annex_everything
            }
		}
	}
}
