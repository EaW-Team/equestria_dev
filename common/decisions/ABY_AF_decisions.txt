ABY_AF_gigastructural_engineering_cat = {
	ABY_AF_zebtropa_dam = {
		icon = generic_construction

		allowed = { 
			original_tag = ABY
		}

		available = {
			owns_state = 869
			owns_state = 874
			num_of_civilian_factories_available_for_projects > 50

		}
		visible = {
			has_completed_focus = ABY_AF_project_zebtropa
		}

		cost = 10
		days_remove = 360
		fire_only_once = yes
		state_target = yes
		targets = { 869 }
		highlight_states = {
			highlight_state_targets = { 869 }
			highlight_provinces = { 14646 139 }
		}

		modifier = {
			civilian_factory_use = 50
		}

		ai_will_do = {
			factor = 50
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_AF_zebtropa_dam target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_AF_zebtropa_dam target: [From.GetName]"
			FROM = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 5
					instant_build = yes
				}
			}
			create_entity = {
				entity = tno_reference
				id = 9999998
				var = zebtropa_i_dam
				x = 28
				y = 8.2
				z = -0.1
				state = 869
				province = 14632
				scale = 1.1
				rotation = 1.5
				min_zoom = 3000.0
			}
			hidden_effect = {
				for_each_scope_loop = {
					array = ABY_AF_zebtropa_states_array
					add_extra_state_shared_building_slots = 2
					add_manpower = 10000
				}
				set_country_flag = ABY_AF_zebtropa_dam_completed
			}
			custom_effect_tooltip = ABY_AF_zebtropa_dam_decision_tt
			add_ideas = ABY_AF_the_zebtropa_dam_idea
		}
	}
	
	ABY_AF_giga_shipyards_decision = {
		icon = generic_construction

		allowed = { 
			always = no
		 } #activated by effect

		visible = {
			hidden_trigger = {
				has_completed_focus = ABY_AF_project_atominseln
			}
			FROM = {
				is_owned_and_controlled_by = ROOT
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 10
		}

		fire_only_once = yes
		state_target = yes
		cancel_if_not_visible = yes
		cost = 10
		days_remove = 200

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_political_power < 200
			}
		}

		modifier = {
			civilian_factory_use = 10
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel ABY_AF_giga_shipyards_decisions target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_giga_shipyards_decisions target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove  ABY_AF_giga_shipyards_decisions target: [From.GetName]"
			FROM = {
					add_extra_state_shared_building_slots = 6
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = dockyard
						level = 4
						instant_build = yes
					}
				add_resource = {
					type = steel
					amount = 20
				}
			}
			ROOT = {
				add_to_variable = {
					var = ABY_AF_gigashipyards_buff_modifier_dockyards_var
					value = 0.05
				}
			}
		}
	}

	ABY_AF_grossatom_reaktor = {
		icon = generic_construction

		allowed = { 
			original_tag = ABY
		}

		available = {
			owns_state = 982
			num_of_civilian_factories_available_for_projects > 25

		}
		visible = {
			has_completed_focus = ABY_AF_project_grossatom
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_political_power < 200
			}
		}

		modifier = {
			civilian_factory_use = 25
			research_speed_factor = -0.1
		}

		cost = 10
		days_remove = 150
		fire_only_once = yes
		state_target = yes
		targets = { 982 }

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel ABY_AF_grossatom_reaktor target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_grossatom_reaktor target: [From.GetName]"
		}
		remove_effect = {
			FROM = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = nuclear_reactor
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 5
					instant_build = yes
				}
				add_resource = {
					type = crystals
					amount = 10
				}
			}
			ABY = {
				add_ideas = ABY_AF_grossatom_reaktor_idea
			}
		}
	}
	ABY_AF_polar_computing_complex = {
		icon = generic_construction

		allowed = { 
			original_tag = ABY
		}

		available = {
			owns_state = 1012
			num_of_civilian_factories_available_for_projects > 25

		}
		visible = {
			has_completed_focus = ABY_AF_we_need_more_i_need_more
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_political_power < 200
			}
		}

		modifier = {
			civilian_factory_use = 25
			research_speed_factor = -0.15
		}

		cost = 10
		days_remove = 192
		fire_only_once = yes
		state_target = yes
		targets = { 1012 }

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel ABY_AF_polar_computing_complex target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_polar_computing_complex target: [From.GetName]"
		}
		remove_effect = {
			FROM = {
				add_resource = {
					type = crystals
					amount = 10
				}
			}
			ABY = {
				add_ideas = ABY_AF_polar_computing_complex_idea
			}
		}
	}
}
ABY_AF_off_with_the_sirens_heads_cat = {
	ABY_AF_nuke_the_fuckers = {

		icon = GFX_decision_generic_ignite_civil_war
		allowed = { 
			original_tag = ABY
		}
		visible = {
			always = yes
		}
		available = {
			num_of_nukes > 2
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = advanced_depth_charges
			}
			else = {
				has_tech = improved_destroyer
			}
		}
		fire_only_once = yes
		cost = 5
		days_remove = 20

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_off_with_the_sirens_heads_cat"
			custom_effect_tooltip = ABY_AF_nuke_the_fuckers_tt
			add_nuclear_bombs = -3
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_off_with_the_sirens_heads_cat"
			country_event = katzen_AF.10
		}
		ai_will_do = {
			factor = 200
		}
	}
}
ABY_AF_aeternite_artifact_hunting_cat = {
	ABY_AF_hunt_for_artifacts_decision = {
		icon = generic_construction

		allowed = { 
			always = no
		 } #activated by effect

		available = {
			hidden_trigger = {
				has_completed_focus = ABY_AF_what_i_do_every_cycle
			}
			FROM = {
				is_controlled_by = ROOT
			}
			num_of_civilian_factories_available_for_projects > 4
		}

		fire_only_once = yes
		state_target = yes
		cancel_if_not_visible = yes
		cost = 10
		days_remove = 14

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_political_power < 10
			}
		}

		modifier = {
			civilian_factory_use = 5
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel ABY_AF_hunt_for_artifacts_decision target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ABY_AF_hunt_for_artifacts_decision target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove  ABY_AF_hunt_for_artifacts_decision target: [From.GetName]"
			ROOT = {
				add_to_variable = {
					var = ABY_AF_aeternum_relics_available
					value = 1
				}
			}
		}
	}
}