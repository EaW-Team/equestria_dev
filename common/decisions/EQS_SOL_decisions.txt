SOL_dealing_with_resistance = {
	SOL_resistance_crisis = {
		icon = revolt
		activation = {
			is_EQS_SOL = yes
			has_dynamic_modifier = {
				modifier = SOL_harmonic_resistance
			}
			OR = {
				democratic > 0.32
				has_stability < 0.01
			}
			has_war = no
		}
		available = {
			NOT = {
				has_dynamic_modifier = { modifier = SOL_harmonic_resistance }
			}
		}
		cancel_trigger = {
			has_war = yes 
		}
		is_good = no
		days_mission_timeout = 90
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout SOL_resistance_crisis"
			country_event = solarempire.22
			
				#random_other_country = {
					#limit = {
					#	original_tag = EQS
					#	has_government = democratic
					#}
					
					#set_capital = { 
					#	state = 75 
					#	remember_old_capital = no
					#}
					# add_political_power = 450
					# set_party_name = { ideology = fascism long_name = EQS_fascism_generic_party_long name = EQS_fascism_generic_party }
					# set_country_flag = EQS_force_republic
					# complete_national_focus = eqs_come_to_compromise
					# complete_national_focus = eqs_allow_the_vote
					# set_country_flag = congress_president
					# set_cosmetic_tag = EQS_DEM1
					# set_party_name = { ideology = democratic long_name = EQS_republic_long name = EQS_republic }
					# country_event = { hours = 24 id = equestriadem.1 }
					
					# every_character = {
						# limit = {
							# is_country_leader = no
							# OR = {
								# is_character = EQS_prince_blueblood
								# is_character = EQS_august_fon_eisenstadt
								# is_character = EQS_SOL_comet_trail
								# is_character = EQS_SOL_Stormchaser
								# is_character = EQS_SOL_comm_rush
								# is_character = EQS_SOL_Capsaicin
								# is_character = EQS_SOL_midwinter_halo
							# }
						# }
						# set_nationality = event_target:solar_empire
					# }
					# ROOT = {
						# every_character = {
							# limit = {
								# is_country_leader = no
								# OR = {
									# is_character = EQS_applejack
									# is_character = EQS_sergeant_reckless
									# is_character = EQS_big_macintosh
									# #has_id = 8
									# is_character = EQS_pinkie_pie
									# is_character = EQS_caltrop_decay
									# is_character = EQS_braeburn
									# is_character = EQS_NLR_tempest_wind
									# is_character = EQS_NLR_midnight_oil
									# is_character = EQS_NLR_bipen
									# is_character = EQS_oli_equites
								# }
							# }
							# set_nationality = PREV.PREV
						# }
					# }
				# }
		 }
	}
	# SOL_laws = {
		# icon = anti_harmony
		# visible = {
			# OR = {
				# has_completed_focus = SOL_Freedom_from_Fear
				# has_completed_focus = SOL_Firm_but_Fair
				# has_completed_focus = SOL_Imperial_Inquisition
			# }
			# OR = {
				# has_idea = SOL_harmonic_resistance_idea
				# has_idea = SOL_harmonic_resistance_idea2
				# has_idea = SOL_harmonic_resistance_idea3
			# }
		# }
		# fire_only_once = yes
		# cost = 70
		# days_remove = 70
		# remove_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision remove SOL_laws"
			# unlock_decision_tooltip = SOL_wrap_up
			# unlock_decision_tooltip = SOL_raids_2
			# unlock_decision_tooltip = SOL_raids
			# hidden_effect = { set_country_flag = SOL_laws_done }
		# }
		# ai_will_do = {
			# factor = 20
		# }
	# }
	# SOL_raids = {
		# icon = anti_harmony
		# visible = {
			# has_idea = SOL_harmonic_resistance_idea3
		# }
		# available = {
			# has_country_flag = SOL_laws_done
			# hidden_trigger = {
				# NOT = {
					# has_country_flag = block_harmonic_resistance
				# }
			# }
		# }
		# cost = 140
		# days_remove = 70
		# remove_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision remove SOL_raids"
			# swap_ideas = { add_idea = SOL_harmonic_resistance_idea2 remove_idea = SOL_harmonic_resistance_idea3 }
		# }
		# modifier = {
			# democratic_drift = -0.02
			# stability_factor = -0.05
			# political_power_cost = 0.2
		# }
		# ai_will_do = {
			# factor = 100
		# }
	# }
	# SOL_raids_2 = {
		# icon = anti_harmony
		# visible = {
			# has_idea = SOL_harmonic_resistance_idea2
		# }
		# available = {
			# has_country_flag = SOL_laws_done
			# hidden_trigger = {
				# NOT = {
					# has_country_flag = block_harmonic_resistance
				# }
			# }
		# }
		# cost = 70
		# days_remove = 70
		# remove_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision remove SOL_raids_2"
			# swap_ideas = { add_idea = SOL_harmonic_resistance_idea remove_idea = SOL_harmonic_resistance_idea2 }
			# hidden_effect = {
				# clr_country_flag = SOL_raids_2_in_progress
			# }
		# }
		# complete_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision SOL_raids_2"
			# hidden_effect = {
				# set_country_flag = SOL_raids_2_in_progress
			# }
		# }
		# modifier = {
			# democratic_drift = -0.02
		# }
		# ai_will_do = {
			# factor = 20
		# }
	# }
	# SOL_wrap_up = {
		# icon = anti_harmony
		# visible = {
			# has_idea = SOL_harmonic_resistance_idea
		# }
		# available = {
			# has_country_flag = SOL_laws_done
			# hidden_trigger = {
				# NOT = {
					# has_country_flag = block_harmonic_resistance
				# }
			# }
		# }
		# fire_only_once = yes
		# cost = 100
		# days_remove = 70
		# remove_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision remove SOL_wrap_up"
			# remove_ideas = SOL_harmonic_resistance_idea
			# add_popularity = {
				# ideology = democratic
				# popularity = -0.05
			# }
			# hidden_effect = { clr_country_flag = SOL_wrap_up_in_progress }
		# }
		# complete_effect = {
			# log = "[GetDateText]: [Root.GetName]: Decision SOL_wrap_up"
			# hidden_effect = {
				# set_country_flag = SOL_wrap_up_in_progress
				# country_event = { id = solarempire.30 days = 35 }
			# }
		# }
		# ai_will_do = {
			# factor = 20
		# }
	# }
}
SOL_trolling_chiropterra = {
	SOL_bat_puppeting = {
		icon = soljudge
		available = {
		    is_subject = no
		    has_DB_ruler = yes
			BAT = {
			    exists = no
			}
			custom_trigger_tooltip = {
				tooltip = SOL_BAT_decision_req_tt
				all_of_scopes = {
					array = BAT.core_states
					owner = {
						OR = {
							tag = EQS
							is_subject_of = EQS
						}
						PREV = { is_fully_controlled_by = PREV }
					}
				}
			}
		}

		cost = 50

		days_remove = 1

		fire_only_once = yes

        ai_will_do = {
			factor = 15
        }

		visible = {
			has_government = fascism
			is_subject = no
		    has_DB_ruler = yes
			all_of_scopes = {
				array = BAT.core_states
				owner = {
					OR = {
						tag = EQS
						is_subject_of = EQS
					}
					PREV = { is_fully_controlled_by = PREV }
				}
			}
		}

		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			custom_effect_tooltip = SOL_BAT_puppet_tt0
			custom_effect_tooltip = BAR_viira_puppet_break
			custom_effect_tooltip = SOL_BAT_puppet_tt1
			713 = {
				add_manpower = -343468
				set_state_category = wasteland
			}
			set_province_name = {
				id = 18601
				name =  EQS_SOL_port
			}
			set_capital = {
				state = 713
				remember_old_capital = no
			}
			712 = {
				add_manpower = -620322
				set_state_category = wasteland
			}
			custom_effect_tooltip = BAR_viira_puppet_genocide2_5
			custom_effect_tooltip = EQS_SOL_BAT_GAMER1
			add_victory_points = {
				province = 18570
				value = -19
			}
			set_province_name = {
				id = 18570
				name = EQS_SOL_batcityburnt
			}
			690 = {
				add_manpower = -138034
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER2
			add_victory_points = {
				province = 18583
				value = -3
			}
			689 = {
				add_manpower = -356244
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER3
			add_victory_points = {
				province = 18526
				value = -5
			}
			691 = {
				add_manpower = -448210
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER4
			add_victory_points = {
				province = 18499
				value = -3
			}
			815 = {
				add_manpower = -204763
				set_state_category = wasteland
			}
			custom_effect_tooltip = EQS_SOL_BAT_GAMER5
			add_victory_points = {
				province = 18477
				value = -3
			}
			custom_effect_tooltip = BAR_viira_puppet_break
			custom_effect_tooltip = SOL_BAT_puppet_tt3
			show_ideas_tooltip = SOL_BAT_order
			hidden_effect = {
			712 = {
					remove_building = {
    					type = arms_factory
    					level = 100
					}
					remove_building = {
    					type = infrastructure
    					level = 5
					}
					remove_building = {
    					type = dockyard
    					level = 100
					}
					remove_building = {
    					type = industrial_complex
    					level = 100
					}
			}
			712 = {
					remove_building = {
    					type = arms_factory
    					level = 100
					}
					remove_building = {
    					type = infrastructure
    					level = 5
					}
					remove_building = {
    					type = dockyard
    					level = 100
					}
					remove_building = {
    					type = industrial_complex
    					level = 100
					}
			}
			create_dynamic_country = {
                original_tag = BAT
                set_country_flag = BAT_SOLAR
                set_politics = {
                    ruling_party = fascism
                    elections_allowed = no
                }
                set_cosmetic_tag = BAT_SOL
                set_research_slots = 3
				set_AI_strategies_on_every_possible_country_delayed = yes
            }
			EQS_SOL_batcouncil = {
				set_nationality = BTS
			}
			BTS = {
			    add_ideas = {
	                pony_race
			        modern_society
			        proper_science_base
			        no_lack_of_scientists
			        no_poverty
			    }
				    add_ideas = SOL_BAT_order
					load_focus_tree = barrad_focus_viira_bonus
					set_party_name = { 
						ideology = fascism 
						name = BAT_SOL_PUPPET_fash
						long_name = BAT_SOL_PUPPET_fash_long
					}
					add_country_leader_role = {
						character = EQS_SOL_batcouncil
						promote_leader = yes

						country_leader = {
							expire = "1965.1.1"
							ideology = falangism
							traits = { }
						}
					}
					transfer_state = 713
					transfer_state = 712
					transfer_state = 690
					transfer_state = 691
					transfer_state = 689
					transfer_state = 815
				    add_state_core = 713
					add_state_core = 712
					add_state_core = 690
					add_state_core = 691
					add_state_core = 689
					add_state_core = 815
				}
            puppet = BTS
			}
		}
    }
}
SOL_personality_decisions = {

}