RIV_expand_fed_decisions = {
	RIV_invite_country_decision = {
		icon = generic_political_discourse

		target_trigger = {
			FROM = {
				OR = {
					original_tag = FIR
					original_tag = FBK
					original_tag = WAT
					original_tag = NCH
				}
			}
		}

		visible = {
			is_subject = no
			FROM = {
				is_subject = no
				has_war = no
				NOT = { is_river_fed_member = yes }
				NOT = { has_country_flag = intived_to_RIV }
			}
		}

		available = {
			FROM = {
				if = {
					limit = { original_tag = FIR }
					has_completed_focus = FIR_riv_relations
				}
				else_if = {
					limit = { original_tag = FBK }
					has_completed_focus = FBK_apply_for_membership
				}
				else_if = {
					limit = { original_tag = WAT }
				 OR = {
					has_completed_focus = griffon_fight_to_the_last
					has_completed_focus = griffon_stronger_together
				 }
				}
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				FROM = {
					OR = {
						AND = {
							original_tag = FIR
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
						AND = {
							original_tag = NCH
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
					}
				}
			}
		}

		complete_effect = {
			FROM = { 
				set_country_flag = { flag = intived_to_RIV value = 1 days = 360 }
				country_event = { id = riverfed.12 hours = 1 } 
			}
		}
	}
}

RIV_political_decisions = {
    RIV_join_rcsc_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_member_state
		}

		visible = {
			has_idea = RIV_member_state
			has_global_flag = RIV_rcsc_founded
		}

		cost = 50
		
		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_member_state
				add_idea = RIV_rcsc_member
			}
		}

		ai_will_do = {
			factor = 100
		}
	}

    RIV_join_rec_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rcsc_member
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
			}
			has_global_flag = RIV_rec_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rcsc_member
				add_idea = RIV_rec_member1
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.5
			}
		}
	}

    RIV_join_social_fund_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rec_member1
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
				has_idea = RIV_rec_member1
			}
			has_global_flag = RIV_social_fund_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rec_member1
				add_idea = RIV_rec_member2
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.5
			}
		}
	}

    RIV_join_river_parliament_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rec_member2
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
				has_idea = RIV_rec_member1
				has_idea = RIV_rec_member2
			}
			has_global_flag = RIV_river_parliament_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rec_member2
				add_idea = RIV_rec_member3
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.1
			}
		}
	}

    RIV_join_river_free_movement_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rec_member3
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
				has_idea = RIV_rec_member1
				has_idea = RIV_rec_member2
				has_idea = RIV_rec_member3
			}
			has_global_flag = RIV_free_movement_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rec_member3
				add_idea = RIV_rec_member4
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
		}
	}
	
    RIV_join_river_union_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rec_member4
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
				has_idea = RIV_rec_member1
				has_idea = RIV_rec_member2
				has_idea = RIV_rec_member3
				has_idea = RIV_rec_member4
			}
			has_global_flag = RIV_the_river_union_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rec_member4
				add_idea = RIV_river_union_member1
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
		}
	}
	
    RIV_join_river_government_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_river_union_member1
		}

		visible = {
			OR = {
				has_idea = RIV_member_state
				has_idea = RIV_rcsc_member
				has_idea = RIV_rec_member1
				has_idea = RIV_rec_member2
				has_idea = RIV_rec_member3
				has_idea = RIV_rec_member4
				has_idea = RIV_river_union_member1
			}
			is_river_fed_member = yes
			has_global_flag = RIV_river_government_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_river_union_member1
				add_idea = RIV_river_union_member2
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
		}
	}
	
    RIV_join_federation_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			OR = {
				has_idea = RIV_river_union_member1
				has_idea = RIV_river_union_member2
			}
		}

		visible = {
			is_river_fed_member = yes
			has_global_flag = river_federation_founded
			NOT = {
				has_global_flag = RIV_fed_founded_timeout
			}
			NOT = {
				tag = event_target:RivFed
			}
		}

		cost = 150

		complete_effect = {
			custom_effect_tooltip = GAME_OVER_TT

			event_target:RivFed = {
				country_event = riverfed.29
			}
			
			effect_tooltip = {
				every_state = {
					limit = {
						is_core_of = ROOT
					}
					add_core_of = event_target:RivFed
				}

				every_unit_leader = {
					set_nationality = event_target:RivFed
				}
				transfer_navy = { target = event_target:RivFed }
				
				event_target:RivFed = { annex_country = { target = ROOT transfer_troops = yes } }
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
			modifier = {
				factor = 0
				has_opinion = { target = FROM value < 25 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < 50 }
			}
			modifier = {
				factor = 0.75
				has_opinion = { target = FROM value < 75 }
			}
		}
	}

	RIV_join_river_army_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = RIV_river_army_trigger_tt
				or = {
					has_idea = RIV_river_union_member1
					has_idea = RIV_river_union_member2
				}	
			}
		}

		visible = {
			NOT = { has_idea = RIV_river_army_idea }
			is_river_fed_member = yes
			has_global_flag = RIV_river_army_founded
		}

		cost = 50

		complete_effect = {
			add_ideas = RIV_river_army_idea
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
		}
	}

	RIV_rdc_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {

		}

		visible = {
			is_river_fed_member = yes
			has_global_flag = RIV_rdc_founded
			NOT = { has_idea = RIV_rdc }
			NOT = { has_idea = RIV_rdc2 }
		}

		cost = 50

		complete_effect = {
			add_ideas = RIV_rdc
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.7
			}
		}
	}

	RIV_apply_for_etf_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			has_idea = RIV_rdc
		}

		visible = {
			is_river_fed_member = yes
			has_global_flag = RIV_etf_founded
			NOT = { has_idea = RIV_rdc2 }
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_rdc
				add_idea = RIV_rdc2
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.7
			}
		}
	}

	RIV_join_riv_science_sociaty_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			NOT = {
				is_in_tech_sharing_group = RIV_science_society_group
			}
		}

		visible = {
			is_river_fed_member = yes
			NOT = { is_in_tech_sharing_group = RIV_science_society_group }
			has_global_flag = RIV_science_society_founded
		}

		cost = 50

		complete_effect = {
			add_to_tech_sharing_group = RIV_science_society_group
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.7
			}
		}
	}

	RIV_join_riv_centeral_bank_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
		}

		visible = {
			is_river_fed_member = yes
			NOT = { has_idea = RIV_centeral_bank_idea }
			NOT = { has_idea = RIV_rivbit_idea }
			has_global_flag = RIV_centeral_bank_founded
		}

		cost = 50

		complete_effect = {
			add_ideas = RIV_centeral_bank_idea
		}

		ai_will_do = {
			factor = 100
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.25
			}
		}
	}

	RIV_join_riv_rivbit_decision = {

		icon = generic_political_discourse

		allowed = {
			has_idea = RIV_centeral_bank_idea
		}

		available = {
		}

		visible = {
			is_river_fed_member = yes
			NOT = { has_idea = RIV_rivbit_idea }
			has_global_flag = RIV_rivbit_founded
		}

		cost = 50

		complete_effect = {
			swap_ideas = {
				remove_idea = RIV_centeral_bank_idea
				add_idea = RIV_rivbit_idea
			}
		}

		ai_will_do = {
			factor = 70
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0.1
			}
		}
	}

	RIV_sign_beings_rights_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
		}

		visible = {
			is_river_fed_member = yes
			NOT = { has_idea = RIV_beings_rights_idea }
			has_global_flag = RIV_beings_rights_founded
		}

		cost = 50

		complete_effect = {
			add_ideas = RIV_beings_rights_idea
		}

		ai_will_do = {
			factor = 70
			modifier = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				factor = 0
			}
		}
	}

	RIV_leave_federation_decision = {

		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			
		}

		visible = {
			is_river_fed_member = yes
			has_global_flag = river_federation_founded
			is_faction_leader = no
		}

		cost = 150

		complete_effect = {
			event_target:RivFed = {
				country_event = riverfed.28
			}
			if = {
				limit = {
					is_subject_of = event_target:RivFed
				}
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
			RIV_leave_fed = yes
		}

		ai_will_do = {
			factor = 50
			modifier = {
				OR = {
					has_government = neutrality
					has_government = democratic
				}
				factor = 0
			}
			modifier = {
				has_war = yes
				factor = 0
			}
			modifier = {
				factor = 0.1
				has_opinion = { target = event_target:RivFed value > 25 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = event_target:RivFed value > -50 }
			}
		}
	}
}

foreign_politics = {
	ally_river_fed_decision = {
		icon = generic_political_discourse
		allowed = {
			OR = {
				original_tag = FBK
				original_tag = FIR
				original_tag = WAT
			}
		}

		available = {
			OR = {
				is_river_fed_member = yes

				AND = {
					has_war = yes
					custom_trigger_tooltip = {
					 tooltip = will_not_interfere_in_the_north
					
						 NOT = {
							has_war_with = FBK
							has_war_with = FIR
							has_war_with = WAT
							}
						}
					OR = {
						custom_trigger_tooltip = {
							tooltip = is_in_same_war_as_river_fed
							any_other_country = {
								is_river_fed_member = yes
								is_faction_leader = yes
								any_enemy_country = { has_war_with = ROOT }
							}
						}
						custom_trigger_tooltip = {
							tooltip = is_guaranteed_by_river_fed
							has_defensive_war = yes
							any_other_country = {
								is_river_fed_member = yes
								is_faction_leader = yes
								has_guaranteed = ROOT
		
							}
						}				
					}
				}
			}			
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_civil_war = no
			NOT = { has_government = fascism }
			any_other_country = {
				is_river_fed_member = yes
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_other_country = {
					is_river_fed_member = yes
					is_faction_leader = yes
					has_war = yes
					surrender_progress > 0.20
				}
			}
		}

		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ally_river_fed_decision"
			random_other_country = {
				limit = {
					is_river_fed_member = yes
					is_faction_leader = yes
				}
				country_event = { id = generic.2 }
			}
		}
	}
	
	sign_the_treaty_of_coltstream_decision = {
		icon = generic_political_discourse
		
		available = {			
			OR = {
				any_neighbor_country = {
					is_river_fed_member = yes
				}
				any_other_country = {
					ROOT = { is_subject_of = PREV }
					is_river_fed_member = yes
				}
			}
		}

		visible = {
			is_in_faction = yes
			is_river_fed_member = no
			NOT = { has_government = fascism }
			any_other_country = {
				is_river_fed_member = yes
				is_faction_leader = yes
				is_in_faction_with = ROOT
			}
		}

		ai_will_do = {
			factor = 10
		}

		fire_only_once = yes

		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision sign_the_treaty_of_coltstream_decision"
			add_ideas = RIV_member_state
		}
	}
}