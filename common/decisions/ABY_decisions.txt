debug_decisions = { 
	ABY_debug_gomez_tree = {
		available = {
			is_ai = no
		}
		allowed = {
			tag = ABY
		}

		complete_effect = {
			country_event = abyssinia.28
		}
	}
	ABY_debug_catrina_tree = {
		available = {
			is_ai = no
		}
		allowed = {
			tag = ABY
		}

		complete_effect = {
			country_event = abyssinia.16
		}
	}
	ABY_debug_sharp_spear_tree = {
		available = {
			is_ai = no
		}
		allowed = {
			tag = ABY
		}

		complete_effect = {
			country_event = abyssinia.68
		}
	}
}
political_actions = {
	ABY_guide_to_names = {
		allowed = {
			original_tag = ABY
		}
		icon = scroll

		cost = 0
		fire_only_once = yes

		visible = {
			is_ai = no
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_names"
			country_event = abyssinia.194
		}
	}
	ABY_guide_to_baastism = {
		allowed = {
			original_tag = ABY
		}
		icon = scroll

		cost = 0
		fire_only_once = yes

		visible = {
			is_ai = no
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_baastism"
			country_event = abyssinia.55
		}
	}
}
ABY_mental_stability_category = {
	ABY_acquire_pets = {

		icon = diamond_dog_paw
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		cost = 10
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_acquire_pets"
			custom_effect_tooltip = ABY_new_advisors_tt
			set_country_flag = ABY_pets_unlocked
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_go_outside = {

		icon = generic_magic
		cost = 25
		fire_only_once = yes
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 30
		complete_effect = {
			set_country_flag = {
				flag = ABY_gomez_absent
				days = 30
				value = 1
			}
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_go_outside"
			add_popularity = { ideology = neutrality popularity = 0.05 }
			add_popularity = { ideology = democratic popularity = 0.05 }
			clr_country_flag = ABY_gomez_absent
			ABY_mental_stab_add_10 = yes
			add_ideas = ABY_a_good_friend
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_get_a_hobby = {

		icon = pawn
		cost = 10
		fire_only_once = yes
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		complete_effect = {
			country_event = abyssinia.56
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_meditative_retreat = {

		icon = flower
		cost = 25
		
		days_re_enable = 1
		available = {
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 45
		complete_effect = {
			set_country_flag = {
				flag = ABY_gomez_absent
				days = 45
				value = 1
			}
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_meditative_retreat"
			clr_country_flag = ABY_gomez_absent
			if = {
				limit = {
					has_country_leader_with_trait = ABY_slightly_less_melancholic
				}
				effect_tooltip = {
					swap_ruler_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic }
				}
				hidden_effect = {
					ABY_taile_sehissie_clawomonid = {
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = conservatism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = harmonic_constitutionalism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = despotism }
					}
				}
			}
			ABY_mental_stab_add_15 = yes
		}
		ai_will_do = {
			factor = 100
		}
	}
	
	ABY_go_to_therapy = {

		icon = celestia
		cost = 50
		fire_only_once = no
		days_re_enable = 1
		available = {
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			EQS = {
				exists = yes
				has_government = democratic
			}
		}
		cancel_trigger = {
			has_country_flag = ABY_gomez_absent
		}
		days_remove = 90
		complete_effect = {
			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_go_to_therapy"
			if = {
				limit = {
					has_country_leader_with_trait = ABY_slightly_less_melancholic
				}
				effect_tooltip = {
					swap_ruler_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic }
				}
				hidden_effect = {
					ABY_taile_sehissie_clawomonid = {
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = conservatism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = harmonic_constitutionalism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = despotism }
					}
				}
			}
			ABY_mental_stab_add_15 = yes
		}
		ai_will_do = {
			factor = 1000
		}
	}
	ABY_go_to_therapy_2 = {

		icon = scroll
		cost = 25
		fire_only_once = no
		days_re_enable = 1
		available = {
			has_country_flag = ABY_treasury_refilled
			has_idea = ABY_state_healthcare_idea
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		cancel_trigger = {
			has_country_flag = ABY_gomez_absent
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
		}
		days_remove = 60
		complete_effect = {
			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_go_to_therapy_2"
			if = {
				limit = {
					has_country_leader_with_trait = ABY_slightly_less_melancholic
				}
				effect_tooltip = {
					swap_ruler_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic }
				}
				hidden_effect = {
					ABY_taile_sehissie_clawomonid = {
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = conservatism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = harmonic_constitutionalism }
					 swap_country_leader_traits = { remove = ABY_slightly_less_melancholic add = ABY_half_melancholic ideology = despotism }
					}
				}
			}
			ABY_mental_stab_add_15 = yes
		}
		ai_will_do = {
			factor = 2000
		}
	}
	ABY_stop_using_drugs = {

		icon = flower

		cost = 10
		fire_only_once = yes
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_50
				check_variable = {
					ABY_gomez_mental_stability > 49.99
				}
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			ABY_taile_sehissie_clawomonid = {
				has_trait = substance_abuser
			}
		}
		complete_effect = {
			remove_trait = {
				character = ABY_taile_sehissie_clawomonid
				trait = substance_abuser
			}
			ABY_mental_stab_reduce_10 = yes
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_stop_using_hard_drugs = {

		icon = opium

		cost = 25
		fire_only_once = yes
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_50
				check_variable = {
					ABY_gomez_mental_stability > 49.99
				}
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			ABY_taile_sehissie_clawomonid = {
				has_trait = substance_addict
			}
		}
		days_remove = 90
		remove_effect = {
			remove_trait = {
				character = ABY_taile_sehissie_clawomonid
				trait = substance_addict
			}
			effect_tooltip = { remove_country_leader_trait = ABY_druggie }
			hidden_effect = {
				ABY_taile_sehissie_clawomonid = {
					remove_country_leader_trait = { ideology = despotism trait = ABY_druggie }
					remove_country_leader_trait = { ideology = conservatism trait = ABY_druggie }
					remove_country_leader_trait = { ideology = harmonic_constitutionalism trait = ABY_druggie }
				}
			}
			ABY_mental_stab_reduce_25 = yes
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_remake_the_crown = {

		icon = generic_monarchy

		cost = 100
		fire_only_once = yes
		available = {
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_75
				check_variable = {
					ABY_gomez_mental_stability > 74
				}
			}
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_leader_with_trait = ABY_druggie
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			has_country_leader_with_trait = ABY_half_melancholic
		}
		complete_effect = {
			country_event = abyssinia.58
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_have_sex = {

		icon = wedding

		cost = 10
		fire_only_once = yes
		days_remove = 270
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_95
				check_variable = {
					ABY_gomez_mental_stability > 94
				}
			}
			has_country_flag = ABY_treasury_refilled
			NOT = {
				has_country_leader_with_trait = ABY_druggie
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_mental_health_decisions_unlocked
			OR = {
				has_country_leader_with_trait = ABY_bloomer
				has_country_leader_with_trait = ABY_road_to_enlightenment
			}
		}
		complete_effect = {
		
		}
		remove_effect = {
			country_event = abyssinia.59
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_revisit_felibela_1 = {

		icon = flower

		cost = 25
		fire_only_once = yes
		available = {
			has_country_flag = ABY_low_stab_event_triggered
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		days_remove = 14
		complete_effect = {
			set_country_flag = {
				flag = ABY_gomez_absent
				days = 21
				value = 1
			}
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_revisit_felibela_1"
			country_event = abyssinia.47
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_revisit_felibela_2 = {

		icon = flower

		cost = 25
		fire_only_once = yes
		available = {
			783 = { 
				is_owned_and_controlled_by = ROOT
			}
			custom_trigger_tooltip = {
				tooltip = ABY_mental_stab_below_20
				check_variable = {
					ABY_gomez_mental_stability < 20
				}
			}
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			has_country_flag = ABY_tekle_visited
		}
		days_remove = 14
		complete_effect = {
			set_country_flag = {
				flag = ABY_gomez_absent
				days = 21
				value = 1
			}
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_revisit_felibela_2"
			country_event = abyssinia.53
		}
		ai_will_do = {
			factor = 5000
		}
	}
	ABY_touch_grass = {

		icon = swamp

		cost = 0
		fire_only_once = yes
		available = {
			is_ai = no
		}
		visible = {
			is_debug = yes
		}
		complete_effect = {
			set_variable = {
				var = ABY_gomez_mental_stability
				value = 100
				tooltip = ABY_set_mental_stab_100
			}
			custom_effect_tooltip = ABY_grass_touching_tooltip
			hidden_effect = {
				country_event = abyssinia.60
			}
		}
	}
}
ABY_noble_decision_category = {
	ABY_guide_to_noble_titles = {

		icon = scroll

		cost = 0
		fire_only_once = yes

		visible = {
			is_ai = no
		}
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_noble_titles"
			country_event = abyssinia.41
		}
	}
	ABY_guide_to_nobles = {

		icon = scroll

		cost = 0
		fire_only_once = yes

		visible = {
			is_ai = no
		}
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_nobles"
			country_event = abyssinia.78
		}
	}
	ABY_hide_all_the_crap = {
		icon = generic_decision
		cost = 0
		fire_only_once = no
		ai_will_do = {
			factor = 0
		}
		visible = {
			is_ai = no
			NOT = { has_country_flag = ABY_noble_decisions_hidden }
		}
		complete_effect = {
			set_country_flag = ABY_noble_decisions_hidden
			custom_effect_tooltip = ABY_noble_decisions_hide_tt
		}
	}
	ABY_unhide_all_the_crap = {
		icon = generic_decision
		cost = 0
		fire_only_once = no
		ai_will_do = {
			factor = 0
		}
		visible = {
			is_ai = no
			has_country_flag = ABY_noble_decisions_hidden
		}
		complete_effect = {
			clr_country_flag = ABY_noble_decisions_hidden
			custom_effect_tooltip = ABY_noble_decisions_unhide_tt
		}
	}
	ABY_crush_resistance = {
		icon = decision_repression
		cost = 100
		days_re_enable = 1
		available = {
			OR = {
				has_idea = ABY_secret_police_idea_lr
				has_idea = ABY_secret_police_idea_no_lr
			}
			OR = {
				has_idea = ABY_clawomonid_resistance
				has_idea = ABY_weak_clawomonid_resistance
			}
		}
		visible = {
			OR = {
				has_idea = ABY_secret_police_idea_lr
				has_idea = ABY_secret_police_idea_no_lr
			}
			OR = {
				has_idea = ABY_clawomonid_resistance
				has_idea = ABY_weak_clawomonid_resistance
			}
		}
		days_remove = 180
		complete_effect = {
			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_crush_resistance"
			if = {
				limit = {
					has_idea = ABY_clawomonid_resistance
				}
				swap_ideas = {
					remove_idea = ABY_clawomonid_resistance
					add_idea = ABY_weak_clawomonid_resistance
				}
			}
			else_if = {
				limit = {
					has_idea = ABY_weak_clawomonid_resistance
				}
				remove_ideas = ABY_weak_clawomonid_resistance
				if = {
					limit = {
						NOT = {
							AND = {
								has_country_flag = ABY_queen_dead
								has_country_flag = ABY_gomez_dead
							}
						}
					}
					country_event = abyssinia.151
				}
			}
		}
		ai_will_do = {
			factor = 500
		}
	}
	ABY_pacify_kloog = {
		icon = modern_city
		cost = 50
		ai_will_do = {
			factor = 180
		}
		fire_only_once = yes
		visible = {
			has_government = fascism
			owns_state = 1208
			1208 = {
				NOT = {
					is_core_of = ROOT
				}
				has_dynamic_modifier = {
					modifier = klugetown_criminals
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 1208
			}
		}

		on_map_mode = map_and_decisions_view 
		available = {
			has_full_control_of_state = 1208
		}
		days_remove = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_pacify_kloog"
			add_stability = 0.05
			1208 = {
				remove_dynamic_modifier = {
					modifier = klugetown_criminals
				}
			}
			if = {
				limit = {
					has_country_flag = ABY_potion_machine_unlocked
					check_variable = {
						ABY_catrina_slaves < ABY_catrina_slaves_cap
					}
				}
				add_to_variable = {
					var = ABY_catrina_slaves
					value = 500
					tooltip = ABY_add_5_slaves
				}
				ABY_witchweed_recalculate_production = yes
			}
		}
	}
	ABY_pardon_ras_tardar = {

		icon = flower

		cost = 10
		fire_only_once = yes

		visible = {
			has_country_flag = ABY_ras_tardar_arrested
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_pardon_ras_tardar"
			clr_country_flag = ABY_ras_tardar_arrested
			custom_effect_tooltip = ABY_tardar_loyal_tt
			set_variable = { ABY_noble_loyalties^0 = 1 }
			ABY_update_number_of_loyal_disloyal = yes
		}
		ai_will_do = {
			factor = 10
		}
	}
	ABY_nobles_elect_catrina = {
		icon = pawn
		activation = {
			always = no
		}
        days_mission_timeout = 90
		fire_only_once = no
		is_good = no
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_get_loyal_nobles
				check_variable = {
					var = ABY_num_of_loyal
					value = ABY_num_of_disloyal
					compare = greater_than_or_equals
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_government = fascism
				has_country_flag = ABY_elections_disabled
			}
		}
		timeout_effect = {
			country_event = abyssinia.40
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_nobles_elect_catrina"
			add_stability = 0.05
		}
	}
	ABY_nobles_elect_clawomons = {
		icon = pawn
		activation = {
			always = no
		}
        days_mission_timeout = 90
		fire_only_once = no
		is_good = no
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_get_loyal_nobles
				check_variable = {
					var = ABY_num_of_loyal
					value = ABY_num_of_disloyal
					compare = greater_than_or_equals
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_government = neutrality
				has_government = democratic
				has_country_flag = ABY_elections_disabled
			}
		}
		timeout_effect = {
			country_event = abyssinia.126
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_nobles_elect_clawomons"
			add_stability = 0.05
		}
	}
	ABY_filibustering = {

		icon = scroll

		cost = 25
		days_re_enable = 39

		visible = {
			OR = {
				has_active_mission = ABY_nobles_elect_catrina
				has_active_mission = ABY_nobles_elect_clawomons
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_filibustering"
			if = {
				limit = {
					has_active_mission = ABY_nobles_elect_catrina
				}
				add_days_mission_timeout = {
					mission = ABY_nobles_elect_catrina
					days = 60
				}
			}
			else_if = {
				limit = {
					has_active_mission = ABY_nobles_elect_clawomons
				}
				add_days_mission_timeout = {
					mission = ABY_nobles_elect_clawomons
					days = 60
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
	}
	ABY_develop_state = {
		icon = generic_construction
		available = {
			has_full_control_of_state = FROM
			FROM = {
				is_demilitarized_zone = no
			}
		}
		visible = {
			has_country_flag = ABY_state_dev_decisions_unlock
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				NOT = {
					has_state_flag = ABY_state_developed
					state = 775
				}
			}
		}
		cost = 25
		ai_will_do = {
			base = 500
		}
		fire_only_once = yes
		
		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		days_remove = 45
		modifier = {
			consumer_goods_factor = 0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_develop_state"
			FROM = {
				set_state_flag = ABY_state_developed
				improve_state_category = yes
			}
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_reinforce_garrison = {
		icon = rifles
		custom_cost_trigger = {
			has_political_power > 24
			has_manpower > 2499
		}
		ai_hint_pp_cost = 25
		available = {
			hidden_trigger = {
				has_political_power > 24
				has_manpower > 2499
			}
			has_full_control_of_state = FROM
			FROM = {
				is_demilitarized_zone = no
			}
		}
		visible = {
			has_country_flag = ABY_garrison_decisions_unlock
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				NOT = {
					has_state_flag = ABY_state_garrisoned
					state = 775
				}
			}
		}
		custom_cost_text = decision_cost_pp_25_manpower_2500
		ai_will_do = {
			base = 500
		}
		fire_only_once = yes
		
		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		days_remove = 30
		complete_effect = {
			hidden_effect = { add_manpower = -2500 add_political_power = -25 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_reinforce_garrison"
			FROM = {
				set_state_flag = ABY_state_garrisoned
				add_dynamic_modifier = {
					modifier = ABY_reinforced_local_garrison
				}
			}
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_threaten_noble = {
		icon = scroll
		visible = { 
			has_country_flag = ABY_mean_to_nobles
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_disloyal_local_noble
				}
			}
		}
		available = { 
			has_full_control_of_state = FROM
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		ai_will_do = {
			base = 300
		}
		
		cost = 25
		
		complete_effect = {
			add_stability = -0.025
			custom_effect_tooltip = ABY_explain_how_threatening_works
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				773 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				774 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				777 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				780 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				782 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				783 = {
					remove_dynamic_modifier = { modifier = ABY_disloyal_local_noble }
					add_dynamic_modifier = { modifier = ABY_rebellious_local_noble }
				}
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_crush_rebellion = {
		icon = crossed_swords
		visible = { 
			has_country_flag = ABY_mean_to_nobles
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_rebellious_local_noble
				}
			}
		}
		
		available = { 
			has_full_control_of_state = FROM
			has_manpower > 0
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		fire_only_once = yes
		
		on_map_mode = map_and_decisions_view

		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		
		ai_will_do = {
			base = 300
		}
		
		cost = 25
		
		days_remove = 30
		
		modifier = { 
			weekly_manpower = -250
		}
		
		remove_effect = {
			add_stability = 0.025
			FROM = {
				remove_dynamic_modifier = {
					modifier = ABY_rebellious_local_noble
				}
				damage_building = {
					type = dockyard
					damage = 0.5
				}
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
				damage_building = {
					type = arms_factory
					damage = 0.5
				}
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			custom_effect_tooltip = ABY_noble_imprisoned
			if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				set_variable = { ABY_noble_loyalties^5 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				set_variable = { ABY_noble_loyalties^6 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				set_variable = { ABY_noble_loyalties^7 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				set_variable = { ABY_noble_loyalties^0 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				set_variable = { ABY_noble_loyalties^10 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				set_variable = { ABY_noble_loyalties^11 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				set_variable = { ABY_noble_loyalties^12 = 0 }
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				set_variable = { ABY_noble_loyalties^14 = 0 }
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_marriage_noble = {
		icon = wedding
		visible = { 
			has_country_flag = ABY_nice_to_nobles
			NOT = {
				has_country_flag = ABY_marriage_done
			}
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_disloyal_local_noble
				}
			}
		}

		target_root_trigger = {
			
		}
		
		available = { 
			has_full_control_of_state = FROM
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 773 779 782 783 784 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		fire_only_once = yes
		
		ai_will_do = {
			base = 500
		}
		
		cost = 10
		
		complete_effect = {
			add_stability = 0.025
			set_country_flag = ABY_marriage_done
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_negotiate_with_noble = {
		icon = scroll
		visible = { 
			has_country_flag = ABY_nice_to_nobles
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_disloyal_local_noble
				}
			}
		}
		available = { 
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
			has_full_control_of_state = FROM
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		ai_will_do = {
			base = 500
		}
		days_remove = 30
		cost = 25
		complete_effect = {
			set_country_flag = {
				flag = ABY_gomez_absent
				days = 30
				value = 1
			}
			custom_effect_tooltip = ABY_absent_explanation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_negotiate_with_noble"
			clr_country_flag = ABY_gomez_absent
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_bribe_noble = {
		icon = generic_fundraising
		visible = { 
			has_idea = ABY_influx_of_funds
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_disloyal_local_noble
				}
			}
		}
		available = { 
			#here for the tooltip
			has_idea = ABY_influx_of_funds
			has_full_control_of_state = FROM
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		ai_will_do = {
			base = 500
		}
		cost = 50
		complete_effect = {
			custom_effect_tooltip = ABY_loyalty_notification
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_invite_noble_to_palace = {
		icon = pawn
		visible = { 
			has_country_flag = ABY_nice_to_nobles
			NOT = {
				has_country_flag = ABY_noble_decisions_hidden
			}
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_disloyal_local_noble
				}
			}
		}
		
		available = { 
			has_full_control_of_state = FROM
		}

		state_target = yes

		target_trigger = {
			FROM = {
				is_owned_by = ROOT
			}
		}
        targets = { 1200 1201 771 772 773 774 776 777 778 779 780 782 783 784 785 786 738 740 741 }
		
		on_map_mode = map_and_decisions_view

		
		ai_will_do = {
			base = 300
		}
		cost = 50
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = ABY_explain_how_palace_works
			if = {
				limit = {
					NOT = {
						has_dynamic_modifier = {
							modifier = ABY_noble_maintenance
						}
					}
				}
				set_variable = { ABY_noble_maintenance_var = 0.025 }
				add_dynamic_modifier = { modifier = ABY_noble_maintenance }
			}
			else = {
				add_to_variable = { ABY_noble_maintenance_var = 0.025 }
			}
			custom_effect_tooltip = ABY_noble_maintenance_cost_tt
			if = {
				limit = {
					FROM = {
						OR = {
							state = 1200
							state = 1201
						}
					}
				}
				ABY_duchess_loyal = yes
				set_country_flag = ABY_duchess_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 771
					}
				}
				ABY_nyanyanyanyanyanyanya_loyal = yes
				set_country_flag = ABY_nyanyanyanyanyanyanya_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 772
					}
				}
				ABY_salem_loyal = yes
				set_country_flag = ABY_salem_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 773
					}
				}
				ABY_lucifer_loyal = yes
				set_country_flag = ABY_lucifer_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 774
					}
				}
				ABY_timothy_loyal = yes
				set_country_flag = ABY_timothy_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 776
					}
				}
				ABY_thurston_loyal = yes
				set_country_flag = ABY_thurston_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 777
					}
				}
				ABY_tardar_loyal = yes
				set_country_flag = ABY_tardar_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 778
					}
				}
				ABY_cheshire_loyal = yes
				set_country_flag = ABY_cheshire_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 779
					}
				}
				ABY_cat_in_the_hat_loyal = yes
				set_country_flag = ABY_cat_in_the_hat_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 780
					}
				}
				ABY_sylvester_loyal = yes
				set_country_flag = ABY_sylvester_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 782
					}
				}
				ABY_gumball_loyal = yes
				set_country_flag = ABY_gumball_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 783
					}
				}
				ABY_tom_loyal = yes
				set_country_flag = ABY_tom_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 784
					}
				}
				ABY_oatmeal_loyal = yes
				set_country_flag = ABY_oatmeal_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 785
					}
				}
				ABY_humbert_loyal = yes
				set_country_flag = ABY_humbert_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						state = 786
					}
				}
				ABY_smudge_loyal = yes
				set_country_flag = ABY_smudge_permaloyal
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 738
							state = 740
							state = 741
						}
					}
				}
				ABY_bingus_loyal = yes
				set_country_flag = ABY_bingus_permaloyal
			}
			ABY_update_number_of_loyal_disloyal = yes
		}
	}
	ABY_support_purrsian_resistance = {
		icon = rifles
		custom_cost_trigger = {
			has_political_power > 49
			has_equipment = { infantry_equipment > 499 }
		}
		ai_hint_pp_cost = 50
		custom_cost_text = decision_cost_500_guns_50_pp
		days_re_enable = 1
		days_remove = 15
		ai_will_do = {
			factor = 40
		}
		available = {
			has_equipment = { infantry_equipment > 499 }
		}
		visible = {
			has_country_flag = ABY_purrsian_resistance_unlocked
			NOT = {
				owns_state = 784
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_support_purrsian_resistance target: [From.GetName]"
			hidden_effect = {
				add_political_power = -50
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_support_purrsian_resistance_remove target: [From.GetName]"
			784 = {
				add_compliance = -30
				add_resistance = 30
			}
			custom_effect_tooltip = ABY_purrsia_explanation_tt
			if = {
				limit = {
					784 = {
						resistance > 49
					}
				}
				country_event = abyssinia.88
				784 = {
					owner = {
						country_event = abyssinia.88
					}
				}
			}
		}
	}
}
ABY_slave_decision_category = {
	ABY_pacify_slaves = {
		icon = crossed_swords
		visible = { 
			FROM = {
				has_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
		}
		cancel_trigger = {
			OR = {
				NOT = {
					has_country_flag = ABY_unlock_slave_pacification
				}
				NOT = {
					has_full_control_of_state = FROM
				}
				NOT = {
					has_manpower > 0
				}
				NOT = {
					FROM = {
						has_dynamic_modifier = {
							modifier = ABY_slave_controlled_state
						}
					}
				}
			}
		}
		target_root_trigger = {
			
		}
		
		available = { 
			has_full_control_of_state = FROM
			has_manpower > 0
		}

		state_target = yes

		target_array = core_states
		
		on_map_mode = map_and_decisions_view

		target_trigger = {
			
		}
		
		ai_will_do = {
			base = 5000
			modifier = {
				factor = 0
				OR = {
					has_country_flag = ABY_AI_COMMUNIST
					has_game_rule = {
						rule = ABY_ai_behavior
						option = ABY_COMMUNIST_ALTERNATE
					}
				}
			}
		}
		
		cost = 25
		
		days_remove = 30
		
		modifier = { 
			weekly_manpower = -250
		}
		
		complete_effect = {
			if = {
				limit = {
					has_government = fascism
					NOT = {
						has_country_flag = ABY_its_fine_now
					}
					FROM = {
						NOT = {
							state = 776 
						}
					}
				}
				hidden_effect = {
					country_event = { id = abyssinia.125 days = 15 }
				}
			}
		}
		
		remove_effect = {
			add_stability = 0.05
			FROM = {
				remove_dynamic_modifier = {
					modifier = ABY_slave_controlled_state
				}
			}
			if = {
				limit = {
					has_power_balance = {
						id = ABY_neutral_harmony
					}
				}
				add_power_balance_value = {
					id = ABY_neutral_harmony
					value = -0.05
				}
			}
		}
	}
}
ABY_neutral_harmony_category = {
	
	ABY_debug_harmony = {
		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.67
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	ABY_debug_neutrality = {
		available = {
			is_debug = yes
		}

		visible = {
			is_debug = yes
		}
		complete_effect = {
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = -0.67
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
	ABY_promote_neutrality = {

		icon = anti_harmony

		visible = {
			
		}
		cost = 50
		days_re_enable = 1
		days_remove = 30
		available = {
		
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_promote_neutrality"
			add_popularity = { ideology = neutrality popularity = 0.1 }
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = -0.05
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	ABY_promote_harmony = {

		icon = anti_neutral

		visible = {
			
		}
		cost = 50
		days_re_enable = 1
		days_remove = 30
		available = {
		
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_promote_harmony"
			add_popularity = { ideology = democratic popularity = 0.1 }
			add_power_balance_value = {
				id = ABY_neutral_harmony
				value = 0.05
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	ABY_rule_by_decree = {
		icon = scroll
		visible = { 
			
		}
		available = {
			has_government = neutrality
		}
		
		ai_will_do = {
			base = 1
		}
		
		cost = 25
		
		days_remove = 365
		days_re_enable = 1
		
		modifier = { 
			trade_laws_cost_factor = -0.33
			mobilization_laws_cost_factor = -0.33
			economy_cost_factor = -0.33
		}
		
		remove_effect = {
			
		}
	}
	ABY_patriotic_speech = {
		icon = generic_prepare_civil_war
		visible = { 
			
		}
		available = {
			has_government = neutrality
			has_war_support < 0.85
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 25
		
		days_remove = 30
		days_re_enable = 1
		
		modifier = { 
		
		}
		
		remove_effect = {
			add_war_support = 0.05
		}
	}
	ABY_donate_to_poor = {
		icon = flower
		visible = { 
			
		}
		available = {
			has_country_flag = ABY_treasury_refilled
			has_government = democratic
			has_stability < 0.85
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 25
		
		days_remove = 30
		days_re_enable = 1
		
		modifier = { 
		
		}
		
		remove_effect = {
			add_stability = 0.025
		}
	}
	ABY_call_to_arms = {
		icon = crossed_swords
		visible = { 
			
		}
		available = {
			has_government = democratic
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 25
		
		days_remove = 365
		days_re_enable = 1
		
		modifier = { 
			weekly_manpower = 250
		}
		
		remove_effect = {
			
		}
	}
	ABY_delegate_responsibilities = {
		icon = scroll
		visible = { 
			
		}
		available = {
			has_country_leader_ideology = harmonic_constitutionalism
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 25
		
		days_remove = 365
		days_re_enable = 1
		
		modifier = { 
			ABY_mental_stability_drift = 0.1
		}
		
		remove_effect = {
			
		}
	}
}
ABY_manedalusia_category = {
	ABY_al_manedalus_awaken = {
		icon = rifles
		activation = {
			has_war = no
			MDL = {
				exists = no
			}
			OR = {
				741 = {
					is_owned_by = ROOT
					resistance > 49
				}
				740 = {
					is_owned_by = ROOT
					resistance > 49
				}
				738 = {
					is_owned_by = ROOT
					resistance > 49
				}
			}
			NOT = {
				has_country_flag = ABY_MDL_crushed
			}
		}
        days_mission_timeout = 120
		fire_only_once = no
		is_good = no
		available = {
			741 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
			740 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
			738 = {
				OR = {
					NOT = {
						is_owned_by = ROOT
					}
					resistance < 50
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_country_flag = ABY_MDL_crushed
				has_war = yes
			}
		}
		visible = {
			NOT = {
				has_country_flag = ABY_MDL_crushed
			}
		}
		timeout_effect = {
			country_event = abyssinia.45
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_al_manedalus_awaken"
			
		}
	}
}
ABY_mercenaries_category = {
	ABY_charger_mercs = {
		icon = zebra_charger
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_charger_mercs"
			custom_effect_tooltip = ABY_charger_merc_tt
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_spirit_warriors = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_chargers"
				delete_unit_template_and_units = { division_template = "Chargers" }
				set_technology = { 
					popup = no
					tech_spirit_warriors = 0 
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_charger_mercs"
			delete_unit_template_and_units = { division_template = "Desert Mercenaries" }
		}
	}
	ABY_pegasus_mercs = {
		icon = pegasus_wing
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_pegasus_mercs"
			custom_effect_tooltip = ABY_pegasus_merc_tt
			
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_pegasi = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_pegasi"
				fix_weapon_techs = yes
				delete_unit_template_and_units = { division_template = "Pegasus Shock Unit" }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_pegasus_mercs"
			delete_unit_template_and_units = { division_template = "Maregyptian Mercenaries" }
		}
	}
	ABY_knight_mercs = {
		icon = knight_helm
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_knight_mercs"
			custom_effect_tooltip = ABY_knight_merc_tt
			
			hidden_effect = {
				set_technology = { 
					popup = no
					tech_knights = 1 
				}
				fix_weapon_techs = yes
				load_oob = "ABY_merc_knights"
				set_technology = { 
					popup = no
					tech_knights = 0 
				}
				delete_unit_template_and_units = { division_template = "Griffon Knights" }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_knight_mercs"
			delete_unit_template_and_units = { division_template = "Wingbardian Condottieri" }
		}
	}
	ABY_dragon_mercs = {
		icon = fire
		available = {
			
		}

		ai_will_do = {
			factor = 0
			modifier = {
				add = 160
				has_war = yes
			}
		}
		cost = 100
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.15
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_dragon_mercs"
			custom_effect_tooltip = ABY_dragon_mercs_tt
			hidden_effect = {
			    set_technology = {
					popup = no
				    dragons_light = 1
			    }
				add_equipment_to_stockpile = {
					type = dragon_equipment_0
					amount = 250
					producer = DRG
				}
				load_oob = "ABY_merc_dragons"
				set_technology = {
					popup = no
					dragons_light = 0 
				}
				fix_weapon_techs = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_dragon_mercs"
			delete_unit_template_and_units = { division_template = "Dragon Mercenaries" }
		}
	}
}
ABY_abyssinian_empire_category = {
	ABY_form_empire = {
		icon = generic_nationalism
		available = {
			has_war = no
			has_government = neutrality
			NOT = {
				has_country_leader_with_trait = ABY_dead_inside
				has_country_leader_with_trait = ABY_slightly_less_melancholic
				has_country_leader_with_trait = ABY_half_melancholic
			}
			owns_state = 733
			owns_state = 790
			owns_state = 810
			owns_state = 788
			owns_state = 741
			owns_state = 1208
			owns_state = 1200
			owns_state = 784
			NOT = {
				has_country_flag = ABY_gomez_absent
			}
		}
		visible = {
			is_subject = no
			OR = {
				any_occupied_country = {
					tag = MGY
				}
				any_occupied_country = {
					tag = ANS
				}
				any_occupied_country = {
					tag = ASS
				}
				any_occupied_country = {
					tag = YMN
				}
				any_occupied_country = {
					tag = MER
				}
			}
		}
		cost = 100
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_form_empire"
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = ANS
						is_core_of = ASS
						is_core_of = YMN
						is_core_of = MKS
						is_core_of = MER
						is_core_of = PCB
						state = 1199
					}
				}
				add_compliance = 20
				if = {
					limit = {
						has_dynamic_modifier = {
							modifier = ABY_abyssinian_governorate
						}
					}
					remove_dynamic_modifier = {
						modifier = ABY_abyssinian_governorate
					}
				}
				add_dynamic_modifier = {
					modifier = ABY_imperial_province
				}
			}
			country_event = abyssinia.117
			hidden_effect = {
				news_event = { id = abyssinia_news.5 hours = 6 }
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	ABY_annex_puppet = {
		icon = jachs_drawer
		available = {
			has_war = no
			has_government = neutrality
		}

		cost = 100
		days_remove = 90

        ai_will_do = {
			factor = 5
        }
		cancel_trigger = {
			has_war = yes
		}
		targets = { MGY ANS ASS YMN MKS MER PCB KLG }
		targets_dynamic = yes
		target_trigger = {
			FROM = { 
				OR = {
					original_tag = MGY
					original_tag = ANS
					original_tag = ASS
					original_tag = YMN
					original_tag = MKS
					original_tag = MER
					original_tag = PCB
					original_tag = KLG
				}
			}
		}
		target_root_trigger = {
			has_war = no
		}
		visible = {
			country_exists = FROM
			FROM = {
				is_subject_of = ROOT
			}
		}
		cancel_effect = { 
			add_political_power = 100
		} 
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_annex_puppet"
			annex_country = {
				target = FROM
				transfer_troops = no
			}
        }
	}
	ABY_establish_gov = {
		icon = jachs_drawer
		available = {
			has_war = no
		}

		cost = 25
		days_remove = 30
		fire_only_once = yes

        ai_will_do = {
			factor = 40
        }
		cancel_trigger = {
			has_war = yes
		}
		targets = { MGY ANS ASS YMN MKS MER PCB }
		targets_dynamic = yes
		target_non_existing = yes
		target_trigger = {
			FROM = { 
				OR = {
					original_tag = MGY
					original_tag = ANS
					original_tag = ASS
					original_tag = YMN
					original_tag = MKS
					original_tag = MER
					original_tag = PCB
				}
			}
		}
		target_root_trigger = {
			has_war = no
		}
		visible = {
			NOT = { country_exists = FROM }
			any_occupied_country = {
				tag = FROM
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_establish_gov"
			if = {
				limit = {
					has_cosmetic_tag = ABY_empire
				}
				every_owned_state = {
					limit = {
						is_core_of = FROM
						NOT = {
							has_dynamic_modifier = {
								modifier = ABY_imperial_province
							}
						}
					}
					add_compliance = 10
					add_dynamic_modifier = {
						modifier = ABY_imperial_province
					}
				}
			}
			else = {
				every_owned_state = {
					limit = {
						is_core_of = FROM
						NOT = {
							has_dynamic_modifier = {
								modifier = ABY_abyssinian_governorate
							}
						}
					}
					add_compliance = 10
					add_dynamic_modifier = {
						modifier = ABY_abyssinian_governorate
					}
				}
			}
        }
	}
	ABY_guarantee_league = {
		icon = crossed_swords
		available = {
			has_war = no
			EMR = {
				has_war = no
				OR = {
					is_neighbor_of = ROOT
					any_neighbor_country = { 
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
		}
		visible = {
			is_ai = no
			EMR = {
				exists = yes
				is_subject = no
			}
			OR = {
				ASS = {
					OR = {
						exists = no
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
				ANS = {
					OR = {
						exists = no
						is_subject_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		cost = 50
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guarantee_league"
			give_guarantee = EMR
			if = {
				limit = {
					is_faction_leader = yes
					EMR = {
						is_in_faction = no
					}
				}
				EMR = {
					country_event = generic.5
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	ABY_guarantee_lakes = {
		icon = jachs_drawer
		available = {
			has_war = no
			has_global_flag = Great_lakes_united
		}

		cost = 50
		fire_only_once = yes

        ai_will_do = {
			factor = 0
        }
		targets = { ALO TIM SON MSH MSS MAZ ZEL ZWA ZUG HAY HYE }
		targets_dynamic = yes
		target_non_existing = no
		target_trigger = {
			FROM = { 
				OR = {
					is_neighbor_of = ROOT
					any_neighbor_country = { 
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				OR = {
					original_tag = ALO
					original_tag = TIM
					original_tag = SON
					original_tag = MSH
					original_tag = MSS
					original_tag = MAZ
					original_tag = ZEL
					original_tag = ZWA
					original_tag = ZUG
					original_tag = HAY
					original_tag = HYE
				}
				OR = {
					has_government = neutrality
					has_government = democratic
				}
			}
		}
		target_root_trigger = {
			is_ai = no
			has_war = no
		}
		visible = {
			FROM = {
				exists = yes
				is_subject = no
				has_war = no
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guarantee_lakes"
			give_guarantee = FROM
			if = {
				limit = {
					is_faction_leader = yes
					FROM = {
						is_in_faction = no
					}
				}
				FROM = {
					country_event = generic.5
				}
			}
		}
	}
}
ABY_witchweed_cat = {
	ABY_purchase_1_slaves = {
		icon = generic_independence
		visible = { 
			
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_slave_cap_check
				check_variable = {
					ABY_catrina_slaves < ABY_catrina_slaves_cap
				}
			}
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 10
		
		days_remove = 30
		days_re_enable = 1
		
		modifier = { 
			consumer_goods_factor = 0.01
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_catrina_slaves
				value = 100
				tooltip = ABY_add_1_slaves
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_purchase_1k_slaves = {
		icon = generic_independence
		visible = { 
			
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = ABY_slave_cap_check
				check_variable = {
					ABY_catrina_slaves < ABY_catrina_slaves_cap
				}
			}
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 100
		
		days_remove = 30
		days_re_enable = 1
		
		modifier = { 
			consumer_goods_factor = 0.1
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_catrina_slaves
				value = 1000
				tooltip = ABY_add_1k_slaves
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_velkom_to_te_hytraulik_pres_tsanel = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = excavation1
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			production_speed_buildings_factor = -0.25
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_pneumautism = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = construction2
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			production_speed_buildings_factor = -0.25
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_praise_omnissiah = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = advanced_machine_tools
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			production_speed_buildings_factor = -0.25
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_better_logistics = {
		icon = gear
		visible = { 
			
		}
		available = {
			OR = {
				has_tech = concentrated_industry3
				has_tech = dispersed_industry3
			}
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			production_speed_buildings_factor = -0.25
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_crystal_energy = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = magical_weapons
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		cancel_trigger = {
			NOT = {
				783 = { 
					is_owned_and_controlled_by = ROOT 
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_resource = {
				type = crystals
				amount = -10
				state = 783
			}
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_constant_production = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = streamlined_line_b
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		cancel_trigger = {
			NOT = {
				783 = { 
					is_owned_and_controlled_by = ROOT 
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_reorganized_slaves = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = construction_a
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		cancel_trigger = {
			NOT = {
				783 = { 
					is_owned_and_controlled_by = ROOT 
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_robotics = {
		icon = gear
		visible = { 
			
		}
		available = {
			has_tech = streamlined_line_d
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		cancel_trigger = {
			NOT = {
				783 = { 
					is_owned_and_controlled_by = ROOT 
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 15
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.1
				tooltip = ABY_add_10_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_weed_farm = {
		icon = swamp
		visible = { 
			
		}
		available = {
			has_tech = tech_cat_culture3
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
		
		cost = 50
		
		days_remove = 30
		fire_only_once = yes
		
		modifier = { 
			consumer_goods_factor = 0.15
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_machine_efficiency
				value = 0.19
				tooltip = ABY_add_19_efficiency
			}
			ABY_witchweed_recalculate_production = yes
		}
	}
	ABY_expand_machine = {
		icon = gear
		visible = { 
			
		}
		available = {
			783 = { 
				is_owned_and_controlled_by = ROOT 
				NOT = {
					has_dynamic_modifier = {
						modifier = ABY_slave_controlled_state
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
		}
		
		cost = 50
		
		days_remove = 180
		days_re_enable = 1
		
		modifier = { 
			consumer_goods_factor = 0.15
		}
		
		remove_effect = {
			add_to_variable = {
				var = ABY_catrina_slaves_cap
				value = 5000
				tooltip = ABY_add_5k_slave_cap
			}
		}
	}
	ABY_distribute_potions_to_army = {
		icon = generic_research
		visible = { 
			has_country_flag = ABY_unleashed_potential
		}
		available = {
			has_war = yes
			custom_trigger_tooltip = {
				tooltip = ABY_potion_army_tt
				check_variable = {
					ABY_potion_doses_ready_k > num_battalions_with_type@infantry
				}
			}
		}
		cost = 25
		ai_will_do = {
			base = 100
		}
		days_remove = 90
		days_re_enable = 1
		
		complete_effect = {
			if = {
				limit = {
					has_idea = ABY_potion_hangover_army_idea
				}
				remove_ideas = ABY_potion_hangover_army_idea
			}
			set_temp_variable = { ABY_temp_var_2 = num_battalions_with_type@infantry }
			multiply_temp_variable = {
				var = ABY_temp_var_2
				value = 1000
			}
			subtract_from_variable = {
				var = ABY_potion_doses_ready
				value = ABY_temp_var_2
				tooltip = ABY_potion_army_cost
			}
			set_variable = { ABY_potion_doses_ready_k = ABY_potion_doses_ready }
			divide_variable = { ABY_potion_doses_ready_k = 1000 }
			round_variable = ABY_potion_doses_ready_k
			custom_effect_tooltip = ABY_unleashed_potential_army_tt
			hidden_effect = {
				set_technology = {
					popup = no
					ABY_unleashed_potential_army_tech = 1
				}
			}
		}
			
		modifier = {
			navy_weather_penalty = -0.5
			air_weather_penalty = -0.5
			winter_attrition_factor = -0.5
			heat_attrition_factor = -0.5
			org_loss_when_moving = -0.15
			dont_lose_dig_in_on_attack = 1
			required_garrison_factor = -0.5
			resistance_damage_to_garrison = -0.5
		}
		
		remove_effect = {
			custom_effect_tooltip = ABY_unleashed_potential_removed_tt
			add_timed_idea = {
				idea = ABY_potion_hangover_army_idea
				days = 30
			}
			hidden_effect = {
				set_technology = {
					popup = no
					ABY_unleashed_potential_army_tech = 0
				}
			}
		}
	}
	ABY_distribute_potions_to_workers = {
		icon = generic_research
		visible = { 
			has_country_flag = ABY_unleashed_potential
		}
		available = {
			has_war = yes
			custom_trigger_tooltip = {
				tooltip = ABY_potion_workers_tt
				check_variable = {
					ABY_potion_doses_ready_k > num_of_factories
				}
			}
		}
		cost = 25
		ai_will_do = {
			base = 100
		}
		days_remove = 90
		days_re_enable = 1
		
		complete_effect = {
			if = {
				limit = {
					has_idea = ABY_potion_hangover_workers_idea
				}
				remove_ideas = ABY_potion_hangover_workers_idea
			}
			set_temp_variable = { ABY_temp_var_3 = num_of_factories }
			multiply_temp_variable = {
				var = ABY_temp_var_3
				value = 1000
			}
			subtract_from_variable = {
				var = ABY_potion_doses_ready
				value = ABY_temp_var_3
				tooltip = ABY_potion_workers_cost
			}
			set_variable = { ABY_potion_doses_ready_k = ABY_potion_doses_ready }
			divide_variable = { ABY_potion_doses_ready_k = 1000 }
			round_variable = ABY_potion_doses_ready_k
		}
			
		modifier = {
			industrial_capacity_dockyard = 0.25
			industrial_capacity_factory = 0.25
			production_speed_buildings_factor = 0.25
			local_resources_factor = 0.25
		}
		
		remove_effect = {
			custom_effect_tooltip = ABY_unleashed_potential_removed_tt
			add_timed_idea = {
				idea = ABY_potion_hangover_workers_idea
				days = 30
			}
		}
	}
	ABY_take_potion = {
		icon = generic_research
		visible = { 
			has_country_flag = ABY_unleashed_potential
		}
		available = {
			has_war = yes
			custom_trigger_tooltip = {
				tooltip = ABY_potion_one_tt
				check_variable = {
					ABY_potion_doses_ready > 0
				}
			}
		}
		cost = 10
		ai_will_do = {
			base = 100
		}
		days_remove = 90
		days_re_enable = 1
		
		complete_effect = {
			if = {
				limit = {
					ABY_catrina_catwe = {
						has_trait = substance_addict
					}
				}
				remove_trait = {
					character = ABY_catrina_catwe
					trait = substance_addict
				}
			}
			add_trait = {
				character = ABY_catrina_catwe
				trait = ABY_catrina_drugged
			}
			subtract_from_variable = {
				var = ABY_potion_doses_ready
				value = 1
				tooltip = ABY_potion_cost_1
			}
		}
			
		modifier = {
			
		}
		
		remove_effect = {
			remove_trait = {
				character = ABY_catrina_catwe
				trait = ABY_catrina_drugged
			}
			add_trait = {
				character = ABY_catrina_catwe
				trait = substance_addict
			}
		}
	}
}
ABY_slave_revolt_cat = {
	ABY_recruit_slaves = {
		icon = rifles
		available = {
			has_full_control_of_state = FROM
		}
		visible = {
			has_country_flag = ABY_slave_dec_unlocked
			has_civil_war = yes
			FROM = {
				NOT = {
					has_state_flag = ABY_div_raised
				}
				impassable = no
			}
		}
		cost = 10
		ai_will_do = {
			base = 50
		}
		fire_only_once = yes
		
		state_target = yes

		target_array = core_states
		
		on_map_mode = map_and_decisions_view
		
		cancel_trigger = {
			NOT = {
				has_full_control_of_state = FROM
			}
		}
		days_remove = 7
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ABY_recruit_slaves"
			custom_effect_tooltip = ABY_raise_unit_tooltip
			hidden_effect = {
				if = {
				    limit = { 
			            NOT = { 
						    has_template = "Rebellious Slaves"
						}
					}
					division_template = {
						name = "Rebellious Slaves"
						priority = 0
						is_locked = yes
						regiments = {
							irregular_infantry = { x = 0 y = 0 }
							irregular_infantry = { x = 0 y = 1 }
							irregular_infantry = { x = 0 y = 2 }
						}
					}
				}
				FROM = { 
					set_state_flag = ABY_div_raised 
					create_unit = {
						division = "name = \"Rebellious Slaves\" division_template = \"Rebellious Slaves\" start_experience_factor = 0.01 start_equipment_factor = 0.5"
						owner = ROOT
					}
				}
			}
			add_manpower = 1500
			add_equipment_to_stockpile = {
				type = melee_equipment_1
				amount = 50
				producer = ABY
			}
			add_equipment_to_stockpile = {
				type = melee_equipment_0
				amount = 100
				producer = ABY
			}
		}
	}
}
ABY_parliament_cat = {

	ABY_guide_to_parties = {

		icon = scroll

		cost = 0
		fire_only_once = yes

		visible = {
			is_ai = no
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_guide_to_parties"
			country_event = abyssinia.211
		}
	}

	#TODO flesh out these decisions

	ABY_coalition_with_asp = {
		icon = generic_political_discourse
		visible = { 
			has_country_flag = ABY_urf_split
			NOT = {
				has_country_flag = ABY_asp_alliance
			}
		}
		available = {
			
		}
		
		ai_will_do = {
			base = 40
		}
		
		cost = 25
		days_remove = 30
		days_re_enable = 30
		
		modifier = { 
			
		}
		
		remove_effect = {
			set_country_flag = ABY_asp_alliance
			set_variable = { ABY_asp_patience = 1 }
			add_to_array = { ABY_coalitions_array = 1 }
			custom_effect_tooltip = ABY_coalition_warning
			ABY_PLMT_re_render = yes
		}
	}
	ABY_coalition_with_pla = {
		icon = generic_political_discourse
		visible = { 
			has_country_flag = ABY_urf_split
			NOT = {
				has_country_flag = ABY_pla_alliance
			}
		}
		available = {
			
		}
		
		ai_will_do = {
			base = 40
		}
		
		cost = 50
		days_remove = 30
		days_re_enable = 30
		
		modifier = { 
			
		}
		
		remove_effect = {
			set_country_flag = ABY_pla_alliance
			set_variable = { ABY_pla_patience = 1 }
			add_popularity = { ideology = democratic popularity = 0.025 }
			add_to_array = { ABY_coalitions_array = 3 }
			custom_effect_tooltip = ABY_coalition_warning
			ABY_PLMT_re_render = yes
		}
	}
	ABY_agreements_with_apf = {
		icon = generic_political_discourse
		visible = { 
			custom_trigger_tooltip = {
				tooltip = ABY_max_30
				check_variable = {
					ABY_apf_support < 30
				}
			}
			NOT = {
				has_country_flag = ABY_block_cooperation_with_apf
			}
		}
		available = {
			
		}
		
		ai_will_do = {
			base = 40
		}
		
		cost = 50
		days_remove = 30
		days_re_enable = 30
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_popularity = { ideology = neutrality popularity = 0.01 }
			add_to_variable = {
				var = ABY_apf_support
				value = 10
				tooltip = ABY_gain_support_10_apf
			}
			custom_effect_tooltip = ABY_rep_warning
			ABY_PLMT_re_render = yes
		}
	}
	ABY_agreements_with_apf_2 = {
		icon = generic_political_discourse
		visible = { 
			custom_trigger_tooltip = {
				tooltip = ABY_max_30
				check_variable = {
					ABY_apf_support < 30
				}
			}
			has_country_flag = ABY_block_cooperation_with_apf
		}
		available = {
			
		}
		
		ai_will_do = {
			base = 40
		}
		
		cost = 75
		days_remove = 30
		days_re_enable = 30
		
		modifier = { 
			
		}
		
		remove_effect = {
			add_stability = -0.01
			add_popularity = { ideology = neutrality popularity = 0.01 }
			add_popularity = { ideology = communism popularity = -0.01 }
			add_to_variable = {
				var = ABY_apf_support
				value = 10
				tooltip = ABY_gain_support_10_apf
			}
			custom_effect_tooltip = ABY_rep_warning
			ABY_PLMT_re_render = yes
		}
	}
	ABY_election_campaign = {
		icon = generic_political_discourse
		visible = { 
			
		}
		available = {
			set_temp_variable = { temp_days = 60 }
			ABY_PLMT_x_days_until_election = yes
		}
		
		ai_will_do = {
			base = 40
		}
		
		cost = 50
		days_remove = 30
		days_re_enable = 900
		
		modifier = { 
			communism_drift = 0.1
		}
		
		remove_effect = {
			add_popularity = { ideology = communism popularity = 0.05 }
		}
	}
	ABY_hire_apf_advisor = {
		icon = scroll
		activation = {
			always = no
		}
        days_mission_timeout = 365
		fire_only_once = yes
		is_good = no
		available = {
			OR = {
				ABY_com_pa1 = {
					is_political_advisor = yes
				}
				ABY_com_pa2 = {
					is_political_advisor = yes
				}
				ABY_com_pa3 = {
					is_political_advisor = yes
				}
			}
		}
		timeout_effect = {
			add_popularity = { ideology = communism popularity = -0.1 }
			add_stability = -0.1
			ABY_apf_opposes = yes
        }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_hire_apf_advisor"
			add_stability = 0.1
			add_to_variable = {
				var = ABY_apf_support
				value = 10
				tooltip = ABY_gain_support_10_apf
			}
			ABY_PLMT_re_render = yes
		}
	}
	ABY_provincial_elections = {
		icon = megaphone
		activation = {
			always = no
		}
        days_mission_timeout = 1095
		fire_only_once = no
		is_good = yes
		available = {
			always = no
		}
		timeout_effect = {
			ABY_clear_provinces = yes
			ABY_provincial_elections = yes
			custom_effect_tooltip = ABY_provincial_elections_tt
			activate_mission = ABY_provincial_elections
        }
		complete_effect = {
			
			
		}
	}
}
foreign_politics = {
	ABY_support_purrsian_resistance_gommie = {
		icon = rifles
		allowed = {
			original_tag = ABY
		}
		custom_cost_trigger = {
			has_political_power > 49
			has_equipment = { infantry_equipment > 499 }
		}
		ai_hint_pp_cost = 50
		custom_cost_text = decision_cost_500_guns_50_pp
		days_re_enable = 1
		days_remove = 15
		ai_will_do = {
			factor = 40
		}
		available = {
			has_equipment = { infantry_equipment > 499 }
		}
		visible = {
			has_country_flag = ABY_purrsian_resistance_unlocked
			has_government = communism
			NOT = {
				owns_state = 784
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_support_purrsian_resistance_gommie target: [From.GetName]"
			hidden_effect = {
				add_political_power = -50
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_support_purrsian_resistance_gommie target: [From.GetName]"
			784 = {
				add_compliance = -30
				add_resistance = 30
			}
			custom_effect_tooltip = ABY_purrsia_explanation_tt
			if = {
				limit = {
					784 = {
						resistance > 49
					}
				}
				country_event = abyssinia.88
				784 = {
					owner = {
						country_event = abyssinia.88
					}
				}
			}
		}
	}
	ABY_ally_with_mdl = {
		icon = scroll
		allowed = {
			original_tag = ABY
		}
		available = {
			has_war = no
			MDL = {
				has_war = no
				is_in_faction = no
				is_subject = no
				AND = {
					owns_state = 740
					owns_state = 741
					owns_state = 738
				}
			}
		}
		visible = {
			has_government = communism
			has_country_flag = ABY_agreed_to_liberate_mdl
			MDL = {
				exists = yes
			}
		}
		cost = 25
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_ally_with_mdl"
			if = {
				limit = {
					is_in_faction = no
				}
				if = {
					limit = {
						MDL = {
							is_faction_leader = yes
						}
					}
					MDL = {
						country_event = generic.2
					}
				}
				else = {
					create_faction = ABY_COM_ALLIANCE
					#Unfortunately i have to copy the code twice so the tooltip generates properly
					MDL = {
						country_event = generic.5
					}
				}
			}
			else_if = {
				limit = {
					is_faction_leader = yes
				}
				MDL = {
					country_event = generic.5
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	ABY_secure_more_borders = {
		icon = scroll
		allowed = {
			original_tag = ABY
		}
		available = {
			has_war = no
		}
		visible = {
			has_country_flag = ABY_more_diplo_unlocked
			has_government = communism
		}
		cost = 50
		days_remove = 30
		fire_only_once = yes

        ai_will_do = {
			factor = 0
        }
		target_array = neighbors
		targets_dynamic = yes
		target_non_existing = no
		war_with_target_on_remove = yes
		target_trigger = {
			FROM = { 
				OR = {
					is_neighbor_of = ROOT
					any_neighbor_country = { 
						OR = {
							is_subject_of = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
			}
		}
		target_root_trigger = {
			is_ai = no
			has_war = no
		}
		visible = {
			FROM = {
				exists = yes
				is_subject = no
				has_war = no
				NOT = {
					is_in_faction_with = ROOT
					has_non_aggression_pact_with = ROOT
					has_idea = detached_country
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
					FROM = {
						OR = {
							has_government = fascism
							has_idea = slavery_economy
						}
					}
				}
				add_ai_strategy = {
                    type = prepare_for_war
                    id = FROM
                    value = 1000
                }
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
					if = {
						limit = {
							is_ai = no
						}
						country_event = abyssinia.233
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_secure_more_borders"
			if = {
				limit = {
					FROM = {
						OR = {
							has_government = fascism
							has_idea = slavery_economy
						}
					}
				}
				add_ai_strategy = {
                    type = prepare_for_war
                    id = FROM
                    value = -1000
                }
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -1000
					}
				}
				create_wargoal = { 
					type = annex_everything 
					target = FROM
				}
			}
			else_if = {
				limit = {
					FROM = {
						has_government = communism
					}
				}
				if = {
					limit = {
						is_in_faction = no
					}
					if = {
						limit = {
							FROM = {
								is_faction_leader = yes
							}
						}
						FROM = {
							country_event = generic.2
						}
					}
					else = {
						create_faction = ABY_COM_ALLIANCE
						#Unfortunately i have to copy the code twice so the tooltip generates properly
						FROM = {
							country_event = generic.5
						}
					}
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					FROM = {
						country_event = generic.5
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						NOT = {
							has_government = fascism
							has_government = communism
						}
					}
				}
				FROM = {
					country_event = abyssinia.230
				}
			}
		}
	}
}
ABY_integration_decisions = {
	ABY_form_commie_empire = {
		icon = generic_nationalism
		available = {
			has_war = no
			owns_state = 1208
			owns_state = 1200
			owns_state = 784
			OR = {
				owns_state = 733
				owns_state = 790
				owns_state = 810
			}
		}
		visible = {
			is_subject = no
			OR = {
				any_occupied_country = {
					tag = MGY
				}
				any_occupied_country = {
					tag = ANS
				}
				any_occupied_country = {
					tag = ASS
				}
				any_occupied_country = {
					tag = YMN
				}
			}
		}
		cost = 100
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_form_commie_empire"
			ABY_no_majority_effect = yes
			ABY_apf_opposes = yes
			every_owned_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = ANS
						is_core_of = ASS
						is_core_of = YMN
						is_core_of = MKS
					}
				}
				add_compliance = 20
			}
			if = {
				limit = {
					has_country_leader = {
						character = ABY_slave_leader
					}
				}
				country_event = abyssinia.234
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_cosmetic_tag = ABY_monsoc_cosmetic
							has_cosmetic_tag = ABY_empire_2
						}
					}
					news_event = { id = abyssinia_news.8 hours = 6 }
				}
				else = {
					news_event = { id = abyssinia_news.9 hours = 6 }
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	ABY_annex_puppet_2 = {
		icon = jachs_drawer
		available = {
			has_war = no
		}

		cost = 100
		days_remove = 90
		fire_only_once = yes

        ai_will_do = {
			factor = 5
        }
		cancel_trigger = {
			has_war = yes
		}
		targets = { MGY ANS ASS YMN MKS MER PCB KLG MDL }
		targets_dynamic = yes
		target_trigger = {
			FROM = { 
				OR = {
					original_tag = MGY
					original_tag = ANS
					original_tag = ASS
					original_tag = YMN
					original_tag = MKS
					original_tag = MER
					original_tag = PCB
					original_tag = KLG
					original_tag = MDL
				}
			}
		}
		target_root_trigger = {
			has_war = no
		}
		visible = {
			country_exists = FROM
			FROM = {
				is_subject_of = ROOT
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_annex_puppet_2"
			ABY_no_majority_effect = yes
			ABY_pla_opposes = yes
			annex_country = {
				target = FROM
				transfer_troops = no
			}
        }
	}
	ABY_integrate_country = {
		icon = jachs_drawer
		available = {
			has_war = no
		}

		cost = 75
		fire_only_once = yes

        ai_will_do = {
			factor = 40
        }
		targets = { MGY ANS ASS YMN MDL KLG MKS }
		targets_dynamic = yes
		target_non_existing = yes
		target_trigger = {
			FROM = { 
				OR = {
					original_tag = MGY
					original_tag = ANS
					original_tag = ASS
					original_tag = YMN
					original_tag = MDL
					original_tag = KLG
					original_tag = MKS
				}
			}
		}
		target_root_trigger = {
			has_war = no
		}
		visible = {
			NOT = { country_exists = FROM }
			any_occupied_country = {
				tag = FROM
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ABY_integrate_country"
			ABY_no_majority_effect = yes
			ABY_apf_opposes = yes
			FROM = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					FROM = {
						original_tag = KLG
					}
				}
				1208 = {
					if = {
						limit = {
							has_dynamic_modifier = {
								modifier = klugetown_criminals
							}
						}
						remove_dynamic_modifier = {
							modifier = klugetown_criminals
						}
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = MDL
					}
				}
				every_owned_state = {
					limit = {
						is_core_of = MDL
						has_dynamic_modifier = {
							modifier = ABY_manedalusian_autonomy
						}
					}
					remove_dynamic_modifier = {
						modifier = ABY_manedalusian_autonomy
					}
				}
			}
        }
	}
}