EQC_EQS_relations_category = {
	EQC_break_free = {
		icon = celestia
		available = {
			NOT = { has_government = fascism }
		}
		visible = {
			has_war = no
			has_global_flag = SOL_wartime_change
			is_subject = yes
			overlord = {
				tag = event_target:solar_empire
				is_EQS_SOL = yes
			}
		}
		target_trigger = {
			FROM = {
				tag = event_target:solar_empire
			}
		}
		cost = 100
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_country_flag = EQC_dont_break_free_from_SOL
			}
			modifier = {
				factor = 0
				NOT = { overlord = { has_completed_focus = SOL_god_empress } }
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 5
				strength_ratio = { tag = FROM ratio > 0.9 }
			}
		}
		fire_only_once = yes
		#days_remove = -1
		complete_effect = {
			FROM = {
				effect_tooltip = { end_puppet = ROOT }
				country_event = { id = solarempire.31 days = 2 }
			}
		}
	}
}

EQC_bandits_category = {
	 
	EQC_support_the_police_efforts = {

		icon = generic_oppression
		
		available = {
			has_country_flag = EQC_black_claw_bandit_raids
		}

		cost = 50

		ai_will_do = {
			factor = 100
		}

		visible = {
			has_country_flag = EQC_black_claw_bandit_raids
		}
		
		is_good = yes
		
		days_remove = 5 

		complete_effect = {
			custom_effect_tooltip = EQC_police_hunt_bandits_tt
			hidden_effect = {
				if = {
					limit = {
						has_country_flag = { flag = EQC_black_claw_bandit_raids value < 3 }
					}
					random_list = {
						50 = {
							country_event = eqc_bandit_event.5
						}
						50 = {
							country_event = eqc_bandit_event.6
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = { flag = EQC_black_claw_bandit_raids value > 2 }
						has_country_flag = { flag = EQC_black_claw_bandit_raids value < 5 }
					}
					random_list = {
						40 = {
							country_event = eqc_bandit_event.5
						}
						60 = {
							country_event = eqc_bandit_event.6
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = { flag = EQC_black_claw_bandit_raids value > 4 }
						has_country_flag = { flag = EQC_black_claw_bandit_raids value < 7 }
					}
					random_list = {
						30 = {
							country_event = eqc_bandit_event.5
						}
						70 = {
							country_event = eqc_bandit_event.6
						}
					}
				}
				else_if = {
					limit = {
						has_country_flag = { flag = EQC_black_claw_bandit_raids value > 6 }
						has_country_flag = { flag = EQC_black_claw_bandit_raids value < 9 }
					}
					random_list = {
						10 = {
							country_event = eqc_bandit_event.5
						}
						90 = {
							country_event = eqc_bandit_event.6
						}
					}
				}
				else = {
					country_event = eqc_bandit_event.6
				}
			}
		}
	}
	
	EQC_bandit_raids = {

		icon = generic_civil_support

		available = {
			NOT = { has_country_flag = EQC_black_claw_bandit_raids }
		}

		days_mission_timeout = 35
		
		activation = {
			has_country_flag = EQC_black_claw_bandit_raids
		}

		visible = {
			
		}		

		fixed_random_seed = no

		fire_only_once = no

		is_good = no

		timeout_effect = {
			custom_effect_tooltip = EQC_bandit_raids_tt
			hidden_effect = {
				random_list = {
					25 = {
						country_event = eqc_bandit_event.1
					}
					25 = {
						country_event = eqc_bandit_event.2
					}
					25 = {
						country_event = eqc_bandit_event.3
					}
					25 = {
						country_event = eqc_bandit_event.4
					}
				}
			}
			
		}
	}
}

EQC_bnpl_bills_category = {

	EQC_bnpl_bills_mission = {

		allowed = { original_tag = EQC }

		icon = ger_mefo_bills
		
		activation = {
			has_completed_focus = EQC_build_now_play_later
		}

		available = {
			NOT = { has_government = democratic }
			EQC_can_delay_bnpl_payment = yes
			has_political_power > 0
		}

		selectable_mission = yes
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes

		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { EQC_has_bnpl_bills = yes }
					has_idea = EQC_bnpl_bills_ended
				}
			}
		}

		days_remove = EQC_extend_bnpl_bills_days?0
		remove_effect = {
			EQC_bnpl_bills_level_up = yes
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 15 compare = less_than }
				}
				set_variable = { var = EQC_bnpl_bill_counter value = 10 }
			}
			add_to_variable = { var = EQC_bnpl_bill_counter value = 10 }

			hidden_effect = {
				activate_mission = EQC_bnpl_bills_mission
			}
		}

		complete_effect = {
			custom_effect_tooltip = EQC_bnpl_bills_mission_tt
			custom_effect_tooltip = EQC_bnpl_bills_effect_in_days
			effect_tooltip = {
				EQC_bnpl_bills_level_up = yes
			}
			hidden_effect = {
				set_variable = { EQC_extend_bnpl_bills_days = days_mission_timeout@EQC_bnpl_bills_mission }
			}
		}

		timeout_effect = {
			EQC_remove_bnpl_bills = yes
			#1
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 15 compare = less_than }
				}
				add_political_power = -20
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 60 }
			}
			#2
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 20 compare = equals }
				}
				add_political_power = -40
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 80 }
			}
			#3
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 30 compare = equals }
				}
				add_political_power = -60
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 100 }
			}
			#4
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 40 compare = equals }
				}
				add_political_power = -80
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 120 }
			}
			#5
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 50 compare = equals }
				}
				add_political_power = -100
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 140 }
			}
			#6
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 60 compare = equals }
				}
				add_political_power = -120
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 160 }
			}
			#7
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 70 compare = equals }
				}
				add_political_power = -140
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 180 }
			}
			#8
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 80 compare = equals }
				}
				add_political_power = -160
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 200 }
			}
			#9
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 90 compare = equals }
				}
				add_political_power = -180
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 220 }
			}
			#10
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 100 compare = equals }
				}
				add_political_power = -200
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 240 }
			}
			#11
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 110 compare = equals }
				}
				add_political_power = -220
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 260 }
			}
			#12
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 120 compare = equals }
				}
				add_political_power = -240
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 280 }
			}
			#13
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 130 compare = equals }
				}
				add_political_power = -260
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 300 }
			}
			#14
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 140 compare = equals }
				}
				add_political_power = -280
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 320 }
			}
			#15
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 150 compare = equals }
				}
				add_political_power = -300
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 340 }
			}
			#16
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 160 compare = equals }
				}
				add_political_power = -320
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 360 }
			}
			#17
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 170 compare = equals }
				}
				add_political_power = -340
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 380 }
			}
			#18
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 180 compare = equals }
				}
				add_political_power = -360
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 400 }
			}
			if = {
				limit = {
					check_variable = { var = EQC_bnpl_bill_counter value = 180 compare = greater_than }
				}
				add_political_power = -380
				add_timed_idea = { idea = EQC_bnpl_bills_ended days = 420 }
			}			
		}

		ai_will_do = {
			factor = 200
		}
	}
}

political_actions = {

	hold_war_with_changelings_speech = {

		icon = generic_political_discourse

		allowed = {
			tag = EQC
		}

		available = {
			has_government = democratic
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}			
			EQS = {
				has_government = democratic
				has_defensive_war_with = CHN
			}
			has_war_with = CHN
		}

		cost = 50

		fire_only_once = yes

		visible = {
			has_government = democratic
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}			
			EQS = {
				has_government = democratic
				has_defensive_war_with = CHN
			}
			has_war_with = CHN
		}

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			hidden_effect = {
				set_country_flag = hold_war_with_changelings_speech
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	
	hold_war_with_luna_speech = {

		icon = generic_political_discourse

		allowed = {
			tag = EQC
		}

		available = {
			has_government = democratic
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}			
			EQS = {
				has_government = democratic
				has_war_with = NLR
			}
			has_war_with = NLR
		}

		cost = 50

		fire_only_once = yes

		visible = {
			has_government = democratic
			OR = {
				is_subject_of = EQS
				is_in_faction_with = EQS
			}			
			EQS = {
				has_government = democratic
				has_defensive_war_with = NLR
			}
			has_war_with = NLR
		}

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			hidden_effect = {
				set_country_flag = hold_war_with_luna_speech
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	
	hold_fight_on_the_beaches_changelings_speech = {

		icon = generic_political_discourse

		allowed = {
			tag = EQC
		}

		available = {
			has_government = democratic
			has_war_with = CHN
			is_in_faction_with = EQS
			EQS = {
				surrender_progress > 0.9
			}
		}

		cost = 50

		fire_only_once = yes

		visible = {
			tag = EQC
			has_country_flag = hold_war_with_changelings_speech
			NOT = { has_country_flag = hold_fight_on_the_beaches_luna_speech }
			has_government = democratic
			has_war_with = CHN
			is_in_faction_with = EQS
			EQS = {
				surrender_progress > 0.9
			}
		}

		complete_effect = {
			add_war_support = 0.05
			hidden_effect = {
				set_country_flag = hold_fight_on_the_beaches_changelings_speech
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
	
	hold_fight_on_the_beaches_luna_speech = {

		icon = generic_political_discourse

		allowed = {
			tag = EQC
		}

		available = {
			has_government = democratic
			has_war_with = NLR
			is_in_faction_with = EQS
			EQS = {
				surrender_progress > 0.9
			}
		}

		cost = 50

		fire_only_once = yes

		visible = {
			tag = EQC
			has_country_flag = hold_war_with_luna_speech
			NOT = { has_country_flag = hold_fight_on_the_beaches_changelings_speech }
			has_government = democratic
			has_war_with = NLR
			is_in_faction_with = EQS
			EQS = {
				surrender_progress > 0.9
			}
		}

		complete_effect = {
			add_war_support = 0.05
			hidden_effect = {
				set_country_flag = hold_fight_on_the_beaches_luna_speech
			}
		}

		ai_will_do = {
			factor = 100
		}
	}
}

