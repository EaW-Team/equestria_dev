mobile_infantry = {
    track = infantry
    name = SUBDOCTRINE_MOBILE_INFANTRY
    description = SUBDOCTRINE_MOBILE_INFANTRY_DESC
    icon = GFX_doctrine_mobile_infantry_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 2
            ROOT = { tag = CHN }
        }
        modifier = {
            factor = 0.5
            ROOT = { is_major = no }
        }
    
    }

    # EFFECTS
    enable_tactic = tactic_overwhelming_fire
    effect = {
        add_tech_bonus = {
            bonus = 0.5
            uses = 1
            category = motorized_equipment
        }
    }

    rewards = {
        cavalry_charge = {
            category_vehicle_infantry = {
                breakthrough = 0.20
            }
        }
        combined_arms_planning = {
            category_all_infantry = {
                max_organisation = 10
                maximum_speed = 0.05
            }
        }
        decisive_operations = {
            category_vehicle_infantry = {
                max_organisation = 20
            }
        }
        delegated_authority = {
            category_vehicle_infantry = {
                default_morale = 0.04
                soft_attack = 0.1
            }
        }
        maneuver_warfare = {
            category_all_infantry = {
                max_organisation = 10
                maximum_speed = 0.2
            }
        }

    }
}

defensive_postures = {
    track = infantry
    name = SUBDOCTRINE_DEFENSIVE_POSTURES
    description = SUBDOCTRINE_DEFENSIVE_POSTURES_DESC
    icon = GFX_doctrine_defensive_postures_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }

    ai_will_do = {
        base = 1
        modifier = {
            factor = 2
            ROOT = { tag = OLE }
        }
        modifier = {
            factor = 0.5
            ROOT = { is_major = no }
        }
    }

    #OTHER BASE REWARDS
    category_vehicle_infantry = {
        supply_consumption = -0.01
    }
    category_all_infantry = {
        entrenchment = 0.2
    }

    rewards = {
        improvised_fighting_position = {
            dig_in_speed_factor = 0.05
        }
        elastic_operations = {
            category_all_infantry = {
                max_organisation = 10
                defense = 0.10
            }
        }
        developed_trench_networking = {
            category_all_infantry = {
                entrenchment = 0.2
            }
        }
        field_emplacements = {
            category_all_infantry = {
                soft_attack = 0.1
            }
        }
        field_construction_training = {
            dig_in_speed_factor = 0.15
        }

    }
}

large_unit_tactics = {
    track = infantry
    name = SUBDOCTRINE_LARGE_UNIT_TACTICS
    description = SUBDOCTRINE_LARGE_UNIT_TACTICS_DESC
    icon = GFX_doctrine_human_infantry_offensive_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }

    ai_will_do = {
        base = 1
        modifier = {
            factor = 2
            ROOT = { tag = EQS }
        }
        modifier = {
            factor = 0.5
            ROOT = { is_major = no }
        }


    }

    # EFFECTS
    effect = {

    }
   
    #OTHER BASE REWARDS
    
    category_all_infantry = {
        supply_consumption = -0.01
    }

    rewards = {
        wide_trench_networks = {
            dig_in_speed_factor = 0.10
        }
        flexible_division_structures = {
        #2
           unit_infantry_design_cost_factor = -1
           infantry = {
                combat_width = -0.3
            }
            magical_infantry = {
                combat_width = -0.3
            }
        }
        unit_knowledge_sharing = {
        #3
            category_all_infantry = {
                experience_loss_factor = -0.01
            }
        }
        large_front_offensive = {
        #4
            category_all_infantry = {
                max_organisation = 10
                soft_attack = 0.1
            }
            army_morale = 0.2
            
        }
        motorization_initiative = {
        #5
           category_all_infantry = {
                breakthrough = 0.1
                soft_attack = 0.1
            }
            category_vehicle_infantry = {
                supply_consumption = -0.1
                reliability = 0.1
            }
        }

    }
}

assault_infantry = {
    track = infantry
    name = SUBDOCTRINE_ASSAULT_INFANTRY
    description = SUBDOCTRINE_ASSAULT_INFANTRY_DESC
    icon = GFX_doctrine_assault_infantry_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }

    ai_will_do = {

        base = 1
        modifier = {
            factor = 2
            ROOT = { tag = HIP }
        }
        modifier = {
            factor = 0.5
            ROOT = { is_major = no }
        }
    }

    # EFFECTS

    #OTHER BASE REWARDS
    artillery = {   
        soft_attack = 0.1
    }

    rewards = {
        low_echelon_fire_support = {
        #1
            artillery = {
                battalion_mult = {
                    category = category_light_infantry
                    soft_attack = 0.2
                }
            }
        }
        organic_battalion_fire_support = {
        #2
            category_support_artillery = {
                soft_attack = 0.05
            }
            anti_tank = {
                ap_attack = 0.1
                hard_attack = 0.1
            }
            anti_air = {
                air_attack = 0.1
            }

        }

        integrated_support_batteries = {
        #3
            category_support_artillery = {
                max_organisation = 20
                soft_attack = 0.1
            }

        }
        breakthrough_fireteams = {
        #4
            light_tank_recon = {
                max_organisation = 20
                battalion_mult = {
                    category = category_all_infantry
                    breakthrough = 0.2
                }
                battalion_mult = {
                    category = category_all_infantry
                    max_organisation = 5
                    add = yes
                }
            }
            mot_recon = {
                max_organisation = 20
                battalion_mult = {
                    category = category_all_infantry
                    breakthrough = 0.1
                }
                battalion_mult = {
                    category = category_all_infantry
                    max_organisation = 5
                    add = yes
                }
            }


        }
        assault_detachments = {
        #5
            category_support_artillery = {
                supply_consumption = -0.02
            }
            light_flame_tank = {
                battalion_mult = {
                    category = category_all_infantry
                    breakthrough = 0.1
                    soft_attack = 0.1
                }
            }
            medium_flame_tank = {
                battalion_mult = {
                    category = category_all_infantry
                    breakthrough = 0.1
                    soft_attack = 0.1
                }
            }
            heavy_flame_tank = {
                battalion_mult = {
                    category = category_all_infantry
                    breakthrough = 0.1
                    soft_attack = 0.1
                }
            }

        }
    }
}

# mounted_infantry = {
#     track = infantry
#     name = SUBDOCTRINE_MOUNTED_INFANTRY
#     description = SUBDOCTRINE_MOUNTED_INFANTRY_DESC
#     icon = GFX_doctrine_mounted_infantry_medium

#     xp_cost = 100
#     xp_type = army

#     available = {
#         always = yes
#     }

#     ai_will_do = { 
#         base = 1
#         modifier = {
#             factor = 0.5
#             ROOT = { is_major = yes }
#         }
#     }
#     category_cavalry = {
#         soft_attack = 0.1
#         breakthrough = 0.1
#     }
#     unit_cavalry_design_cost_factor = -1

#     # EFFECTS

#     rewards = {
#         dragoon_traditions = {
#             category_cavalry = {
#                 breakthrough = 0.20
#                 defense = 0.1
#             }
#         }
#         mounted_skirmish_groups = {
#             recon = {
#                 max_organisation = 10
#                 soft_attack = 0.2
#                 battalion_mult = {
#                     category = category_light_infantry
#                     soft_attack = 0.1
#                     defense = 0.1
#                 }
#                 battalion_mult = {
#                     category = category_light_infantry
#                     max_organisation = 5
#                     add = yes
#                 }
#             } 
#             category_cavalry = {
#                 max_organisation = 5
#             }
#         }
#         anti_mechanized_cavalry_groups = {
#             category_cavalry = {
#                 hard_attack = 0.2
#                 ap_attack = 0.2
#             }

        
# }        beasts_of_war = {
#             category_cavalry = {
#                 maximum_speed = 0.5 
#                 max_strength = 0.05 
#             }
#         }
#         limbered_combat_support = {
#             artillery_brigade = {
#                 maximum_speed = 0.5
#             }
#             rocket_artillery_brigade = {
#                 maximum_speed = 0.5
#             }
#         }

#     }
# }

commandos = {
    track = infantry
    name = SUBDOCTRINE_COMMANDOS
    description = SUBDOCTRINE_COMMANDOS_DESC
    icon = GFX_doctrine_commandos_medium

    xp_cost = 100
    xp_type = army

    available = {
       has_dlc = "TODO_SEA"
    }

    ai_will_do = { }
    experience_gain_infantry_training_factor = 0.03
    experience_gain_infantry_combat_factor = 0.05

    # EFFECTS

    rewards = {
        isolated_combat_elements = { 
            category_light_infantry = {
                supply_consumption = -0.01
                reliability = 0.05
                max_strength = 0.15
            }
        }
        security_zone_operations = {

            signal_company = {
                battalion_mult = {
                    category = category_all_infantry
                    defense = 0.1
                }
            }
            category_vehicle_infantry = {
                reliability = 0.05
                breakthrough = 0.1
            } 
            
        }
        rigorous_training_regimen = {
            recon = {
                battalion_mult = {
                    category = category_all_infantry
                    soft_attack = 0.1
                }
            }
            
            infantry = {
                desert = {
                    attack = 0.05
                    movement = 0.1
                }
                jungle = {
                    attack = 0.05
                    movement = 0.1
                }
                hills = {
                    attack = 0.05
                    movement = 0.1
                }
            }
            magical_infantry = {
                desert = {
                    attack = 0.05
                    movement = 0.1
                }
                jungle = {
                    attack = 0.05
                    movement = 0.1
                }
                hills = {
                    attack = 0.05
                    movement = 0.1
                }
            }
        }

        field_intel_retrieval = {
            intel_from_combat_factor = 0.15
        }

        integrated_assaults = {
            category_all_infantry = {
                soft_attack = 0.1
                breakthrough = 0.1
            }
            

        }
    }
}

irregulars = {
    track = infantry
    name = SUBDOCTRINE_IRREGULARS
    description = SUBDOCTRINE_IRREGULARS_DESC
    icon = GFX_doctrine_irregulars_medium

    xp_cost = 50
    xp_type = army

    available = {
        has_dlc = "TODO_SEA"
    }

    ai_will_do = { }
    irregular_infantry = {
        defense = 0.1
        supply_consumption = -0.05
    }
    militia = {
        defense = 0.1
        supply_consumption = -0.01
    }

    # EFFECTS

    rewards = {
        service_by_lot = { 
            mobilization_speed = 0.05
        }
        partisan_regiments = {
            irregular_infantry = {
                combat_width = -0.4
            }
            militia = {
                combat_width = -0.4
            }
            category_light_infantry = {
                defense = 0.1
            }
        }

        
        improvised_officer_groups = {
            category_light_infantry = {
                max_organisation = 10
                soft_attack = 0.1
                breakthrough = 0.1
            }
            
            
        }
        levee_en_masse = {
            conscription = 0.02
            mobilization_speed = 0.05

        }
        standardization_efforts = {
            category_light_infantry = {
                max_organisation = 10
                soft_attack = 0.1
            }

            effect = {
                add_tech_bonus = {
                    bonus = 0.5
                    uses = 2
                    category = support_tech
                }
             }
        }

    }
}

great_war_infantry = {
    track = infantry
    name = SUBDOCTRINE_GREAT_WAR_INFANTRY
    description = SUBDOCTRINE_GREAT_WAR_INFANTRY_DESC
    icon = GFX_doctrine_great_war_infantry_medium

    xp_cost = 50
    xp_type = army

    available = {
        always = yes

    }

    ai_will_do = { }
     # EFFECTS
    #OTHER BASE REWARDS
    category_vehicle_infantry = {
        supply_consumption = -0.02
    }
    category_light_infantry = {
        defense = 0.1
    }
    production_speed_bunker_factor = 0.25

    rewards = {
        traverse_digging = {
            dig_in_speed_factor = 0.05
            engineer = {
                battalion_mult = {
                    category = category_light_infantry
                    entrenchment = 0.05
                }
            }
            
        }
        sapping_operations = {
            category_light_infantry = {
                defense = 0.1
            }
            field_hospital = {
                casualty_trickleback = 0.1
            }
        }
        centralized_artillery_control = {
            artillery = {
                soft_attack = 0.1
                battalion_mult = {
                    category = category_light_infantry
                    soft_attack = 0.1
                    breakthrough = 0.05
                }
            }
        }
        field_fortification_emphasis = {
            category_light_infantry = {
                reliability = 0.05
                defense = 0.05
                max_organisation = 5
            }
        }
        redoubt_networks = {
            dig_in_speed_factor = 0.10
        }

    }
}