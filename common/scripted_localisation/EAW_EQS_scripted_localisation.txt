# Allows you to create your own dynamic keys
# to be called in localization.
# defined_text -> this is it, we're defining the text
# text -> a discrete entry that can be picked to display in loc.
# trigger -> determines if a text entry will be picked or not.
# (The triggers need to be valid for the scope the key is called in
# (eg Root or From.From).)
# localization_key -> points to the localization key
# that'll be used if trigger passes

defined_text = { # Celestia DB Meter
	name = GetDBMeter
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter = 0 }
		}
		localization_key = EQS_celestia_DBmeter1
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 0 }
			check_variable = { EQS_celestia_DB_meter < 3 }
		}
		localization_key = EQS_celestia_DBmeter2
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 2 }
			check_variable = { EQS_celestia_DB_meter < 5 }
		}
		localization_key = EQS_celestia_DBmeter3
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 4 }
			check_variable = { EQS_celestia_DB_meter < 7 }
		}
		localization_key = EQS_celestia_DBmeter4
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 6 }
			check_variable = { EQS_celestia_DB_meter < 9 }
		}
		localization_key = EQS_celestia_DBmeter5
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 8 }
		}
		localization_key = EQS_celestia_DBmeter6
	}
}

defined_text = { # Celestia DB Meter Luna React
	name = GetLDBMeter
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter = > 0 }
			check_variable = { EQS_celestia_DB_meter < 5 }
	 		NOT = {has_global_flag = equestrian_civil_war}	
		}
		localization_key = EQS_luna_DBmeter1
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 4 }
			check_variable = { EQS_celestia_DB_meter < 9 }
	 		NOT = {has_global_flag = equestrian_civil_war}				
		}
		localization_key = EQS_luna_DBmeter2
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 8 }
	 		NOT = {has_global_flag = equestrian_civil_war}				
		}
		localization_key = EQS_luna_DBmeter3
	}
	text = {
		trigger = {
			has_global_flag = equestrian_civil_war
			eqs_civil_war_ended = no
			NLR = {exists = yes}
		}
		localization_key = EQS_luna_DBmeter4
	}
	text = {
		trigger = {
			has_global_flag = equestrian_civil_war
			eqs_civil_war_ended = yes
		}
		localization_key = EQS_luna_DBmeter5
	}	
}

defined_text = { # Luna job
	name = GetLunajob
	text = {
		trigger = {
			not = {has_global_flag = equestria_diarchy_formed}
			not = {has_country_flag = luna_fieldmarshal}
	 		NOT = {has_global_flag = equestrian_civil_war}			

		}
		localization_key = EQS_luna_job1
	}
	text = {
		trigger = {
			has_global_flag = equestria_diarchy_formed
			has_country_flag = luna_fieldmarshal
	 		NOT = {has_global_flag = equestrian_civil_war}				
		}
		localization_key = EQS_luna_job2
	}
	text = {
		trigger = {
			has_global_flag = equestria_diarchy_formed
			not = {has_country_flag = luna_fieldmarshal}
	 		NOT = {has_global_flag = equestrian_civil_war}					
			
		}
		localization_key = EQS_luna_job3
	}
	text = {
		trigger = {
			NOT = {has_global_flag = equestria_diarchy_formed}
			not = {has_country_flag = luna_fieldmarshal}
			OR = {eqs_civil_war_ended = yes
			eqs_civil_war_ended = no}
			has_global_flag = equestrian_civil_war		
	
		}
		localization_key = EQS_luna_job4
	}		
}

defined_text = { # Celestia DB Meter Twilight React
	name = GetTDBMeter
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter = > 0 }
			check_variable = { EQS_celestia_DB_meter < 5 }
		}
		localization_key = EQS_twi_DBmeter1
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 4 }
			check_variable = { EQS_celestia_DB_meter < 9 }
		}
		localization_key = EQS_twi_DBmeter2
	}
	text = {
		trigger = {
			check_variable = { EQS_celestia_DB_meter > 8 }
		}
		localization_key = EQS_twi_DBmeter3
	}
}

defined_text = { # Twilight job
	name = GetTwijob
	text = {
		trigger = {
			NOT = {EQS_twilight_sparkle = {is_political_advisor = yes}}
			NOT = {has_country_flag = EQS_Twihelp}
		}
		localization_key = EQS_twi_job1
	}
	text = {
		trigger = {
			EQS_twilight_sparkle = {is_political_advisor = yes}
			NOT = {has_country_flag = EQS_Twihelp}
		}
		localization_key = EQS_twi_job2
	}
	text = {
		trigger = {
		has_country_flag = EQS_Twihelp
	NOT = {EQS_twilight_sparkle = {is_political_advisor = yes}}			
		}
		localization_key = EQS_twi_job3
	}		
}

defined_text = { # caddy job
	name = Getcaddyjob
	text = {
		trigger = {
			CRY = { character = CRY_princess_mi_amore_cadenza ruling_only = yes }
		}
		localization_key = EQS_caddy_job1
	}
	text = {
		trigger = {
			NOT = {CRY = { character = CRY_princess_mi_amore_cadenza ruling_only = yes }}
			has_global_flag = continue_imprisonment
		}
		localization_key = EQS_caddy_job2
	}
	text = {
		trigger = {
		has_country_flag = EQS_intergrate_CRY
		NOT = {CRY = { character = CRY_princess_mi_amore_cadenza ruling_only = yes }}
		}
		localization_key = EQS_caddy_job3
	}		
}

defined_text = { # Celestia-DB Radical Support
	name = GetEQSSupremacySupport
	text = {
		trigger = {
			fascism > 0.49
		}
		localization_key = EQS_supremacysupport6
	}
	text = {
		trigger = {
			fascism > 0.39
			fascism < 0.5
		}
		localization_key = EQS_supremacysupport5
	}
	text = {
		trigger = {
			fascism > 0.29
			fascism < 0.4
		}
		localization_key = EQS_supremacysupport4
	}
	text = {
		trigger = {
			fascism > 0.19
			fascism < 0.3
		}
		localization_key = EQS_supremacysupport3
	}
	text = {
		trigger = {
			fascism > 0.09
			fascism < 0.2
		}
		localization_key = EQS_supremacysupport2
	}
	text = {
		trigger = {
			fascism < 0.1
		}
		localization_key = EQS_supremacysupport1
	}
}
