################################
### Ideology and Subideology ### 
################################

## Communist vs Communal ##
defined_text = { #Adjective
	name = GetMERCommunistADJ
	text = {
		trigger = {
			FROM = {
				has_country_leader = { character = MER_mama_ruby ruling_only = no }
			}
		}
		localization_key = MER_PKM_adj_communal
	}
	text = {
		trigger = {
			FROM = {
				has_country_leader = {
					character = MER_facilier_beauxregard
					ruling_only = no
				}
			}
		}
		localization_key = MER_PKM_adj_communist
	}
	# text = {
	# 	localization_key = MER_PKM_error
	# }
}
defined_text = { #Text Color 
	name = GetMERPKMTextColor
	text = {
		trigger = { 
			FROM = {
				has_country_leader = { character = MER_mama_ruby ruling_only = no }
			}
		}
		localization_key = MER_PKM_not_red
	}
	text = {
		trigger = {
			FROM = {
				has_country_leader = {
					character = MER_facilier_beauxregard
					ruling_only = no
				}
			}
		}
		localization_key = MER_PKM_red
	}
	# text = {
	# 	localization_key = MER_PKM_error
	# }
}
#####################
### Starting Tree ###
#####################
defined_text = {
	name = GetMERInfraProgBonus
	text = { #Harmony Greater than Commies
		trigger = {
			ROOT= {
				check_variable = { party_popularity@democratic > party_popularity@communism }
			}
		}
		localization_key = MER_infra_harmony_bonus
	}
	text = { #Commies Greater than Harmony
		trigger = {
			ROOT = {
				check_variable = { party_popularity@communism > party_popularity@democratic }
			}
		}
		localization_key = MER_infra_commie_bonus
	}
}
# defined_text = {
# 	name = GetMERInfraTradBonus
# 	text = { #Harmony Greater than Commies
# 		trigger = {
# 			FROM = {
# 				check_variable = { party_popularity@democratic > party_popularity@communism }
# 			}
# 		}
# 		localization_key = MER_infra_harmony_bonus
# 	}
# 	text = { #Commies Greater than Harmony
# 		trigger = {
# 			FROM = {
# 				check_variable = { party_popularity@communism > party_popularity@democratic }
# 			}
# 		}
# 		localization_key = MER_infra_commie_bonus
# 	}
# }

#######################################
### Semblance of Democracy - Dynmod ###
#######################################
## Primary Ideology ##
defined_text = { #Text
	name = GetMERIdeologyText
	text = {
		trigger = { #Supremacy
			check_variable = { MER_temp_ideology = 1 }
		}
		localization_key = MER_MPA_tt
	}
	text = {
		trigger = { #Harmony
			check_variable = { MER_temp_ideology = 2 }
		}
		localization_key = MER_PPH_tt
	}
	text = {
		trigger = { #Neutrality
			check_variable = { MER_temp_ideology = 3 }
		}
		localization_key = MER_ACM_tt
	}
	text = {
		trigger = { #Communism
			check_variable = { MER_temp_ideology = 4 }
		}
		localization_key = MER_PKM_tt
	}
}
## Secondary Ideology ##
defined_text = { #Permission
	name = GetMERSecondaryIdeologyPerm
	text = {
		trigger = {
			check_variable = { MER_temp_enable_sec_ideology = 1 }
		}
		localization_key = MER_secondary_drift_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_temp_enable_sec_ideology = 2 }
		}
		localization_key = MER_secondary_drift_not_visible_tt 
	}
}
defined_text = { #Text
	name = GetMERSecondaryIdeologyText
	text = {
		trigger = { #Supremacy
			check_variable = { MER_temp_sec_ideology = 1 }
		}
		localization_key = MER_MPA_tt
	}
	text = {
		trigger = { #Harmony
			check_variable = { MER_temp_sec_ideology = 2 }
		}
		localization_key = MER_PPH_tt
	}
	text = {
		trigger = { #Neutrality
			check_variable = { MER_temp_sec_ideology = 3 }
		}
		localization_key = MER_ACM_tt
	}
	text = {
		trigger = { #Communism
			check_variable = { MER_temp_sec_ideology = 4 }
		}
		localization_key = MER_PKM_tt
	}
}
## Tertiary Ideology ##
defined_text = { #Permission
	name = GetMERTertiaryIdeologyPerm
	text = {
		trigger = {
			check_variable = { MER_temp_enable_third_ideology = 1 }
		}
		localization_key = MER_tertiary_drift_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_temp_enable_third_ideology = 2 }
		}
		localization_key = MER_tertiary_drift_not_visible_tt
	}
}
defined_text = { #Text
	name = GetMERTertiaryIdeologyText
	text = {
		trigger = { #Supremacy
			check_variable = { MER_temp_third_ideology = 1 }
		}
		localization_key = MER_MPA_tt
	}
	text = {
		trigger = { #Harmony
			check_variable = { MER_temp_third_ideology = 2 }
		}
		localization_key = MER_PPH_tt
	}
	text = {
		trigger = { #Neutrality
			check_variable = { MER_temp_third_ideology = 3 }
		}
		localization_key = MER_ACM_tt
	}
	text = {
		trigger = { #Communism
			check_variable = { MER_temp_third_ideology = 4 }
		}
		localization_key = MER_PKM_tt
	}
}
## Quarternary Ideology ##
defined_text = { #Permission
	name = GetMERQuarternaryIdeologyPerm
	text = {
		trigger = {
			check_variable = { MER_temp_enable_fourth_ideology = 1 }
		}
		localization_key = MER_quarternary_drift_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_temp_enable_fourth_ideology = 2 }
		}
		localization_key = MER_quarternary_drift_not_visible_tt
	}
}
defined_text = { #Text
	name = GetMERQuarternaryIdeologyText
	text = {
		trigger = { #Supremacy
			check_variable = { MER_temp_fourth_ideology = 1 }
		}
		localization_key = MER_MPA_tt
	}
	text = {
		trigger = { #Harmony
			check_variable = { MER_temp_fourth_ideology = 2 }
		}
		localization_key = MER_PPH_tt
	}
	text = {
		trigger = { #Neutrality
			check_variable = { MER_temp_fourth_ideology = 3 }
		}
		localization_key = MER_ACM_tt
	}
	text = {
		trigger = { #Communism
			check_variable = { MER_temp_fourth_ideology = 4 }
		}
		localization_key = MER_PKM_tt
	}
}
## Drift Defense ##
defined_text = { #Determines whether it's as a primary effect vs secondary
	name = GetMERDriftDefText
	text = {
		trigger = { #For when the drift increase is the only effect
			check_variable = { MER_temp_drift_def_txt = 1 }
		}
		localization_key = MER_drift_defense_solo_tt
	}
	text = {
		trigger = { #For when the drift increase is after another effect
			check_variable = { MER_temp_drift_def_txt = 2 }
		}
		localization_key = MER_drift_defense_secondary_tt
	}
}
## Political Power Costs ##
defined_text = { #Harmony
	name = GetMERHarmonyPPCost
	text = {
		trigger = {
			check_variable = { MER_harmony_pp_cost_visible = 1 }			
		}
		localization_key = MER_harmony_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_harmony_pp_cost_visible = 0 }		
		}
		localization_key = MER_harmony_pp_cost_not_visible_tt
	}
}
defined_text = { #Supremacy
	name = GetMERFascistPPCost
	text = {
		trigger = {
			check_variable = { MER_fascist_pp_cost_visible = 1 }			
		}
		localization_key = MER_fascist_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_fascist_pp_cost_visible = 0 }		
		}
		localization_key = MER_fascist_pp_cost_not_visible_tt
	}
}
defined_text = { #Communism
	name = GetMERCommiePPCost
	text = {
		trigger = {
			check_variable = { MER_commie_pp_cost_visible = 1 }			
		}
		localization_key = MER_commie_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_commie_pp_cost_visible = 0 }		
		}
		localization_key = MER_commie_pp_cost_not_visible_tt
	}
}

### Semblance of Democracy - Scripted GUI - WIP ### 

# defined_text = { #TODO set these up 
# 	name = GetMERRadicalInvolvement
# }
# defined_text = {
# 	name = GetMERModerateInvolvement
# }
## Revolution Opposition ##
defined_text = {
	name = GetOppositionStartEventTitle
	text = {
		trigger = {
			has_country_flag = MER_warhawks_in_opposition
		}
		localization_key = MER_opposition_start_event_title_1
	}
	text = {
		trigger = {
			has_country_flag = MER_moderates_in_opposition
		}
		localization_key = MER_opposition_start_event_title_2
	}
}
defined_text = {
	name = GetOppositionMissionEventTitle
	text = { #A Lull in the Storm
		trigger = {
			check_variable = { MER_oppo_event_id = 1 }
		}
		localization_key = MER_oppo_mission_event_title_a
	}
	text = { #Warhawks Gain Momentum - Small
		trigger = {
			check_variable = { MER_oppo_event_id = 2 }
		}
		localization_key = MER_oppo_mission_event_title_b1
	}
	text = { #Warhawks Gain Momentum - Medium
		trigger = { 
			check_variable = { MER_oppo_event_id = 3 }
		}
		localization_key = MER_oppo_mission_event_title_b2
	}
	text = { #Warhawks Gain Momentum - Large
		trigger = {
			check_variable = { MER_oppo_event_id = 4 }
		}
		localization_key = MER_oppo_mission_event_title_b3
	}
	text = { #Moderates Gain Momentum - Small
		trigger = {
			check_variable = { MER_oppo_event_id = 5 }
		}
		localization_key = MER_oppo_mission_event_title_c1
	}
	text = { #Moderates Gain Momentum - Medium
		trigger = {
			check_variable = { MER_oppo_event_id = 6 }
		}
		localization_key = MER_oppo_mission_event_title_c2
	}
	text = { #Moderates Gain Momentum - Large
		trigger = {
			check_variable = { MER_oppo_event_id = 7 }
		}
		localization_key = MER_oppo_mission_event_title_c3
	}
	text = { #Interventionist Religious Dude
		trigger = {
			check_variable = { MER_oppo_event_id = 8 }
		}
		localization_key = MER_oppo_mission_event_title_e
	}
	text = { #Charitable Pacifists
		trigger = {
			check_variable = { MER_oppo_event_id = 9 }
		}
		localization_key = MER_oppo_mission_event_title_f
	}
	text = { #Showdown of the Schools
		trigger = {
			check_variable = { MER_oppo_event_id = 10 }
		}
		localization_key = MER_oppo_mission_event_title_g
	}
	text = { #Flags in the Court
		trigger = {
			check_variable = { MER_oppo_event_id = 11 }
		}
		localization_key = MER_oppo_mission_event_title_h
	}
	text = { #Retirement Home Brawl
		trigger = {
			check_variable = { MER_oppo_event_id = 12 }
		}
		localization_key = MER_oppo_mission_event_title_i
	}
	text = { #Trotstas on the March
		trigger = {
			check_variable = { MER_oppo_event_id = 13 }
		}
		localization_key = MER_oppo_mission_event_title_j
	}
	text = { #Orange Justice
		trigger = {
			check_variable = { MER_oppo_event_id = 14 }
		}
		localization_key = MER_oppo_mission_event_title_k
	}
	text = { #Speech Interruption - Moderates
		trigger = {
			check_variable = { MER_oppo_event_id = 15 }
			has_country_flag = MER_moderates_in_opposition
		}
		localization_key = MER_oppo_mission_event_title_l1
	}
	text = { #Speech Interruption - Warhawks
		trigger = {
			check_variable = { MER_oppo_event_id = 15 }
			has_country_flag = MER_warhawks_in_opposition
		}
		localization_key = MER_oppo_mission_event_title_l2
	}
}

## Pleasure Colony ##
defined_text = {
	name = GetMERColonyTooltip
	text = {
		trigger = {
			has_country_flag = MER_MPA_loyalists
		}
		localization_key = MER_pleasure_colony_MPA_tt
	}
	text = {
		trigger = {
			has_country_flag = MER_PPH_loyalists
		}
		localization_key = MER_pleasure_colony_PPH_tt
	}
	text = {
		localization_key = MER_pleasure_colony_blank_tt
	}
}


defined_text = {
	name = GetMERGroupIcon
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_ideology_fascism_group"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_ideology_democratic_group"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_ideology_communism_group"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_ideology_neutrality_group"
	}
}
defined_text = {
	name = GetMERMemberIcon
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_ideology_MER_supremacy"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_ideology_MER_harmony"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_ideology_MER_communism"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_ideology_MER_neutrality"
	}
}
defined_text = {
	name = GetMERActiveHeader
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = MER_sod_header_supremacy
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = MER_sod_header_harmony
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = MER_sod_header_communism
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = MER_sod_header_neutrality
	}
}

defined_text = {
	name = GetMERMemberTooltip
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_0 }
		}
		localization_key = MER_sod_supremacy_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_1 }
		}
		localization_key = MER_sod_supremacy_tt_2
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_0 }
		}
		localization_key = MER_sod_harmony_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_1 }
		}
		localization_key = MER_sod_harmony_tt_2
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_2 }
		}
		localization_key = MER_sod_harmony_tt_3
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_0 }
		}
		localization_key = MER_sod_communism_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_1 }
		}
		localization_key = MER_sod_communism_tt_2
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_0 }
		}
		localization_key = MER_sod_neutrality_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_1 }
		}
		localization_key = MER_sod_neutrality_tt_2
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_2 }
		}
		localization_key = MER_sod_neutrality_tt_3
	}
}
