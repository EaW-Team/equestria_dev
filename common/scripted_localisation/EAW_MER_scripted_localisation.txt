################################
### Ideology and Subideology ### 
################################

## Communist vs Communal ##
defined_text = { #Adjective
	name = GetMERCommunistADJ
	text = {
		trigger = {
			FROM = {
				has_country_leader = { character = MER_mama_ruby ruling_only = no }
			}
		}
		localization_key = MER_PKM_adj_communal
	}
	text = {
		trigger = {
			FROM = {
				has_country_leader = {
					character = MER_facilier_beauxregard
					ruling_only = no
				}
			}
		}
		localization_key = MER_PKM_adj_communist
	}
}
defined_text = { #Text Color 
	name = GetMERPKMTextColor
	text = {
		trigger = { 
			FROM = {
				has_country_leader = { character = MER_mama_ruby ruling_only = no }
			}
		}
		localization_key = MER_PKM_not_red
	}
	text = {
		trigger = {
			FROM = {
				has_country_leader = {
					character = MER_facilier_beauxregard
					ruling_only = no
				}
			}
		}
		localization_key = MER_PKM_red
	}
}

##################################
### Juggling Factions - Dynmod ###
##################################
## Drift Defense ## Deprecated
# defined_text = { #Determines whether it's as a primary effect vs secondary
# 	name = GetMERDriftDefText
# 	text = {
# 		trigger = { #For when the drift increase is the only effect
# 			check_variable = { MER_temp_drift_def_txt = 1 }
# 		}
# 		localization_key = MER_drift_defense_solo_tt
# 	}
# 	text = {
# 		trigger = { #For when the drift increase is after another effect
# 			check_variable = { MER_temp_drift_def_txt = 2 }
# 		}
# 		localization_key = MER_drift_defense_secondary_tt
# 	}
# }
## Political Power Costs ##
defined_text = { #Harmony
	name = GetMERHarmonyPPCost
	text = {
		trigger = {
			check_variable = { MER_harmony_pp_cost_visible = 1 }			
		}
		localization_key = MER_harmony_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_harmony_pp_cost_visible = 0 }		
		}
		localization_key = MER_harmony_pp_cost_not_visible_tt
	}
}
defined_text = { #Supremacy
	name = GetMERFascistPPCost
	text = {
		trigger = {
			check_variable = { MER_fascist_pp_cost_visible = 1 }			
		}
		localization_key = MER_fascist_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_fascist_pp_cost_visible = 0 }		
		}
		localization_key = MER_fascist_pp_cost_not_visible_tt
	}
}
defined_text = { #Communism
	name = GetMERCommiePPCost
	text = {
		trigger = {
			check_variable = { MER_commie_pp_cost_visible = 1 }			
		}
		localization_key = MER_commie_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_commie_pp_cost_visible = 0 }		
		}
		localization_key = MER_commie_pp_cost_not_visible_tt
	}
}
defined_text = { #Neutrality
	name = GetMERNeutralityPPCost
	text = {
		trigger = {
			check_variable = { MER_neutrality_pp_cost_visible = 1 }			
		}
		localization_key = MER_neutrality_pp_cost_visible_tt
	}
	text = {
		trigger = {
			check_variable = { MER_neutrality_pp_cost_visible = 0 }		
		}
		localization_key = MER_neutrality_pp_cost_not_visible_tt
	}
}

#############################################
### Semblance of Democracy - Scripted GUI ###
############################################# 
defined_text = {
	name = GetMERFolderBackground
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_MER_SoD_faction_folder_supremacy"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_MER_SoD_faction_folder_harmony"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_MER_SoD_faction_folder_communism"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_MER_SoD_faction_folder_neutrality"
	}
}
defined_text = {
	name = GetMERGroupIcon
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_MER_SoD_supremacy_folder_stamp"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_MER_SoD_harmony_folder_stamp"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_MER_SoD_communism_folder_stamp"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_ideology_neutrality_group"
	}
}
defined_text = {
	name = GetMERDescIcon
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_ideology_MER_supremacy_descs"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_ideology_MER_harmony_descs"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_ideology_MER_communism_descs"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_ideology_MER_neutrality_descs"
	}
}
defined_text = {
	name = GetMERMemberIcon
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = "GFX_ideology_MER_supremacy"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = "GFX_ideology_MER_harmony"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = "GFX_ideology_MER_communism"
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = "GFX_ideology_MER_neutrality"
	}
}
defined_text = {
	name = GetMERActiveHeader
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 0 }
		}
		localization_key = MER_sod_header_supremacy
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 1 }
		}
		localization_key = MER_sod_header_harmony
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 2 }
		}
		localization_key = MER_sod_header_communism
	}
	text = {
		trigger = {
			check_variable = { MER_sod_active_category = 3 }
		}
		localization_key = MER_sod_header_neutrality
	}
}
defined_text = {
	name = GetMERMemberTooltip
	#Supremacy
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_0 }
		}
		localization_key = MER_sod_supremacy_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_1 }
		}
		localization_key = MER_sod_supremacy_tt_1
	}
	#Harmony
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_0 }
		}
		localization_key = MER_sod_harmony_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_1 }
		}
		localization_key = MER_sod_harmony_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_2 }
		}
		localization_key = MER_sod_harmony_tt_2
	}
	#Commies
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_0 }
		}
		localization_key = MER_sod_communism_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_1 }
		}
		localization_key = MER_sod_communism_tt_1
	}
	#Neutrality
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_0 }
		}
		localization_key = MER_sod_neutrality_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_1 }
		}
		localization_key = MER_sod_neutrality_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_2 }
		}
		localization_key = MER_sod_neutrality_tt_2
	}
}
defined_text = {
	name = GetMERMemberDesc
	#Supremacy
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_0 }
		}
		localization_key = MER_sod_supremacy_desc_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_1 }
		}
		localization_key = MER_sod_supremacy_desc_tt_1
	}
	#Harmony
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_0 }
		}
		localization_key = MER_sod_harmony_desc_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_1 }
		}
		localization_key = MER_sod_harmony_desc_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_2 }
		}
		localization_key = MER_sod_harmony_desc_tt_2
	}
	#Commies
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_0 }
		}
		localization_key = MER_sod_communism_desc_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_1 }
		}
		localization_key = MER_sod_communism_desc_tt_1
	}
	#Neutrality
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_0 }
		}
		localization_key = MER_sod_neutrality_desc_tt_0
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_1 }
		}
		localization_key = MER_sod_neutrality_desc_tt_1
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_2 }
		}
		localization_key = MER_sod_neutrality_desc_tt_2
	}
}
defined_text = {
	name = GetMERMemberValueTT
	#Supremacy
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_0 }
		}
		localization_key = MER_sod_meridionalist_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_supremacy_1 }
		}
		localization_key = MER_sod_geriatrie_drift_tt
	}
	#Harmony
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_0 }
		}
		localization_key = MER_sod_expats_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_1 }
		}
		localization_key = MER_sod_philantropes_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_harmony_2 }
		}
		localization_key = MER_sod_yute_drift_tt
	}
	#Commies
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_0 }
		}
		localization_key = MER_sod_clique_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_communism_1 }
		}
		localization_key = MER_sod_flock_drift_tt
	}
	#Neutrality
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_0 }
		}
		localization_key = MER_sod_conservatives_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_1 }
		}
		localization_key = MER_sod_bureaucrats_drift_tt
	}
	text = {
		trigger = {
			check_variable = { MER_group_names_array^curr_member_index = token:MER_sod_neutrality_2 }
		}
		localization_key = MER_sod_nonpartisans_drift_tt
	}
}

### Facilier Decision Category ###
defined_text = {
	name = GFX_MER_Mama_Ruby_Portrait
	text = { #Mama Ruby Alive
		trigger = {
			#AND = {
				has_character = MER_mama_ruby
				MER_mama_ruby = {
					NOT = { has_character_flag = MER_mama_ruby_exiled }
				}
			#}	
		}
		localization_key = "GFX_MER_Mama_Ruby_Frame"
	}
	text = { #Mama Ruby Dead
		trigger = {
			OR = {
				NOT = { has_character = MER_mama_ruby }
				MER_mama_ruby = { has_character_flag = MER_mama_ruby_exiled }
			}	
		}
		localization_key = "GFX_MER_Mama_Ruby_Dead_Frame"
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GFX_MER_Portrait_1
	text = { #Ti Koko Alive
		trigger = {
			#AND = {
				has_character = MER_trema_ti_koko
				MER_trema_ti_koko = {
					NOT = { has_character_flag = MER_ti_koko_yeeted }
				}
			#}	
		}
		localization_key = "GFX_MER_Ti_Koko_Frame"
	}
	text = { #Ti Koko Dead
		trigger = {
			OR = {
				NOT = { has_character = MER_trema_ti_koko }
				MER_trema_ti_koko = { has_character_flag = MER_ti_koko_yeeted }
			}	
		}
		localization_key = "GFX_MER_Ti_Koko_Dead_Frame"
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GFX_MER_Portrait_2
	text = { #Shine Light Alive
		trigger = {
			#AND = {
				has_character = MER_allende_expy
				MER_allende_expy = {
					NOT = { has_character_flag = MER_allende_yeeted }
				}
			#}	
		}
		localization_key = "GFX_MER_Allende_Frame"
	}
	text = { #Shine Light Dead
		trigger = {
			OR = {
				NOT = { has_character = MER_allende_expy }
				MER_allende_expy = { has_character_flag = MER_allende_yeeted }
			}	
		}
		localization_key = "GFX_MER_Allende_Dead_Frame"
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GFX_MER_Portrait_3
	text = { #Yarah Roselle Alive
		trigger = {
			#AND = {
				has_character = MER_yarah_roselle
				MER_yarah_roselle = {
					NOT = { has_character_flag = MER_yarah_yeeted }
				}
			#}	
		}
		localization_key = "GFX_MER_Yarah_Roselle_Frame"
	}
	text = { #Yarah Roselle Dead
		trigger = {
			OR = {
				NOT = { has_character = MER_yarah_roselle }
				MER_yarah_roselle = { has_character_flag = MER_yarah_yeeted }
			}	
		}
		localization_key = "GFX_MER_Yarah_Roselle_Dead_Frame"
	}
	text = {
		localization_key = ""
	}
}
defined_text = {
	name = GFX_MER_Portrait_4
	text = { #Temperada Lastnamepending Alive
		trigger = {
			#AND = {
				has_character = MER_temperada
				MER_temperada = {
					NOT = { has_character_flag = MER_temperada_yeeted }
				}
			#}	
		}
		localization_key = "GFX_MER_Temperada_Frame"
	}
	text = { #Temperada Lastnamepending Dead
		trigger = {
			OR = {
				NOT = { has_character = MER_temperada }
				MER_temperada = { has_character_flag = MER_temperada_yeeted }
			}	
		}
		localization_key = "GFX_MER_Temperada_Dead_Frame"
	}
	text = {
		localization_key = ""
	}
}

defined_text = {
	name = GetMERTikokoDesc
	text = {
		localization_key = "MER_trema_ti_koko_desc"
	}
}
defined_text = {
	name = GetMERAllendeDesc
	text = {
		localization_key = "MER_allende_expy_desc"
	}
}
defined_text = {
	name = GetMERYarahDesc
	text = {
		localization_key = "MER_yarah_roselle_desc"
	}
}
defined_text = {
	name = GetMERTemperDesc
	text = {
		localization_key = "MER_temperada_desc"
	}
}

defined_text = {
	name = GetMERTikokoName
	text = {
		localization_key = "MER_trema_ti_koko"
	}
}
defined_text = {
	name = GetMERAllendeName
	text = {
		localization_key = "MER_allende_expy"
	}
}
defined_text = {
	name = GetMERYarahName
	text = {
		localization_key = "MER_yarah_roselle"
	}
}
defined_text = {
	name = GetMERTemperName
	text = {
		localization_key = "MER_temperada"
	}
}

#####################
### Starting Tree ###
#####################
defined_text = {
	name = GetMERInfraProgBonus
	text = { #Harmony Greater than Commies
		trigger = {
			ROOT= {
				check_variable = { party_popularity@democratic > party_popularity@communism }
			}
		}
		localization_key = MER_infra_harmony_bonus
	}
	text = { #Commies Greater than Harmony
		trigger = {
			ROOT = {
				check_variable = { party_popularity@communism > party_popularity@democratic }
			}
		}
		localization_key = MER_infra_commie_bonus
	}
}
defined_text = {
	name = GetMERInfraTradText
	text = { #Geriatrie
		trigger = {
			MER_sod_geriatrics_greater_meridionalists = yes
		}
		localization_key = MER_sod_supremacy_1
	}
	text = { #Meridionalistes
		trigger = {
			MER_sod_meridionalists_greater_geriatrics = yes
		}
		localization_key = MER_sod_supremacy_0
	}
}
defined_text = {
	name = GetMERInfraTradBonus
	text = { #Geriatrie
		trigger = {
			MER_sod_geriatrics_greater_meridionalists = yes
		}
		localization_key = MER_infra_geriatric_bonus_tt
	}
	text = { #Meridionalistes
		trigger = {
			MER_sod_meridionalists_greater_geriatrics = yes
		}
		localization_key = MER_infra_meridionalist_bonus_tt
	}
}
defined_text = {
	name = GetMEROutpostText
	text = {
		trigger = { 
			FROM = { state = 1197 }		
		}
		localization_key = MER_outpost_no
	}
	text = {
		trigger = { 
			FROM = { state = 1198 }
		}	
		localization_key = MER_outpost_yes
	}
}

## Colony Tree ##
# Subsidies DLC TT #
defined_text = {
	name = GetMERSubsidizeDomesticAAT
	text = {
		trigger = {
			has_dlc = "Arms Against Tyranny"
		}
		localization_key = MER_domestic_AAT_tt
	}
	text = {
		trigger = {
			NOT = {
				has_dlc = "Arms Against Tyranny"
			}	
		}
		localization_key = MER_domestic_no_AAT_tt
	}
}

# Pleasure Colony #
defined_text = {
	name = GetMERColonyTooltip
	text = {
		trigger = {
			has_country_flag = MER_MPA_loyalists
		}
		localization_key = MER_pleasure_colony_MPA_tt
	}
	text = {
		trigger = {
			has_country_flag = MER_PPH_loyalists
		}
		localization_key = MER_pleasure_colony_PPH_tt
	}
	text = {
		localization_key = MER_pleasure_colony_blank_tt
	}
}


## Fight Against Piracy ##
defined_text = {
	name = GET_INTERNATIONAL_REPUTATION_LEVEL_1_COLOR
	text = {
		trigger = {
			tag = MER
			check_variable = { MER.MER_international_reputation > 0 }
		}
		localization_key = "GFX_war_escalation_level_green"
	}
	text = {
		localization_key = "GFX_war_escalation_level_white"
	}
	
}
defined_text = {
	name = GET_INTERNATIONAL_REPUTATION_LEVEL_2_COLOR
	text = {
		trigger = {
			tag = MER
			check_variable = { MER.MER_international_reputation > 1 }
		}
		localization_key = "GFX_war_escalation_level_green"
	}
	text = {
		localization_key = "GFX_war_escalation_level_white"
	}
	
}
defined_text = {
	name = GET_INTERNATIONAL_REPUTATION_LEVEL_3_COLOR
	text = {
		trigger = {
			tag = MER
			check_variable = { MER.MER_international_reputation > 2 }
		}
		localization_key = "GFX_war_escalation_level_green"
	}
	text = {
		localization_key = "GFX_war_escalation_level_white"
	}
}

defined_text = {
	name = GET_INTERNATIONAL_REPUTATION_LEVEL_4_COLOR
	text = {
		trigger = {
			tag = MER
			check_variable = { MER.MER_international_reputation > 3 }
		}
		localization_key = "GFX_war_escalation_level_green"
	}
	text = {
		localization_key = "GFX_war_escalation_level_white"
	}
}

defined_text = {
	name = GET_INTERNATIONAL_REPUTATION_LEVEL_5_COLOR
	text = {
		trigger = {
			tag = MER
			check_variable = { MER.MER_international_reputation > 4 }
		}
		localization_key = "GFX_war_escalation_level_green"
	}
	text = {
		localization_key = "GFX_war_escalation_level_white"
	}
}

defined_text = {
	name = GET_ceauxceaux_conundrum_title
	text = {
		trigger = {
			MER = { has_completed_focus = MER_choose_MPA }
		}
		localization_key = MER_leash_the_bitch
	}
	text = {
		trigger = {
			MER = { has_completed_focus = MER_choose_PPH }
		}
		localization_key = MER_pay_the_bitch
	}
	text = {
		localization_key = MER_ceauxceaux_conundrum_blank
	}
}
defined_text = {
	name = GET_ceauxceaux_conundrum_desc
	text = {
		trigger = {
			MER = { has_completed_focus = MER_choose_MPA }
		}
		localization_key = MER_leash_the_bitch_desc
	}
	text = {
		trigger = {
			MER = { has_completed_focus = MER_choose_PPH }
		}
		localization_key = MER_pay_the_bitch_desc
	}
	text = {
		localization_key = MER_ceauxceaux_conundrum_blank
	}
}