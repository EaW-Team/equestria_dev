focus_tree = {
	id = BUF_start_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = BUF
		}
	}
	continuous_focus_position = { x = 940 y = 1060 }
	default = no
	shared_focus = BUF_tenth_year_of_thunderhooves
}
focus_tree = {
	id = BUF_civil_war_tree
	country = {
		factor = 0
		modifier = {
			add = 9
			original_tag = BUF
		}
	}
	continuous_focus_position = { x = 940 y = 1060 }
	default = no
	shared_focus = BUF_chieftainess_little_strongheart
}
	################################# 
	#### STARTING TREE ##############
	#################################

	shared_focus = {
		id = BUF_tenth_year_of_thunderhooves
		icon = GFX_goal_BUF_thunderhooves
		cost = 3
		x = 10
		y = 0

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = newbuf.1
			hidden_effect = {
				country_event = {
					id = newbuf.5
					days = 340
				}
			}
		}
	}
	shared_focus = {
		id = BUF_start_reducing_poverty
		icon = GFX_focus_ETH_the_state_bank_of_ethiopia
		cost = 3
		x = -2
		y = 1
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			decrease_poverty = yes
			swap_ideas = {
				remove_idea = BUF_workshop
				add_idea = BUF_workshop_stg_help
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	
	shared_focus = {
		id = BUF_gain_an_equestrian_guarantee
		icon = GFX_goal_eqs_buffalo2
		cost = 3
		x = 3
		y = 2
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			EQS = {
				country_event = newbuf.2
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	shared_focus = {
		id = BUF_meet_with_daughter
		icon = GFX_goal_BUF_strongheart
		cost = 3
		x = 1
		y = 2
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			# event
			add_war_support = 0.05
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	
	shared_focus = {
		id = BUF_calm_the_elder
		icon = GFX_goal_BUF_elder
		cost = 3
		x = -1
		y = 2
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			# event
			add_stability = 0.05
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	
	shared_focus = {
		id = BUF_multipolarity
		icon = GFX_goal_BUF_com_flag
		cost = 3
		x = -3
		y = 2
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			STG = {
				country_event = newbuf.3
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	shared_focus = {
		id = BUF_start_reducing_illiteracy
		icon = GFX_goal_griffon_books
		cost = 3
		x = 2
		y = 1
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_tenth_year_of_thunderhooves
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			decrease_illiteracy = yes
			swap_ideas = {
				remove_idea = equestrian_influence
				add_idea = BUF_equestrian_educators
			}
			BUF_bop_very_low_decrease_effect = yes

		}
	}
	
	shared_focus = {
		id = BUF_the_middle_path
		icon = GFX_goal_BUF_gora
		cost = 3
		x = 0
		y = 3
		relative_position_id = BUF_tenth_year_of_thunderhooves
		prerequisite = {
			focus = BUF_meet_with_daughter
		}
		prerequisite = {
			focus = BUF_calm_the_elder
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			# event
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			BUF_bop_very_low_increase_effect = yes
		}
	}
	
	shared_focus = {
		id = BUF_the_best_case
		icon = GFX_goal_pipe_of_peace
		cost = 6
		x = 0
		y = 2
		relative_position_id = BUF_start_reducing_illiteracy
		prerequisite = {
			focus = BUF_gain_an_equestrian_guarantee
		}
		prerequisite = {
			focus = BUF_meet_with_daughter
		}
		prerequisite = {
			focus = BUF_start_reducing_illiteracy
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 75
			add_opinion_modifier = {
				target = EQS
				modifier = made_friends
			}
			reverse_add_opinion_modifier = {
				target = EQS
				modifier = made_friends
			}
			activate_advisor = BUF_little_chieftess
			BUF_chieftess_strongheart = {
				set_can_be_fired_in_advisor_role = {
					value = no
				}
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			BUF_bop_low_decrease_effect = yes
		}
	}
	shared_focus = {
		id = BUF_the_worst_case
		icon = GFX_goal_buf_strongbuf
		cost = 6
		x = 0
		y = 2
		relative_position_id = BUF_start_reducing_poverty
		prerequisite = {
			focus = BUF_multipolarity
		}
		prerequisite = {
			focus = BUF_start_reducing_poverty
		}
		prerequisite = {
			focus = BUF_calm_the_elder
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			EAW_raise_conscription_law = yes
			activate_advisor = BUF_old_guard
			BUF_the_elder = {
				set_can_be_fired_in_advisor_role = {
					value = no
				}
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			BUF_bop_low_decrease_effect = yes
		}
	}
	shared_focus = {
		id = BUF_modernization_whatever_the_cost
		icon = GFX_focus_CHL_enlarge_the_textile_industries
		cost = 3
		x = -1
		y = 1
		relative_position_id = BUF_the_middle_path
		prerequisite = {
			focus = BUF_the_worst_case
		}
		prerequisite = {
			focus = BUF_the_middle_path
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			build_railway = {
				level = 1
				path = { 6415 9520 9783 144 11580 }
			}
			build_railway = {
				level = 1
				path = { 11580 9621 614 679 9606 }
			}
			build_railway = {
				level = 1
				path = { 11580 3617 6790 3627 9608  }
			}
			build_railway = {
				level = 1
				path = { 11580 3617 11787 646 3680   }
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_train
					}
				}
				set_technology = {
					basic_train = 1
				}
			}
			else = {
				add_tech_bonus = {
					name = train_tech
					bonus = 1
					uses = 1
					category = train_tech
				}
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 5
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}

	shared_focus = {
		id = BUF_steel_for_jobs
		icon = GFX_focus_generic_steel
		cost = 3
		x = 1
		y = 1
		relative_position_id = BUF_the_middle_path
		prerequisite = {
			focus = BUF_the_best_case
		}
		prerequisite = {
			focus = BUF_the_middle_path
		}

		ai_will_do = {
			factor = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			78 = { 
				add_resource = {
					type = steel
					amount = 9
				}
			}
			one_random_industrial_complex = yes
			one_random_arms_factory = yes
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			BUF_bop_very_low_decrease_effect = yes
		}
	}
	
	

	shared_focus = {
		id = BUF_eleventh_year_of_thunderhooves
		icon = GFX_goal_eqs_buffalo
		cost = 12
		x = 0
		y = 2
		relative_position_id = BUF_the_middle_path
		prerequisite = {
			focus = BUF_modernization_whatever_the_cost
		}
		prerequisite = {
			focus = BUF_steel_for_jobs
		}
		available = {
			hidden_trigger = {
				power_balance_value = {
					id = BUF_power_balance
					value > -0.99
				}
			}
		}

		ai_will_do = {
			factor = 10
		}
		cancelable = no # can't be cancelled except by effect!!!

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {		
			unlock_decision_category_tooltip = BUF_balance_of_power_category
			add_research_slot = 1
			increase_society_development = yes
			increase_science_base = yes
			BUF_bop_absurdly_high_increase_effect = yes
		}
	}
	
	################################# 
	#### CIVIL WAR TREE #############
	#################################

	shared_focus = {
		id = BUF_chieftainess_little_strongheart
		icon = GFX_goal_generic_liberty_statue
		cost = 1
		x = 7
		y = 0
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_chieftainess_little_strongheart"
			country_event = newbuf.8
		}
	}
	shared_focus = {
		id = BUF_desert_bunkers
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_chieftainess_little_strongheart
		x = -3
		y = 1
		
		prerequisite = {
			focus = BUF_chieftainess_little_strongheart
		}
		mutually_exclusive = {
			focus = BUF_desert_supply_lines
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_desert_bunkers"
			every_owned_state = {
				limit = {
					impassable = no
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
	}
	shared_focus = {
		id = BUF_desert_supply_lines
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_chieftainess_little_strongheart
		x = -1
		y = 1
		
		prerequisite = {
			focus = BUF_chieftainess_little_strongheart
		}
		mutually_exclusive = {
			focus = BUF_desert_bunkers
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_desert_supply_lines"
			build_railway = {
				level = 1
				path = { 6415 9520 9783 144 11580 }
			}
			build_railway = {
				level = 1
				path = { 11580 9621 614 679 9606 }
			}
			build_railway = {
				level = 1
				path = { 11580 3617 6790 3627 9608  }
			}
			build_railway = {
				level = 1
				path = { 11580 3617 11787 646 3680   }
			}
			every_core_state = {
				add_dynamic_modifier = {
					modifier = BUF_desert_supplies_modifier
				}
			}
		}
	}
	shared_focus = {
		id = BUF_sheriff_braeburn
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_chieftainess_little_strongheart
		x = 1
		y = 1
		
		prerequisite = {
			focus = BUF_chieftainess_little_strongheart
		}
		mutually_exclusive = {
			focus = BUF_stick_with_silverstar
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_sheriff_braeburn"
			add_advisor_role = {
				character = EQS_braeburn
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = EQS_braeburn
					traits = {
						BUF_new_sheriff
					}
				}
			}
		}
	}
	shared_focus = {
		id = BUF_stick_with_silverstar
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_chieftainess_little_strongheart
		x = 3
		y = 1
		
		prerequisite = {
			focus = BUF_chieftainess_little_strongheart
		}
		mutually_exclusive = {
			focus = BUF_sheriff_braeburn
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_stick_with_silverstar"
			add_advisor_role = {
				character = BUF_silverstar
				advisor = {
					slot = political_advisor
					cost = 150
					idea_token = BUF_silverstar
					traits = {
						BUF_old_sheriff
					}
				}
			}
		}
	}	
	shared_focus = {
		id = BUF_self_defense_from_aggression
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_desert_bunkers
		x = 1
		y = 1
		
		prerequisite = {
			focus = BUF_desert_bunkers
			focus = BUF_desert_supply_lines
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_self_defense_from_aggression"
			add_ideas = BUF_self_defense
		}
	}
	shared_focus = {
		id = BUF_exile_brigades
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_sheriff_braeburn
		x = 1
		y = 1
		
		prerequisite = {
			focus = BUF_sheriff_braeburn
			focus = BUF_stick_with_silverstar
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_exile_brigades"
			division_template = {
				name = "Appleloosan Patriots"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					recon = { x = 0 y = 1 }
				}
			}
			21 = {
				create_unit = {
					division = "name = \"1st Appleloosan Patriots\" division_template = \"Appleloosan Patriots\" start_experience_factor = 0.4" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"2nd Appleloosan Patriots\" division_template = \"Appleloosan Patriots\" start_experience_factor = 0.3" 
					owner = BUF
				}
			}
		}
	}
	shared_focus = {
		id = BUF_our_new_pony_friends
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_self_defense_from_aggression
		x = 2
		y = 1
		
		prerequisite = {
			focus = BUF_self_defense_from_aggression
		}
		prerequisite = {
			focus = BUF_exile_brigades
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_our_new_pony_friends"
			increase_science_base = yes
			increase_society_development = yes
			add_research_slot = 1
			BUF_bop_low_increase_effect = yes
			add_manpower = 25000
			division_template = {
				name = "Eager Volunteers"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
				}
				support = {
					recon = { x = 0 y = 0 }
				}
			}
			21 = {
				create_unit = {
					division = "name = \"1st Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"2nd Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"3rd Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"4th Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"5th Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
				create_unit = {
					division = "name = \"6th Eager Volunteers\" division_template = \"Eager Volunteers\" start_experience_factor = 0.1" 
					owner = BUF
				}
			}
		}
	}
	shared_focus = {
		id = BUF_partisan_warfare
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_our_new_pony_friends
		x = -1
		y = 1
		
		prerequisite = {
			focus = BUF_our_new_pony_friends
		}
		mutually_exclusive = {
			focus = BUF_modernize_equipment
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_partisan_warfare"
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
			set_country_flag = BUF_unlocked_partisan_tactics
			unlock_decision_category_tooltip = BUF_partisan_tactics_category
		}
	}
	shared_focus = {
		id = BUF_modernize_equipment
		icon = GFX_goal_generic_liberty_statue
		cost = 3
		relative_position_id = BUF_our_new_pony_friends
		x = 1
		y = 1
		
		prerequisite = {
			focus = BUF_our_new_pony_friends
		}
		mutually_exclusive = {
			focus = BUF_partisan_warfare
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_modernize_equipment"
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
			add_tech_bonus = {
				name = infantry_bonus
				category = infantry_tech
				category = infantry_weapons
				uses = 2
				bonus = 2
			}
			add_tech_bonus = {
				name = artillery_bonus
				category = mio_cat_artillery
				uses = 1
				bonus = 2
			}
			add_tech_bonus = {
				name = support_bonus
				category = support_tech
				uses = 1
				bonus = 2
			}
		}
	}
	shared_focus = {
		id = BUF_friendship_with_rock_union
		icon = GFX_goal_generic_liberty_statue
		cost = 2
		relative_position_id = BUF_partisan_warfare
		x = 1
		y = 1
		
		prerequisite = {
			focus = BUF_partisan_warfare
			focus = BUF_modernize_equipment
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus BUF_friendship_with_rock_union"
			BUF_bop_very_low_increase_effect = yes
			ROC = {
				country_event = newbuf.9
			}
			custom_effect_tooltip = if_they_accept
			effect_tooltip = {
				give_guarantee = ROC
			}

		}
	}