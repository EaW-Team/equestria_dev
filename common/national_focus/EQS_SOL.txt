focus_tree = {
	id = EQS_solar_empire

	country = {
		factor = 0
	}

	continuous_focus_position = { x = 2000 y = 2000 }
	
	#ACCOUNT FOR THESE
	#EQS_warplan_mild
	#EQS_warplan_normal
	#EQS_warplan_extreme
	

	focus = {
		id = SOL_the_sun_rises
		icon = GFX_goal_solar_phoenix
		x = 16
		y = 0
		cost = 1
		available = {
			
		}
		ai_will_do = {
			factor = 10
		}
	
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_the_sun_rises"
			country_event = solarempire.3
			set_power_balance = {
				id = EQS_SOL_personality_bop
				left_side = SOL_pragmatism
				right_side = SOL_fanaticism
				set_value = 0
			}
			custom_effect_tooltip = super_combat_abilities_tt
			hidden_effect = {
				country_event = { id = solarempire.4 days = 4 }
				if = {
					limit = {
						OR = {
							has_war_with = NLR
							has_war_with = NMS
							has_war_with = BAT
						}
					}
					country_event = { id = solarempire.7 days = 10 }
					if = {
						limit = {
							has_war_with = NLR
						}
						#Fillydelphia trigger here
						if = {
							limit = {
								NOT = {
									has_country_flag = EQS_fillydelphia_uprising_triggered
								}
							}
							set_country_flag = EQS_fillydelphia_uprising_triggered
							country_event = {
								id = fillydelphia_civil.1
								days = 65
							}
						}
					}
				}
				
				if = {
					limit = {
						has_war = no
					}
					country_event = { id = solarempire.8 days = 20 }
				}
				else_if = {
					limit = {
						NOT = {
							has_war_with = NLR
						}
					}
					country_event = { id = solarempire.8 days = 90 }
				}
				
				if = {
					limit = {
						has_country_flag = SOL_twilight_captured
						NOT = {
							has_war_with = NLR
						}
					}
					country_event = { id = solarempiresparkles.1 days = 30 }
				}
				
			}
		}
	}
	focus = {
		id = SOL_imperial_guard
		icon = GFX_goal_solar_defence_of_the_empire
		x = -1
		y = 1
		relative_position_id = SOL_the_sun_rises
		cost = 2
		prerequisite = { focus = SOL_the_sun_rises }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_imperial_guard"
			EQS_prince_blueblood = {
				add_unit_leader_trait = SOL_imperial_guard_commander
				remove_advisor_role = {
					slot = army_chief
				}
				add_advisor_role = {
					advisor = {
						slot = army_chief
						cost = 100
						idea_token = EQS_prince_blueblood
						traits = {
							SOL_imperial_captain
						}
					}
				}
			}
			set_portraits = {
				character = EQS_prince_blueblood
				civilian = { large ="gfx/leaders/SOL/Solar_Prince_Blueblood.tga" }
				army = { 
					large ="gfx/leaders/SOL/Solar_Prince_Blueblood.tga" 
					small ="gfx/interface/ideas/Advisors/EQS/SOL_blueblood.tga"
				}
			}
			country_event = solarempire.9
		}
	}
	focus = {
		id = SOL_oaths_of_allegiance
		icon = GFX_goal_solar_maternal_guidance
		x = 0
		y = 2
		relative_position_id = SOL_the_sun_rises
		cost = 2
		prerequisite = { focus = SOL_the_sun_rises }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_oaths_of_allegiance"
			add_political_power = 75
			add_stability = 0.1
			add_war_support = 0.1
			country_event = solarempire.12
		}
	}
	focus = {
		id = SOL_enemies_without_and_within
		icon = GFX_goal_solar_swords_crossed
		x = 1
		y = 1
		relative_position_id = SOL_the_sun_rises
		cost = 2
		prerequisite = { focus = SOL_the_sun_rises }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_enemies_without_and_within"
			if = {
				limit = {
					has_idea = EQS_militarized_administration
				}
				remove_ideas = EQS_militarized_administration
			}
			if = {
				limit = {
					has_idea = EQS_militarized_laws
				}
				remove_ideas = EQS_militarized_laws
			}
			if = {
				limit = {
					has_idea = EQS_wartime_administration
				}
				remove_ideas = EQS_wartime_administration
			}
			if = {
				limit = {
					has_idea = EQS_wartime_laws_idea
				}
				remove_ideas = EQS_wartime_laws_idea
			}
			add_ideas = SOL_permanent_emergency
			country_event = solarempire.11
		}
	}
	focus = {
		id = SOL_reorganize_smile
		icon = GFX_goal_solar_defence_of_the_empire
		x = -1
		y = 1
		relative_position_id = SOL_imperial_guard
		cost = 2
		prerequisite = { focus = SOL_imperial_guard }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_reorganize_smile"
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = {
						name = "S.M.I.L.E."
					}
				}
				EQS_SOL_furlong = {
					add_advisor_role = {
						advisor = {
							slot = political_advisor
							idea_token = EQS_SOL_furlong

							traits = { agent_of_smile_lar }
						}
					}
				}
				add_ideas = SOL_smile_idea_lr
			}
			else = {
				EQS_SOL_furlong = {
					add_advisor_role = {
						advisor = {
							slot = political_advisor
							idea_token = EQS_SOL_furlong

							traits = { agent_of_smile }
						}
					}
				}
				add_ideas = SOL_smile_idea_no_lr
			}
		}
	}
	focus = {
		id = SOL_control_information
		icon = GFX_goal_solar_defence_of_the_empire
		x = 1
		y = 1
		relative_position_id = SOL_enemies_without_and_within
		cost = 2
		prerequisite = { focus = SOL_enemies_without_and_within }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_control_information"
			add_ideas = SOL_media_control
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
	}
	focus = {
		id = SOL_fresh_blood
		icon = GFX_goal_solar_defence_of_the_empire
		x = 1
		y = 1
		relative_position_id = SOL_reorganize_smile
		cost = 2
		prerequisite = { focus = SOL_reorganize_smile }
		prerequisite = { focus = SOL_oaths_of_allegiance }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_fresh_blood"
			country_event = solarempire.13
		}
	}
	focus = {
		id = SOL_crime_and_punishment
		icon = GFX_goal_solar_fair_but_just
		x = 1
		y = 1
		relative_position_id = SOL_oaths_of_allegiance
		cost = 2
		prerequisite = { focus = SOL_control_information }
		prerequisite = { focus = SOL_oaths_of_allegiance }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_crime_and_punishment"
			country_event = solarempire.17
		}
	}
	focus = {
		id = SOL_halo_reference
		icon = GFX_goal_daybreaker_god
		x = 1
		y = 1
		relative_position_id = SOL_fresh_blood
		cost = 2
		prerequisite = { focus = SOL_fresh_blood }
		prerequisite = { focus = SOL_crime_and_punishment }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_halo_reference"
			custom_effect_tooltip = SOL_personality_meter_tt
			if = {
				limit = {
					power_balance_value = {
						id = EQS_SOL_personality_bop
						value < -0.33
					}
				}
				country_event = solarempire.18
			}
			else_if = {
				limit = {
					power_balance_value = {
						id = EQS_SOL_personality_bop
						value > 0.33
					}
				}
				country_event = solarempire.19
			}
			else = {
				country_event = solarempire.20
			}
		}
	}
	focus = { #"normal" Daybreaker
		id = SOL_solar_millenium
		icon = GFX_goal_daybreaker_mother
		x = 0
		y = 1
		relative_position_id = SOL_halo_reference
		cost = 4
		prerequisite = { focus = SOL_halo_reference }
		allow_branch = { 
			has_country_leader_with_trait = daybreaker_empress
		} 
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_solar_millenium"
			add_timed_idea = {
				idea = SOL_solar_millenium_idea
				years = 1000
			}
			
		}
	}
	focus = { #Empress protector
		id = SOL_the_empress_protects
		icon = GFX_goal_daybreaker_protector
		x = 0
		y = 1
		relative_position_id = SOL_halo_reference
		cost = 4
		prerequisite = { focus = SOL_halo_reference }
		allow_branch = { 
			has_country_leader_with_trait = daybreaker_protector
		} 
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_the_empress_protects"
			
		}
	}
	focus = { #Goddess
		id = SOL_apotheosis
		icon = GFX_goal_imperium_solem
		x = 0
		y = 1
		relative_position_id = SOL_halo_reference
		cost = 4
		prerequisite = { focus = SOL_halo_reference }
		allow_branch = { 
			has_country_leader_with_trait = daybreaker_god
		} 
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_apotheosis"
			
		}
	}
	focus = { #shared Military tree
		id = SOL_end_of_weakness
		icon = GFX_goal_solar_defence_of_the_empire
		x = -9
		y = 1
		relative_position_id = SOL_halo_reference
		cost = 6
		prerequisite = { focus = SOL_halo_reference }
		allow_branch = { 
			OR = {
				has_country_leader_with_trait = daybreaker_empress
				has_country_leader_with_trait = daybreaker_god
				has_country_leader_with_trait = daybreaker_protector
			}
		} 
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_end_of_weakness"
			army_experience = 20
			navy_experience = 20
			air_experience = 20
			if = {
				limit = {
					has_idea = EQS_outdated_military
				}
				swap_ideas = { 
					remove_idea = EQS_outdated_military 
					add_idea = SOL_reformed_military 
				}
			}
			else_if = {
				limit = {
					has_idea = EQS_outdated_military_2
				}
				swap_ideas = { 
					remove_idea = EQS_outdated_military_2 
					add_idea = SOL_reformed_military 
				}
			}
			else = {
				add_ideas = SOL_reformed_military
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				if = {
					limit = {
						has_idea = traditionalism_academy_spirit
					}
					remove_ideas = {
						traditionalism_academy_spirit
					}
				}
				if = {
					limit = {
						has_idea = doctrinal_orthodoxy_spirit
					}
					remove_ideas = {
						doctrinal_orthodoxy_spirit
					}
				}
				if = {
					limit = {
						has_idea = disdain_for_the_digging_spirit
					}
					remove_ideas = {
						disdain_for_the_digging_spirit
					}
				}
			}
			else_if = {
				limit = {
					has_idea = EQS_bad_tanks
				}
				remove_ideas = {
					EQS_bad_tanks
				}
			}
			else_if = {
				limit = {
					has_idea = EQS_bad_tanks2
				}
				remove_ideas = {
					EQS_bad_tanks2
				}
			}
			else_if = {
				limit = {
					has_idea = EQS_bad_tanks3
				}
				remove_ideas = {
					EQS_bad_tanks3
				}
			}
		}
	}
	focus = {
		id = SOL_new_purpose_for_navy
		icon = GFX_goal_solar_defence_of_the_empire
		x = -3
		y = 1
		relative_position_id = SOL_end_of_weakness
		cost = 6
		prerequisite = { focus = SOL_end_of_weakness }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_new_purpose_for_navy"
			add_ideas = SOL_solar_navy
			add_doctrine_cost_reduction = {
				name = BAK_naval_doctrine
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = naval_research
				bonus = 1.0
				uses = 2
				category = naval_equipment
			}
		}
	}
	focus = {
		id = SOL_legions_of_light
		icon = GFX_goal_solar_defence_of_the_empire
		x = 0
		y = 1
		relative_position_id = SOL_end_of_weakness
		cost = 6
		prerequisite = { focus = SOL_end_of_weakness }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_legions_of_light"
			add_ideas = SOL_solar_army
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}
		}
	}
	focus = {
		id = SOL_legacy_of_wonderbolts
		icon = GFX_goal_solar_defence_of_the_empire
		x = 3
		y = 1
		relative_position_id = SOL_end_of_weakness
		cost = 6
		prerequisite = { focus = SOL_end_of_weakness }
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SOL_legacy_of_wonderbolts"
			add_ideas = SOL_solar_air_force
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				name = air_bonus
				uses = 2
				bonus = 1
				category = air_equipment
			}
			hidden_effect = {
				country_event = { id = solarempire.23 days = 15 }
			}
		}
	}
}