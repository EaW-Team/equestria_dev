focus_tree = {
	id = stalliongrad_start
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = STG
			NOT = { 
				has_country_flag = STG_flag_unity_in_party 
				has_country_flag = STG_flag_sinne_wins
				has_country_flag = STG_flag_sladkova_wins
				has_country_flag = STG_flag_vasya_wins
			}
		}
	}
	
	continuous_focus_position = { x = 5400 y = 1600 }
	
	default = no
	
	shared_focus = STG_12th_year_of_revolution
	
}
focus_tree = {
	id = stalliongrad_vasya
	country = {
		factor = 0
		modifier = {
			add = 15
			tag = STG
			has_country_flag = STG_flag_unity_in_party
		}
	}
	
	continuous_focus_position = { x = 5400 y = 1600 }
	
	default = no
	
	shared_focus = STG_full_speed_ahead
	shared_focus = STG_red_army_structure

}
focus_tree = {
	id = stalliongrad_vasya_status_quo
	country = {
		factor = 0
		modifier = {
			add = 15
			tag = STG
			has_country_flag = STG_flag_vasya_wins
		}
	}
	
	continuous_focus_position = { x = 2675 y = 500 }
	
	default = no
	
	shared_focus = STG_vasya_quo_wins
}
focus_tree = {
	id = stalliongrad_sinne
	country = {
		factor = 0
		modifier = {
			add = 15
			tag = STG
			has_country_flag = STG_flag_sinne_wins
		}
	}
	
	continuous_focus_position = { x = 4375 y = 50 }
	
	default = no
	
	shared_focus = STG_sinister_wins
	shared_focus = STG_plan_of_industrial_development
	shared_focus = STG_a_revolutinary_army
}
focus_tree = {
	id = stalliongrad_sladkova
	country = {
		factor = 0
		modifier = {
			add = 15
			tag = STG
			has_country_flag = STG_flag_sladkova_wins
		}
	}
	
	continuous_focus_position = { x = 325 y = 0 }
	
	default = no
	
	shared_focus = STG_inches_from_disaster
	shared_focus = STG_orders_for_the_red_army
	shared_focus = STG_legacy_of_NEP
	shared_focus = STG_Severyana_Aboard
	shared_focus = STG_national_defence_initiative
}
focus_tree = {
	id = stalliongrad_dark_wing
	country = { 
		factor = 0
		modifier = {
			add = 15
			tag = STG
			has_country_flag = STG_flag_dark_wing_wins
		}
	}

	continuous_focus_position = { x = 3425 y = 0 }
	
	default = no

	shared_focus = STG_dark_wing_wins
	shared_focus = STG_cleaning_up_politicial_arena
	shared_focus = STG_stavropon_congress
	shared_focus = STG_emergency_defense_council
}
focus_tree = {
	id = STG_masha_focus
	country = { 
		factor = 0
	}

	continuous_focus_position = { x = 3425 y = 0 }
	
	default = no

	shared_focus = STG_the_red_army_takes_control
}
focus_tree = {
	id = STG_ratibor_focus
	country = { 
		factor = 0
	}

	continuous_focus_position = { x = 3425 y = 0 }
	
	default = no

	shared_focus = STG_the_stars_are_right
}

shared_focus = {
		id = STG_12th_year_of_revolution
		icon = GFX_goal_stg_twelve_years
		cost = 1
		x = 10
		y = 0
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_12th_year_of_revolution"
			add_political_power = 25
			country_event = { id=stalliongrad_start.1 }
			set_country_flag = STG_player_started_do_the_initial_tree_flag
		}
	}

shared_focus = {
		id = STG_problems_in_party
		icon = GFX_goal_stg_factions_in_our
		cost = 2
		prerequisite = {
			focus = STG_12th_year_of_revolution
		}
		relative_position_id = STG_12th_year_of_revolution
		x = 0
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_problems_in_party"
			add_political_power = 75
			country_event = { id=stalliongrad_start.2 }
			set_country_flag = STG_avaliable_party_mechainc
		}
	}
	
shared_focus = {
	id = STG_socialism_program
	icon = GFX_goal_stg_socialism_program_tiddo
	cost = 2
	prerequisite = {
		focus = STG_problems_in_party
	}
	relative_position_id = STG_problems_in_party
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_socialism_program"
		country_event = { id=stalliongrad_start.3 }
	}
}

shared_focus = {
	id = STG_cominform
	icon = GFX_goal_stg_cominform_tiddo
	cost = 4
	prerequisite = {
		focus = STG_socialism_program
	}
	relative_position_id = STG_socialism_program
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_cominform"
		country_event = { id=stalliongrad_start.31 }
		set_country_flag = STG_starting_the_center_tree_flag
		hidden_effect = {
			GRF = { country_event = { id = griffons.95 days = 14 } }
		}
	}
}

shared_focus = {
	id = STG_skynavia_kekw
	icon = GFX_goal_stg_visit_skynavia_tiddo
	cost = 3
	prerequisite = {
		focus = STG_cominform
	}
	relative_position_id = STG_cominform
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_skynavia_kekw"
		country_event = { id=stalliongrad_start.36 }
	}
}

shared_focus = {
	id = STG_prywhen_why
	icon = GFX_goal_stg_assist_pywhen_tiddo
	cost = 3
	prerequisite = {
		focus = STG_cominform
	}
	relative_position_id = STG_cominform
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_prywhen_why"
		country_event = { id=stalliongrad_start.34 }
	}
}

shared_focus = {
	id = STG_Zebrica_4head
	icon = GFX_goal_stg_arabian_revolution_tiddo
	cost = 3
	prerequisite = {
		focus = STG_cominform
	}
	relative_position_id = STG_cominform
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_Zebrica_4head"
		country_event = { id=stalliongrad_start.35 }
	}
}

shared_focus = {
	id = STG_only_thing_we_all_agree_on
	icon = GFX_goal_stg_the_only_thing_we_all_agree_on_tiddo
	cost = 3
	prerequisite = {
		focus = STG_Zebrica_4head
		focus = STG_prywhen_why
		focus = STG_skynavia_kekw
	}
	relative_position_id = STG_prywhen_why
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_only_thing_we_all_agree_on"
		country_event = { id=stalliongrad_start.14 }
		set_country_flag = STG_finished_the_centre_tree_flag
		clr_country_flag = STG_starting_the_center_tree_flag
		hidden_effect = {
		    country_event = { id = stalliongrad_start.11 days = 3 }
		}
	}
}

shared_focus = {
	id = STG_about_freedom_and_unity
	icon = GFX_goal_stg_party_line_tiddo
	cost = 3
	prerequisite = {
		focus = STG_socialism_program
	}
	relative_position_id = STG_socialism_program
	x = -6
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_about_freedom_and_unity"
		country_event = { id=stalliongrad_start.28 }
		custom_effect_tooltip = STG_new_party_struggle_decisions_tt
		set_country_flag = STG_starting_the_left_tree_flag
		hidden_effect = {
		    country_event = { id = stalliongrad_start.10 }
		}
	}
}

shared_focus = {
	id = STG_doubters_on_left
	icon = GFX_goal_stg_doubters_on_the_left_tiddo
	cost = 3
	prerequisite = {
		focus = STG_about_freedom_and_unity
	}
	relative_position_id = STG_about_freedom_and_unity
	x = -2
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_doubters_on_left"
		country_event = { id=stalliongrad_start.15 }
		hidden_effect = {
			country_event = { id = stalliongrad_start.7 days = 7 }
		}
		add_stability = 0.025
		add_political_power = 25
	}
}
shared_focus = {
	id = STG_reliable_center
	icon = GFX_goal_stg_reliable_center_tiddo
	cost = 3
	prerequisite = {
		focus = STG_about_freedom_and_unity
	}
	relative_position_id = STG_about_freedom_and_unity
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_reliable_center"
		add_to_variable = { STG_main_party_support = 6 tooltip = STG_get_main_oppose_value_tt }
		add_to_variable = { STG_left_opposition_support = -2 tooltip = STG_get_left_oppose_value_tt }
		add_to_variable = { STG_right_opposition_support = -4 tooltip = STG_get_right_oppose_value_tt }
		STG_check_party_variables = yes
		add_political_power = 50
	}
}
shared_focus = {
	id = STG_pessimists_on_right
	icon = GFX_goal_stg_pessimists_on_right_tiddo
	cost = 3
	prerequisite = {
		focus = STG_about_freedom_and_unity
	}
	relative_position_id = STG_about_freedom_and_unity
	x = 2
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_pessimists_on_right"
		country_event = { id = stalliongrad_start.17 }
		add_stability = 0.025
		add_political_power = 25
	}
}
shared_focus = {
	id = STG_send_in_sosister
	icon = GFX_goal_stg_send_in_sosister_tiddo
	cost = 3
	prerequisite = {
		focus = STG_reliable_center
	}
	relative_position_id = STG_reliable_center
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_send_in_sosister"
		country_event = { id = stalliongrad_start.16 }
		hidden_effect = {
			country_event = { id = stalliongrad_start.18 days = 7 }
		}
		add_stability = 0.025
		add_political_power = 50
	}
}

shared_focus = {
	id = STG_can_there_be_unity
	icon = GFX_goal_stg_can_there_be_unity_tiddo
	cost = 3
	prerequisite = {
		focus = STG_send_in_sosister
		focus = STG_doubters_on_left
		focus = STG_pessimists_on_right
	}
	relative_position_id = STG_send_in_sosister
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_can_there_be_unity"
		country_event = { id=stalliongrad_start.19 }
		add_stability = 0.025
		add_political_power = 50
		set_country_flag = STG_finished_the_left_tree_flag
		clr_country_flag = STG_starting_the_left_tree_flag
	}
}

shared_focus = {
	id = STG_peasants_and_workers
	icon = GFX_goal_stg_industry_tiddo
	cost = 3
	prerequisite = {
		focus = STG_socialism_program
	}
	relative_position_id = STG_socialism_program
	x = 6
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_peasants_and_workers"
		country_event = { id=stalliongrad_start.20 }
		custom_effect_tooltip = STG_peasants_and_workers_tt
		225 = {	
			improve_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		233 = {	
			improve_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		set_country_flag = STG_starting_the_right_tree_flag
	}
}
	
shared_focus = {
	id = STG_telegraph_agency
	icon = GFX_goal_stg_sta
	cost = 3
	prerequisite = {
		focus = STG_peasants_and_workers
	}
	relative_position_id = STG_peasants_and_workers
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_telegraph_agency"
		country_event = { id=stalliongrad_start.13 }
		add_timed_idea = { idea = STG_propaganda days = 365 }
	}
}

shared_focus = {
	id = STG_state_warehouse_system
	icon = GFX_goal_stg_state_reserve_system_tiddo
	cost = 4
	prerequisite = {
		focus = STG_telegraph_agency
	}
	relative_position_id = STG_telegraph_agency
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_state_warehouse_system"
		235 = {
			improve_state_category = yes
			add_building_construction = {
				type = fuel_silo
				level = 1
				instant_build = yes
			}
		}
		165 = {
			improve_state_category = yes
			add_building_construction = {
				type = fuel_silo
				level = 1
				instant_build = yes
			}
		}
		add_resource = {
			type = steel
			amount = 3
			state = 168
		}
		add_resource = {
			type = aluminium
			amount = 2
			state = 168
		}
		add_resource = {
			type = steel
			amount = 3
			state = 334
		}
		add_resource = {
			type = tungsten
			amount = 2
			state = 334
		}
		country_event = { id=stalliongrad_start.37 }
	}
}

shared_focus = {
	id = STG_petershoof_foreign_trade
	icon = GFX_goal_stg_open_petershoof_tiddo
	cost = 4
	prerequisite = {
		focus = STG_peasants_and_workers
	}
	relative_position_id = STG_peasants_and_workers
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_petershoof_foreign_trade"
		166 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 2
				province = 311
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		TRD = { country_event = { id=stalliongrad_start.38 days = 3 } }
		JER = { country_event = { id=stalliongrad_start.38 days = 4 } }
		FEA = { country_event = { id=stalliongrad_start.38 days = 2 } }
		FAT = { country_event = { id=stalliongrad_start.38 days = 6 } }
	}
}

shared_focus = {
	id = STG_amogus_trade
	icon = GFX_goal_stg_shell_companies_tiddo
	cost = 4
	prerequisite = {
		focus = STG_petershoof_foreign_trade
	}
	relative_position_id = STG_petershoof_foreign_trade
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_amogus_tradey"
		one_random_industrial_complex = yes
		678 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		163 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		EQS = { country_event = { id=stalliongrad_start.41 } }
		if = {
			limit = {
				CRY = { is_subject_of = EQS }
			}
			CRY = { country_event = { id=stalliongrad_start.44 } }
		}		
	}
}

shared_focus = {
		id = STG_support_the_colhoz
		icon = GFX_goal_stg_farms_tiddo
		cost = 4
		prerequisite = {
			focus = STG_peasants_and_workers
		}
		relative_position_id = STG_peasants_and_workers
		x = 2
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_support_the_colhoz"
			country_event = { id=stalliongrad_start.30 }
			168 = {
				add_extra_state_shared_building_slots = 1
				add_manpower = 7500
			}
			166 = {
				add_extra_state_shared_building_slots = 1
				add_manpower = 7500
			}
			233 = {
				add_extra_state_shared_building_slots = 1
				add_manpower = 7500
			}
			225 = {
				add_extra_state_shared_building_slots = 1
				add_manpower = 7500
			}
			235 = {
				add_extra_state_shared_building_slots = 1
				add_manpower = 7500
			}
			hidden_effect = {
			    country_event = { id = stalliongrad_start.8 days = 4 }
			}
		}
	}

shared_focus = {
		id = STG_draka_s_kulakami
		icon = GFX_goal_stg_wealth_redistribution_tiddo
		cost = 4
		prerequisite = {
			focus = STG_support_the_colhoz
		}
		relative_position_id = STG_support_the_colhoz
		x = 0
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_draka_s_kulakami"
			country_event = { id=stalliongrad_start.46 }
			hidden_effect = {
			    country_event = { id = stalliongrad_start.12 days = 5 }
			}
		}
	}
	
shared_focus = {
	id = STG_another_year_of_stability
	icon = GFX_goal_stg_year_of_stability_tiddo
	cost = 3
	prerequisite = {
		focus = STG_draka_s_kulakami
	}
	prerequisite = {
		focus = STG_amogus_trade
	}
	prerequisite = {
		focus = STG_state_warehouse_system
	}
	relative_position_id = STG_state_warehouse_system
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_another_year_of_stability"
		add_stability = 0.10
		add_political_power = 50
		country_event = { id=stalliongrad_start.45 }
		set_country_flag = STG_finished_the_right_tree_flag
		clr_country_flag = STG_starting_the_right_tree_flag	
	}
}


shared_focus = {
	id = STG_scp_congress
	icon = GFX_goal_stg_scp_congress_tiddo
	cost = 0
	available = { 
		always = no
	}
	prerequisite = {
		focus = STG_can_there_be_unity
	}
	prerequisite = {
		focus = STG_only_thing_we_all_agree_on
	}
	prerequisite = {
		focus = STG_another_year_of_stability
	}
	relative_position_id = STG_only_thing_we_all_agree_on
	x = 0
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_scp_congress"
		mark_focus_tree_layout_dirty = yes
		if = {
			limit = { has_country_flag = STG_player_started_do_the_initial_tree_flag
			}
			if = {
				limit = { has_country_flag = STG_starting_the_left_tree_flag }
				country_event = { id=stalliongrad_start.50 }
			}
			else_if = {
				limit = { has_country_flag = STG_finished_the_left_tree_flag }
				country_event = { id=stalliongrad_start.51 }
			}
			else = { 
				country_event = { id=stalliongrad_start.52 }
			}
		}
		else = {
			country_event = { id=stalliongrad_start.59 }
		}
	}
}

shared_focus = {
		id = STG_red_army_ready
		icon = GFX_goal_stg_wip_icon
		cost = 2
		prerequisite = {
			focus = STG_scp_congress
		}
		relative_position_id = STG_scp_congress
		allow_branch = {
			has_country_flag = STG_increase_tension_flag
		}
		x = 0
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_red_army_ready"
			army_experience = 15
	}
}

shared_focus = {
		id = STG_party_ready
		icon = GFX_goal_stg_wip_icon
		cost = 2
		prerequisite = {
			focus = STG_scp_congress
		}
		relative_position_id = STG_scp_congress
		allow_branch = {
			has_country_flag = STG_increase_tension_flag
		}
		x = -2
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_party_ready"
			add_political_power = -40
			add_stability = 0.05
	}
}

shared_focus = {
		id = STG_economy_ready
		icon = GFX_goal_stg_wip_icon
		cost = 2
		prerequisite = {
			focus = STG_scp_congress
		}
		relative_position_id = STG_scp_congress
		allow_branch = {
			has_country_flag = STG_increase_tension_flag
		}
		x = 2
		y = 1
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus STG_economy_ready"
			add_timed_idea = {
				idea = STG_some_extra_funds_center_plan_2
				days = 90
			}
	}
}
	

#######################
### Industrial tree ###
#######################

#################
##### ARMY ######
#################

shared_focus = {
	id = STG_red_army_structure
	#icon = GFX_goal_stg_red_army_discuss
	icon = GFX_goal_technological_supremacy
	cost = 1
	x = 44
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_red_army_structure"
		#country_event = { id=stalliongrad_mil.12 }
		if = {
			limit = {
				NOT = { has_country_flag = STG_voyennaya_pobudka }
			}
			country_event = { id=stalliongrad_mil.1 }
		}
		country_event = { id=stalliongrad_mil.13 days = 5 }
		#remove_workers_army = yes
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1
			uses = 1
			category = armor
		}
		153 = {
			create_unit = {
				division = "name = \"Gvardeyskaya Tankovaya Diviziya\" division_template = \"Tankovaya Diviziya\" start_experience_factor = 1.0 start_equipment_factor = 0.99"
				owner = ROOT
			}
		}
	}
}

shared_focus = {
	id = STG_reminats_of_fleet
	icon = GFX_goal_battlefleet
	cost = 3
	x = -2
	y = 1
	prerequisite = {
		focus = STG_red_army_structure
	}
	relative_position_id = STG_red_army_structure
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_reminats_of_fleet"
		country_event = { id=stalliongrad_mil.14 }
		navy_experience = 25
	}
}

#shared_focus = {
#	id = STG_ounumbered
#	icon = GFX_submarine_gen
#	cost = 4
#	prerequisite = {
#		focus = STG_reminats_of_fleet
#	}
#	relative_position_id = STG_reminats_of_fleet
#	x = -4
#	y = 1
#	completion_reward = { 
#		log = "[GetDateText]: [Root.GetName]: Focus STG_ounumbered"
#		add_doctrine_cost_reduction = {
#			name = ti_bonus
#			cost_reduction = 0.5
#			uses = 3
#			category = trade_interdiction_tree
#		}
#		navy_experience = 50
#	}
#}

shared_focus = {
	id = STG_furious_onslaught
	icon = GFX_focus_generic_navy_battleship3alt
	cost = 6
	prerequisite = {
		focus = STG_reminats_of_fleet
	}
	mutually_exclusive = {
		focus = STG_underwater_predators
	}
	relative_position_id = STG_reminats_of_fleet
	x = -5
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_furious_onslaught"
		add_dynamic_modifier = { modifier = STG_red_fleet_dynamic_modifier }
		if = {
				limit = {
					NOT = {
						has_dlc = "Man the Guns"
					}
				}
				create_equipment_variant = {
					name = "Petershoof Class"
					name_group = STG_BB_BC_HISTORICAL
					type = battle_cruiser_1
					upgrades = {
						ship_reliability_upgrade = 3
						ship_engine_upgrade = 5
						ship_gun_upgrade = 1
						ship_armor_upgrade = 1
					}
				}
				add_equipment_production = {
					equipment = {
						type = battle_cruiser_1
						creator = "STG" 
						version_name = "Petershoof Class"
					}
					name = "Petershoof"
					requested_factories = 1
					progress = 0.60
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = battle_cruiser_1
						creator = "STG" 
						version_name = "Petershoof Class"
					}
					name = "Stalliongrad"
					requested_factories = 1
					progress = 0.40
					amount = 1
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = {
					basic_ship_hull_grand_cruiser = 1
				}
				if = { 
					limit = { NOT = { has_tech = basic_dp_light_battery } } 
					create_equipment_variant = {
						name = "Petershoof Class"
						type = ship_hull_grand_cruiser
						name_group = STG_BB_BC_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_fire_control_system_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cb_1
							fixed_ship_secondaries_slot = ship_secondaries_2
							front_1_custom_slot = ship_heavy_battery_1
							mid_1_custom_slot = ship_anti_air_2
							mid_2_custom_slot = ship_anti_air_2
							rear_1_custom_slot = ship_heavy_battery_1
						}
					}
				}
				if = { 
					limit = { has_tech = basic_dp_light_battery } 
					create_equipment_variant = {
						name = "Petershoof Class"
						type = ship_hull_grand_cruiser
						name_group = STG_BB_BC_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_heavy_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_fire_control_system_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cb_1
							fixed_ship_secondaries_slot = dp_ship_secondaries_1
							front_1_custom_slot = ship_heavy_battery_1
							mid_1_custom_slot = ship_anti_air_2
							mid_2_custom_slot = dp_ship_secondaries_1
							rear_1_custom_slot = ship_heavy_battery_1
						}
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_grand_cruiser
						creator = "STG" 
						version_name = "Petershoof Class"
					}
					name = "Petershoof" 
					requested_factories = 3
					progress = 0.60
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_grand_cruiser
						creator = "STG" 
						version_name = "Petershoof Class"
					}
					name = "Stalliongrad" 
					requested_factories = 2
					progress = 0.40
					amount = 1
				}
			}
		navy_experience = 15
		#add_ideas = STG_glory_doctrine
		add_to_variable = { STG_naval_retreat_chance = 0.1 }
		add_to_variable = { STG_naval_retreat_speed = 0.1 }
		custom_effect_tooltip = STG_large_cruisers_ns_tt
	}
}

shared_focus = {
	id = STG_underwater_predators
	icon = GFX_goal_JER_submarine_development
	cost = 6
	prerequisite = {
		focus = STG_reminats_of_fleet
	}
	mutually_exclusive = {
		focus = STG_furious_onslaught
	}
	relative_position_id = STG_reminats_of_fleet
	x = -3
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_underwater_predators"
		add_tech_bonus = {
			name = submarine_research
			bonus = 2.0
			uses = 1
			category = ss_tech
		}
		add_dynamic_modifier = { modifier = STG_red_fleet_dynamic_modifier }
		add_to_variable = { STG_navy_max_range_factor = 0.15 }
		add_to_variable = { STG_navy_visibility = -0.1 }
		custom_effect_tooltip = STG_cruiser_submarines_ns_tt
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				} 
				requested_factories = 1
				progress = 0.85
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				}
				requested_factories = 1
				progress = 0.80
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				}
				requested_factories = 1
				progress = 0.75
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				} 
				requested_factories = 1
				progress = 0.70
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				}
				requested_factories = 1
				progress = 0.65
				amount = 1
			}
			add_equipment_production = {
				equipment = {
					type = ship_hull_cruiser_submarine
					creator = "STG" 
					version_name = "Kreyserskaya Series"
				}
				requested_factories = 1
				progress = 0.60
				amount = 1
			}
		}
	}
}

shared_focus = {
	id = STG_new_destroyers
	icon = GFX_goal_generic_coastal_navy
	cost = 5
	prerequisite = {
		focus = STG_furious_onslaught
	}
	relative_position_id = STG_furious_onslaught
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_destroyers"
		add_tech_bonus = {
			name = SOV_surface_warfare
			bonus = 1.0
			uses = 2
			category = dd_tech
		}
		if = { 
			limit = { 
				NOT = { 
					has_tech = basic_dp_light_battery
					is_researching_technology = basic_dp_light_battery
				}
				has_dlc = "Man the Guns"
			}
			set_technology = { basic_dp_light_battery = 1 }
		}
	}
}

shared_focus = {
	id = STG_Chayka_class
	icon = GFX_goal_JER_cruisers
	cost = 5
	prerequisite = {
		focus = STG_furious_onslaught
		focus = STG_underwater_predators
	}
	relative_position_id = STG_furious_onslaught
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_Chayka_class"
		if = {
			limit = {
				not = { has_dlc = "Man the Guns" }
			}
			set_technology = { torpedo_cruiser = 1 }
			add_equipment_production = {
				equipment = {
					type = torpedo_cruiser
					creator = "STG" 
				}
				name = "Chayka"
				requested_factories = 1
				progress = 0.50
				amount = 1
			}
		}
			else = {
				set_technology = { torpedo_cruiser_mtg = 1 }
				if = { 
					limit = { NOT = { has_tech = basic_dp_light_battery } } 
					create_equipment_variant = {
						name = "Chayka Class"
						type = ship_hull_torpedo_cruiser
						name_group = STG_CL_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_medium_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_torpedo_data_computer_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cruiser_2
							fixed_ship_secondaries_slot = ship_secondaries_2
							front_1_custom_slot = ship_anti_air_2
							mid_1_custom_slot = ship_torpedo_2
							mid_2_custom_slot = ship_torpedo_2
							rear_1_custom_slot = ship_torpedo_2
							rear_2_custom_slot = ship_anti_air_2
						}
					}
				}
				if = { 
					limit = { has_tech = basic_dp_light_battery } 
					create_equipment_variant = {
						name = "Chayka Class"
						type = ship_hull_torpedo_cruiser
						name_group = STG_CL_HISTORICAL
						parent_version = 0
						modules = {
							fixed_ship_battery_slot = ship_light_medium_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_torpedo_data_computer_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = cruiser_ship_engine_2
							fixed_ship_armor_slot = ship_armor_cruiser_2
							fixed_ship_secondaries_slot = dp_ship_secondaries_1
							front_1_custom_slot = ship_anti_air_2
							mid_1_custom_slot = ship_torpedo_2
							mid_2_custom_slot = ship_torpedo_2
							rear_1_custom_slot = ship_torpedo_2
							rear_2_custom_slot = ship_anti_air_2
						}
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_torpedo_cruiser
						creator = "STG"
						version_name = "Chayka Class"
					}
					name = "Chayka"
					requested_factories = 1
					progress = 0.50
					amount = 1
				}
			}
		navy_experience = 25
	}
}

shared_focus = {
	id = STG_new_subs
	icon = GFX_focus_indy_dread_fleet_2
	cost = 5
	prerequisite = {
		focus = STG_underwater_predators
	}
	relative_position_id = STG_underwater_predators
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_subs"
		add_doctrine_cost_reduction = {
			name = ti_bonus
			cost_reduction = 0.5
			uses = 1
			category = trade_interdiction_tree
		}
		add_tech_bonus = {
			name = submarine_research
			bonus = 1.0
			uses = 2
			category = ss_tech
		}
		add_to_variable = { STG_navy_submarine_attack_factor = 0.15 }
		custom_effect_tooltip = STG_hunters_of_the_depths_ns_tt
	}
}

shared_focus = {
	id = STG_fleet_is_our_spear
	icon = GFX_goal_dockyard_generic_psody
	cost = 5
	prerequisite = {
		focus = STG_furious_onslaught
	}
	relative_position_id = STG_furious_onslaught
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_fleet_is_our_spear"
		add_to_variable = { STG_navy_screen_attack_factor = 0.1 }
		add_to_variable = { STG_naval_torpedo_hit_chance_factor = 0.1 }
		custom_effect_tooltip = STG_sword_and_spear_ns_tt
		add_doctrine_cost_reduction = {
			name = ti_bonus
			cost_reduction = 0.5
			uses = 2
			category = trade_interdiction_tree
		}
	}
}

shared_focus = {
	id = STG_diversionary_maneuvers
	icon = GFX_goal_dockyard_generic_psody
	cost = 5
	prerequisite = {
		focus = STG_underwater_predators
	}
	relative_position_id = STG_underwater_predators
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_diversionary_maneuvers"
		navy_experience = 25
		add_to_variable = { STG_naval_defense_factor = 0.1 }
		custom_effect_tooltip = STG_disstracting_maneuvers_ns_tt
		add_doctrine_cost_reduction = {
			name = ti_bonus
			cost_reduction = 0.5
			uses = 2
			category = trade_interdiction_tree
		}
	}
}

shared_focus = {
	id = STG_morskaya_aviatsiya
	icon = GFX_focus_generic_navy_battleship3
	cost = 5
	prerequisite = {
		focus = STG_diversionary_maneuvers
		focus = STG_fleet_is_our_spear
	}
	relative_position_id = STG_fleet_is_our_spear
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_morskaya_aviatsiya"
		add_tech_bonus = {
			name = naval_bomber_research
			bonus = 1.0
			uses = 2
			category = naval_bomber
		}
		add_doctrine_cost_reduction = {
			name = air_sup_bonus
			cost_reduction = 0.5
			uses = 1
			category = battlefield_support_tree
		}
		add_to_variable = { STG_air_nav_efficiency = 0.1 }
		custom_effect_tooltip = STG_naval_aviation_ns_tt
	}
}

shared_focus = {
	id = STG_revolutionary_sailors
	icon = GFX_goal_revolution_pony
	cost = 5
	prerequisite = {
		focus = STG_morskaya_aviatsiya
	}
	relative_position_id = STG_morskaya_aviatsiya
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_revolutionary_sailors"
		add_to_variable = { STG_special_forces_cap = 0.02 }
		add_to_variable = { STG_naval_invasion_prep_speed = 0.15 }
		custom_effect_tooltip = STG_revolutionary_sailors_ns_tt
		add_tech_bonus = {
			bonus = 1.0
			uses = 1
			category = tp_tech
		}
	}
}

shared_focus = {
	id = STG_regular_trainings
	icon = GFX_goal_generic_sea_focused_navy
	cost = 5
	prerequisite = {
		focus = STG_morskaya_aviatsiya
	}
	relative_position_id = STG_morskaya_aviatsiya
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_regular_trainings"
		add_to_variable = { STG_navy_visibility = -0.05 }
		add_to_variable = { STG_naval_speed_factor = 0.05 }
		add_to_variable = { STG_navy_org_factor = 0.1 }
		custom_effect_tooltip = STG_regular_trainings_ns_tt
	}
}

shared_focus = {
	id = STG_naval_hammer
	icon = GFX_goal_generic_air_naval_bomber2_new
	cost = 5
	prerequisite = {
		focus = STG_morskaya_aviatsiya
	}
	relative_position_id = STG_morskaya_aviatsiya
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_naval_hammer"
		add_to_variable = { STG_shore_bombardment_bonus = 0.1 }
		custom_effect_tooltip = STG_naval_hammer_ns_tt
	}
}

#shared_focus = {
#	id = STG_one_step_away_from_disaster
#	icon = GFX_goal_stg_red_army_discuss
#	cost = 6
#	x = 0
#	y = 1
#	prerequisite = {
#		focus = STG_red_army_structure
#	}
#	relative_position_id = STG_red_army_structure
#	available = {
#		OR = {
#			has_country_flag = STG_voyennaya_pobudka
#			has_war = yes
#		}
#	}
#	ai_will_do = {
#		factor = 5
#	}
#	completion_reward = {
#		log = "[GetDateText]: [Root.GetName]: Focus STG_one_step_away_from_disaster"
#		country_event = { id=stalliongrad_mil.12 }
#		add_to_variable = { STG_army_org_Factor = 0.1 }
#		add_to_variable = { STG_army_attack_factor = 0.1 }
#		add_to_variable = { STG_army_defence_factor = 0.1 }
#		custom_effect_tooltip = STG_one_step_away_from_disaster_ns_tt
#	}
#}

#shared_focus = {
#	id = STG_solve_communication_problems
#	icon = GFX_goal_stg_communication_issue_tiddo
#	cost = 4
#	prerequisite = {
#		focus = STG_one_step_away_from_disaster
#	}
#	prerequisite = {
#		focus = STG_reminats_of_fleet
#	}
#	relative_position_id = STG_one_step_away_from_disaster
#	x = -1
#	y = 1
#	completion_reward = {
#		log = "[GetDateText]: [Root.GetName]: Focus STG_solve_communication_problems"
#		army_experience = 15
#		add_to_variable = { STG_command_power_gain_mult = 0.20 }
#		add_to_variable = { STG_land_reinforce_rate = 0.1 }
#		custom_effect_tooltip = STG_solve_communication_problems_ns_tt
#	}
#}
shared_focus = {
	id = STG_preparation_to_worst
	icon = GFX_goal_stg_red_army_discuss
	cost = 4
	prerequisite = {
		focus = STG_red_army_structure
	}
	relative_position_id = STG_red_army_structure
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_preparation_to_worst"
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 3000
			producer = STG
		}
		army_experience = 15
		add_to_variable = { STG_mobilization_speed = 0.1 }
		custom_effect_tooltip = STG_preparation_to_worst_ns_tt
		country_event = { id=stalliongrad_mil.12 }
	}
}

shared_focus = {
	id = STG_clubs_of_enlightenment_in_the_army
	icon = GFX_goal_voluntary_education
	cost = 6
	prerequisite = {
		focus = STG_preparation_to_worst
	}
	prerequisite = {
		focus = STG_wings_of_steel
	}
	prerequisite = {
		focus = STG_reminats_of_fleet
	}
	relative_position_id = STG_preparation_to_worst
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_clubs_of_enlightenment_in_the_army"
		add_to_variable = { STG_supply_combat_penalties_on_core_factor = -0.1 }
		add_to_variable = { STG_army_core_attack_factor = 0.1 }
		add_to_variable = { STG_army_core_defence_factor = 0.1 }
		custom_effect_tooltip = STG_clubs_of_enlightenment_in_the_army_ns_tt
	}
}



shared_focus = {
	id = STG_balance_between_quality_and_quantity
	icon = GFX_goal_unicorn_soldier
	cost = 5
	prerequisite = {
		focus = STG_clubs_of_enlightenment_in_the_army
	}
	mutually_exclusive = {
		focus = STG_with_little_blood_on_enemy_soil
	}
	relative_position_id = STG_clubs_of_enlightenment_in_the_army
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_balance_between_quality_and_quantity"
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 2.0
			uses = 1
			category = cat_mobile_warfare
		}
		add_to_variable = { STG_army_attack_factor = 0.05 }
		add_to_variable = { STG_army_defence_factor = 0.05 }
		add_to_variable = { STG_supply_consumption_factor = -0.1 }
		custom_effect_tooltip = STG_balance_between_quality_and_quantity_ns_tt
	}
}

shared_focus = {
	id = STG_artillery_is_a_god_of_war
	icon = GFX_goal_national_artillery
	cost = 5
	prerequisite = {
		focus = STG_balance_between_quality_and_quantity
	}
	relative_position_id = STG_balance_between_quality_and_quantity
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_artillery_is_a_god_of_war"
		add_to_variable = { STG_army_artillery_attack_factor = 0.1 }
		add_to_variable = { STG_army_artillery_defence_factor = 0.1 }
		custom_effect_tooltip = STG_artillery_is_a_god_of_war_ns_tt
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = artillery
		}
	}
}

shared_focus = {
	id = STG_tanks_pave_the_way
	icon = GFX_goal_doctrine_tank_warfare
	cost = 5
	prerequisite = {
		focus = STG_artillery_is_a_god_of_war
	}
	relative_position_id = STG_artillery_is_a_god_of_war
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_tanks_pave_the_way"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 2
			category = armor
		}
		add_to_variable = { STG_army_armor_attack_factor = 0.05 }
		custom_effect_tooltip = STG_best_tanks_in_the_world_ns_tt
	}
}

shared_focus = {
	id = STG_logistics_win_wars
	icon = GFX_goal_generic_support_equipment
	cost = 7
	prerequisite = {
		focus = STG_artillery_is_a_god_of_war
	}
	relative_position_id = STG_artillery_is_a_god_of_war
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_logistics_win_wars"
		add_tech_bonus = {
			name = SOV_the_means_to_wage_war
			bonus = 1.0
			uses = 2
			category = support_tech
		}
		add_to_variable = { STG_supply_consumption_factor = -0.05 }
		add_to_variable = { STG_out_of_supply_factor = -0.15 }
		custom_effect_tooltip = STG_logistics_win_wars_ns_tt
	}
}

shared_focus = {
	id = STG_infantry_digs_in
	icon = GFX_goal_chn_axis_build_infantry_grey
	cost = 6
	prerequisite = {
		focus = STG_logistics_win_wars
	}
	prerequisite = {
		focus = STG_tanks_pave_the_way
	}
	relative_position_id = STG_logistics_win_wars
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_infantry_digs_in"
		add_to_variable = { STG_max_dig_in = 5 }
		add_to_variable = { STG_dig_in_speed_factor = 0.10 }
		add_to_variable = { STG_cas_damage_reduction = 0.10 }
		custom_effect_tooltip = STG_infantry_digs_in_ns_tt
	}
}

shared_focus = {
	id = STG_organize_the_partisans
	icon = GFX_goal_chn_axis_build_infantry_grey 
	cost = 5
	prerequisite = {
		focus = STG_logistics_win_wars
	}
	relative_position_id = STG_logistics_win_wars
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_organize_the_partisans"
		add_manpower = 30000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = STG
		}
	}
}

shared_focus = {
	id = STG_mass_production
	icon = GFX_goal_seize_the_means_of_production
	cost = 10
	prerequisite = {
		focus = STG_infantry_digs_in
	}
	prerequisite = {
		focus = STG_organize_the_partisans
	}
	prerequisite = {
		focus = STG_revolutionary_sailors
	}
	relative_position_id = STG_organize_the_partisans
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_mass_production"
		add_ideas = STG_guns_or_butter_production
	}
}

shared_focus = {
	id = STG_with_little_blood_on_enemy_soil
	icon = GFX_goal_soviet_tankie
	cost = 5
	prerequisite = {
		focus = STG_clubs_of_enlightenment_in_the_army
	}
	mutually_exclusive = {
		focus = STG_balance_between_quality_and_quantity
	}
	relative_position_id = STG_clubs_of_enlightenment_in_the_army
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_with_little_blood_on_enemy_soil"
		add_to_variable = { STG_coordination_bonus = 0.03 }
		add_to_variable = { STG_army_attack_factor = 0.1 }
		custom_effect_tooltip = STG_with_little_blood_on_enemy_soil_ns_tt
	}
}

shared_focus = {
	id = STG_IL_2
	icon = GFX_goal_generic_air_fighter_new
	cost = 5
	prerequisite = {
		focus = STG_with_little_blood_on_enemy_soil
	}
	prerequisite = {
		focus = STG_development_of_aviation_clubs
	}
	mutually_exclusive = {
		focus = STG_severyanian_etazhorka
	}
	relative_position_id = STG_with_little_blood_on_enemy_soil
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_IL_2"
		add_tech_bonus = {
			name = CAS_bonus
			bonus = 1.0
			uses = 2
			category = cas_bomber
		}
		#add_ideas = STG_flying_tanks
		add_dynamic_modifier = { modifier = STG_revolutionary_airforce_dynamic_modifier }
		add_to_variable = { STG_air_air_cas_efficiency = 0.05 }
		add_to_variable = { STG_air_air_cas_present_factor = 0.05 }
		custom_effect_tooltip = STG_a_flying_tank_ns_tt
	}
}

shared_focus = {
	id = STG_best_tanks_in_the_world
	icon = GFX_goal_generic_army_tank_2
	cost = 5
	prerequisite = {
		focus = STG_with_little_blood_on_enemy_soil
	}
	relative_position_id = STG_with_little_blood_on_enemy_soil
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_best_tanks_in_the_world"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 2
			category = armor
		}
		add_tech_bonus = {
			name = mech_army_bonus
			ahead_reduction = 3
			bonus = 1.0
			uses = 1
			category = cat_mechanized_equipment #motorized_equipment?
		}
		add_to_variable = { STG_army_armor_attack_factor = 0.05 }
		custom_effect_tooltip = STG_best_tanks_in_the_world_ns_tt
	}
}

shared_focus = {
	id = STG_carousel
	icon = GFX_goal_POL_recon_aircraft
	cost = 5
	prerequisite = {
		focus = STG_best_tanks_in_the_world
	}
	prerequisite = {
		focus = STG_IL_2
	}
	relative_position_id = STG_IL_2
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_carousel"
		add_doctrine_cost_reduction = {
			name = air_sup_bonus
			cost_reduction = 0.5
			uses = 2
			category = battlefield_support_tree
		}
		#effect_tooltip = {
		#	swap_ideas = { remove_idea = STG_flying_tanks add_idea = STG_flying_tanks_1 }
		#}
		add_to_variable = { STG_air_air_cas_present_factor = 0.15 }
		custom_effect_tooltip = STG_the_carousel_ns_tt
	}
}

shared_focus = {
	id = STG_breakthroughs_in_the_rear
	icon = GFX_goal_doctrine_tank_warfare
	cost = 7
	prerequisite = {
		focus = STG_best_tanks_in_the_world
	}
	relative_position_id = STG_best_tanks_in_the_world
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_breakthroughs_in_the_rear"
		add_tech_bonus = {
			name = mech_army_bonus
			bonus = 1.0
			uses = 1
			category = motorized_equipment
		}
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 1
			category = cat_mobile_warfare
		}
		add_to_variable = { STG_army_armor_attack_factor = 0.05 }
		add_to_variable = { STG_army_speed_factor = 0.1 }
		custom_effect_tooltip = STG_breakthroughs_in_the_rear_ns_tt
	}
}

shared_focus = {
	id = STG_lightning_assaults
	icon = GFX_focus_generic_tank_destroyer
	cost = 8
	prerequisite = {
		focus = STG_breakthroughs_in_the_rear
		focus = STG_carousel
	}
	relative_position_id = STG_breakthroughs_in_the_rear
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_lightning_assaults"
		add_to_variable = { STG_land_reinforce_rate = 0.1 }
		add_to_variable = { STG_coordination_bonus = 0.03 }
		add_to_variable = { STG_terrain_penalty_reduction = 0.15 }
		custom_effect_tooltip = STG_lightning_assaults_ns_tt
	}
}

shared_focus = {
	id = STG_more_quality_weapons
	icon = GFX_goal_generic_ordnance
	cost = 5
	prerequisite = {
		focus = STG_breakthroughs_in_the_rear
	}
	relative_position_id = STG_breakthroughs_in_the_rear
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_more_quality_weapons"
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			#ahead_reduction = 2
			category = artillery
		}
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			ahead_reduction = 2
			category = infantry_weapons
		}
		add_to_variable = { STG_experience_loss_factor = -0.10 }
		custom_effect_tooltip = STG_more_quality_weapons_ns_tt
	}
}

shared_focus = {
	id = STG_mammoth_tank
	icon = GFX_goal_stg_red_army_discuss
	cost = 5
	prerequisite = {
		focus = STG_more_quality_weapons
	}
	relative_position_id = STG_more_quality_weapons
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_mammoth_tank"
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			set_technology = {
				STG_double_barrel_nsb = 1
			}
		}
		else = {
			set_technology = {
				STG_double_barrel = 1
			}
			custom_effect_tooltip = STG_mammoth_tank_tt
		}
	}
}

shared_focus = {
	id = STG_innovation_technologies
	icon = GFX_goal_technological_supremacy
	cost = 9
	prerequisite = {
		focus = STG_lightning_assaults
	}
	relative_position_id = STG_lightning_assaults
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_innovation_technologies"
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = artillery
		}
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 2
			category = armor
		}
		add_to_variable = { STG_experience_gain_army_factor = 0.05 }
		custom_effect_tooltip = STG_innovation_technologies_ns_tt
	}
}

shared_focus = {
	id = STG_deep_offensives
	icon = GFX_goal_offensive_army
	cost = 5
	prerequisite = {
		focus = STG_innovation_technologies
	}
	prerequisite = {
		focus = STG_more_quality_weapons
	}
	prerequisite = {
		focus = STG_jet_engines
	}
	relative_position_id = STG_more_quality_weapons
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_deep_offensives"
		add_to_variable = { STG_air_range_factor = 0.1 }
		add_to_variable = { STG_out_of_supply_factor = -0.1 }
		custom_effect_tooltip = STG_innovation_technologies_ns_tt
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 2
			category = cat_mobile_warfare
		}
	}
}

shared_focus = {
	id = STG_wings_of_steel
	icon = GFX_goal_air_red
	cost = 5
	x = 2
	y = 1
	prerequisite = {
		focus = STG_red_army_structure
	}
	relative_position_id = STG_red_army_structure
	ai_will_do = {
		factor = 5
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_wings_of_steel"
		air_experience = 15
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}

			add_equipment_to_stockpile = {
				type = small_plane_airframe_1
				amount = 100
				variant_name = "I-16"
			}
			add_equipment_to_stockpile = {
				type = medium_plane_airframe_1
				amount = 50
				variant_name = "DB-4"
			}
		} else = {
			add_equipment_to_stockpile = {
				type = fighter_equipment_0
				amount = 100
				producer = STG
			}
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment_0
				amount = 50
				producer = STG
			}
		}
	}
}

#shared_focus = {
#	id = STG_new_bombers
#	icon = GFX_goal_generic_air_tactical_bomber_new
#	cost = 5
#	prerequisite = {
#		focus = STG_development_of_aviation_industry
#	}
#	relative_position_id = STG_development_of_aviation_industry
#	x = 0
#	y = 1
#	completion_reward = { 
#		log = "[GetDateText]: [Root.GetName]: Focus STG_new_bombers"
#		add_equipment_to_stockpile = {
#			type = tac_bomber_equipment
#			amount = 100
#		}
#		add_tech_bonus = {
#			name =  tactical_bombers
#			bonus = 1.0
#			uses = 2
#			category = tactical_bomber
#		}
#	}
#}

#shared_focus = {
#	id = STG_new_heavy_fighters
#	icon = GFX_goal_generic_air_heavy_fighter_new
#	cost = 5
#	prerequisite = {
#		focus = STG_new_fighters
#	}
#	relative_position_id = STG_new_fighters
#	x = 3
#	y = 1
#	completion_reward = { 
#		log = "[GetDateText]: [Root.GetName]: Focus STG_new_heavy_fighters"
#		add_tech_bonus = {
#			name =  fighter_bonus
#			bonus = 1.0
#			uses = 1
#			category = cat_heavy_fighter
#		}
#	}
#}

#shared_focus = {
#	id = STG_new_strategic_bombers
#	icon = GFX_goal_generic_air_strategic_bomber_new
#	cost = 5
#	prerequisite = {
#		focus = STG_new_fighters
#	}
#	relative_position_id = STG_new_fighters
#	x = 2
#	y = 2
#	completion_reward = { 
#		log = "[GetDateText]: [Root.GetName]: Focus STG_new_strategic_bombers"
#		add_tech_bonus = {
#			name =  bomber_bonus
#			bonus = 1.0
#			uses = 2
#			category = cat_strategic_bomber
#		}
#	}
#}

shared_focus = {
	id = STG_lunins_passion
	icon = GFX_goal_new_airforce
	cost = 5
	prerequisite = {
		focus = STG_wings_of_steel
	}
	relative_position_id = STG_wings_of_steel
	x = 4
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_lunins_passion"
		air_experience = 50
		add_dynamic_modifier = { modifier = STG_revolutionary_airforce_dynamic_modifier }
		add_to_variable = { STG_experience_gain_air_factor = 0.10 }
		add_to_variable = { STG_air_air_cas_present_factor = 0.05 }
		custom_effect_tooltip = STG_lunins_passion_ns_tt
	}
}

shared_focus = {
	id = STG_development_of_aviation_industry
	icon = GFX_goal_improve_industry
	cost = 5
	prerequisite = {
		focus = STG_lunins_passion
	}
	relative_position_id = STG_lunins_passion
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_development_of_aviation_industry"
		air_experience = 15
		add_ideas = STG_aviation_industry_idea
	}
}

shared_focus = {
	id = STG_new_fighters
	icon = GFX_goal_generic_air_fighter2_new
	cost = 5
	prerequisite = {
		focus = STG_development_of_aviation_industry
	}
	relative_position_id = STG_development_of_aviation_industry
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_fighters"
		add_tech_bonus = {
			name =  fighter_bonus
			bonus = 1.0
			uses = 2
			category = light_fighter
		}
	}
}

shared_focus = {
	id = STG_development_of_aviation_clubs
	icon = GFX_goal_MAF_African_Pilots
	cost = 5
	prerequisite = {
		focus = STG_lunins_passion
	}
	relative_position_id = STG_lunins_passion
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_development_of_aviation_clubs"
		#add_ideas = STG_clear_sky
		add_to_variable = { STG_air_fuel_consumption_factor = -0.10 }
		add_to_variable = { STG_air_weather_penalty = -0.20 }
		add_to_variable = { STG_air_wing_xp_loss_when_killed_factor = -0.1 }
		add_to_variable = { STG_air_night_penalty = -0.05 }
		custom_effect_tooltip = STG_development_of_aviation_clubs_ns_tt
	}
}

#shared_focus = {
#	id = STG_revolutionary_falcons
#	icon = GFX_goal_generic_air_fighter_new
#	cost = 5
#	prerequisite = {
#		focus = STG_development_of_aviation_clubs
#	}
#	prerequisite = {
#		focus = STG_development_of_aviation_industry
#	}
#	relative_position_id = STG_development_of_aviation_clubs
#	x = 1
#	y = 1
#	completion_reward = { 
#		log = "[GetDateText]: [Root.GetName]: Focus STG_revolutionary_falcons"
#		#effect_tooltip = {
#		#	swap_ideas = { remove_idea = STG_clear_sky add_idea = STG_clear_sky_red_falcons }
#		#}
#		add_to_variable = { STG_air_ace_generation_chance_factor = 0.15 }
#		custom_effect_tooltip = STG_red_falcons_ns_tt
#	}
#}

shared_focus = {
	id = STG_severyanian_etazhorka
	icon = GFX_goal_new_airforce
	cost = 5
	prerequisite = {
		focus = STG_development_of_aviation_clubs
	}
	prerequisite = {
		focus = STG_development_of_aviation_industry
	}
	mutually_exclusive = {
		focus = STG_IL_2
	}
	relative_position_id = STG_development_of_aviation_clubs
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyanian_etazhorka"
		#effect_tooltip = {
		#	swap_ideas = { remove_idea = STG_clear_sky_red_falcons add_idea = STG_clear_sky_1 }
		#}
		add_to_variable = { STG_air_army_bonus_air_superiority_factor = 0.05 }
		add_to_variable = { STG_air_air_ace_bonuses_factor = 0.05 }
		custom_effect_tooltip = STG_the_severyanian_etazhorka_ns_tt
	}
}

shared_focus = {
	id = STG_death_from_heaven
	icon = GFX_goal_generic_air_bomber_new
	cost = 5
	prerequisite = {
		focus = STG_severyanian_etazhorka
	}
	relative_position_id = STG_severyanian_etazhorka
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_death_from_heaven"
		add_to_variable = { STG_air_strategic_bomber_bombing_factor = 0.03 }
		custom_effect_tooltip = STG_death_from_heaven_ns_tt
	}
}

shared_focus = {
	id = STG_clear_sky_0
	icon = GFX_focus_generic_air_defense2
	cost = 5
	prerequisite = {
		focus = STG_severyanian_etazhorka
	}
	relative_position_id = STG_severyanian_etazhorka
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_clear_sky_0"
		add_to_variable = { STG_air_superiority_efficiency = 0.1 }
		custom_effect_tooltip = STG_clear_sky_first_ns_tt
	}
}

shared_focus = {
	id = STG_jet_engines
	icon = GFX_goal_Jet_Engine_Research
	cost = 5
	available = {
		date > 1012.1.1
	}
	prerequisite = {
		focus = STG_clear_sky_0
		focus = STG_carousel
	}
	relative_position_id = STG_clear_sky_0
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_jet_engines"
		set_technology = { jet_engines = 1 }
	}
}

shared_focus = {			#Armored pegasi stormtroopers goes BRRRRRRRRRRR
	id = STG_promote_Morozov
	icon = GFX_goal_generic_pony_soldier
	cost = 5
	prerequisite = {
		focus = STG_clubs_of_enlightenment_in_the_army
	}
	relative_position_id = STG_clubs_of_enlightenment_in_the_army
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_promote_Morozov"
		add_corps_commander_role = {
			character = STG_Grom
			traits={ pony_race_trait adaptable stormtrooper }
			skill=4
			attack_skill=7
			defense_skill=1
			planning_skill=3
			logistics_skill=2
		}
		custom_effect_tooltip = STG_promote_Morozov_tp
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_fascism_focus_6_Tech = 1
			}
			if = {
				limit = { has_country_flag = STG_officer_core_reformed }
				STG_Grom = { 
					add_trait = { trait = trained_core_officer }
				}
			}
		}
	}
}

shared_focus = {				#OCes conrner are here
	id = STG_promote_new_muzzles
	icon = GFX_goal_military_mission_soldier
	cost = 5
	prerequisite = {
		focus = STG_promote_Morozov
	}
	relative_position_id = STG_promote_Morozov
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_promote_new_muzzles"
		army_experience = 25
		add_corps_commander_role = {
			character = STG_fiat_coin
			traits={ trait_reckless pony_race_trait trickster }
			skill=2
			attack_skill=3
			defense_skill=1
			planning_skill=2
			logistics_skill=1
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_comrade_ulman
			traits={ pony_race_trait hill_fighter }
			skill=2
			attack_skill=1
			defense_skill=3
			planning_skill=1
			logistics_skill=2
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_black_paint
			traits={ pony_race_trait ranger }
			skill=2
			attack_skill=2
			defense_skill=1
			planning_skill=1
			logistics_skill=3
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_cherry_swirl
			traits={ pony_race_trait cavalry_leader }
			skill=2
			attack_skill=2
			defense_skill=1
			planning_skill=2
			logistics_skill=2
			legacy_id=6968
		}
		add_corps_commander_role = {
			character = STG_vinous_kostylev
			traits={ inspiring_commissar pony_race_trait }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
			legacy_id=6970
		}
		add_corps_commander_role = {
			character = STG_cogwheel_ponyarchuk
			traits={ politically_connected renowned_marksman pony_race_trait commando }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
			legacy_id=7777
		}
		add_corps_commander_role = {
			character = STG_victor_historia
			traits={ pony_race_trait artillery_specialist }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_Kesin_oc
			traits={ pony_race_trait scavenger }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
		}
		add_corps_commander_role = {
			character = STG_ember_flare
			traits={ trait_cautious ambusher pony_race_trait }
			skill=2
			attack_skill=1
			defense_skill=3
			planning_skill=1
			logistics_skill=2
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_alexia_goldgear
			traits={ trait_reckless thestral_race_trait trickster artillery_expert }
			skill=2
			attack_skill=2
			defense_skill=2
			planning_skill=2
			logistics_skill=1
			legacy_id=6969
		}
		add_corps_commander_role = {
			character = STG_that_bt7
			traits={ armor_officer pony_race_trait }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
			legacy_id=-1
		}
		add_corps_commander_role = {
			character = STG_marussia
			traits={ inspiring_commissar pony_race_trait }
			skill=1
			attack_skill=1
			defense_skill=1
			planning_skill=1
			logistics_skill=1
			legacy_id=-1
		}
	}
}

shared_focus = {
	id = STG_not_only_pegasi_can_be_special_forces
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_promote_Morozov
	}
	relative_position_id = STG_promote_Morozov
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_not_only_pegasi_can_be_special_forces"
		add_tech_bonus = {
			name = secret_bonus
			category = race_tech
			uses = 3
			bonus = 0.75
		}
	}
}

shared_focus = {
	id = STG_we_are_army_of_the_people
	icon = GFX_goal_generic_drafted_army
	cost = 5
	prerequisite = {
		focus = STG_not_only_pegasi_can_be_special_forces
	}
	prerequisite = {
		focus = STG_deep_offensives
		focus = STG_mass_production
	}
	relative_position_id = STG_not_only_pegasi_can_be_special_forces
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_we_are_army_of_the_people"
		add_tech_bonus = {
			name = armor_bonus
			category = armor
			ahead_reduction = 2
			uses = 2
			bonus = 2
		}
	}
}


#############
### Vasya ###
#############

shared_focus = {
	id = STG_vasya_wins
	icon = GFX_goal_vasya
	cost = 3

	available = {
		has_country_flag = STG_flag_unity_in_party
	}
	x = 6
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_vasya_wins"
		add_political_power = 150
	}
}
###########################
### Vasya Bolitics Tree ###
###########################

shared_focus = {
	id = STG_full_speed_ahead
	available = {
		has_country_flag = STG_flag_unity_in_party
	}
	#prerequisite = {
	#	focus = STG_scp_congress
	#}
	#allow_branch = {
	#	has_country_flag = STG_flag_unity_in_party
	#}
	#relative_position_id = STG_scp_congress
	icon = GFX_goal_stg_full_spead_ahead_tiddo
	cost = 2
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_full_speed_ahead"
		effect_tooltip = {
			swap_ideas = {
				remove_idea = STG_new_economic_policy
				add_idea = STG_strategic_offensive_policy
			}
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		set_variable = { STG_strategic_offensive_policy_political_power_gain = 0.1 tooltip = STG_strategic_offensive_policy_political_power_gain_tt }
		set_variable = { STG_strategic_offensive_policy_consumer_goods_factor = -0.1 tooltip = STG_strategic_offensive_policy_consumer_goods_factor_tt  }
		set_variable = { STG_strategic_offensive_policy_stability_factor = -0.1 tooltip = STG_strategic_offensive_policy_stability_factor_tt  }
		set_variable = { STG_strategic_offensive_policy_line_change_production_efficiency_factor = 0 }
		set_variable = { STG_strategic_offensive_policy_industrial_capacity_factory = 0 }
		set_variable = { STG_strategic_offensive_policy_industrial_capacity_dockyard = 0 }
		set_variable = { STG_strategic_offensive_policy_production_factory_efficiency_gain_factor = 0 }
		set_variable = { STG_strategic_offensive_policy_production_factory_max_efficiency_factor = 0 }
		set_variable = { STG_strategic_offensive_policy_production_speed_buildings_factor = 0 }
		set_variable = { STG_strategic_offensive_policy_local_resources_factor = 0 }
		set_variable = { STG_strategic_offensive_policy_nuclear_production_factor = 0 }
		hidden_effect = {
			remove_ideas = STG_new_economic_policy
			add_dynamic_modifier = { modifier = STG_strategic_offensive_policy_dynamic_modifier }
		}
	}
}

shared_focus = {
	id = STG_state_political_dept_focus
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 4
	prerequisite = { 
		focus = STG_full_speed_ahead 
	}
	relative_position_id = STG_full_speed_ahead
	x = -15
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_state_political_dept_focus"
		add_ideas = STG_state_political_department_idea_1
	}
}

shared_focus = {
	id = STG_look_out_comittees
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_state_political_dept_focus
	}
	prerequisite = {
		focus = STG_send_workers_to_village
	}
	relative_position_id = STG_state_political_dept_focus
	x = 0
	y = 4
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_state_political_dept_focus"
		swap_ideas = {
			remove_idea = STG_state_political_department_idea_1
			add_idea = STG_state_political_department_idea_2
		}
	}
}

shared_focus = {
	id = STG_do_not_talk
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_look_out_comittees
	}
	relative_position_id = STG_look_out_comittees
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_do_not_talk"
		add_stability = 0.05
		swap_ideas = {
			remove_idea = STG_state_political_department_idea_2
			add_idea = STG_state_political_department_idea_3
		}
	}
}

shared_focus = {
	id = STG_for_the_defence_of_socialist_property
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	available = {
		has_tech = radio_detection 
	}
	prerequisite = {
		focus = STG_do_not_talk
	}
	relative_position_id = STG_do_not_talk
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_for_the_defence_of_socialist_property"
		add_stability = 0.05
		swap_ideas = {
			remove_idea = STG_state_political_department_idea_3
			add_idea = STG_state_political_department_idea_4
		}
		166 = {
			add_building_construction = {
				type = radar_station
				level = 1
				instant_build = yes 
			}
		}
		678 = {
			add_building_construction = {
				type = radar_station
				level = 1
				instant_build = yes 
			}
		}
	}
}

shared_focus = {
	id = STG_socialist_offensive_on_the_countryside
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_full_speed_ahead
	}
	relative_position_id = STG_full_speed_ahead
	x = -11
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 50
		custom_effect_tooltip = STG_add_socialistic_agriculture
		hidden_effect = {
			add_dynamic_modifier = { modifier = STG_socialist_agriculture_dynamic_modifier } 
		}
		set_variable = { STG_socagro_pp_gain = 0.1 }
	}
}

shared_focus = {
	id = STG_buy_out_private_farms
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 2
	prerequisite = {
		focus = STG_socialist_offensive_on_the_countryside
	}
	relative_position_id = STG_socialist_offensive_on_the_countryside
	x = -1
	y = 1
	mutually_exclusive = { focus = STG_expropriation_of_farms }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_buy_out_private_farms"
		add_timed_idea = {
			idea = STG_buy_out_private_farms_idea
			days = 365 
		}
	}
}

shared_focus = {
	id = STG_expropriation_of_farms
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_socialist_offensive_on_the_countryside
	}
	relative_position_id = STG_socialist_offensive_on_the_countryside
	x = 1
	y = 1
	mutually_exclusive = { focus = STG_buy_out_private_farms }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_expropriation_of_farms"
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		set_variable = { STG_socagro_surrender_limit = 0.05 }
		add_political_power = 200
		add_stability = -0.1
	}
}

shared_focus = {
	id = STG_send_workers_to_village
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_buy_out_private_farms 
		focus = STG_expropriation_of_farms
	}
	relative_position_id = STG_buy_out_private_farms
	x = 1
	y = 2
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_send_workers_to_village"
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		set_variable = { STG_socagro_build_speed = 0.075 }
		set_variable = { STG_socagro_effic_gain = -0.025 }
		
	}
}

shared_focus = {
	id = STG_communal_living_system
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = { 
		focus = STG_send_workers_to_village
	}
	relative_position_id = STG_send_workers_to_village
	x = -2
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_communal_living_system"
		set_variable = { STG_socagro_conscript_fact = 0.05 }
		set_variable = { STG_socagro_mob_speed = 0.1 }
		every_owned_state = {
			improve_state_category = yes
		}
		capital_scope = {
			add_extra_state_shared_building_slots = 1
			improve_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes 
			}
		}
		custom_effect_tooltip = STG_modify_social_agroculture_tt
	}
}

shared_focus = {
	id = STG_encourage_living_on_the_coast 
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = { 
		focus = STG_communal_living_system
	}
	relative_position_id = STG_communal_living_system
	x = 0
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_encourage_living_on_the_coast"
		
		every_owned_state = {
			limit = {
				is_coastal = yes 
			}
			add_manpower = 10000
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes 
			}
		}
		
		234 = {
			improve_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes 
			}
		}
		
	}
}

shared_focus = {
	id = STG_mountain_air_is_healthy
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = { 
		focus = STG_encourage_living_on_the_coast
	}
	relative_position_id = STG_encourage_living_on_the_coast
	x = 0
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_mountain_air_is_healthy"
		every_owned_state = {
			limit = {
				OR = {
					state = 237
					state = 334 
					state = 240
				}
			}
			add_manpower = 5000
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes 
			}
		}
		add_to_variable = { STG_socagro_monthly_pop = 0.15 }
		set_variable = { STG_socagro_build_slots = 0.1 }
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		
	}
}

shared_focus = {
	id = STG_no_more_private_property
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = { 
		focus = STG_send_workers_to_village
	}
	relative_position_id = STG_send_workers_to_village
	x = 0
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_no_more_private_property"
		add_stability = 0.05
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		set_variable = { STG_socagro_ind_cap = 0.05 }
	}
}

shared_focus = {
	id = STG_the_land_of_free
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = { 
		focus = STG_no_more_private_property
	}
	relative_position_id = STG_no_more_private_property
	x = 0
	y = 2
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_the_land_of_free"
		add_political_power = 150 
		add_stability = 0.05
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		add_to_variable = { STG_socagro_monthly_pop = 0.05 }
		set_variable = { STG_socagro_core_def = 0.1 }
		set_variable = { STG_socagro_non_core_pp = 0.05 }
	}
}

shared_focus = {
	id = STG_fund_the_village_clubs
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 7
	prerequisite = { 
		focus = STG_send_workers_to_village
	}
	prerequisite = {
		focus = STG_let_them_talk
	}
	relative_position_id = STG_send_workers_to_village
	x = 2
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_fund_the_village_clubs"
		add_stability = 0.05
		add_timed_idea = {
			idea = STG_village_club_fundings
			days = 365 
		}
		add_tech_bonus = {
			category = support_tech
			uses = 1
			bonus = 0.5
		}
	}
}

shared_focus = {
	id = STG_new_dishes_on_the_plate
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 7
	prerequisite = { 
		focus = STG_fund_the_village_clubs
	}
	relative_position_id = STG_fund_the_village_clubs
	x = 0
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_new_dishes_on_the_plate"
		add_stability = 0.05
		custom_effect_tooltip = STG_modify_social_agroculture_tt
		add_to_variable = { STG_socagro_monthly_pop = 0.05 }
		set_variable = { STG_socagro_stab_weekly = 0.05 }
		set_variable = { STG_socagro_cons_good = -0.1 }
		add_tech_bonus = {
			category = race_tech
			category = pegasi_tech
			uses = 1
			bonus = 1
		}
	}
}

shared_focus = {
	id = STG_for_the_new_soc_countryside
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = { 
		focus = STG_the_land_of_free
	}
	relative_position_id = STG_the_land_of_free
	x = 0
	y = 1
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName] Focus STG_for_the_new_soc_countryside"
		remove_ideas = STG_agrarian_problem
	}
}


shared_focus = {
	id = STG_establish_the_stallion_institute
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_full_speed_ahead
	}
	relative_position_id = STG_full_speed_ahead
	x = -5
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 50
		swap_ideas = {
			remove_idea = STG_beacon_of_revolution
			add_idea = STG_beacon_of_revolution_2
		}
	}
}
shared_focus = {
	id = STG_learn_like_marks_work_like_stallion
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_establish_the_stallion_institute
	}
	relative_position_id = STG_establish_the_stallion_institute
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 150
		swap_ideas = {
			remove_idea = STG_beacon_of_revolution_2
			add_idea = STG_beacon_of_revolution_3
		}
	}
}
shared_focus = {
	id = STG_let_them_talk
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 6
	prerequisite = {
		focus = STG_learn_like_marks_work_like_stallion
	}
	relative_position_id = STG_learn_like_marks_work_like_stallion
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 75
		swap_ideas = {
			remove_idea = STG_beacon_of_revolution_3
			add_idea = STG_beacon_of_revolution_4	
		}
	}
}
shared_focus = {
	id = STG_encourage_self_criticism
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_let_them_talk
	}
	relative_position_id = STG_let_them_talk
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		swap_ideas = {
			remove_idea = STG_beacon_of_revolution_4
			add_idea = STG_beacon_of_revolution_5
		}
	}
}
shared_focus = {
	id = STG_labor_correspondents_committees
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 6
	prerequisite = {
		focus = STG_encourage_self_criticism
	}
	relative_position_id = STG_encourage_self_criticism
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 50
		swap_ideas = {
			remove_idea = STG_beacon_of_revolution_5
			add_idea = STG_beacon_of_revolution_6
		}
	}
}
shared_focus = {
	id = STG_dot_the_is_of_our_history
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_learn_like_marks_work_like_stallion
	}
	relative_position_id = STG_learn_like_marks_work_like_stallion
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 25
		add_war_support = 0.1
		custom_effect_tooltip = STG_easier_to_annex_tt
	}
}
shared_focus = {
	id = STG_political_literacy_clubs
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 6
	prerequisite = {
		focus = STG_dot_the_is_of_our_history
	}
	relative_position_id = STG_dot_the_is_of_our_history
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 50
		add_ideas = STG_history_on_our_side
	}
}
shared_focus = {
	id = STG_foreign_workers_delegations
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_political_literacy_clubs
	}
	prerequisite = {
		focus = STG_our_history_is_the_history_of_struggle
	}
	relative_position_id = STG_political_literacy_clubs
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 50
		every_country = {
			limit = {
				has_government = communism
				NOT = {
					has_country_flag = is_maresoc
				}
			}
			country_event = stalliongrad_vasily.15
		}
	}
}
shared_focus = {
	id = STG_soviet_delegates_commissions
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 6
	prerequisite = {
		focus = STG_encourage_self_criticism
		focus = STG_political_literacy_clubs
	}
	relative_position_id = STG_encourage_self_criticism
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 75
		add_ideas = STG_soviets_empowered
	}
}
shared_focus = {
	id = STG_for_the_unity_in_the_party
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_labor_correspondents_committees
	}
	prerequisite = {
		focus = STG_soviet_delegates_commissions
	}
	prerequisite = {
		focus = STG_foreign_workers_delegations
	}
	relative_position_id = STG_soviet_delegates_commissions
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 200
		set_country_flag = STG_more_advisors_available
		# TODO: add more advisors
	}
}

shared_focus = {
	id = STG_expanding_the_cultural_revolution
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_full_speed_ahead
	}
	relative_position_id = STG_full_speed_ahead
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 25
		add_popularity = {
			ideology = communism 	
			popularity = 0.05
		} 
		set_country_flag = STG_debug_unlock_propaganda_campaigns_flag
		add_ideas = STG_cultural_revolution
		hidden_effect = {
			clear_array = STG_agitprop_posters_array
			add_to_array = { STG_agitprop_posters_array = 2 }
			add_to_array = { STG_agitprop_posters_array = 1 }
			add_to_array = { STG_agitprop_posters_array = 1 }
			clear_array = STG_agitprop_costs_array
			add_to_array = { STG_agitprop_costs_array = 0 }
			add_to_array = { STG_agitprop_costs_array = 0 }
			
			resize_array = { 
				array = STG_agitprop_costs_array 
				value = 15
				size = 26
			}
		}
		unlock_decision_category_tooltip = STG_propaganda_campaigns
	}
}
shared_focus = {
	id = STG_mass_events_organizing
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_expanding_the_cultural_revolution
	}
	relative_position_id = STG_expanding_the_cultural_revolution
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		swap_ideas = {
			remove_idea = STG_cultural_revolution
			add_idea = STG_cultural_revolution_2
		}
		hidden_effect = {
			country_event = {
				id = stalliongrad_vasily.16
				days = 37
			} 
		}
	}
}
shared_focus = {
	id = STG_sevkino
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_mass_events_organizing
	}
	relative_position_id = STG_mass_events_organizing
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_to_variable = { STG_num_unlocked_slots_agitprop = 1 }
		STG_unlock_propaganda_campaign_slot_effect = yes
		custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
		add_stability = 0.1
		add_political_power = 50
		swap_ideas = {
			remove_idea = STG_cultural_revolution_2
			add_idea = STG_cultural_revolution_3
		}
		hidden_effect = {
			country_event = {
				id = stalliongrad_vasily.17
				days = 37
			} 
		}
	}
}
shared_focus = {
	id = STG_our_history_is_the_history_of_struggle
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 5
	prerequisite = {
		focus = STG_sevkino
	}
	prerequisite = {
		focus = STG_dot_the_is_of_our_history
	}
	relative_position_id = STG_sevkino
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 25
		swap_ideas = {
			remove_idea = STG_cultural_revolution_3
			add_idea = STG_cultural_revolution_4
		}
	}
}
shared_focus = {
	id = STG_promoting_internationalism
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 6
	prerequisite = {
		focus = STG_our_history_is_the_history_of_struggle
	}
	relative_position_id = STG_our_history_is_the_history_of_struggle
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		if = {
			limit = {
				has_idea = STG_cultural_revolution_4
			}
			swap_ideas = {
				remove_idea = STG_cultural_revolution_4
				add_idea = STG_cultural_revolution_5a
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STG_cultural_revolution_5b
				add_idea = STG_cultural_revolution_6
			}
		}
	}
}
shared_focus = {
	id = STG_for_the_socialist_society
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_promoting_internationalism
	}
	prerequisite = {
		focus = STG_severyanian_urbanism
	}
	relative_position_id = STG_promoting_internationalism
	x = 1
	y = 2
	completion_reward = {
		set_country_flag = STG_for_the_socialist_society_flag
		custom_effect_tooltip = STG_for_the_socialist_society_occupation_law_tt
		# #TODO: something cool
	}
}
shared_focus = {
	id = STG_expand_the_regional_education_system
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 8
	prerequisite = {
		focus = STG_expanding_the_cultural_revolution
	}
	relative_position_id = STG_expanding_the_cultural_revolution
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_ideas = STG_severyanian_education
		every_owned_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
}
shared_focus = {
	id = STG_north_eastern_magical_university
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 9
	prerequisite = {
		focus = STG_expand_the_regional_education_system
	}
	relative_position_id = STG_expand_the_regional_education_system
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_research_slot = 1
		add_tech_bonus = {
			name = STG_north_eastern_magical_university
			uses = 1
			bonus = 1
			category = magical_tech
		}
		add_tech_bonus = {
			name = STG_north_eastern_magical_university
			uses = 1
			bonus = 1
			category = race_tech
		}
	}
}
shared_focus = {
	id = STG_renew_the_youth_party_section
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 9
	prerequisite = {
		focus = STG_our_history_is_the_history_of_struggle
	}
	prerequisite = {
		focus = STG_north_eastern_magical_university
	}
	relative_position_id = STG_north_eastern_magical_university
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_political_power = 75
		if = {
			limit = {
				has_idea = STG_cultural_revolution_4
			}
			swap_ideas = {
				remove_idea = STG_cultural_revolution_4
				add_idea = STG_cultural_revolution_5b
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STG_cultural_revolution_5a
				add_idea = STG_cultural_revolution_6
			}
		}
	}
}
shared_focus = {
	id = STG_schools_for_young_talents
	icon = GFX_goal_world_revolution ## TO BE REPLACED
	cost = 9
	prerequisite = {
		focus = STG_renew_the_youth_party_section
	}
	relative_position_id = STG_renew_the_youth_party_section
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName] Focus STG_socialist_offensive_on_the_countryside"
		add_to_variable = { STG_num_unlocked_slots_agitprop = 1 }
		STG_unlock_propaganda_campaign_slot_effect = yes
		custom_effect_tooltip = unlock_propaganda_campaign_slot_tt
		swap_ideas = {
			remove_idea = STG_severyanian_education
			add_idea = STG_severyanian_education_2
		}
		add_tech_bonus = {
			name = STG_schools_for_young_talents
			uses = 2
			bonus = 0.75
			category = unicorn_tech
		}
	}
}

shared_focus = {
	id = STG_our_friend_the_plan
	icon = GFX_goal_world_revolution
	cost = 2
	prerequisite = {
		focus = STG_full_speed_ahead
	}
	relative_position_id = STG_full_speed_ahead
	x = 12
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff
		unlock_decision_category_tooltip = STG_the_plan
		set_variable = { STG_plan_target_civs = ROOT.num_of_civilian_factories }
		add_to_variable = { STG_plan_target_civs = 1 }
		set_variable = { STG_plan_target_mils = ROOT.num_of_military_factories }
		add_to_variable = { STG_plan_target_mils = 1 }
		activate_mission = STG_first_plan
	}
}
shared_focus = {
	id = STG_workplace_culture
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	prerequisite = {
		focus = STG_expanding_the_cultural_revolution
	}
	relative_position_id = STG_our_friend_the_plan
	x = -5
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_workplace_culture
			uses = 1
			bonus = 1
			category = cat_production
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_line_change_production_efficiency_factor = 0.05 tooltip = STG_strategic_offensive_policy_line_change_production_efficiency_factor_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_industrial_capacity_factory = 0.025 tooltip = STG_strategic_offensive_policy_industrial_capacity_factory_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_industrial_capacity_dockyard = 0.025 tooltip = STG_strategic_offensive_policy_industrial_capacity_dockyard_tt
		}
	}
}
shared_focus = {
	id = STG_scientific_organization_of_labor
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_workplace_culture
	}
	relative_position_id = STG_workplace_culture
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_workplace_culture
			uses = 1
			bonus = 0.5
			category = industry
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_consumer_goods_factor = -0.02 tooltip = STG_strategic_offensive_policy_consumer_goods_factor_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_industrial_capacity_factory = 0.05 tooltip = STG_strategic_offensive_policy_industrial_capacity_factory_tt
		}
	}
}
shared_focus = {
	id = STG_long_scaled_housing_program
	icon = GFX_goal_world_revolution
	cost = 8
	prerequisite = {
		focus = STG_scientific_organization_of_labor
	}
	relative_position_id = STG_scientific_organization_of_labor
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_ideas = STG_large_scaled_housing_program_1
	}
}
shared_focus = {
	id = STG_palaces_for_the_people
	icon = GFX_goal_world_revolution
	cost = 8
	prerequisite = {
		focus = STG_long_scaled_housing_program
	}
	relative_position_id = STG_long_scaled_housing_program
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		swap_ideas = {
			remove_idea = STG_large_scaled_housing_program_1
			add_idea = STG_large_scaled_housing_program_2
		}
		every_owned_state = {
			improve_state_category = yes
		}
	}
}
shared_focus = {
	id = STG_severyanian_urbanism
	icon = GFX_goal_world_revolution
	cost = 8
	prerequisite = {
		focus = STG_palaces_for_the_people
	}
	relative_position_id = STG_palaces_for_the_people
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		swap_ideas = {
			remove_idea = STG_large_scaled_housing_program_2
			add_idea = STG_large_scaled_housing_program_3
		}
	}
}
shared_focus = {
	id = STG_industrial_activists_movement
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_scientific_organization_of_labor
	}
	prerequisite = {
		focus = STG_gosproektstroy
	}
	relative_position_id = STG_scientific_organization_of_labor
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_production_factory_efficiency_gain_factor = 0.075 tooltip = STG_strategic_offensive_policy_production_factory_efficiency_gain_factor_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_production_factory_max_efficiency_factor = 0.025 tooltip = STG_strategic_offensive_policy_production_factory_max_efficiency_factor_tt
		}
	}
}


shared_focus = {
	id = STG_plan_priority_civil_factories
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_industrial_activists_movement
	}
	relative_position_id = STG_industrial_activists_movement
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff
		unlock_decision_tooltip = STG_plan_priority_civs_dec
	}
}
shared_focus = {
	id = STG_magic_tools
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	relative_position_id = STG_our_friend_the_plan
	x = -3
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_magic_tools
			uses = 2
			bonus = 0.5
			category = construction_tech
		}

	}
}
shared_focus = {
	id = STG_gosproektstroy
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_magic_tools
	}
	relative_position_id = STG_magic_tools
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_magic_tools
			uses = 1
			bonus = 1
			category = concentrated_industry_category
			category = dispersed_industry_category
		}
		add_tech_bonus = {
			name = STG_magic_tools
			uses = 1
			bonus = 1
			category = magical_tech
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_production_speed_buildings_factor = 0.05 tooltip = STG_strategic_offensive_policy_production_speed_buildings_factor_tt
		}
	}
}
shared_focus = {
	id = STG_severyanian_nepreryvka
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_gosproektstroy
	}
	relative_position_id = STG_gosproektstroy
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_severyanian_nepreryvka
			uses = 2
			bonus = 0.75
			category = construction_tech
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_production_speed_buildings_factor = 0.05 tooltip = STG_strategic_offensive_policy_production_speed_buildings_factor_tt
		}
	}
}
shared_focus = {
	id = STG_plan_priority_building
	icon = GFX_goal_world_revolution
	cost = 4
	prerequisite = {
		focus = STG_severyanian_nepreryvka
	}
	relative_position_id = STG_severyanian_nepreryvka
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		unlock_decision_tooltip = STG_plan_priority_build_dec
	}
}

shared_focus = {
	id = STG_military_industrial_department
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	relative_position_id = STG_our_friend_the_plan
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_production_factory_efficiency_gain_factor = 0.05 tooltip = STG_strategic_offensive_policy_production_factory_efficiency_gain_factor_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_industrial_capacity_factory = 0.025 tooltip = STG_strategic_offensive_policy_industrial_capacity_factory_tt
		}

	}
}
shared_focus = {
	id = STG_introduce_new_conveyor_methods
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_military_industrial_department
	}
	relative_position_id = STG_military_industrial_department
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: modify designers 
	}
}
shared_focus = {
	id = STG_military_industrial_education
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_introduce_new_conveyor_methods
	}
	prerequisite = {
		focus = STG_gosproektstroy
	}
	relative_position_id = STG_introduce_new_conveyor_methods
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_military_industrial_education
			uses = 2
			bonus = 1.0
			category = support_tech
		}
		add_tech_bonus = {
			name = STG_military_industrial_education
			uses = 2
			bonus = 0.5
			category = infantry_tech
		}
	}
}
shared_focus = {
	id = STG_plan_priority_military_factories
	icon = GFX_goal_world_revolution
	cost = 4
	prerequisite = {
		focus = STG_military_industrial_education
	}
	relative_position_id = STG_military_industrial_education
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff
	}
}

shared_focus = {
	id = STG_geological_expeditions_in_the_north
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	relative_position_id = STG_our_friend_the_plan
	x = 3
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		240 = {
			improve_state_category = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		678 = {
			improve_state_category = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		334 = {
			improve_state_category = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		unlock_decision_tooltip = STG_ravenskoe_chromium
		# TODO: add tooltip

	}
}
shared_focus = {
	id = STG_expanding_old_mines
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_geological_expeditions_in_the_north
	}
	relative_position_id = STG_geological_expeditions_in_the_north
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		235 = {
			improve_state_category = yes
		}
		237 = {
			improve_state_category = yes
		}
		165 = {
			improve_state_category = yes
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_local_resources_factor = 0.1 tooltip = STG_strategic_offensive_policy_local_resources_factor_tt
		}
		unlock_decision_tooltip = STG_zvezdopadovo_tungsten
		unlock_decision_tooltip = STG_severokholm_steel
	}
}
shared_focus = {
	id = STG_straits_oil_refinery
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_expanding_old_mines
	}
	relative_position_id = STG_expanding_old_mines
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		set_technology = {
			synth_oil_experiments = 1
		}
		234 = {
			improve_state_category = yes
			add_building_construction = {
				type = synthetic_refinery
				level = 2
			}
		}
		332 = {
			improve_state_category = yes
			add_building_construction = {
				type = synthetic_refinery
				level = 1
			}
		}
		add_tech_bonus = {
			name = STG_straits_oil_refinery
			uses = 2
			bonus = 0.75
			category = synth_resources
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_fuel_gain_factor = 0.05 tooltip = STG_strategic_offensive_policy_fuel_gain_factor_tt
		}
		unlock_decision_tooltip = STG_caramel_marks_oil_dec
	}
}
shared_focus = {
	id = STG_improve_the_excavation_system
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_straits_oil_refinery
	}
	relative_position_id = STG_straits_oil_refinery
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_local_resources_factor = 0.075 tooltip = STG_strategic_offensive_policy_local_resources_factor_tt
		}
		#unlock_decision_tooltip = STG_improve_the_excavation_system
	}
}
shared_focus = {
	id = STG_plan_priority_resources	
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_improve_the_excavation_system
	}
	relative_position_id = STG_improve_the_excavation_system
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff
	}
}
shared_focus = {
	id = STG_experiment_with_crystals
	icon = GFX_goal_world_revolution
	cost = 8
	prerequisite = {
		focus = STG_expanding_old_mines
	}
	prerequisite = {
		focus = STG_mastering_new_building_technologies
	}
	relative_position_id = STG_expanding_old_mines
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_experiment_with_crystals
			bonus = 0.75
			uses = 2
			category = magical_tech
		}
		add_tech_bonus = {
			name = STG_experiment_with_crystals
			bonus = 0.75
			uses = 2
			category = electronics
		}
	}
}
shared_focus = {
	id = STG_extracting_the_nuclear_power
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_experiment_with_crystals
	}
	prerequisite = {
		focus = STG_straits_oil_refinery
	}
	prerequisite = {
		focus = STG_new_infrastructure_construction_technologies
	}
	relative_position_id = STG_experiment_with_crystals
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_extracting_the_nuclear_power
			bonus = 1
			uses = 1
			category = nuclear
		}
	}
}
shared_focus = {
	id = STG_large_scaled_nuclear_research
	icon = GFX_goal_world_revolution
	cost = 8
	prerequisite = {
		focus = STG_extracting_the_nuclear_power
	}
	relative_position_id = STG_extracting_the_nuclear_power
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_research_slot = 1
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_nuclear_production_factor = 0.05 tooltip = STG_strategic_offensive_policy_nuclear_production_factor_tt 
		}
	}
}

shared_focus = {
	id = STG_mastering_new_building_technologies
	icon = GFX_goal_world_revolution
	cost = 5
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	relative_position_id = STG_our_friend_the_plan
	x = 7
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_new_infrastructure_construction_technologies
			bonus = 0.5
			uses = 1
			category = construction_tech
		}
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_production_speed_buildings_factor = 0.05 tooltip = STG_strategic_offensive_policy_production_speed_buildings_factor_tt
		}
	}
}
shared_focus = {
	id = STG_lay_new_roads
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_mastering_new_building_technologies
	}
	relative_position_id = STG_mastering_new_building_technologies
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		every_owned_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		153 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			} 
		}
	}
}
shared_focus = {
	id = STG_new_infrastructure_construction_technologies
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_lay_new_roads
	}
	relative_position_id = STG_lay_new_roads
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_tech_bonus = {
			name = STG_new_infrastructure_construction_technologies
			bonus = 0.5
			uses = 1
			category = construction_tech
		}
		add_tech_bonus = {
			name = STG_new_infrastructure_construction_technologies
			bonus = 0.5
			uses = 1
			category = industry
		}
	}
}

shared_focus = {
	id = STG_plan_priority_infrastructure
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_new_infrastructure_construction_technologies
	}
	relative_position_id = STG_new_infrastructure_construction_technologies
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff
	}
}

shared_focus = {
	id = STG_war_plan_emergency
	icon = GFX_goal_world_revolution
	cost = 2
	prerequisite = {
		focus = STG_our_friend_the_plan
	}
	relative_position_id = STG_our_friend_the_plan
	x = 9
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		# TODO: plan stuff

	}
}
shared_focus = {
	id = STG_enemy_at_the_gates
	icon = GFX_goal_world_revolution
	cost = 4
	prerequisite = {
		focus = STG_war_plan_emergency
	}
	relative_position_id = STG_war_plan_emergency
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		153 = {
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = {
					all_provinces = yes
				}
			}
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes
				province = 488
			}
		}
	}
}
shared_focus = {
	id = STG_producing_for_victory
	icon = GFX_goal_world_revolution
	cost = 4
	prerequisite = {
		focus = STG_enemy_at_the_gates
	}
	relative_position_id = STG_enemy_at_the_gates
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_timed_idea = {
			idea = STG_producing_for_victory_idea
			days = 240
		}
	}
}
shared_focus = {
	id = STG_fastening_military_production
	icon = GFX_goal_world_revolution
	cost = 4
	prerequisite = {
		focus = STG_producing_for_victory
	}
	relative_position_id = STG_producing_for_victory
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_timed_idea = {
			idea = STG_fastening_military_production_idea
			days = 240
		}
	}
}

shared_focus = {
	id = STG_for_the_socialist_industry
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_plan_priority_civil_factories
	}
	prerequisite = {
		focus = STG_plan_priority_building
	}	
	prerequisite = {
		focus = STG_plan_priority_military_factories
	}	
	prerequisite = {
		focus = STG_plan_priority_resources
	}
	prerequisite = {
		focus = STG_plan_priority_infrastructure
	}
	relative_position_id = STG_plan_priority_military_factories
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_political_power = 200
		custom_effect_tooltip = STG_strategic_offensive_policy_dynamic_modifier_tt
		add_to_variable = {
			STG_strategic_offensive_policy_local_resources_factor = 0.1 tooltip = STG_strategic_offensive_policy_local_resources_factor_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_industrial_capacity_factory = 0.1 tooltip = STG_strategic_offensive_policy_industrial_capacity_factory_tt
		}
		add_to_variable = {
			STG_strategic_offensive_policy_production_speed_buildings_factor = 0.1 tooltip = STG_strategic_offensive_policy_production_speed_buildings_factor_tt
		}
	}
}

shared_focus = {
	id = STG_victory_of_socialism_in_severyana
	icon = GFX_goal_world_revolution
	cost = 6
	prerequisite = {
		focus = STG_for_the_unity_in_the_party
	}
	prerequisite = {
		focus = STG_for_the_defence_of_socialist_property
	}
	prerequisite = {
		focus = STG_for_the_new_soc_countryside
	}
	prerequisite = {
		focus = STG_for_the_socialist_society
	}
	prerequisite = {
		focus = STG_for_the_socialist_industry
	}
	relative_position_id = STG_for_the_unity_in_the_party
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		swap_ruler_traits = { remove = head_directorate_of_new_buildings add = head_directorate_of_new_buildings_2 }
	}
}



shared_focus = {
	id = STG_international_secretariat
	icon = GFX_goal_world_revolution
	cost = 3
	prerequisite = {
		focus = STG_full_speed_ahead
	}
	relative_position_id = STG_full_speed_ahead
	x = 24
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_international_secretariat"
		add_political_power = 75
		country_event = { id=stalliongrad_start.32 }
	}
}

shared_focus = {
	id = STG_1st_commintern_congress
	icon = GFX_goal_socialist_union
	cost = 6
	prerequisite = {
		focus = STG_international_secretariat
	}
	relative_position_id = STG_international_secretariat
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_1st_commintern_congress"
		country_event = { id=stalliongrad_start.33 }
		add_dynamic_modifier = { modifier = STG_comecon_leader_vasily }
		set_country_flag = available_comecon_flag
		STG_populate_comecon_decisions = yes
		custom_effect_tooltip = STG_vasily_comecon_tt
	}
}

shared_focus = {
	id = STG_proletarian_internationalism
	icon = GFX_goal_generic_liberty_statue
	cost = 4
	prerequisite = {
		focus = STG_1st_commintern_congress
	}
	relative_position_id = STG_1st_commintern_congress
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_proletarian_internationalism"
		add_ideas = STG_volunteer_army
	}
}


#######################
### Vasya warmonger ###
#######################

shared_focus = {
	id = STG_reunification_with_equalists
	prerequisite = {
		focus = STG_1st_commintern_congress
	}
	relative_position_id = STG_1st_commintern_congress
	will_lead_to_war_with = STL
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 2
	y = 3
	select_effect = {

	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_reunification_with_equalists"
		STL = {
			country_event = stalliongrad_vasily.18
		}
	}
}

shared_focus = {
	id = STG_more_support_for_Redtail
	prerequisite = {
		focus = STG_reunification_with_equalists
	}
	relative_position_id = STG_reunification_with_equalists
	icon = GFX_goal_stg_more_support_for_redtail
	cost = 5
	x = -6
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_more_support_for_Redtail"
		# TODO: affect nova BOP for civil war
	}
}
shared_focus = {
	id = STG_victory_in_GRF
	prerequisite = {
		focus = STG_more_support_for_Redtail
	}
	
	relative_position_id = STG_more_support_for_Redtail
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
	}
}
shared_focus = {
	id = STG_helping_yakistan_communists
	prerequisite = {
		focus = STG_more_support_for_Redtail
	}
	relative_position_id = STG_more_support_for_Redtail
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
	}
}
shared_focus = {
	id = STG_STL_cooperation
	prerequisite = {
		focus = STG_more_support_for_Redtail
	}
	relative_position_id = STG_more_support_for_Redtail
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		# comecon stuff?
		add_ideas = STL_influence_of_communards
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			STL = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		else = {
			334 = {
				increase_state_category = yes
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = STG_founding_socialst_commonwealth
	prerequisite = {
		focus = STG_victory_in_GRF
		focus = STG_helping_yakistan_communists
		focus = STG_STL_cooperation
	}
	relative_position_id = STG_victory_in_GRF
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		create_faction = STG_SOCIALIST_COMMONWEALTH
		news_event = stalliongrad_news.2
	}
}
shared_focus = {
	id = STG_yakyakistan_puppet
	prerequisite = {
		focus = STG_founding_socialst_commonwealth
	}
	relative_position_id = STG_founding_socialst_commonwealth
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -8
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		# todo yak rework
	}
}
shared_focus = {
	id = STG_yakyakistan_integration
	prerequisite = {
		focus = STG_yakyakistan_puppet
	}
	relative_position_id = STG_yakyakistan_puppet
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		# todo yak rework
	}
}
shared_focus = {
	id = STG_securing_penguins
	prerequisite = {
		focus = STG_founding_socialst_commonwealth
	}
	bypass = {
		PNG = {
			OR = {
				exists = no
				is_subject = yes
			}
		}
	}
	relative_position_id = STG_founding_socialst_commonwealth
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -5
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		if = {
			limit = {
				PNG = {
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
			create_wargoal = {
				target = PNG
				type = puppet_wargoal_focus
			}
		}
		else_if = {
			limit = {
				PNG = {
					has_government = communism
				}
			}
			PNG = {
				country_event = generic.5
			}
		}
		else = {
			PNG = {
				add_ideas = {
					communist_influence
					stalliongrad_propaganda
				}
			}
		}
	}
}
shared_focus = {
	id = STG_PNG_STG_cooperation
	prerequisite = {
		focus = STG_securing_penguins
	}
	mutually_exclusive = {
		focus = STG_GRF_PNG_cooperation
	}
	available = {
		PNG = {
			has_government = communism
		}
	}
	relative_position_id = STG_securing_penguins
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		# comecon stuff?
		add_ideas = STL_influence_of_penguins
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			PNG = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		else = {
			325 = {
				increase_state_category = yes
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = STG_GRF_PNG_cooperation
	prerequisite = {
		focus = STG_securing_penguins
	}
	mutually_exclusive = {
		focus = STG_PNG_STG_cooperation
	}
	available = {
		PNG = {
			has_government = communism
		}
		GRF = {
			has_government = communism
		}
	}
	relative_position_id = STG_securing_penguins
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		# comecon stuff?
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			PNG = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
			GRF = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		PNG = {
			two_random_arms_factory = yes
			two_random_industrial_complex = yes
		}
		GRF = {
			two_random_arms_factory = yes
			two_random_industrial_complex = yes 
		}
	}
}
shared_focus = {
	id = STG_securing_PLB
	prerequisite = {
		focus = STG_PNG_STG_cooperation
		focus = STG_GRF_PNG_cooperation
	}
	bypass = {
		PLB = {
			OR = {
				exists = no
				is_subject = yes
			}
		}
	}
	relative_position_id = STG_PNG_STG_cooperation
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		if = {
			limit = {
				PLB = {
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
			create_wargoal = {
				target = PLB
				type = puppet_wargoal_focus
			}
		}
		else = {
			PLB = {
				add_ideas = {
					communist_influence
					stalliongrad_propaganda
				}
			}
		}
	}
}
shared_focus = {
	id = STG_PLB_STG_cooperation
	prerequisite = {
		focus = STG_securing_PLB
	}
	mutually_exclusive = {
		focus = STG_PNG_PLB_cooperation
	}
	relative_position_id = STG_securing_PLB
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -1
	y = 1
	available = {
		PLB = {
			has_government = communism
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		add_ideas = STL_influence_of_bears
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			PLB = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		else = {
			290 = {
				increase_state_category = yes
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = STG_PNG_PLB_cooperation
	prerequisite = {
		focus = STG_securing_PLB
	}
	mutually_exclusive = {
		focus = STG_PLB_STG_cooperation
	}
	available = {
		PLB = {
			has_government = communism
		}
		PNG = {
			has_government = communism
		}
	}
	relative_position_id = STG_securing_PLB
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			PNG = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
			PLB = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		PLB = {
			two_random_arms_factory = yes
			two_random_industrial_complex = yes
		}
		PNG = {
			two_random_arms_factory = yes
			two_random_industrial_complex = yes 
		}
	}
}
shared_focus = {
	id = STG_military_integration_1
	prerequisite = {
		focus = STG_founding_socialst_commonwealth
	}
	relative_position_id = STG_founding_socialst_commonwealth
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		army_experience = 50
		add_ideas = STG_mil_coop_1
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			army_experience = 50
			add_ideas = STG_mil_coop_1
		}
	}
}
shared_focus = {
	id = STG_military_integration_2
	prerequisite = {
		focus = STG_military_integration_1
	}
	relative_position_id = STG_military_integration_1
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		air_experience = 25
		navy_experience = 25
		add_tech_bonus = {
			name = race_tech_bonus
			uses = 1
			bonus = 1
			category = race_tech
		}
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			air_experience = 25
			navy_experience = 25
			add_tech_bonus = {
				name = race_tech_bonus
				uses = 1
				bonus = 1
				category = race_tech
			}
		}
	}
}
shared_focus = {
	id = STG_GRF_cooperation
	prerequisite = {
		focus = STG_founding_socialst_commonwealth
	}
	relative_position_id = STG_founding_socialst_commonwealth
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		add_ideas = STL_influence_of_birds
		240 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		678 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		58 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		338 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		222 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		57 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			STL = {
				add_autonomy_score = {
					value = -2000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		else = {
			334 = {
				increase_state_category = yes
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = STG_solve_frontier_problem
	prerequisite = {
		focus = STG_GRF_cooperation
	}
	bypass = {
		GFF = {
			exists = no
		}
	}
	relative_position_id = STG_GRF_cooperation
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		if = {
			limit = {
				GFF = {
					OR = {
						has_government = fascism
						has_government = neutrality
					}
				}
			}
			create_wargoal = {
				target = GFF
				type = puppet_wargoal_focus
			}
		}
		else_if = {
			limit = {
				GFF = {
					has_government = communism
				}
			}
			GFF = {
				country_event = generic.5
			}
		}
		else = {
			GFF = {
				add_ideas = {
					communist_influence
					stalliongrad_propaganda
				}
			}
		}
	}
}
shared_focus = {
	id = STG_CRY_soccom_stuff
	prerequisite = {
		focus = STG_founding_socialst_commonwealth
	}
	bypass = {
		CRY = {
			has_government = fascism
		}
	}
	relative_position_id = STG_founding_socialst_commonwealth
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		CRY = {
			country_event = stalliongrad_vasily.19
		}
	}
}
shared_focus = {
	id = STG_CRY_integration
	prerequisite = {
		focus = STG_CRY_soccom_stuff
	}
	
	bypass = {
		CRY = {
			NOT = {
				has_government = communism
			}
		}
	}
	relative_position_id = STG_CRY_soccom_stuff
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		add_ideas = STL_influence_of_crystal_ponies
		CRY = {
			country_event = generic.5
		}
	}
}
shared_focus = {
	id = STG_everyone_integration
	prerequisite = {
		focus = STG_CRY_integration
		focus = STG_solve_frontier_problem
		focus = STG_yakyakistan_integration
		focus = STG_PLB_STG_cooperation
		focus = STG_PNG_PLB_cooperation
	}
	relative_position_id = STG_solve_frontier_problem
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			every_subject_country = {
				add_autonomy_score = {
					value = -1000
					localization = STL_STG_INFLUENCE
				}
			}
		}
		else = {
			every_subject_country = {
				one_random_arms_factory = yes
				one_random_industrial_complex = yes
			}
		}
	}
}
shared_focus = {
	id = STG_forming_the_union_state
	prerequisite = {
		focus = STG_everyone_integration
	}
	available = {
		has_completed_focus = STG_victory_of_socialism_in_severyana
		custom_trigger_tooltip = {
			tooltip = no_supremacist_majors_on_equus		
			all_other_country = {
				OR = {
					is_on_griffon_continent = yes
					is_on_zebra_continent = yes
					is_major = no
					NOT = {
						has_government = fascism
					}
				}
			}
		}
	}
	relative_position_id = STG_everyone_integration
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 2
	select_effect = {
		# choose flag and name
		country_event = stalliongrad_vasily.21
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
		every_subject_country = {
			limit = {
				is_on_equestrian_continent = yes
			}
			country_event = stalliongrad_vasily.20
		}
	}
}
shared_focus = {
	id = STG_embassy_in_CRY
	prerequisite = {
		focus = STG_reunification_with_equalists
	}
	mutually_exclusive = {
		focus = STG_commies_in_eqs
	}
	relative_position_id = STG_reunification_with_equalists
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_embassy_in_CRY"
	}
}

shared_focus = {
	id = STG_something_terrible
	prerequisite = {
		focus = STG_embassy_in_CRY
	}
	bypass = {
		has_global_flag = STG_EQS_negotations_successful
	}
	relative_position_id = STG_embassy_in_CRY
	icon = GFX_goal_stg_war_west
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_something_terrible"
		country_event = stalliongrad_vasily.2
	}
}
shared_focus = {
	id = STG_severyana_at_war
	prerequisite = {
		focus = STG_something_terrible
	}
	available = {
		has_global_flag = STG_EQS_negotations_successful
	}
	relative_position_id = STG_something_terrible
	icon = GFX_goal_stg_severyana_at_war
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		country_event = { id=stalliongrad_vasily.1 }
		custom_effect_tooltip = STG_severyana_at_war_tt
	}
}
shared_focus = {
	id = STG_fortify_the_homeland
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_severyana_at_war
	cost = 5
	x = -3
	y = 6
	available = {
		OR = {
			CRY = {
				has_government = democratic
				has_capitulated = yes
			}
			EQS = {
				has_government = democratic
				has_capitulated = yes
			}
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		add_ideas = STG_rapid_dig_in
        every_owned_state = {
            add_building_construction = {
                type = bunker
                level = 1
                instant_build = yes
                province = {
                    all_provinces = yes
                    limit_to_victory_point = yes
                }
            }
            add_building_construction = {
                type = bunker
                level = 2
                instant_build = yes
                province = {
                    all_provinces = yes
                    limit_to_victory_point > 9
                }
            }
            add_building_construction = {
                type = bunker
                level = 2
                instant_build = yes
                province = {
                    all_provinces = yes
                    limit_to_victory_point > 19
                }
            }
        }
	}
}
shared_focus = {
	id = STG_welcome_equestrian_exiles
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_severyana_at_war
	cost = 5
	x = 3
	y = 6
	available = {
		OR = {
			CRY = {
				has_government = democratic
				has_capitulated = yes
			}
			EQS = {
				has_government = democratic
				has_capitulated = yes
			}
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		if = {
			limit = {
				CRY = {
					has_government = democratic
					has_capitulated = yes
				}
			}
			add_manpower = 25000
		}
		if = {
			limit = {
				EQS = {
					has_government = democratic
					has_capitulated = yes
				}
			}
			add_manpower = 75000
		}
		if = {
			limit = {
				OR = {
					has_dlc = "Man the Guns"
					has_dlc = "By Blood Alone"
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					is_government_in_exile = yes
				}
				add_legitimacy = 25
			}
		}
	}
}
shared_focus = {
	id = STG_joint_resources_research
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_rock_and_stone
	cost = 5
	x = -2
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		capital_scope = {
			add_dynamic_modifier = {
				modifier = STG_equestrian_imports
			}
		}
		EQS = {
			capital_scope = {
				add_dynamic_modifier = {
					modifier = STG_stalliongradian_imports
				}
			}
		}
		CRY = {
			capital_scope = {
				add_dynamic_modifier = {
					modifier = STG_stalliongradian_imports
				}
			}
		}
	}
}
shared_focus = {
	id = STG_technologies_exchange
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 2
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		if = {
			limit = { has_dlc = "Together for Victory" }
		
			add_to_tech_sharing_group = equestrian_research
		}
		else = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1
				uses = 2
				category = industry
				category = electronics
			}
			EQS = {
				add_tech_bonus = {
					name = secret_bonus
					bonus = 1
					uses = 1
					category = industry
					category = electronics
				}
			}
			CRY = {
				add_tech_bonus = {
					name = secret_bonus
					bonus = 1
					uses = 1
					category = industry
					category = electronics
				}
			}
		}
		if = {
			limit = {
				has_dlc = "Death or Dishonor"
			}
			add_relation_modifier = {
				target = EQS
				modifier = ROM_license_german_equipment
			}
			EQS = {
				add_relation_modifier = {
					target = STG
					modifier = ROM_license_german_equipment
				}
			}
			CRY = {
				add_relation_modifier = {
					target = STG
					modifier = ROM_license_german_equipment
				}
			}
		}
		unlock_decision_tooltip = STG_cooperative_tanks
		unlock_decision_tooltip = STG_cooperative_planes
	}
}
shared_focus = {
	id = STG_joint_military_production
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_allied_industry
	cost = 5
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_joint_military_production"
		add_to_variable = { STG_ttv_industrial_capacity_factory = 0.05 }
		add_to_variable = { STG_ttv_production_factory_start_efficiency_factor = 0.05 }
		custom_effect_tooltip = STG_joint_military_production_ns_tt
	}
}
shared_focus = {
	id = STG_joint_equipment_designers
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_tank_program
	cost = 5
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				every_military_industrial_organization = {
					add_mio_funds = 300
				}
			}
		}
		else = {
			unlock_decision_tooltip = STG_super_designer_tank
		}
	}
}
shared_focus = {
	id = STG_establish_joint_partisan_movement
	prerequisite = {
		focus = STG_severyana_at_war
	}
	relative_position_id = STG_severyana_at_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_establish_joint_partisan_movement"
		add_to_variable = { STG_ttv_resistance_target_on_our_occupied_states = 0.075 }
		add_to_variable = { STG_ttv_resistance_growth_on_our_occupied_states = 0.15 }
		custom_effect_tooltip = STG_establish_joint_partisan_movement_ns_tt
	}
}
shared_focus = {
	id = STG_air_bases_building
	prerequisite = {
		focus = STG_establish_joint_partisan_movement
		focus = STG_joint_resources_research
	}
	relative_position_id = STG_establish_joint_partisan_movement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		unlock_decision_tooltip = STG_boosting_allied_airbases
		74 = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		53 = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		70 = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STG_cracking_the_enigma
	prerequisite = {
		focus = STG_establish_joint_partisan_movement
		focus = STG_technologies_exchange
	}
	relative_position_id = STG_establish_joint_partisan_movement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_cracking_the_enigma"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_to_variable = { STG_ttv_crypto_strength = 2 }
			custom_effect_tooltip = STG_cracking_the_enigma_ns_tt	
		}
		else = {
			add_to_variable = { STG_ttv_encryption_factor = 0.3 }
			custom_effect_tooltip = STG_cracking_the_enigma_no_lar_ns_tt	
		}
	}
}
shared_focus = {
	id = STG_joint_opeartions
	prerequisite = {
		focus = STG_establish_joint_partisan_movement
	}
	relative_position_id = STG_establish_joint_partisan_movement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_joint_opeartions"
		add_to_variable = { STG_ttv_coordination_bonus = 0.025 }
		add_to_variable = { STG_ttv_planning_speed = 0.05 }
		add_to_variable = { STG_ttv_land_doctrine_cost_factor = -0.05 }
		custom_effect_tooltip = STG_joint_opeartions_ns_tt
	}
}
shared_focus = {
	id = STG_reconstruction_committe
	prerequisite = {
		focus = STG_joint_resources_research
	}
	relative_position_id = STG_joint_resources_research
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_reconstruction_committe"
		add_to_variable = { STG_ttv_consumer_goods_factor = -0.05 }
		add_to_variable = { STG_ttv_industry_repair_factor = 0.20 }
		custom_effect_tooltip = STG_reconstruction_committe_ns_tt
	}
}
shared_focus = {
	id = STG_were_all_ponies
	prerequisite = {
		focus = STG_technologies_exchange
	}
	relative_position_id = STG_technologies_exchange
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 3
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_were_all_ponies"
		add_to_variable = { STG_ttv_research_speed_factor = 0.05 }
		custom_effect_tooltip = STG_were_all_ponies_ns_tt
		hidden_effect = {
			add_ideas = STG_all_ponies_tech
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				add_ideas = STG_all_ponies_tech
			}
		}
	}
}
shared_focus = {
	id = STG_together_for_victory
	prerequisite = {
		focus = STG_joint_opeartions
	}
	prerequisite = {
		focus = STG_reconstruction_committe
	}
	prerequisite = {
		focus = STG_were_all_ponies
	}
	relative_position_id = STG_joint_opeartions
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		every_country = {
			limit = { is_in_faction_with = STG }
			add_ideas = STG_all_as_one
		}
	}
}

shared_focus = {
	id = STG_the_last_bastion
	prerequisite = {
		focus = STG_fortify_the_homeland
	}
	prerequisite = {
		focus = STG_together_for_victory
	}
	prerequisite = {
		focus = STG_welcome_equestrian_exiles
	}
	relative_position_id = STG_joint_opeartions
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyana_at_war"
		# todo - last hope of freedom on equus
	}
}

shared_focus = {
	id = STG_commies_in_eqs
	icon = GFX_goal_stg_southern_comrades
	prerequisite = {
		focus = STG_reunification_with_equalists
	}
	mutually_exclusive = {
		focus = STG_embassy_in_CRY
	}
	relative_position_id = STG_reunification_with_equalists
	cost = 3
	x = 6
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_commies_in_eqs"
		country_event = { id=stalliongrad_vasily.24 } 
	}
}

shared_focus = {
	id = STG_renew_underground_connect
	icon = GFX_goal_vasya
	prerequisite = { 
		focus = STG_commies_in_eqs
	}
	relative_position_id = STG_commies_in_eqs
	cost = 3
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_renew_underground_connect"
		random_owned_state = {
			limit = {
				any_neighbor_state = { is_owned_and_controlled_by = EQS }
				NOT = { state = 678 }
			}
			add_building_construction = {
				type = radar_station
				level = 1
				instant_build = yes 
			}
		}
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_decryption = {
				target = EQS 
				ratio = 0.1
			}
			add_intel = {
				target = EQS 
				civilian_intel = 10
				army_intel = 10
			}
		}
		else = {
			add_tech_bonus = {
				category = encryption_tech
				category = decryption_tech
				uses = 2
				bonus = 0.5
			}
		}
	
	}
}

shared_focus = {
	id = STG_funding_rev_in_south_sev
	icon = GFX_goal_vasya
	prerequisite = { focus = STG_renew_underground_connect }
	relative_position_id = STG_renew_underground_connect
	available = {
		has_intelligence_agency = yes 
	}
	x = -1
	y = 1
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_funding_rev_in_south_sev"
		create_operative_leader = {
			name = "To Be Edited"
			traits = {  }
			bypass_recruitment = yes
			available_to_spy_master = yes
			nationalities = { EQS STG }
		}
		create_operative_leader = {
			name = "To Be Edited 2"
			traits = {  }
			bypass_recruitment = yes
			available_to_spy_master = yes
			nationalities = { EQS STG }
		}
	}
}

shared_focus = {
	id = STG_reclamation_propaganda
	icon = GFX_goal_vasya
	prerequisite = { focus = STG_renew_underground_connect }
	relative_position_id = STG_renew_underground_connect
	x = 1
	y = 1
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_reclamation_propaganda"
		75 = {
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 
		}
		add_political_power = 100
		
	}
}

shared_focus = {
	id = STG_maneuvers_on_eqs_borders
	icon = GFX_goal_vasya
	prerequisite = { focus = STG_funding_rev_in_south_sev }
	prerequisite = { focus = STG_reclamation_propaganda }
	relative_position_id = STG_funding_rev_in_south_sev
	x = 1
	y = 1
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_maneuvers_on_eqs_borders"
		custom_effect_tooltip = STG_EQS_lose_south_sev
		EQS = {
			hidden_effect = {
				every_owned_state = {
					limit = { is_core_of = ROOT }
					remove_core_of = EQS 
				}
			}
			country_event = { id = stalliongrad_vasily.23 days = 5 }
		}
	}
}
		
shared_focus = {
	id = STG_fund_eqs_commie_party
	icon = GFX_goal_vasya
	prerequisite = { focus = STG_commies_in_eqs }
	relative_position_id = STG_commies_in_eqs
	x = 5
	y = 1
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_fund_eqs_commie_party"
		EQS = {
			add_popularity = {
				ideology = communism
				popularity = 0.07
			}
		}
		country_event = { id = stalliongrad_vasily.25 }
	}
}

shared_focus = {
	id = STG_there_is_a_new_way
	x = -2
	y = 1
	relative_position_id = STG_fund_eqs_commie_party
	prerequisite = { focus = STG_fund_eqs_commie_party }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_there_is_a_new_way"
		EQS = { country_event = { id = stalliongrad_vasily.26 days = 5 } }
	}
}
	
shared_focus = {
	id = STG_influence_union_campaign
	x = 0
	y = 1
	relative_position_id = STG_fund_eqs_commie_party
	prerequisite = { focus = STG_fund_eqs_commie_party }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_influence_union_campaign"
		75 = {
			set_temp_variable = { STG_ls_change_var = 2 }
			STG_increase_decrease_labor_strength_effect = yes 
		}
		14 = {
			set_temp_variable = { STG_ls_change_var = 2 }
			STG_increase_decrease_labor_strength_effect = yes 
		}
	}
}
	
shared_focus = {
	id = STG_large_scale_agitprod
	x = 2
	y = 1
	relative_position_id = STG_fund_eqs_commie_party
	prerequisite = { focus = STG_fund_eqs_commie_party }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_large_scale_agitprod"
		75 = {
			set_temp_variable = { STG_ps_change_var = 2 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		13 = {
			set_temp_variable = { STG_ps_change_var = 2 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
	}
}

shared_focus = {
	id = STG_follow_severana_example
	x = 0
	y = 2
	relative_position_id = STG_there_is_a_new_way
	prerequisite = { focus = STG_there_is_a_new_way }
	prerequisite = { focus = STG_maneuvers_on_eqs_borders }
	available = {
		NOT = { has_completed_focus = STG_union_makes_it_strong }
	}
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName]: Focus STG_follow_severana_example"
		add_war_support = 0.05
		custom_effect_tooltip = STG_get_2_divs_on_southland
	}
}

shared_focus = {
	id = STG_cultural_marxism
	x = 0
	y = 1
	relative_position_id = STG_large_scale_agitprod
	prerequisite = { focus = STG_large_scale_agitprod }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName]: Focus STG_cultural_marxism"
		75 = {
			set_temp_variable = { STG_ps_change_var = 1 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		13 = {
			set_temp_variable = { STG_ps_change_var = 1 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		14 = {
			set_temp_variable = { STG_ps_change_var = 1 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		66 = {
			set_temp_variable = { STG_ps_change_var = 1 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		EQS = {
			add_war_support = -0.02
		}
	}
}

shared_focus = {
	id = STG_masha_to_jungle 
	x = 0
	y = 1
	relative_position_id = STG_cultural_marxism
	prerequisite = { focus = STG_cultural_marxism }
	available = {
		NOT = { has_completed_focus = STG_union_makes_it_strong }
	}
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName]: Focus STG_masha_to_jungle"
		13 = {
			set_temp_variable = { STG_ps_change_var = 1 }
			STG_increase_decrease_popularity_support_effect = yes 
		}
		13 = {	
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 
		}
		custom_effect_tooltip = STG_send_masha_to_baltimare
	}
}

shared_focus = {
	id = STG_union_makes_it_strong
	x = 0
	y = 3
	relative_position_id = STG_influence_union_campaign
	prerequisite = { focus = STG_influence_union_campaign }
	prerequisite = { focus = STG_follow_severana_example focus = STG_masha_to_jungle }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {	
		log = "[GetDateText]: [Root.GetName]: Focus STG_union_makes_it_strong"
		14 = {
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 		
		}
		13 = {
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 		
		}
		66 = {
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 		
		}
		75 = {
			set_temp_variable = { STG_ls_change_var = 1 }
			STG_increase_decrease_labor_strength_effect = yes 		
		}
	}
}

shared_focus = {
	id = STG_start_the_revolution
	x = 0
	y = 1
	available = {
		has_war_with = EQS 
		controls_state = 75
	}
	bypass = {
		has_country_flag = EQS_rev_start_by_player
	}
	relative_position_id = STG_union_makes_it_strong
	prerequisite = { focus = STG_union_makes_it_strong }
	cost = 5
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_start_the_revolution"
		custom_effect_tooltip = STG_start_eqs_revolt
		hidden_effect = {
			STG_equestrian_revolution_initiate_potential_cores = yes
			create_dynamic_country  = {
				original_tag = EQS
				copy_tag = EQS

				STG_inititate_manehattan_uprising = yes
			}
			VAN = {
				STG_initiate_proper_level_resistance = yes
			}
			BAL = {
				STG_initiate_proper_level_resistance = yes
			}
			LSP = {
				STG_initiate_proper_level_resistance = yes
			}
		}
	}
}

shared_focus = {
	id = STG_fight_agains_eqs_1
	x = -4
	y = 1
	available = {
		has_war_with = EQS 
	}
	relative_position_id = STG_start_the_revolution 
	prerequisite = { focus = STG_start_the_revolution  }
	cost = 5
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fight_agains_eqs_1"
		add_ideas = STG_war_agains_EQS_1
		if = {
			limit = {
				has_country_flag = EQS_rev_start_by_player
			}
			declare_war_on = {
				type = topple_government
				target = EQS 
			}
		}
	}
}

shared_focus = {
	id = STG_fight_agains_eqs_2
	x = 0
	y = 1
	available = {
		has_war_with = EQS 
	}
	relative_position_id = STG_fight_agains_eqs_1 
	prerequisite = { focus = STG_fight_agains_eqs_1  }
	cost = 5
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fight_agains_eqs_2"
		swap_ideas = {
			remove_idea = STG_war_agains_EQS_1
			add_idea = STG_war_agains_EQS_2
		}
	}
}

shared_focus = {
	id = STG_help_commies_in_bal
	x = -2
	y = 1
	relative_position_id = STG_start_the_revolution 
	prerequisite = { focus = STG_start_the_revolution }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_commies_in_bal"
		BAL = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 1000
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = STG 
			}
		}
	}
}
shared_focus = {
	id = STG_help_commies_in_van
	x = 0
	y = 1
	relative_position_id = STG_start_the_revolution 
	prerequisite = { focus = STG_start_the_revolution }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_commies_in_van"
		VAN = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 1000
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = STG 
			}
		}
	}
}
shared_focus = {
	id = STG_help_commies_in_lsp
	x = 2
	y = 1
	relative_position_id = STG_start_the_revolution 
	prerequisite = { focus = STG_start_the_revolution }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_commies_in_lsp"
		LSP = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 1000
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = STG 
			}
		}
	}
}
shared_focus = {
	id = STG_help_commies_in_sol
	x = -1
	y = 1
	relative_position_id = STG_help_commies_in_van 
	prerequisite = { focus = STG_help_commies_in_van }
	prerequisite = { focus = STG_help_commies_in_bal }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_commies_in_sol"
		event_target:EQS_commie = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 1000
				producer = STG 
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 100
				producer = STG 
			}
		}
	}
}
shared_focus = {
	id = STG_help_commies_in_all_equestria
	x = 1
	y = 1
	relative_position_id = STG_help_commies_in_van 
	prerequisite = { focus = STG_help_commies_in_van }
	prerequisite = { focus = STG_help_commies_in_lsp }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_commies_in_all_equestria"
		EQS = {
			add_ideas = STG_eqs_debuffs
		}
	}
}
shared_focus = {
	id = STG_no_turning_back
	x = 1
	y = 1
	relative_position_id = STG_help_commies_in_sol 
	prerequisite = { focus = STG_help_commies_in_sol }
	prerequisite = { focus = STG_help_commies_in_all_equestria }
	cost = 3
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_no_turning_back"
		add_ideas = STG_together_against_eqs
		VAN = {
			add_ideas = STG_together_against_eqs
		}
		BAL = {
			add_ideas = STG_together_against_eqs
		}
		LSP = {
			add_ideas = STG_together_against_eqs
		}
		event_target:EQS_commie = {
			add_ideas = STG_together_against_eqs
		}
		
	}
}
shared_focus = {
	id = STG_victory_of_revolution
	x = 0
	y = 1
	relative_position_id = STG_no_turning_back 
	prerequisite = { focus = STG_no_turning_back }
	available = {
		EQS = {
			OR = {
				exists = no
				AND = {
					has_civil_war = no 
					has_government = communism
				}
			}
		}
	}
	cost = 5
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_victory_of_revolution"		
		country_event = { id = stalliongrad_vasily.28 days = 5 }
	}
}

		

#################
### Vasya quo ###
#################

shared_focus = {
	id = STG_vasya_quo_wins
	icon = GFX_goal_vasya
	cost = 3

	available = {
		has_country_flag = STG_flag_vasya_wins
	}
	x = 6
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_vasya_quo_wins"
		add_political_power = 150
	}
}
############################
### Candy Pone tree here ###
############################

shared_focus = {
	id = STG_inches_from_disaster
	icon = GFX_goal_stg_eqs
	cost = 3

	x = 15
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_inches_from_disaster"

		STG = { country_event = { id = stalliongrad_karamelka.1 } }

		add_political_power = 150
		
		### Effect for Karamelka
		add_dynamic_modifier = { modifier = STG_comecon_leader_karamelka }
		set_country_flag = available_comecon_flag
		STG_populate_comecon_decisions = yes
		custom_effect_tooltip = STG_karamelka_comecon_tt
	}
}

shared_focus = {
	id = STG_head_of_snake
	icon = GFX_goal_WNG_COM_purge
	cost = 3

	prerequisite = {
		focus = STG_inches_from_disaster
	}
	relative_position_id = STG_inches_from_disaster
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_head_of_snake"
		STG = { country_event = { id = stalliongrad_karamelka.2 } }
	}
}

shared_focus = {
	id = STG_roots_of_extremism
	icon = GFX_goal_socialist_union
	cost = 3

	prerequisite = {
		focus = STG_inches_from_disaster
	}
	relative_position_id = STG_inches_from_disaster
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_roots_of_extremism"
		STG = { country_event = { id = stalliongrad_karamelka.3 } }
	}
}

shared_focus = {
	id = STG_silent_bystanders
	icon = GFX_goal_military_mission_pony
	cost = 3

	prerequisite = {
		focus = STG_inches_from_disaster
	}
	relative_position_id = STG_inches_from_disaster
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_silent_bystanders"
		STG = { country_event = { id = stalliongrad_karamelka.4 } }
	}
}

shared_focus = {
	id = STG_right_opposition_in_control
	icon = GFX_goal_red_star_dove
	cost = 8

	prerequisite = {
		focus = STG_roots_of_extremism
	}
	prerequisite = {
		focus = STG_head_of_snake
	}
	prerequisite = {
		focus = STG_silent_bystanders
	}
	relative_position_id = STG_roots_of_extremism
	x = 0
	y = 1
	select_effect = {
		# TODO stuff goes here
		# events and such
	}
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_inches_from_disaster"
		if = {
			limit = {
				check_variable = { STG_karamelka_purge_harshness = 0}
			}

			hidden_effect = {
				STG = { country_event = { id = stalliongrad_darkwing.1 } }
			}
			effect_tooltip = {
				STG = { country_event = { id = stalliongrad_karamelka.5 } }
			}
			
		}
		else = {
			set_variable = {
				STG_karamelka_stability_factor = -0.1
			}
			set_variable = {
				STG_karamelka_political_power_factor = -0.1
			}
			STG = { country_event = { id = stalliongrad_karamelka.5 } }
		}
	}
}
### systematic political reforms ###
shared_focus = {
	id = STG_turning_back_the_clock
	icon = GFX_goal_griffon_clock
	cost = 3

	prerequisite = {
		focus = STG_right_opposition_in_control
	}
	relative_position_id = STG_right_opposition_in_control
	x = -4
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_turning_back_the_clock"
		country_event = stalliongrad_karamelka.6
	}
}
shared_focus = {
	id = STG_death_of_party_avangard
	icon = GFX_goal_HOL_council_communism
	cost = 3

	prerequisite = {
		focus = STG_turning_back_the_clock
	}
	relative_position_id = STG_turning_back_the_clock
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_death_of_party_avangard"
		custom_effect_tooltip = STG_karamelka_natspirit_mod_tt
		add_to_variable = {
			STG_karamelka_political_power_factor = -0.05 
			tooltip = STG_strategic_offensive_policy_political_power_gain_tt
		}
		add_to_variable = {
			STG_karamelka_research_speed_factor = 0.05
			tooltip = STG_karamelka_research_speed_factor_tt
		}
		# TODO unlock advisors
		# TODO reform stuff
	}
}
shared_focus = {
	id = STG_ending_autocratic_cabinet
	icon = GFX_focus_SOV_the_supreme_soviet
	cost = 3

	prerequisite = {
		focus = STG_death_of_party_avangard
	}
	relative_position_id = STG_death_of_party_avangard
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ending_autocratic_cabinet"
		custom_effect_tooltip = STG_karamelka_natspirit_mod_tt
		add_to_variable = {
			STG_karamelka_political_power_factor = 0.1
			tooltip = STG_strategic_offensive_policy_political_power_gain_tt
		}
		# TODO unlock advisor slot
	}
}
shared_focus = {
	id = STG_ideas_in_rainbow_colors
	icon = GFX_goal_cry_democratic
	cost = 3

	prerequisite = {
		focus = STG_ending_autocratic_cabinet
	}
	relative_position_id = STG_ending_autocratic_cabinet
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ideas_in_rainbow_colors"
		custom_effect_tooltip = STG_karamelka_natspirit_mod_tt
		add_to_variable = {
			STG_karamelka_production_factory_start_efficiency_factor = 0.1
			tooltip = STG_karamelka_production_factory_start_efficiency_factor_tt
		}
		add_to_variable = {
			STG_karamelka_conscription_factor = 0.1
			tooltip = STG_karamelka_conscription_factor_tt
		}
		add_to_variable = {
			STG_karamelka_democratic_acceptance = 20
			tooltip = STG_karamelka_democratic_acceptance_tt
		}
		
	}
}
shared_focus = {
	id = STG_equestria_our_motherland
	icon = GFX_goal_eqc_shelter_celestia
	cost = 3

	prerequisite = {
		focus = STG_ideas_in_rainbow_colors
	}
	relative_position_id = STG_ideas_in_rainbow_colors
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_equestria_our_motherland"
		country_event = stalliongrad_karamelka.15
	}
}
shared_focus = {
	id = STG_unaffiliated_bloc
	icon = GFX_goal_ideology_social_democrat
	cost = 3

	prerequisite = {
		focus = STG_death_of_party_avangard
	}
	prerequisite = {
		focus = STG_all_power_to_soviets_kar
	}
	relative_position_id = STG_death_of_party_avangard
	x = 0
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_unaffiliated_bloc"
		# TODO party advisors
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}
}
shared_focus = {
	id = STG_many_roads_to_socialism
	icon = GFX_UK_art_avantgarde
	cost = 3

	prerequisite = {
		focus = STG_unaffiliated_bloc
	}
	relative_position_id = STG_unaffiliated_bloc
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_many_roads_to_socialism"
		set_party_name = {
			ideology = communism
			long_name = STG_karamelka_communism_party_long
			name = STG_karamelka_communism_party
		}
		set_party_name = {
			ideology = neutrality
			long_name = STG_karamelka_neutrality_party_long
			name = STG_karamelka_neutrality_party
		}
		
		set_party_name = {
			ideology = democratic
			long_name = STG_karamelka_democratic_party_long
			name = STG_karamelka_democratic_party
		}
		add_political_power = 100
		# TODO reform progress
	}
}
shared_focus = {
	id = STG_state_is_not_a_union
	icon = GFX_goal_government_icon
	cost = 3

	prerequisite = {
		focus = STG_turning_back_the_clock
	}
	relative_position_id = STG_turning_back_the_clock
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_state_is_not_a_union"
		custom_effect_tooltip = STG_karamelka_natspirit_mod_tt
		add_to_variable = {
			STG_karamelka_production_factory_max_efficiency_factor = 0.05
			tooltip = STG_strategic_offensive_policy_production_factory_max_efficiency_factor_tt
		}

		add_to_variable = {
			STG_karamelka_production_factory_efficiency_gain_factor = -0.1
			tooltip = STG_strategic_offensive_policy_production_factory_efficiency_gain_factor_tt
		}
		if = {
			limit = {
				has_dlc ="Arms Against Tyranny"
			}
			add_to_variable = {
				STG_karamelka_military_industrial_organization_research_bonus = 0.1
				tooltip = STG_karamelka_military_industrial_organization_research_bonus_tt
			}
		}
		else = {
			add_to_variable = {
				STG_karamelka_line_change_production_efficiency_factor = 0.1
				tooltip = STG_strategic_offensive_policy_line_change_production_efficiency_factor_tt
			}
		}
	}
}
shared_focus = {
	id = STG_all_power_to_soviets_kar
	icon = GFX_Socialist_Law
	cost = 3

	prerequisite = {
		focus = STG_state_is_not_a_union
	}
	relative_position_id = STG_state_is_not_a_union
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_all_power_to_soviets_kar"
		country_event = stalliongrad_karamelka.8
	}
}
shared_focus = {
	id = STG_party_of_peasants_and_workers_once_again
	icon = GFX_goal_UESR_TNO_left_unity
	cost = 3

	prerequisite = {
		focus = STG_all_power_to_soviets_kar
	}
	relative_position_id = STG_all_power_to_soviets_kar
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_party_of_peasants_and_workers_once_again"
		every_owned_state = {
			limit = {
				OR = {
					has_state_category = rural
					has_state_category = pastoral
				}
			}
			increase_state_category = yes
		}
	}
}
shared_focus = {
	id = STG_state_office_for_working_creature
	icon = GFX_goal_welfare_brackets
	cost = 3

	prerequisite = {
		focus = STG_party_of_peasants_and_workers_once_again
	}
	relative_position_id = STG_party_of_peasants_and_workers_once_again
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_state_office_for_working_creature"
		country_event = stalliongrad_karamelka.9
	}
}
shared_focus = {
	id = STG_to_tear_down_barriers
	icon = GFX_goal_generic_investigate_corruption
	cost = 3
	prerequisite = {
		focus = STG_many_roads_to_socialism
	}
	prerequisite = {
		focus = STG_state_office_for_working_creature
	}
	relative_position_id = STG_state_office_for_working_creature
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_to_tear_down_barriers"
		custom_effect_tooltip = STG_karamelka_natspirit_mod_tt
		add_to_variable = {
			STG_karamelka_research_speed_factor = 0.03
			tooltip = STG_karamelka_research_speed_factor_tt
		}
		add_to_variable = {
			STG_karamelka_stability_factor = 0.05 
			tooltip = STG_strategic_offensive_policy_stability_factor_tt
		}
		add_war_support = 0.05
	}
}
shared_focus = {
	id = STG_new_marksism
	icon = GFX_Marks_focus
	cost = 3

	prerequisite = {
		focus = STG_state_is_not_a_union
	}
	relative_position_id = STG_state_is_not_a_union
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_marksism"
		country_event = stalliongrad_karamelka.10
		# todo increase reform progress
	}
}
### Reforming the party ###
shared_focus = {
	id = STG_rural_outreach_offices
	icon = GFX_goal_coop_farms
	cost = 3

	prerequisite = {
		focus = STG_right_opposition_in_control
	}
	relative_position_id = STG_right_opposition_in_control
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_rural_outreach_offices"
		every_owned_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STG_wide_base_party
	icon = GFX_goal_red_eagle
	cost = 3
	mutually_exclusive = {
		focus = STG_our_loyal_reformers
	}
	prerequisite = {
		focus = STG_rural_outreach_offices
	}
	relative_position_id = STG_rural_outreach_offices
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_wide_base_party"
		# todo party advisors
	}
}
shared_focus = {
	id = STG_an_international_section
	icon = GFX_YAL_internationalist_brigades
	cost = 3
	prerequisite = {
		focus = STG_new_marksism
	}
	prerequisite = {
		focus = STG_wide_base_party
	}
	relative_position_id = STG_new_marksism
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_an_international_section"
		# todo party advisors
	}
}
shared_focus = {
	id = STG_our_loyal_reformers
	icon = GFX_goal_generic_pony_unity
	cost = 3
	mutually_exclusive = {
		focus = STG_wide_base_party
	}
	prerequisite = {
		focus = STG_rural_outreach_offices
	}
	relative_position_id = STG_rural_outreach_offices
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_our_loyal_reformers"
		# todo party advisors
	}
}
shared_focus = {
	id = STG_independence_of_organizers
	icon = GFX_goal_UESR_TNO_justice
	cost = 3

	prerequisite = {
		focus = STG_our_loyal_reformers
		focus = STG_wide_base_party
	}
	relative_position_id = STG_wide_base_party
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_independence_of_organizers"
		# todo party advisor slot
		add_to_variable = {
			STG_karamelka_production_lack_of_resource_penalty_factor = -0.1
			tooltip = STG_karamelka_production_lack_of_resource_penalty_factor_tt
		}
		add_to_variable = {
			STG_karamelka_mobilization_speed = 0.1
			tooltip = STG_karamelka_mobilization_speed_tt
		}
	}
}
shared_focus = {
	id = STG_party_of_ponies_not_personalities
	icon = GFX_goal_ELF_bestpony
	cost = 3

	prerequisite = {
		focus = STG_independence_of_organizers
	}
	relative_position_id = STG_independence_of_organizers
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_party_of_ponies_not_personalities"
		# todo increase reform progress
		add_to_variable = {
			STG_karamelka_party_popularity_stability_factor = 0.05
			tooltip = STG_karamelka_party_popularity_stability_factor_tt
		}
		add_to_variable = {
			STG_karamelka_conscription = 0.005
			tooltip = STG_karamelka_conscription_tt
		}
	}
}
shared_focus = {
	id = STG_spirit_of_socialist_camaraderie
	icon = GFX_focus_stg_cooperation_pony_griffon
	cost = 3

	prerequisite = {
		focus = STG_party_of_ponies_not_personalities
	}
	relative_position_id = STG_party_of_ponies_not_personalities
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_spirit_of_socialist_camaraderie"
		country_event = stalliongrad_karamelka.11
	}
}
shared_focus = {
	id = STG_they_who_feel_left_behind
	icon = GFX_goal_socialist_infrastructure
	cost = 3

	prerequisite = {
		focus = STG_party_of_ponies_not_personalities
	}
	relative_position_id = STG_party_of_ponies_not_personalities
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_they_who_feel_left_behind"
		country_event = stalliongrad_karamelka.13 # i reversed the order :skull:
	}
}
shared_focus = {
	id = STG_to_challange_ourselves_to_be_better
	icon = GFX_goal_stg_socialist_revolution_pony
	cost = 3

	prerequisite = {
		focus = STG_party_of_ponies_not_personalities
	}
	relative_position_id = STG_party_of_ponies_not_personalities
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_to_challange_ourselves_to_be_better"
		country_event = stalliongrad_karamelka.12
	}
}
shared_focus = {
	id = STG_values_we_hold_sacred
	icon = GFX_focus_prc_agrarian_socialism
	cost = 3
	prerequisite = {
		focus = STG_spirit_of_socialist_camaraderie
	}
	prerequisite = {
		focus = STG_they_who_feel_left_behind
	}
	prerequisite = {
		focus = STG_to_challange_ourselves_to_be_better
	}
	relative_position_id = STG_they_who_feel_left_behind
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_values_we_hold_sacred"
		country_event = stalliongrad_karamelka.14
	}
}

### SKVD service ###

shared_focus = {
	id = STG_sins_of_the_son
	icon = GFX_goal_gunpoint_diplomacy
	cost = 3

	prerequisite = {
		focus = STG_right_opposition_in_control
	}
	relative_position_id = STG_right_opposition_in_control
	x = 6
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sins_of_the_son"
		country_event = stalliongrad_karamelka.7
	}
}
shared_focus = {
	id = STG_reorganize_the_SS
	icon = GFX_goal_WNG_COM_nkvd
	cost = 3

	prerequisite = {
		focus = STG_sins_of_the_son
	}
	relative_position_id = STG_sins_of_the_son
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_reorganize_the_SS"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			swap_ideas = {
				remove_idea = STG_flaygin_pds_lar
				add_idea = STG_flaygin_pds2_lar
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STG_flaygin_pds
				add_idea = STG_flaygin_pds2
			}
		}
		# TODO REFORM PROGRESS
	}
}
shared_focus = {
	id = STG_protecting_our_revolution
	icon = GFX_goal_revolution_tools
	cost = 3
	mutually_exclusive = {
		focus = STG_safety_of_independence
	}
	prerequisite = {
		focus = STG_reorganize_the_SS
	}
	relative_position_id = STG_reorganize_the_SS
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_protecting_our_revolution"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			swap_ideas = {
				remove_idea = STG_flaygin_pds2_lar
				add_idea = STG_flaygin_pds3a_lar
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STG_flaygin_pds2
				add_idea = STG_flaygin_pds3a
			}
		}
		# TODO REDUCE IDEALISM LOSS
	}
}
###shared_focus = {
###	id = STG_the_sweetened_hoof
###	icon = GFX_goal_stg_wip_icon
###	cost = 3
###	prerequisite = {
###		focus = STG_our_loyal_reformers
###	}
###	prerequisite = {
###		focus = STG_protecting_our_revolution
###	}
###	relative_position_id = STG_protecting_our_revolution
###	x = -1
###	y = 1
###	ai_will_do = {
###		factor = 5
###	}
###	completion_reward = {
###		log = "[GetDateText]: [Root.GetName]: Focus STG_the_sweetened_hoof"
###		add_political_power = 1
###	}
###}
shared_focus = {
	id = STG_safety_of_independence
	icon = GFX_goal_secret_agents_red
	cost = 3
	mutually_exclusive = {
		focus = STG_protecting_our_revolution
	}
	prerequisite = {
		focus = STG_reorganize_the_SS
	}
	relative_position_id = STG_reorganize_the_SS
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_safety_of_independence"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			swap_ideas = {
				remove_idea = STG_flaygin_pds2_lar
				add_idea = STG_flaygin_pds3b_lar
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STG_flaygin_pds2
				add_idea = STG_flaygin_pds3b
			}
		}
		# TODO REDUCE IDEALISM LOSS
	}
}
shared_focus = {
	id = STG_new_international_policy
	icon = GFX_goal_psody_cyrus
	cost = 3

	prerequisite = {
		focus = STG_protecting_our_revolution
		focus = STG_safety_of_independence
	}
	relative_position_id = STG_protecting_our_revolution
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_international_policy"
		add_ideas = STG_volunteer_project
	}
}
shared_focus = {
	id = STG_a_million_voices_song
	icon = GFX_goal_generic_pony_unicorn
	cost = 3

	prerequisite = {
		focus = STG_to_tear_down_barriers
	}
	prerequisite = {
		focus = STG_values_we_hold_sacred
	}
	relative_position_id = STG_values_we_hold_sacred
	x = -3
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_million_voices_song"
		# TODO GIVES REFORM MECHANIC
		# TODO ENDS REFORM MECHANIC
		add_political_power = 200
	}
}

################################
### Economic tree Candy Pone ###
################################

shared_focus = {
	id = STG_legacy_of_NEP
	icon = GFX_goal_generic_soviet_construction
	cost = 3

	x = 30
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_legacy_of_NEP"
		country_event = { id = stalliongrad_karamelka_economy.1 }
	}
}
shared_focus = {
	id = STG_million_homes_project
	icon = GFX_goal_generic_construct_public_housing
	cost = 3
	
	prerequisite = {
		focus = STG_legacy_of_NEP
	}
	relative_position_id = STG_legacy_of_NEP
	x = -3
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_million_homes_project"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_monthly_population = 0.1
			} 
			add_to_variable = {
				STG_RSE_global_building_slots_factor = 0.1
			}
		}

		153 = {
			add_extra_state_shared_building_slots = 3
		}
		166 = {
			add_extra_state_shared_building_slots = 3
		}
		225 = {
			add_extra_state_shared_building_slots = 1
		}
		233 = {
			add_extra_state_shared_building_slots = 1
		}
		235 = {
			add_extra_state_shared_building_slots = 1
		}
		332 = {
			add_extra_state_shared_building_slots = 1
		}

		custom_effect_tooltip = STG_million_homes_project_effect_tt
	}
}
shared_focus = {
	id = STG_joyful_socialist_living
	icon = GFX_goal_cry_welfare
	cost = 3
	
	prerequisite = {
		focus = STG_million_homes_project
	}
	relative_position_id = STG_million_homes_project
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_joyful_socialist_living"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_political_power_factor = 0.1
			} 
			add_to_variable = {
				STG_RSE_army_core_defence_factor = 0.1
			}
			add_to_variable = {
				STG_RSE_line_change_production_efficiency_factor = 0.1
			}
		}

		custom_effect_tooltip = STG_joyful_socialist_living_effect_tt
	}
}
shared_focus = {
	id = STG_socialism_with_a_smile
	icon = GFX_goal_long_and_happy_life
	cost = 3
	
	prerequisite = {
		focus = STG_joyful_socialist_living
	}
	relative_position_id = STG_joyful_socialist_living
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_socialism_with_a_smile"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_industry_repair_factor = 0.25
			} 
			add_to_variable = {
				STG_RSE_local_resources_factor = 0.15
			}
		}
		custom_effect_tooltip = STG_socialism_with_a_smile_effect_tt
	}
}
shared_focus = {
	id = STG_the_trotting_distance_principle
	icon = GFX_goal_generic_railway_construction
	cost = 3
	
	prerequisite = {
		focus = STG_million_homes_project
	}
	relative_position_id = STG_million_homes_project
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_trotting_distance_principle"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_production_speed_rail_way_factor = 0.1
			} 
			add_to_variable = {
				STG_RSE_production_speed_infrastructure_factor = 0.1
			}
			add_to_variable = {
				STG_RSE_supply_node_range = 0.1
			}
		}
		custom_effect_tooltip = STG_the_trotting_distance_principle_effect_tt
	}
}
shared_focus = {
	id = STG_land_where_all_live_comfortably
	icon = GFX_focus_FIN_socialist_welfare
	cost = 3
	
	prerequisite = {
		focus = STG_the_trotting_distance_principle
	}
	relative_position_id = STG_the_trotting_distance_principle
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_land_where_all_live_comfortably"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_consumer_goods_factor = 0.05
			} 
			add_to_variable = {
				STG_RSE_production_speed_industrial_complex_factor = 0.15
			}
		}
		custom_effect_tooltip = STG_land_where_all_live_comfortably_effect_tt
	}
}
shared_focus = {
	id = STG_cities_for_ponies_above_all
	icon = GFX_goal_ideology_syndicalist
	cost = 3
	mutually_exclusive = {
		focus = STG_create_the_SDZ
	}
	prerequisite = {
		focus = STG_the_trotting_distance_principle
	}
	relative_position_id = STG_the_trotting_distance_principle
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cities_for_ponies_above_all"
		hidden_effect = {
			153 = {
				add_dynamic_modifier = {
					modifier = STG_kara_cooperative_urban_development_state_modifier
				}
			}
			166 = {
				add_dynamic_modifier = {
					modifier = STG_kara_cooperative_urban_development_state_modifier
				}
			}
			225 = {
				add_dynamic_modifier = {
					modifier = STG_kara_cooperative_urban_development_state_modifier
				}
			}
		}
		custom_effect_tooltip = STG_cities_for_ponies_above_all_effect_tt
		STG_karamelka_laborist_increase = yes
	}
}
shared_focus = {
	id = STG_life_of_more_than_eating_and_working
	icon = GFX_goal_PAL_Food_Import
	cost = 3
	prerequisite = {
		focus = STG_socialism_with_a_smile
	}
	prerequisite = {
		focus = STG_land_where_all_live_comfortably
	}
	relative_position_id = STG_socialism_with_a_smile
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_life_of_more_than_eating_and_working"
		country_event = { id = stalliongrad_karamelka_economy.2 }
	}
}
shared_focus = {
	id = STG_expand_light_industry
	icon = GFX_goal_ELF_agrarian
	cost = 3
	
	prerequisite = {
		focus = STG_legacy_of_NEP
	}
	relative_position_id = STG_legacy_of_NEP
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_expand_light_industry"
		three_random_industrial_complex = yes
		add_ideas = new_economic_policy
	}
}
shared_focus = {
	id = STG_taboo_of_market_socialism
	icon = GFX_goal_CVA_marketsock
	cost = 3
	
	prerequisite = {
		focus = STG_expand_light_industry
	}
	relative_position_id = STG_expand_light_industry
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_taboo_of_market_socialism"
		country_event = { id = stalliongrad_karamelka_economy.3 }
	}
}
shared_focus = {
	id = STG_create_the_SDZ
	icon = GFX_goal_UESR_TNO_post_scarcity
	cost = 3
	mutually_exclusive = {
		focus = STG_cities_for_ponies_above_all
	}
	prerequisite = {
		focus = STG_taboo_of_market_socialism
	}
	relative_position_id = STG_taboo_of_market_socialism
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_create_the_SDZ"
		hidden_effect = {
			153 = {
				add_dynamic_modifier = {
					modifier = STG_kara_special_development_zone_state_modifier
				}
			}
			166 = {
				add_dynamic_modifier = {
					modifier = STG_kara_special_development_zone_state_modifier
				}
			}
			332 = {
				add_dynamic_modifier = {
					modifier = STG_kara_special_development_zone_state_modifier
				}
			}
		}
		custom_effect_tooltip = STG_create_the_SDZ_effect_tt
		STG_karamelka_dengist_increase = yes
	}
}
shared_focus = {
	id = STG_cities_of_friendship		#much better then trains
	icon = GFX_focus_spa_the_spanish_miracle
	cost = 3
	
	prerequisite = {
		focus = STG_create_the_SDZ
		focus = STG_cities_for_ponies_above_all
	}
	relative_position_id = STG_create_the_SDZ
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cities_of_friendship"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_production_factory_max_efficiency_factor = 0.1
			}
			add_to_variable = {
				STG_RSE_global_building_slots_factor = 0.05
			}
		}
		custom_effect_tooltip = STG_cities_of_friendship_effect_tt
	}
}
shared_focus = {
	id = STG_what_have_we_built
	icon = GFX_goal_ITA_urban
	cost = 3
	prerequisite = {
		focus = STG_life_of_more_than_eating_and_working
	}
	prerequisite = {
		focus = STG_cities_of_friendship
	}
	relative_position_id = STG_cities_of_friendship
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_what_have_we_built"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_production_speed_buildings_factor = 0.1
			}
		}
		custom_effect_tooltip = STG_what_have_we_built_effect_tt
		country_event = { id = stalliongrad_karamelka_economy.4 }
	}
}
shared_focus = {
	id = STG_the_workers_know_their_labor
	icon = GFX_zebra_worker
	cost = 3
	
	prerequisite = {
		focus = STG_expand_light_industry
	}
	relative_position_id = STG_expand_light_industry
	x = 3
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_workers_know_their_labor"
		add_tech_bonus = {
			name = industrial_bonus
			category = industry
			bonus = 0.75
			uses = 3
		}
		two_random_industrial_complex = yes
	}
}
shared_focus = {
	id = STG_wisdom_of_the_worker
	icon = GFX_goal_generic_workers_democracy
	cost = 3
	
	prerequisite = {
		focus = STG_the_workers_know_their_labor
	}
	relative_position_id = STG_the_workers_know_their_labor
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_wisdom_of_the_worker"
		country_event = { id = stalliongrad_karamelka_economy.5 }
	}
}
shared_focus = {
	id = STG_honoring_our_heroes_of_labor
	icon = GFX_goal_Workers_of_Griffonia
	cost = 3
	
	prerequisite = {
		focus = STG_wisdom_of_the_worker
	}
	relative_position_id = STG_wisdom_of_the_worker
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_honoring_our_heroes_of_labor"
		# todo party advisors
	}
}
shared_focus = {
	id = STG_the_socialist_entrepeneur
	icon = GFX_goal_soviet_factory_town
	cost = 3
	mutually_exclusive = {
		focus = STG_lift_together_laugh_together_live_together
	}
	prerequisite = {
		focus = STG_honoring_our_heroes_of_labor
	}
	relative_position_id = STG_honoring_our_heroes_of_labor
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_socialist_entrepeneur"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_production_factory_max_efficiency_factor = 0.1
			}
			add_to_variable = {
				STG_RSE_production_factory_efficiency_gain_factor = 0.1
			}
		}
		custom_effect_tooltip = STG_the_socialist_entrepeneur_effect_tt
	}
}
shared_focus = {
	id = STG_show_them_our_prosperity
	icon = GFX_goal_ELF_equestria
	cost = 3
	
	prerequisite = {
		focus = STG_the_workers_know_their_labor
	}
	relative_position_id = STG_the_workers_know_their_labor
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_show_them_our_prosperity"
		every_other_country = {
			limit = {
				is_major = yes
				NOT = {
					has_government = fascism
				}
			}
			country_event = stalliongrad_karamelka_economy.6
		}
		add_ideas = STG_tech_showcase
	}
}
shared_focus = {
	id = STG_end_of_forced_collectivization
	icon = GFX_goal_collectivization
	cost = 3
	
	prerequisite = {
		focus = STG_legacy_of_NEP
	}
	relative_position_id = STG_legacy_of_NEP
	x = 6
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_end_of_forced_collectivization"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_production_factory_efficiency_gain_factor = 0.05
			}
			add_to_variable = {
				STG_RSE_consumer_goods_factor = -0.025
			}
		}
		custom_effect_tooltip = STG_end_of_forced_collectivization_tt
	}
}
shared_focus = {
	id = STG_national_grain_reserve
	icon = GFX_focus_generic_agricultural_subsidies
	cost = 3
	
	prerequisite = {
		focus = STG_end_of_forced_collectivization
	}
	relative_position_id = STG_end_of_forced_collectivization
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_grain_reserve"
		add_ideas = STG_national_grain_reserve_idea 
	}
}
shared_focus = {
	id = STG_found_the_SNU_SNU			#Sorry for stupied joke
	icon = GFX_goal_agricultural_aid
	cost = 3
	
	prerequisite = {
		focus = STG_end_of_forced_collectivization
	}
	relative_position_id = STG_end_of_forced_collectivization
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_found_the_SNU_SNU"
		custom_effect_tooltip = available_industrial_concern
		show_ideas_tooltip = STG_snu_snu
	}
}
shared_focus = {
	id = STG_exportation_of_agricultural_goods
	icon = GFX_goal_coffee_exports
	cost = 3
	
	prerequisite = {
		focus = STG_found_the_SNU_SNU
	}
	relative_position_id = STG_found_the_SNU_SNU
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_exportation_of_agricultural_goods"
		add_political_power = 75
		two_random_arms_factory = yes
	}
}
shared_focus = {
	id = STG_healthy_partner_economy
	icon = GFX_goal_ELF_economy
	cost = 3
	prerequisite = {
		focus = STG_show_them_our_prosperity
	}
	prerequisite = {
		focus = STG_exportation_of_agricultural_goods
	}
	relative_position_id = STG_exportation_of_agricultural_goods
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_healthy_partner_economy"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_trade_opinion_factor = 0.5
			}
			add_to_variable = {
				STG_RSE_min_export = -0.05
			}
		}
		custom_effect_tooltip = STG_healthy_partner_economy_effect_tt
	}
}
shared_focus = {
	id = STG_lift_together_laugh_together_live_together
	icon = GFX_goal_ELF_friendship
	cost = 3
	mutually_exclusive = {
		focus = STG_the_socialist_entrepeneur
	}
	prerequisite = {
		focus = STG_healthy_partner_economy
	}
	relative_position_id = STG_healthy_partner_economy
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_lift_together_laugh_together_live_together"
		hidden_effect = {
			add_to_variable = {
				STG_RSE_global_building_slots_factor = 0.1
			}
			add_to_variable = {
				STG_RSE_consumer_goods_factor = 0.05
			}
			add_to_variable = {
				STG_RSE_production_factory_max_efficiency_factor = 0.05
			}
		}
		custom_effect_tooltip = STG_lift_together_laugh_together_live_together_tt
	}
}
shared_focus = {
	id = STG_full_trade_liberalization
	icon = GFX_tradegoods
	cost = 3
	
	prerequisite = {
		focus = STG_healthy_partner_economy
	}
	relative_position_id = STG_healthy_partner_economy
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_full_trade_liberalization"
		country_event = stalliongrad_karamelka_economy.7
	}
}
shared_focus = {
	id = STG_visit_the_princess
	icon = GFX_goal_eqs_canterlot
	cost = 3
	
	prerequisite = {
		focus = STG_full_trade_liberalization
	}
	relative_position_id = STG_full_trade_liberalization
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_visit_the_princess"
		country_event = stalliongrad_karamelka_economy.8
	}
}
shared_focus = {
	id = STG_a_sustainable_socialist_society
	icon = GFX_goal_stg_the_magic_of_socialism
	cost = 3
	prerequisite = {
		focus = STG_what_have_we_built
	}
	prerequisite = {
		focus = STG_the_socialist_entrepeneur
		focus = STG_lift_together_laugh_together_live_together
	}
	relative_position_id = STG_the_socialist_entrepeneur
	x = -3
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_sustainable_socialist_society"
		add_ideas = STG_paragon_of_socialism
	}
}

#################################
### Political tree Candy Pone ###
#################################

shared_focus = {
	id = STG_Severyana_Aboard
	icon = GFX_goal_stg_wip_icon
	cost = 3

	x = 10
	y = 10
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_Severyana_Aboard"
		country_event = stalliongrad_karamelka.20
	}
}
shared_focus = {
	id = STG_secure_the_north
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	relative_position_id = STG_Severyana_Aboard
	x = -3
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_secure_the_north"
		# todo invasion of authoritarian nova and maybe penguins/bears
	}
}
shared_focus = {
	id = STG_a_sister_socialist_republic		#let's make a sororal socialist kiss!
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_secure_the_north
	}
	relative_position_id = STG_secure_the_north
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_sister_socialist_republic"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_smash_the_smashing_yaks
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_secure_the_north
	}
	relative_position_id = STG_secure_the_north
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_smash_the_smashing_yaks"
		if = {
			limit = {
				country_exists = JAK
			}
			create_wargoal = {
				target = JAK
				type = puppet_wargoal_focus
			}
		}
		else_if = {
			limit = {
				YAK = {
					has_country_leader = {
						character = YAK_karsak_sukhbataar
						ruling_only = yes
					}
				}
			}
			create_wargoal = {
				target = YAK
				type = puppet_wargoal_focus
			}
		}
		else_if = {
			limit = {
				YAK = {
					OR = {
						has_government = communism
						has_country_leader = {
							character = YAK_Yona
							ruling_only = yes
						}
					}
				}
			}
			country_event = generic.5 # invite to faction
			# TODO make real event
		}

	}
}
shared_focus = {
	id = STG_equestrians_northern_flank
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_smash_the_smashing_yaks
	}
	relative_position_id = STG_smash_the_smashing_yaks
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	available = {
		has_subjects = yes
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_equestrians_northern_flank"
		every_subject_country = {
			every_owned_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = STG_an_institution_of_cooperation
	icon = GFX_goal_stg_wip_icon
	cost = 3
	mutually_exclusive = {
		focus = STG_an_idealogical_bastion
	}
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	relative_position_id = STG_Severyana_Aboard
	x = -1
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_an_institution_of_cooperation"
		# TODO comecon stuff - 
	}
}
shared_focus = {
	id = STG_an_idealogical_bastion
	icon = GFX_goal_stg_wip_icon
	cost = 3
	mutually_exclusive = {
		focus = STG_an_institution_of_cooperation
	}
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	relative_position_id = STG_Severyana_Aboard
	x = 1
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_an_idealogical_bastion"
		# TODO comecon stuff
	}
}
shared_focus = {
	id = STG_the_creatures_fund_for_progress
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_an_idealogical_bastion
		focus = STG_an_institution_of_cooperation
	}
	relative_position_id = STG_an_idealogical_bastion
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_creatures_fund_for_progress"
		# TODO comecon stuff
	}
}
shared_focus = {
	id = STG_the_international_brigades
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_the_creatures_fund_for_progress
	}
	relative_position_id = STG_the_creatures_fund_for_progress
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_international_brigades"
		add_ideas = STG_international_brigade
	}
}
shared_focus = {
	id = STG_comrades_in_griffonia
	icon = GFX_goal_stg_wip_icon
	cost = 3
	mutually_exclusive = {
		focus = STG_wingbardian_connection
	}
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	relative_position_id = STG_Severyana_Aboard
	x = 3
	y = 1
	ai_will_do = {
		factor = 5
	}
	available = {
		any_other_country = {
			tooltip = any_other_griffonia
			if = {
				limit = {
					hidden_trigger = {
						is_griffon_continent_country = yes
					}
				}
				has_government = communism
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_following_the_equestrians_to_zebrica"
		every_other_country = {
			limit = {
				is_griffon_continent_country = yes
				has_government = communism
			}
			ROOT = {
				send_equipment = {
					amount = 2000
					type = infantry_equipment
					target = PREV
				}
			}
			add_ideas = STG_political_support
		}
		# TODO visitation decisions
	}
}
shared_focus = {
	id = STG_following_the_equestrians_to_zebrica
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	relative_position_id = STG_Severyana_Aboard
	x = 4
	y = 2
	ai_will_do = {
		factor = 5
	}
	available = {
		any_other_country = {
			tooltip = any_other_zebrica
			if = {
				limit = {
					hidden_trigger = {
						is_zebrican_continent_country = yes
					}
				}
				has_government = communism
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_following_the_equestrians_to_zebrica"
		every_other_country = {
			limit = {
				is_zebrican_continent_country = yes
				has_government = communism
			}
			ROOT = {
				send_equipment = {
					amount = 2000
					type = infantry_equipment
					target = PREV
				}
			}
			add_ideas = STG_political_support
		}
		# TODO visitation decisions
	}
}
shared_focus = {
	id = STG_wingbardian_connection
	icon = GFX_goal_stg_wip_icon
	cost = 3
	mutually_exclusive = {
		focus = STG_comrades_in_griffonia
	}
	prerequisite = {
		focus = STG_Severyana_Aboard
	}
	available = {
		WNG = {
			has_completed_focus = WNG_prepare_the_counterrevolution
			OR = {
				has_government = democratic
				has_government = communism
				NOT = {
					has_country_leader_ideology = stalinism
				}
			}
			is_subject = no
		}
	}
	relative_position_id = STG_Severyana_Aboard
	x = 5
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_wingbardian_connection"
		if = {
			limit = {
				WNG = {
					has_completed_focus = WNG_the_communists_take_power
				}
			}
			country_event = stalliongrad_karamelka.16			
			WNG = {
				country_event = stalliongrad_karamelka.16
			}
		}
		else_if = {
			limit = {
				WNG = {
					has_completed_focus = WNG_the_socialists_take_power
				}
			}
			country_event = stalliongrad_karamelka.17
			WNG = {
				country_event = stalliongrad_karamelka.17
			}
		}
		
		else_if = {
			limit = {
				WNG = {
					has_completed_focus = WNG_a_victory_for_the_unitary_socialists
				}
			}
			country_event = stalliongrad_karamelka.18
			WNG = {
				country_event = stalliongrad_karamelka.18
			}
		}
		else_if = {
			limit = {
				WNG = {
					has_completed_focus = WNG_a_victory_for_the_republicans
				}
			}
			country_event = stalliongrad_karamelka.19
			WNG = {
				country_event = stalliongrad_karamelka.19
			}
		}
		else = {
			custom_effect_tooltip = STG_wingbardy_not_friend
		}
	}
}

##############################################
### National defence initiative Candy Pone ###
##############################################

shared_focus = {
	id = STG_national_defence_initiative
	icon = GFX_goal_stg_wip_icon
	cost = 3

	x = 25
	y = 8
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_necessary_cutbacks
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_national_defence_initiative
	}
	relative_position_id = STG_national_defence_initiative
	x = -5
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_wartime_welfare
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_necessary_cutbacks
	}
	relative_position_id = STG_necessary_cutbacks
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_provide_for_your_soldiers
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_necessary_cutbacks
	}
	relative_position_id = STG_necessary_cutbacks
	x = 0
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_what_can_you_do_for_war
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_necessary_cutbacks
	}
	relative_position_id = STG_necessary_cutbacks
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_fire_up_the_forges
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_national_defence_initiative
	}
	relative_position_id = STG_national_defence_initiative
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_urban_logistics_hubs
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_fire_up_the_forges
	}
	relative_position_id = STG_fire_up_the_forges
	x = -2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_urban_class_unleashed
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_fire_up_the_forges
	}
	relative_position_id = STG_fire_up_the_forges
	x = -1
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_plowshares_back_into_swords
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_fire_up_the_forges
	}
	relative_position_id = STG_fire_up_the_forges
	x = 0
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_developing_violence
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_fire_up_the_forges
	}
	relative_position_id = STG_fire_up_the_forges
	x = 1
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_call_to_arms
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_fire_up_the_forges
	}
	relative_position_id = STG_fire_up_the_forges
	x = 2
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_mass_weapon_lend_lease
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_national_defence_initiative
	}
	relative_position_id = STG_national_defence_initiative
	x = 5
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_reverse_engineering
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_mass_weapon_lend_lease
	}
	relative_position_id = STG_mass_weapon_lend_lease
	x = -1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_when_markets_buckle_steel_survives
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_mass_weapon_lend_lease
	}
	relative_position_id = STG_mass_weapon_lend_lease
	x = 0
	y = 2
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}
shared_focus = {
	id = STG_international_fuel_security
	icon = GFX_goal_stg_wip_icon
	cost = 3
	
	prerequisite = {
		focus = STG_mass_weapon_lend_lease
	}
	relative_position_id = STG_mass_weapon_lend_lease
	x = 1
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_national_defence_initiative"
		add_political_power = 1
	}
}

#################################
### Karamelka's military tree ###
#################################

shared_focus = {
	id = STG_orders_for_the_red_army
	icon = GFX_goal_zebra_army_reform
	cost = 2
	x = 51
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_orders_for_the_red_army"
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_to_variable = { STG_conscription = -0.10 tooltip = STG_conscription_tt }
		#custom_effect_tooltip = STG_orders_for_the_red_army_ns_tt
		if = {
			limit = {
				NOT = { has_country_flag = STG_voyennaya_pobudka }
			}
			country_event = { id=stalliongrad_mil.1 }
		}
	}
}
shared_focus = {
	id = STG_disband_irregulars
	icon = GFX_goal_HOL_ban_paramilitary
	cost = 3
	prerequisite = {
		focus = STG_orders_for_the_red_army
	}
	relative_position_id = STG_orders_for_the_red_army
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_disband_irregulars"
		country_event = { id=stalliongrad_mil.2 }
	}
}
shared_focus = {
	id = STG_establish_motostrelki
	icon = GFX_truck_gen
	cost = 3
	prerequisite = {
		focus = STG_disband_irregulars
	}
	mutually_exclusive = {
		focus = STG_tank_guard
	}
	relative_position_id = STG_disband_irregulars
	x = -2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_establish_motostrelki"
		add_tech_bonus = {
			ahead_reduction = 2
			uses = 1
			category = cat_mechanized_equipment
		}
		add_to_variable = { STG_army_motorized_attack_factor = 0.1 }
		add_to_variable = { STG_army_mechanized_attack_factor = 0.1 }
		custom_effect_tooltip = STG_establish_motostrelki_ns_tt
	}
}
shared_focus = {
	id = STG_mass_mechanization 
	icon = GFX_goal_TRO_Prioritise_Troop_Mechanisation
	cost = 3
	prerequisite = {
		focus = STG_establish_motostrelki
	}
	relative_position_id = STG_establish_motostrelki 
	x = -4
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_mass_mechanization"
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = motorized_equipment
		}
		add_ideas = STG_mass_mechanization_kar
		add_equipment_to_stockpile = {
			type = mechanized_equipment
			amount = 150
		}
	}
}
shared_focus = {
	id = STG_shields_of_proletariat 
	icon = GFX_tank_H
	cost = 3
	prerequisite = {
		focus = STG_mass_mechanization
	}
	relative_position_id = STG_mass_mechanization
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_shields_of_proletariat"
		add_tech_bonus = {
			name = mech_army_bonus
			bonus = 1.0
			uses = 1
			category = cat_mechanized_equipment
		}
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 1
			category = cat_mobile_warfare
		}
		add_ideas = STG_shields_of_proletariat_kar
	}
}
shared_focus = {
	id = STG_guns_or_butter
	icon = GFX_goal_generic_bits_gun
	cost = 3
	prerequisite = {
		focus = STG_establish_motostrelki
	}
	relative_position_id = STG_mass_mechanization
	x = 2
	y = 0
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_guns_or_butter"
		country_event = { id=stalliongrad_mil.6 }
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = SOV_the_means_to_wage_war
			bonus = 0.5
			uses = 2
			category = support_tech
		}
	}
}
shared_focus = {
	id = STG_kar_mass_mobilization
	icon = GFX_goal_generic_pony_volunteer
	cost = 3
	prerequisite = {
		focus = STG_establish_motostrelki
	}
	relative_position_id = STG_mass_mechanization
	x = 4
	y = 0
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_kar_mass_mobilization"
		add_to_variable = { STG_conscription = 0.025 }
		add_to_variable = { STG_mobilization_speed = 0.1 }
		custom_effect_tooltip = STG_kar_mass_mobilization_ns_tt
	}
}
shared_focus = {
	id = STG_heroes_of_might_and_magic
	icon = GFX_goal_unicorn_soldier
	cost = 3
	prerequisite = {
		focus = STG_kar_mass_mobilization
	}
	mutually_exclusive = {
		focus = STG_the_sorcery_of_the_proles
	}
	relative_position_id = STG_kar_mass_mobilization
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_heroes_of_might_and_magic"		
		add_tech_bonus = {
			bonus = 1.0
			uses = 2
			category = magical_tech
		}
		add_ideas = STG_heroes_of_might_and_magic_kar
	}
}
shared_focus = {
	id = STG_the_sorcery_of_the_proles
	icon = GFX_goal_generic_magic
	cost = 3
	prerequisite = {
		focus = STG_kar_mass_mobilization
	}
	mutually_exclusive = {
		focus = STG_heroes_of_might_and_magic
	}
	relative_position_id = STG_kar_mass_mobilization
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_sorcery_of_the_proles"
		add_tech_bonus = {
			bonus = 1.0
			uses = 2
			category = race_tech
		}
		add_ideas = STG_sorcery_of_the_proles
	}
}
shared_focus = {
	id = STG_the_council_of_the_peoples_warriors
	icon = GFX_goal_MAF_African_Pilots
	cost = 3
	prerequisite = {
		focus = STG_shields_of_proletariat
	}
	prerequisite = {
		focus = STG_guns_or_butter
	}
	prerequisite = {
		focus = STG_heroes_of_might_and_magic
		focus = STG_the_sorcery_of_the_proles
	}
	relative_position_id = STG_guns_or_butter
	x = 0
	y = 2
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_council_of_the_peoples_warriors"
		#add_ideas = STG_council_of_peoples_warriors_kar
		add_to_variable = { STG_experience_gain_army_factor = 0.05 }
		add_to_variable = { STG_max_command_power = 20 }
		add_to_variable = { STG_army_morale_factor = 0.1 }
		custom_effect_tooltip = STG_the_council_of_the_peoples_warriors_ns_tt
	}
}
shared_focus = {
	id = STG_do_you_like_ballet_comrade
	icon = GFX_goal_soviet_rockets
	cost = 3
	prerequisite = {
		focus = STG_the_council_of_the_peoples_warriors
	}
	relative_position_id = STG_the_council_of_the_peoples_warriors
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus STG_do_you_like_ballet_comrade"
		add_tech_bonus = {
			bonus = 1.0
			uses = 1
			category = mot_rockets
		}
		add_tech_bonus = {
			bonus = 1.0
			uses = 2
			category = rocketry
		}
		add_to_variable = { STG_army_artillery_attack_factor = 0.1 } 
		custom_effect_tooltip = STG_do_you_like_ballet_comrade_ns_tt
	}
}
shared_focus = {
	id = STG_tank_guard
	icon = GFX_goal_soviet_tankie
	cost = 3
	prerequisite = {
		focus = STG_disband_irregulars
	}
	mutually_exclusive = {
		focus = STG_establish_motostrelki
	}
	relative_position_id = STG_disband_irregulars
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_tank_guard"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 2
			category = armor
		}
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 1
			category = cat_mobile_warfare
		}
		add_to_variable = { STG_army_armor_attack_factor = 0.05 }
		add_to_variable = { STG_army_armor_defence_factor = 0.05 }
		custom_effect_tooltip = STG_tank_guard_ns_tt
	}
}
shared_focus = {
	id = STG_finish_depolitisation
	icon = GFX_goal_UESR_TNO_equestria_all
	cost = 3
	prerequisite = {
		focus = STG_tank_guard
	}
	relative_position_id = STG_tank_guard
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_finish_depolitisation"
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 1
			category = cat_mobile_warfare
		}
		add_to_variable = { STG_experience_gain_army_factor = 0.25}
		add_to_variable = { STG_army_advisor_cost_factor = 0.5}
		custom_effect_tooltip = STG_finish_depolitisation_ns_tt
	}
}
shared_focus = {
	id = STG_enforce_discipline
	icon = GFX_goal_WNG_COM_army
	cost = 3
	prerequisite = {
		focus = STG_finish_depolitisation
	}
	relative_position_id = STG_finish_depolitisation
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_enforce_discipline"
		add_to_variable = { STG_army_speed_factor = 0.1 }
		add_to_variable = { STG_army_morale_factor = 0.1 }
		add_to_variable = { STG_conscription_factor = -0.1 }
		custom_effect_tooltip = STG_enforce_discipline_ns_tt
	}
}
shared_focus = {
	id = STG_infantry_supports_tanks
	icon = GFX_goal_generic_army_tank_2
	cost = 3
	prerequisite = {
		focus = STG_enforce_discipline
	}
	relative_position_id = STG_enforce_discipline
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_infantry_supports_tanks"
		add_doctrine_cost_reduction = {
			name = cat_mobile_warfare
			cost_reduction = 0.5
			uses = 1
			category = cat_mobile_warfare
		}
		add_to_variable = { STG_army_org_Factor = 0.05 }
		add_to_variable = { STG_experience_gain_army_factor = 0.1}
		custom_effect_tooltip = STG_infantry_supports_tanks_ns_tt
	}
}
shared_focus = {
	id = STG_large_tanks_project
	icon = GFX_tank_L_M
	cost = 3
	prerequisite = {
		focus = STG_infantry_supports_tanks
	}
	relative_position_id = STG_infantry_supports_tanks
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_large_tanks_project"
		add_tech_bonus = {
			bonus = 1.5
			uses = 2
			category = cat_heavy_armor	
		}
		one_random_arms_factory = yes
	}
}
shared_focus = {
	id = STG_command_hierarchy_enforced
	icon = GFX_goal_UESR_TNO_generals
	cost = 3
	prerequisite = {
		focus = STG_enforce_discipline
	}
	prerequisite = {
		focus = STG_allow_foreign_research_firms
	}
	relative_position_id = STG_enforce_discipline	
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_command_hierarchy_enforced"
		add_to_variable = { STG_army_morale_factor = 0.05}
		add_to_variable = { STG_max_dig_in_factor = 0.05}
		add_to_variable = { STG_org_loss_when_moving = -0.1}
		add_to_variable = { STG_command_power_gain = 0.1}
		custom_effect_tooltip = STG_command_hierarchy_enforced_ns_tt
	}
}
shared_focus = {
	id = STG_industry_for_the_red_army
	icon = GFX_goal_stg_socialist_industry
	cost = 3
	prerequisite = {
		focus = STG_tank_guard
	}
	relative_position_id = STG_tank_guard
	x = 2
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_industry_for_the_red_army"
		add_to_variable = { STG_army_production_speed_arms_factory_factor = 0.1 }
		custom_effect_tooltip = STG_industry_for_the_red_army_ns_tt
		one_random_arms_factory = yes
	}
}
shared_focus = {
	id = STG_allow_foreign_research_firms
	icon = GFX_goal_double_research
	cost = 3
	prerequisite = {
		focus = STG_industry_for_the_red_army
	}
	relative_position_id = STG_industry_for_the_red_army
	x = 0
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_allow_foreign_research_firms"
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = armor
		}
		#Event for EQS about armor cooperation and design cost are needed
	}
}
shared_focus = {
	id = STG_tank_mass_production
	icon = GFX_focus_indy_tanks_across_the_border
	cost = 3
	prerequisite = {
		focus = STG_allow_foreign_research_firms
	}
	relative_position_id = STG_allow_foreign_research_firms
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_tank_mass_production"
		add_ideas = STG_inventors_of_armor_kar_1
		add_tech_bonus = {
			bonus = 1
			uses = 1
			category = 	armor
		}
	}
}
shared_focus = {
	id = STG_the_inventors_of_the_armor
	icon = GFX_goal_stg_tank_factories
	cost = 3
	mutually_exclusive = {
		focus = STG_armor_development_institute
	}
	prerequisite = {
		focus = STG_tank_mass_production
	}
	relative_position_id = STG_tank_mass_production
	x = -1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_the_inventors_of_the_armor"
		swap_ideas = { 
			remove_idea = STG_inventors_of_armor_kar_1 
			add_idea = STG_inventors_of_armor_kar_2
		}
	}
}
shared_focus = {
	id = STG_armor_development_institute 
	icon = GFX_goal_eqs_military_cooperation
	cost = 3
	mutually_exclusive = {
		focus = STG_the_inventors_of_the_armor
	}
	prerequisite = {
		focus = STG_tank_mass_production
	}
	relative_position_id = STG_tank_mass_production
	x = 1
	y = 1
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: STG_armor_development_institute"
		# Create unique tank designer with equestrian cooperation, allowed for both countries, if EQS accepted suggestion
	}
}

### air ###

shared_focus = {
	id = STG_born_on_earth_can_fly
	icon = GFX_focus_generic_cas_aircraft
	cost = 3
	prerequisite = {
		focus = STG_disband_irregulars
	}
	relative_position_id = STG_disband_irregulars
	x = 8
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_born_on_earth_can_fly"
		country_event = { id=stalliongrad_mil.4 }
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = air_equipment	
		}
		air_experience = 25
	}
}
shared_focus = {
	id = STG_pilot_is_the_most_valuable_part
	icon = GFX_focus_generic_copy_plane_designs
	cost = 3
	prerequisite = {
		focus = STG_born_on_earth_can_fly
	}
	relative_position_id = STG_born_on_earth_can_fly
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_pilot_is_the_most_valuable_part"
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 1
			category = air_doctrine
		}
		add_dynamic_modifier = { modifier = STG_revolutionary_airforce_dynamic_modifier }
		add_to_variable = { STG_air_wing_xp_loss_when_killed_factor = -0.25 }
		add_to_variable = { STG_air_ace_effectiveness_factor = 0.15 }
		custom_effect_tooltip = STG_pilot_is_the_most_valuable_part_ns_tt
	}
}
shared_focus = {
	id = STG_air_superiority_is_the_best_production
	icon = GFX_goal_generic_air_fighter2_new
	cost = 3
	prerequisite = {
		focus = STG_pilot_is_the_most_valuable_part
	}
	mutually_exclusive = {
		focus = STG_a_flying_tank
	}
	relative_position_id =  STG_pilot_is_the_most_valuable_part
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_air_superiority_is_the_best_production"
		add_tech_bonus = {
			name =  fighter_bonus
			bonus = 1.0
			uses = 1
			category = light_air
		}
		#add_ideas = STG_clear_sky
		add_to_variable = { STG_air_army_bonus_air_superiority_factor = 0.05 }
		add_to_variable = { STG_air_air_ace_bonuses_factor = 0.05 }
		custom_effect_tooltip = STG_the_severyanian_etazhorka_ns_tt
	}
}
shared_focus = {
	id = STG_a_flying_tank
	icon = GFX_goal_generic_CAS
	cost = 3
	prerequisite = {
		focus = STG_pilot_is_the_most_valuable_part
	}
	mutually_exclusive = {
		focus = STG_air_superiority_is_the_best_production
	}
	relative_position_id =  STG_pilot_is_the_most_valuable_part
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_flying_tank"
		add_tech_bonus = {
			bonus = 1.0
			uses = 1
			category = light_air
		}
		#add_ideas = STG_flying_tanks
		add_to_variable = { STG_air_air_cas_efficiency = 0.05 }
		add_to_variable = { STG_air_air_cas_present_factor = 0.05 }
		custom_effect_tooltip = STG_a_flying_tank_ns_tt
	}
}
shared_focus = {
	id = STG_aviation_industry
	icon = GFX_goal_KIR_continuous_air
	cost = 3
	prerequisite = {
		focus = STG_a_flying_tank
		focus = STG_air_superiority_is_the_best_production
	}
	relative_position_id = STG_air_superiority_is_the_best_production
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_aviation_industry"
		air_experience = 15
		add_ideas = STG_aviation_industry_idea
	}
}

### naval ###

shared_focus = {
	id = STG_force_projection
	icon = GFX_focus_generic_navy_battleship3
	cost = 3
	prerequisite = {
		focus = STG_disband_irregulars
	}
	relative_position_id = STG_disband_irregulars
	x = -9
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_force_projection"
		add_dynamic_modifier = { modifier = STG_red_fleet_dynamic_modifier }
		add_to_variable = { STG_navy_capital_ship_attack_factor = 0.1 }
		custom_effect_tooltip = STG_force_projection_ns_tt
		#Two battleships with 75% production ready are needed
	}
}
shared_focus = {
	id = STG_carriers_will_defend_the_fleet
	icon = GFX_goal_carrier
	cost = 8
	prerequisite = {
		focus = STG_force_projection
	}
	mutually_exclusive = {
		focus = STG_secure_the_convoys
	}
	relative_position_id = STG_force_projection
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cruiser_submarines"
		set_technology = {
			early_ship_hull_carrier = 1
		}
		add_tech_bonus = {
			bonus = 1
			uses = 2 
			category = cv_tech
		}
		add_to_variable = { STG_navy_carrier_air_targetting_factor = 0.1 }
		custom_effect_tooltip = STG_carriers_will_defend_the_fleet_ns_tt
		#Two converted battleships with 45% production ready are needed
	}
}
shared_focus = {
	id = STG_secure_the_convoys
	icon = GFX_focus_generic_destroyer
	cost = 8
	prerequisite = {
		focus = STG_force_projection
	}
	mutually_exclusive = {
		focus = STG_carriers_will_defend_the_fleet
	}
	relative_position_id = STG_force_projection
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_secure_the_convoys"
		add_tech_bonus = {
			bonus = 1 
			uses = 1 
			category = cl_tech
		}
		add_tech_bonus = {
			bonus = 1
			uses = 1 
			category = dd_tech
		}
		add_to_variable = { STG_naval_retreat_chance = 0.1 }
		add_to_variable = { STG_naval_retreat_speed = 0.1 }
		custom_effect_tooltip = STG_secure_the_convoys_ns_tt
		#Three light cruisers with 50% production ready are needed 
	}
}
shared_focus = {
	id = STG_dead_eye_of_the_navy
	icon = GFX_goal_naval_effort
	cost = 3
	prerequisite = {
		focus = STG_carriers_will_defend_the_fleet
		focus = STG_secure_the_convoys
	}
	relative_position_id = STG_carriers_will_defend_the_fleet
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_dead_eye_of_the_navy"
		add_tech_bonus = {
			bonus = 1.0
			uses = 2
			category = radar_tech
		}
		add_to_variable = { STG_navy_visibility = -0.05 }
		custom_effect_tooltip = STG_dead_eye_ns_tt
	}
}
shared_focus = {
	id = STG_hunters_of_the_depths
	icon = GFX_submarine_gen
	cost = 3
	prerequisite = {
		focus = STG_dead_eye_of_the_navy
	}
	relative_position_id = STG_dead_eye_of_the_navy
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_hunters_of_the_depths"
		add_tech_bonus = {
			bonus = 1.0
			uses = 1
			category = ss_tech
		}
		add_to_variable = { STG_navy_submarine_attack_factor = 0.15}
		custom_effect_tooltip = STG_hunters_of_the_depths_ns_tt
	}
}
shared_focus = {
	id = STG_we_dont_fly_so_others_cant
	icon = GFX_goal_Anti_Air_Guns
	cost = 3
	prerequisite = {
		focus = STG_dead_eye_of_the_navy
	}
	relative_position_id = STG_dead_eye_of_the_navy
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus we_dont_fly_so_others_cant"
		add_doctrine_cost_reduction = { 
			cost_reduction = 0.5
			uses = 3
			category = naval_doctrine
		}
		add_to_variable = { STG_navy_anti_air_attack_factor = 0.15 }
		custom_effect_tooltip = STG_we_dont_fly_so_others_cant_ns_tt
	}
}


################
### Sinister ###
################

shared_focus = {
	id = STG_sinister_wins
	icon = GFX_goal_STG_a_new_day
	cost = 3

	x = 10
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinister_wins"
		add_to_variable = {
			STG_sinisterist_control_drift_defence_factor = 0.05
			tooltip = STG_sc_more_ideological_drift_defence_tt
		}
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = -0.2
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = -0.1
			tooltip = STG_sc_more_war_stability_factor_tt
		}
		country_event = stalliongrad_sinister.16
	}
}
shared_focus = {
	id = STG_cooperation_with_center
	icon = GFX_goal_stg_socialist_cooperation
	cost = 5
	prerequisite = {
		focus = STG_sinister_wins
	}
	mutually_exclusive = {
		focus = STG_sinistrists_will_lead_the_people
	}
	relative_position_id = STG_sinister_wins
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cooperation_with_center"
		country_event = stalliongrad_sinister.17
	}
}
shared_focus = {
	id = STG_sinistrists_will_lead_the_people
	icon = GFX_goal_STG_sinister_will_lead_the_people
	cost = 5
	prerequisite = {
		focus = STG_sinister_wins
	}
	mutually_exclusive = {
		focus = STG_cooperation_with_center
	}
	relative_position_id = STG_sinister_wins
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinistrists_will_lead_the_people"
		country_event = stalliongrad_sinister.18
	}
}
shared_focus = {
	id = STG_facilitated_party_democracy
	icon = GFX_goal_ideology_democratic_socialist
	cost = 5
	prerequisite = {
		focus = STG_cooperation_with_center
	}
	relative_position_id = STG_cooperation_with_center
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_facilitated_party_democracy"
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.05
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_war_stability_factor = 0.1
			tooltip = STG_sc_more_war_stability_factor_tt
		}
	}
}
shared_focus = {
	id = STG_proclamate_our_best_intentions
	icon = GFX_goal_UESR_TNO_justice
	cost = 5
	prerequisite = {
		focus = STG_cooperation_with_center
		focus = STG_sinistrists_will_lead_the_people
	}
	relative_position_id = STG_cooperation_with_center
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_proclamate_our_best_intentions"
		country_event = stalliongrad_sinister.19
	}
}
shared_focus = {
	id = STG_only_party_will_save_the_world
	icon = GFX_goal_STG_only_the_party_will_save_the_world
	cost = 5
	prerequisite = {
		focus = STG_sinistrists_will_lead_the_people
	}
	relative_position_id = STG_sinistrists_will_lead_the_people
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_only_party_will_save_the_world"
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.1
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = 0.05
			tooltip = STG_sc_more_stability_factor_tt
		}
	}
}
shared_focus = {
	id = STG_in_defence_of_proletariat
	icon = GFX_goal_STG_in_defence_of_proletariat
	cost = 5
	prerequisite = {
		focus = STG_facilitated_party_democracy
	}
	prerequisite = {
		focus = STG_we_will_fix_in_three_years
	}
	available = {
		has_completed_focus = STG_plan_of_industrial_development
	}
	relative_position_id = STG_facilitated_party_democracy
	x = -1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_in_defence_of_proletariat"
		add_to_variable = {
			STG_sinisterist_control_land_bunker_effectiveness_factor = 0.25
			tooltip = STG_sc_more_land_bunker_effectiveness_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_static_anti_air_damage_factor = 0.15
			tooltip = STG_sc_more_static_anti_air_damage_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_industry_free_repair_factor = 0.25
			tooltip = STG_sc_more_industry_free_repair_factor_tt
		}
		add_tech_bonus = {
			name = anti_air_bonus
			uses = 1
			bonus = 1
			category = cat_anti_air
		}
	}
}
shared_focus = {
	id = STG_limitation_of_soviet_democracy
	icon = GFX_goal_STG_soviet_democracy_reformed
	cost = 5
	prerequisite = {
		focus = STG_in_defence_of_proletariat
	}
	mutually_exclusive = {
		focus = STG_party_will_lead_the_soviets
	}
	relative_position_id = STG_in_defence_of_proletariat
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_limitation_of_soviet_democracy"

		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.05
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = 0.1
			tooltip = STG_sc_more_stability_factor_tt
		}
	}
}
shared_focus = {
	id = STG_party_will_lead_the_soviets
	icon = GFX_goal_STG_party_first
	cost = 5
	prerequisite = {
		focus = STG_in_defence_of_proletariat
	}
	mutually_exclusive = {
		focus = STG_limitation_of_soviet_democracy
	}
	relative_position_id = STG_in_defence_of_proletariat
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_party_will_lead_the_soviets"
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.15
			tooltip = STG_sc_more_political_power_factor_tt
		}
	}
}
shared_focus = {
	id = STG_the_citizen_soviets
	icon = GFX_goal_STG_citizen_soviets
	cost = 5
	prerequisite = {
		focus = STG_limitation_of_soviet_democracy
	}
	mutually_exclusive = {
		focus = STG_the_worker_soviets
	}
	relative_position_id = STG_limitation_of_soviet_democracy
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_citizen_soviets"
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_efficiency_gain_factor = 0.05 
				tooltip = STG_get_factory_efficiency_gain_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_start_efficiency_factor = 0.025 
				tooltip = STG_get_factory_start_efficiency_factor_tt 
			}
		}
		else_if = {
			limit = { 
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_max_efficiency_factor = 0.1 
				tooltip = STG_get_factory_max_efficiency_factor_tt 
			}
		}
		else = {
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}
shared_focus = {
	id = STG_the_worker_soviets
	icon = GFX_goal_STG_worker_soviets
	cost = 5
	prerequisite = {
		focus = STG_limitation_of_soviet_democracy
		focus = STG_party_will_lead_the_soviets
	}
	mutually_exclusive = {
		focus = STG_the_citizen_soviets
		focus = STG_the_stallionist_vanguardism
	}
	relative_position_id = STG_limitation_of_soviet_democracy
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_worker_soviets"
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_max_efficiency_factor = 0.05 
				tooltip = STG_get_factory_max_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_efficiency_gain_factor = -0.075 
				tooltip = STG_less_factory_efficiency_gain_factor_tt 
			}
		}
		else_if = {
			limit = { 
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_max_efficiency_factor = -0.025 
				tooltip = STG_less_factory_max_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_efficiency_gain_factor = 0.1 
				tooltip = STG_get_factory_efficiency_gain_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_start_efficiency_factor = 0.05 
				tooltip = STG_get_factory_start_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_line_change_production_efficiency_factor = 0.1 
				tooltip = STG_line_change_more_production_efficiency_factor_tt 
			}
		}
		else = {
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}
shared_focus = {
	id = STG_the_stallionist_vanguardism
	icon = GFX_goal_STG_empower_stal_vang
	cost = 5
	prerequisite = {
		focus = STG_party_will_lead_the_soviets
	}
	mutually_exclusive = {
		focus = STG_the_worker_soviets
	}
	relative_position_id = STG_party_will_lead_the_soviets
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_stallionist_vanguardism"
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_max_efficiency_factor = 0.2 
				tooltip = STG_get_factory_max_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_efficiency_gain_factor = -0.15 
				tooltip = STG_less_factory_efficiency_gain_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_start_efficiency_factor = -0.1 
				tooltip = STG_less_factory_start_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_line_change_production_efficiency_factor = -0.25 
				tooltip = STG_line_change_less_production_efficiency_factor_tt 
			}
		}
		else_if = {
			limit = { 
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_max_efficiency_factor = -0.1 
				tooltip = STG_less_factory_max_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_efficiency_gain_factor = 0.3 
				tooltip = STG_get_factory_efficiency_gain_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_factory_start_efficiency_factor = 0.15 
				tooltip = STG_get_factory_start_efficiency_factor_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_line_change_production_efficiency_factor = 0.2 
				tooltip = STG_line_change_more_production_efficiency_factor_tt 
			}
		}
		else = {
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}
shared_focus = {
	id = STG_sinister_constitution
	icon = GFX_goal_STG_sin_const
	cost = 5
	prerequisite = {
		focus = STG_the_citizen_soviets
		focus = STG_the_worker_soviets
		focus = STG_the_stallionist_vanguardism
	}
	relative_position_id = STG_the_worker_soviets
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinister_constitution"
		add_timed_idea = {
			idea = STG_sinister_constitution_idea
			days = 120 # increased from 90
		}
	}
}
shared_focus = {
	id = STG_we_will_fix_in_three_years
	icon = GFX_goal_UESR_TNO_anger
	cost = 5
	prerequisite = {
		focus = STG_proclamate_our_best_intentions
	}
	prerequisite = {
		focus = STG_facilitated_party_democracy
		focus = STG_only_party_will_save_the_world
	}
	relative_position_id = STG_proclamate_our_best_intentions
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_we_will_fix_in_three_years"
		
		set_variable = {
			STG_sinisterist_control_political_advisor_cost_factor = -0.3
			tooltip = STG_sc_more_political_advisor_cost_factor_tt
		}
		activate_mission = STG_sinnies_3_year_plan
	}
}
shared_focus = {
	id = STG_materialist_manifesto
	icon = GFX_goal_STG_materialist_manifesto
	cost = 5
	prerequisite = {
		focus = STG_we_will_fix_in_three_years
	}
	relative_position_id = STG_we_will_fix_in_three_years
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_materialist_manifesto"
		add_research_slot = 1
	}
}
shared_focus = {
	id = STG_comintern
	icon = GFX_goal_STG_actual_revcomintern
	cost = 5
	prerequisite = {
		focus = STG_we_will_fix_in_three_years
	}
	relative_position_id = STG_we_will_fix_in_three_years
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_comintern"
		set_country_flag = available_comecon_flag
		STG_populate_comecon_decisions = yes
		add_dynamic_modifier = { modifier = STG_comecon_leader_sinister }
		unlock_decision_category_tooltip = STG_comecon_leader_category
		custom_effect_tooltip = STG_sinister_comecon_tt
	}
}
shared_focus = {
	id = STG_revision_of_revolution
	icon = GFX_goal_stg_petershoof
	cost = 5
	prerequisite = {
		focus = STG_comintern
	}
	prerequisite = {
		focus = STG_materialist_manifesto
	}
	relative_position_id = STG_comintern
	x = -1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_revision_of_revolution"
		country_event = stalliongrad_sinister.20
	}
}
shared_focus = {
	id = STG_conscripts
	icon = GFX_focus_BUL_the_peoples_republic_of_bulgaria
	cost = 5
	prerequisite = {
		focus = STG_revision_of_revolution
	}
	relative_position_id = STG_revision_of_revolution
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_conscripts"
		add_ideas = STG_sinister_conscription_law
	}
}

shared_focus = {
	id = STG_fallback_line
	icon = GFX_goal_stg_sinister_line
	cost = 5
	prerequisite = {
		focus = STG_revision_of_revolution
	}
	relative_position_id = STG_revision_of_revolution
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fallback_line"
		every_owned_state = {
			limit = {
				any_neighbor_state = {
					is_owned_by = EQS 
				}
			}
			add_building_construction = {
				type = bunker
				level = 2
				instant_build = yes 
				province = {
					all_provinces = yes
					limit_to_border = yes
				}
			}
		}
		if = {
			limit = { NLR = { exists = yes } }
			every_owned_state = {
				limit = {
					any_neighbor_state = {
						is_owned_by = NLR 
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
		if = {
			limit = {
				CRY = { 
					OR = {
						is_in_faction_with = EQS
						is_in_faction_with = NLR
						has_government = fascism
					} 
				}
			}
			every_owned_state = {
				limit = {
					any_neighbor_state = {
						is_owned_by = CRY 
					}
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
		}
	}
}
shared_focus = {
	id = STG_comunne_in_the_mountains
	icon = GFX_goal_stg_stl
	cost = 5
	prerequisite = {
		focus = STG_revision_of_revolution
	}
	relative_position_id = STG_revision_of_revolution
	will_lead_to_war_with = STL
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_comunne_in_the_mountains"
		country_event = stalliongrad_sinister.21
		add_state_core = 57
	}
}
shared_focus = {
	id = STG_in_defence_of_the_revolution
	icon = GFX_goal_STG_in_defense_of_the_revolution
	cost = 5
	prerequisite = {
		focus = STG_only_party_will_save_the_world
	}
	prerequisite = {
		focus = STG_we_will_fix_in_three_years
	}
	
	available = {
		has_completed_focus = STG_plan_of_industrial_development
	}
	relative_position_id = STG_only_party_will_save_the_world
	x = 1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_in_defence_of_the_revolution"
		set_variable = {
			STG_sinisterist_control_conversion_cost_civ_to_mil_factor = -0.4
			tooltip = STG_sc_more_conversion_cost_civ_to_mil_factor_tt
		}
		set_variable = {
			STG_sinisterist_control_equipment_conversion_speed = 0.4
			tooltip = STG_sc_more_equipment_conversion_speed_tt
		}
		add_tech_bonus = {
			name = industry_boinus
			uses = 1
			bonus = 1
			category = industry
		}
	}
}
shared_focus = {
	id = STG_relying_on_the_peoples_squads
	icon = GFX_goal_STG_organize_antihoarder_squads
	cost = 5
	prerequisite = {
		focus = STG_in_defence_of_the_revolution
	}
	mutually_exclusive = {
		focus = STG_secure_the_administration
	}
	relative_position_id = STG_in_defence_of_the_revolution
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_relying_on_the_peoples_squads"
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.05
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = 0.05
			tooltip = STG_sc_more_stability_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_conscription = 0.005
			tooltip = STG_sc_more_conscription_tt
		}
	}
}
shared_focus = {
	id = STG_secure_the_administration
	icon = GFX_focus_FIN_jaeger_movement
	cost = 5
	prerequisite = {
		focus = STG_in_defence_of_the_revolution
	}
	mutually_exclusive = {
		focus = STG_relying_on_the_peoples_squads
	}
	relative_position_id = STG_in_defence_of_the_revolution
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_secure_the_administration"
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.1
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = 0.05
			tooltip = STG_sc_more_stability_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_army_core_defence_factor = 0.05
			tooltip = STG_sc_more_army_core_defence_factor_tt
		}
		add_to_variable = {
			STG_sinnie_madness_points = 1
		}
		STG_sinnie_madness_check = yes
	}
}
shared_focus = {
	id = STG_workers_self_government
	icon = GFX_goal_revolution_tools
	cost = 5
	prerequisite = {
		focus = STG_relying_on_the_peoples_squads
	}
	relative_position_id = STG_relying_on_the_peoples_squads
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_workers_self_government"
		add_to_variable = {
			STG_sinisterist_control_political_power_factor = 0.05
			tooltip = STG_sc_more_political_power_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_stability_factor = 0.05
			tooltip = STG_sc_more_stability_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_surrender_limit = -0.05
			tooltip = STG_sc_more_surrender_limit_tt
		}
	}
}
shared_focus = {
	id = STG_fire_of_revolution_in_the_hearts
	icon = GFX_focus_ETH_african_wildfire
	cost = 5
	prerequisite = {
		focus = STG_relying_on_the_peoples_squads
		focus = STG_secure_the_administration
	}
	relative_position_id = STG_relying_on_the_peoples_squads
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fire_of_revolution_in_the_hearts"
		
		add_to_variable = {
			STG_sinisterist_control_army_core_defence_factor = 0.05
			tooltip = STG_sc_more_army_core_defence_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_army_core_attack_factor = 0.05
			tooltip = STG_sc_more_army_core_attack_factor_tt
		}
		add_to_variable = {
			STG_sinisterist_control_conscription = 0.01
			tooltip = STG_sc_more_conscription_tt
		}
	}
}
shared_focus = {
	id = STG_the_smersh
	icon = GFX_goal_WNG_COM_nkvd
	cost = 5
	prerequisite = {
		focus = STG_secure_the_administration
	}
	relative_position_id = STG_secure_the_administration
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_smersh"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_ideas = STG_SMERSH_lar
		}
		
		else = {
			add_ideas = STG_SMERSH
		}
	}
}
shared_focus = {
	id = STG_under_sinister_leadership
	icon = GFX_goal_som_sinister
	cost = 5
	prerequisite = {
		focus = STG_fire_of_revolution_in_the_hearts
	}
	relative_position_id = STG_fire_of_revolution_in_the_hearts
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_under_sinister_leadership"
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_13a # production shifts
			}
			add_to_variable = { 
				STG_sinister_industry_industrial_capacity_factory = 0.35 
				tooltip = STG_get_industry_industrial_capacity_factory_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_industrial_capacity_dockyard = 0.15 
				tooltip = STG_get_industry_industrial_capacity_dockyard_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_speed_buildings_factor = -0.15 
				tooltip = STG_less_industry_production_speed_buildings_factor_tt 
			}	
		}
		else_if = {
			limit = {
				has_country_flag = STG_industrial_plan_13b # construction shifts
			}
			add_to_variable = { 
				STG_sinister_industry_industrial_capacity_factory = -0.4 
				tooltip = STG_less_industry_industrial_capacity_factory_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_industrial_capacity_dockyard = -0.2 
				tooltip = STG_less_industry_industrial_capacity_dockyard_tt 
			}
			add_to_variable = { 
				STG_sinister_industry_production_speed_buildings_factor = 0.25 
				tooltip = STG_get_industry_production_speed_buildings_factor_tt 
			}
		}
		else = {
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
		add_to_variable = {
			STG_sinnie_madness_points = 2
		}
		STG_sinnie_madness_check = yes
	}
}
shared_focus = {
	id = STG_equestrian_crisis
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_comunne_in_the_mountains
	}
	mutually_exclusive = {
		focus = STG_the_governor_is_dead
	}
	available = {
		has_global_flag = equestrian_civil_war
	}
	relative_position_id = STG_comunne_in_the_mountains
	x = -6
	y = 1
	offset = {
		x = 6
		y = 0
		trigger = {
			has_completed_focus = STG_equestrian_crisis
		}
	}
	allow_branch = {
		NOT = {
			has_completed_focus = STG_the_governor_is_dead
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_equestrian_crisis"
		add_ideas = STG_sky_is_falling
	}
}
### War Plan South and the postwar stuff
shared_focus = {
	id = STG_warplane_south
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_crisis
	}
	mutually_exclusive = {
		focus = STG_temporal_allies
		focus = STG_warplane_crystal
	}
	will_lead_to_war_with = NLR
	will_lead_to_war_with = EQS
	relative_position_id = STG_equestrian_crisis
	x = -10
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_warplane_south"
		swap_ideas = {
			remove_idea = STG_sky_is_falling
			add_idea = STG_sky_is_falling2a
		}
		create_wargoal = {
			target = NLR
			type = annex_everything
		}
		create_wargoal = {
			target = EQS
			type = annex_everything
		}
		add_to_variable = {
			STG_sinnie_madness_points = 2
		}
		STG_sinnie_madness_check = yes
	}
}
shared_focus = {
	id = STG_fighting_against_the_evil
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_warplane_south
	}
	relative_position_id = STG_warplane_south
	x = -1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fighting_against_the_evil"
		swap_ideas = {
			remove_idea = STG_sky_is_falling2a
			add_idea = STG_sky_is_falling3a
		}
	}
}
shared_focus = {
	id = STG_mobilize_the_people_against_the_sisters
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_warplane_south
	}
	relative_position_id = STG_warplane_south
	x = 1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_mobilize_the_people_against_the_sisters"
		random_core_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
			}
			increase_state_category = yes
			add_building_construction = {
				type = arms_factory
				level = 2
			}
		}
		random_core_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
			}
			increase_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 2
			}
		}
	}
}
shared_focus = {
	id = STG_recruitment_points_in_euestria
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_warplane_south
	}
	available = {
		any_controlled_state = {
			is_core_of = NLR
			NOT = {
				is_core_of = STG
			}
		}
	}
	relative_position_id = STG_warplane_south
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_recruitment_points_in_euestria"
		add_manpower = 50000
		set_technology = {
			penal_infantry = 1
		}
		division_template = {
			name = "Severyanian Penal Battalion"
			division_names_group = STG_INF_01
			regiments = {
				penal_battalion = { x = 0 y = 0 }
				penal_battalion = { x = 0 y = 1 }
				penal_battalion = { x = 0 y = 2 }
				penal_battalion = { x = 0 y = 3 }
				penal_battalion = { x = 1 y = 0 }
				penal_battalion = { x = 1 y = 1 }
				penal_battalion = { x = 1 y = 2 }
			}
			support = {
				military_police = { x = 0 y = 0 }
			}
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Severyanian Penal Battalion\" division_template = \"Severyanian Penal Battalion\" start_experience_factor = 0.3"
				owner = STG
				count = 8
				prioritize_location = 488
			}
		}
	}
}
shared_focus = {
	id = STG_the_red_banner_on_the_canterlot_castle
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_fighting_against_the_evil
	}
	prerequisite = {
		focus = STG_recruitment_points_in_euestria
	}
	prerequisite = {
		focus = STG_mobilize_the_people_against_the_sisters
	}
	available = {
		owns_state = 3
	}
	relative_position_id = STG_recruitment_points_in_euestria
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_red_banner_on_the_canterlot_castle"
		remove_ideas = STG_sky_is_falling3a
		add_ideas = STG_overextended_bureaucracy
		EQS = {
			add_to_ROOT_potential_cores = yes
		}
		NLR = {
			add_to_ROOT_potential_cores = yes
		}
		mark_focus_tree_layout_dirty = yes
	}
}
shared_focus = {
	id = STG_new_vector_of_three_year_promise
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_red_banner_on_the_canterlot_castle
	}
	# allow_branch = {
	# 	has_completed_focus = STG_the_red_banner_on_the_canterlot_castle
	# }
	relative_position_id = STG_the_red_banner_on_the_canterlot_castle
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_vector_of_three_year_promise"
	}
}
shared_focus = {
	id = STG_socialism_is_the_future
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_vector_of_three_year_promise
	}
	mutually_exclusive = {
		focus = STG_threat_from_the_new_border
	}
	relative_position_id = STG_new_vector_of_three_year_promise
	x = -4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_socialism_is_the_future"
	}
}
shared_focus = {
	id = STG_threat_from_the_new_border
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_vector_of_three_year_promise
	}
	
	mutually_exclusive = {
		focus = STG_socialism_is_the_future
	}
	relative_position_id = STG_new_vector_of_three_year_promise
	x = 4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_threat_from_the_new_border"
	}
}
shared_focus = {
	id = STG_equestrian_soviets
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_socialism_is_the_future
	}
	relative_position_id = STG_socialism_is_the_future
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_equestrian_soviets"
	}
}
shared_focus = {
	id = STG_searching_the_fanatics
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_socialism_is_the_future
	}
	relative_position_id = STG_socialism_is_the_future
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_searching_the_fanatics"
	}
}
shared_focus = {
	id = STG_east_coast_industrial_centre
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_vector_of_three_year_promise
	}
	relative_position_id = STG_new_vector_of_three_year_promise
	x = -1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_east_coast_industrial_centre"
	}
}
shared_focus = {
	id = STG_develop_the_heartlands
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_vector_of_three_year_promise
	}
	relative_position_id = STG_new_vector_of_three_year_promise
	x = 1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_develop_the_heartlands"
	}
}
shared_focus = {
	id = STG_anti_partisan_shock_units
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_threat_from_the_new_border
	}
	relative_position_id = STG_threat_from_the_new_border
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_anti_partisan_shock_units"
	}
}
shared_focus = {
	id = STG_all_equestrian_communist_party
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_threat_from_the_new_border
	}
	relative_position_id = STG_threat_from_the_new_border
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_all_equestrian_communist_party"
	}
}
shared_focus = {
	id = STG_democracy_is_worth_fighting_for
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_soviets
	}
	relative_position_id = STG_equestrian_soviets
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_democracy_is_worth_fighting_for"
	}
}

shared_focus = {
	id = STG_sinnie_soft_power
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_soviets
	}
	prerequisite = {
		focus = STG_socialism_is_the_future
	}
	prerequisite = {
		focus = STG_searching_the_fanatics
	}
	relative_position_id = STG_equestrian_soviets
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinnie_soft_power"
	}
}

shared_focus = {
	id = STG_integration_of_night_ponies
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_searching_the_fanatics
	}
	relative_position_id = STG_searching_the_fanatics
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_integration_of_night_ponies"
	}
}
shared_focus = {
	id = STG_diplomacy_with_equestrian_warlords
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_vector_of_three_year_promise
	}
	prerequisite = {
		focus = STG_searching_the_fanatics
		focus = STG_anti_partisan_shock_units
	}
	relative_position_id = STG_new_vector_of_three_year_promise
	x = 0
	y = 3
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_diplomacy_with_equestrian_warlords"
	}
}
shared_focus = {
	id = STG_peoples_squad_police_roles
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_anti_partisan_shock_units
	}
	relative_position_id = STG_anti_partisan_shock_units
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_peoples_squad_police_roles"
	}
}
shared_focus = {
	id = STG_make_them_afraid_of_bugs
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_anti_partisan_shock_units
	}
	prerequisite = {
		focus = STG_threat_from_the_new_border
	}
	prerequisite = {
		focus = STG_all_equestrian_communist_party
	}
	relative_position_id = STG_anti_partisan_shock_units
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_make_them_afraid_of_bugs"
	}
}
shared_focus = {
	id = STG_cult_of_revolution
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_all_equestrian_communist_party
	}
	relative_position_id = STG_all_equestrian_communist_party
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cult_of_revolution"
	}
}

shared_focus = {
	id = STG_limited_nep_in_equestria
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_soviets
	}
	prerequisite = {
		focus = STG_sinnie_soft_power
	}
	relative_position_id = STG_equestrian_soviets
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_limited_nep_in_equestria"
	}
}

shared_focus = {
	id = STG_amnesty_and_mercy
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_sinnie_soft_power
	}
	prerequisite = {
		focus = STG_searching_the_fanatics
	}
	relative_position_id = STG_sinnie_soft_power
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_amnesty_and_mercy"
	}
}


shared_focus = {
	id = STG_strike_crystal_country
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_diplomacy_with_equestrian_warlords
	}
	relative_position_id = STG_diplomacy_with_equestrian_warlords
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_strike_crystal_country"
	}
}
shared_focus = {
	id = STG_help_for_redtail
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_diplomacy_with_equestrian_warlords
	}
	relative_position_id = STG_diplomacy_with_equestrian_warlords
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_for_redtail"
	}
}


shared_focus = {
	id = STG_strike_down_lunarists
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_anti_partisan_shock_units
	}
	prerequisite = {
		focus = STG_make_them_afraid_of_bugs
	}
	relative_position_id = STG_make_them_afraid_of_bugs
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_strike_down_lunarists"
	}
}

shared_focus = {
	id = STG_cutie_mark_pioneers
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_make_them_afraid_of_bugs
	}
	
	prerequisite = {
		focus = STG_all_equestrian_communist_party
	}
	relative_position_id = STG_make_them_afraid_of_bugs
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cutie_mark_pioneers"
	}
}


shared_focus = {
	id = STG_shadow_schemes_of_military_conversion
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_limited_nep_in_equestria
	}
	
	relative_position_id = STG_limited_nep_in_equestria
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_shadow_schemes_of_military_conversion"
	}
}



shared_focus = {
	id = STG_elements_of_communism
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_limited_nep_in_equestria
	}
	prerequisite = {
		focus = STG_amnesty_and_mercy
	}
	
	relative_position_id = STG_limited_nep_in_equestria
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_elements_of_communism"
	}
}

shared_focus = {
	id = STG_industrial_prison_camps
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_amnesty_and_mercy
	}
	
	relative_position_id = STG_amnesty_and_mercy
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_industrial_prison_camps"
	}
}


shared_focus = {
	id = STG_ponyville_congress
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_diplomacy_with_equestrian_warlords
	}
	
	relative_position_id = STG_diplomacy_with_equestrian_warlords
	x = 0
	y = 3
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ponyville_congress"
	}
}


shared_focus = {
	id = STG_denigrate_idea_of_harmony
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_strike_down_lunarists
	}
	
	relative_position_id = STG_strike_down_lunarists
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_denigrate_idea_of_harmony"
	}
}

shared_focus = {
	id = STG_fortification_areas
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_strike_down_lunarists
	}
	prerequisite = {
		focus = STG_cutie_mark_pioneers
	}
	
	relative_position_id = STG_strike_down_lunarists
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fortification_areas"
	}
}

shared_focus = {
	id = STG_preparing_reserves_and_stockpiles
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_cutie_mark_pioneers
	}
	
	relative_position_id = STG_cutie_mark_pioneers
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_preparing_reserves_and_stockpiles"
	}
}

shared_focus = {
	id = STG_public_plan_of_equestrian_development
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_limited_nep_in_equestria
	}
	
	prerequisite = {
		focus = STG_elements_of_communism
	}
	relative_position_id = STG_elements_of_communism
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_public_plan_of_equestrian_development"
	}
}

shared_focus = {
	id = STG_socialist_culture
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_elements_of_communism
	}
	
	prerequisite = {
		focus = STG_amnesty_and_mercy
	}
	relative_position_id = STG_elements_of_communism
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_socialist_culture"
	}
}

shared_focus = {
	id = STG_temporal_allies_against_chrysalis
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_ponyville_congress
	}
	mutually_exclusive = {
		focus = STG_revolution_to_utmost
	}
	
	relative_position_id = STG_ponyville_congress
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_temporal_allies_against_chrysalis"
	}
}


shared_focus = {
	id = STG_revolution_to_utmost
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_ponyville_congress
	}
	
	mutually_exclusive = {
		focus = STG_temporal_allies_against_chrysalis
	}
	
	relative_position_id = STG_ponyville_congress
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_revolution_to_utmost"
	}
}


shared_focus = {
	id = STG_ensure_population_loyalty
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_strike_down_lunarists
	}
	prerequisite = {
		focus = STG_fortification_areas
	}
	
	relative_position_id = STG_fortification_areas
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ensure_population_loyalty"
	}
}

shared_focus = {
	id = STG_gto_system
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_fortification_areas
	}
	
	prerequisite = {
		focus = STG_cutie_mark_pioneers
	}
	
	relative_position_id = STG_fortification_areas
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_gto_system"
	}
}


shared_focus = {
	id = STG_increase_military_production
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_public_plan_of_equestrian_development
	}
	
	prerequisite = {
		focus = STG_socialist_culture
	}
	
	relative_position_id = STG_public_plan_of_equestrian_development
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_increase_military_production"
	}
}

shared_focus = {
	id = STG_help_for_ideological_brothers
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_temporal_allies_against_chrysalis
	}
	
	
	relative_position_id = STG_temporal_allies_against_chrysalis
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_help_for_ideological_brothers"
	}
}

shared_focus = {
	id = STG_seek_industrial_cooperation
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_temporal_allies_against_chrysalis
	}
	
	
	relative_position_id = STG_temporal_allies_against_chrysalis
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_seek_industrial_cooperation"
	}
}


shared_focus = {
	id = STG_end_the_southeast_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_revolution_to_utmost
	}
	
	
	relative_position_id = STG_revolution_to_utmost
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_end_the_southeast_war"
	}
}


shared_focus = {
	id = STG_ultimatums_to_south
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_revolution_to_utmost
	}
	
	
	relative_position_id = STG_revolution_to_utmost
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ultimatums_to_south"
	}
}


shared_focus = {
	id = STG_a_united_motherland
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_ensure_population_loyalty
	}
	prerequisite = {
		focus = STG_gto_system
	}
	
	
	relative_position_id = STG_ensure_population_loyalty
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_united_motherland"
	}
}

shared_focus = {
	id = STG_communists_of_all_equus
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_help_for_ideological_brothers
	}
	
	
	relative_position_id = STG_help_for_ideological_brothers
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_communists_of_all_equus"
	}
}

shared_focus = {
	id = STG_joint_defense_plans
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_seek_industrial_cooperation
	}
	
	
	relative_position_id = STG_seek_industrial_cooperation
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_joint_defense_plans"
	}
}

shared_focus = {
	id = STG_baltimare_integration
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_end_the_southeast_war
	}
	
	
	relative_position_id = STG_end_the_southeast_war
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_baltimare_integration"
	}
}

shared_focus = {
	id = STG_integration_of_south
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_ultimatums_to_south
	}
	
	
	relative_position_id = STG_ultimatums_to_south
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_integration_of_south"
	}
}

shared_focus = {
	id = STG_without_declaration_of_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_ponyville_congress
	}
	
	
	relative_position_id = STG_ponyville_congress
	x = 0
	y = 4
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_without_declaration_of_war"
		complete_national_focus = STG_the_great_patriotic_war
	}
}

### War Plan Crystal

shared_focus = {
	id = STG_warplane_crystal
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_crisis
	}
	mutually_exclusive = {
		focus = STG_warplane_south
		focus = STG_temporal_allies
	}
	relative_position_id = STG_equestrian_crisis
	x = 0
	y = 1
	will_lead_to_war_with = CRY
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_warplane_crystal"
		create_wargoal = {
			target = CRY
			type = annex_everything
		}
		load_oob = STG_sinnie_CRY_militia
	}
}
shared_focus = {
	id = STG_arise_against_the_exploiters
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_warplane_crystal
	}
	available = {
		any_controlled_state = {
			is_core_of = CRY
		}
	}
	relative_position_id = STG_warplane_crystal
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_arise_against_the_exploiters"
		add_ideas = STG_cry_overextended_bureaucracy
		CRY = {
			add_to_ROOT_potential_cores = yes
		}
	}
}
shared_focus = {
	id = STG_the_crystals_are_shining_red
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_arise_against_the_exploiters
	}
	relative_position_id = STG_arise_against_the_exploiters
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_crystals_are_shining_red"
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		if = {
			limit = {
				has_idea = STG_cry_overextended_bureaucracy
			}
			swap_ideas = {
				remove_idea = STG_cry_overextended_bureaucracy
				add_idea = STG_cry_overextended_bureaucracy2
			}
		}
		else_if = {
			limit = { 
				has_idea = STG_cry_overextended_bureaucracy2
			}
			swap_ideas = {
				remove_idea = STG_cry_overextended_bureaucracy2
				add_idea = STG_cry_overextended_bureaucracy3
			}
		}
		else = {
			custom_effect_tooltip = STG_CRY_revolution_no_effect_tt
		}
	}
}
shared_focus = {
	id = STG_the_hunt_on_the_cultists
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_arise_against_the_exploiters
	}
	relative_position_id = STG_arise_against_the_exploiters
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_hunt_on_the_cultists"
		add_stability = 0.1
		if = {
			limit = {
				has_idea = STG_cry_overextended_bureaucracy
			}
			swap_ideas = {
				remove_idea = STG_cry_overextended_bureaucracy
				add_idea = STG_cry_overextended_bureaucracy2
			}
		}
		else_if = {
			limit = { 
				has_idea = STG_cry_overextended_bureaucracy2
			}
			swap_ideas = {
				remove_idea = STG_cry_overextended_bureaucracy2
				add_idea = STG_cry_overextended_bureaucracy3
			}
		}
		else = {
			custom_effect_tooltip = STG_CRY_revolution_no_effect_tt
		}
	}
}
shared_focus = {
	id = STG_industrial_integration_with_CRY
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_crystals_are_shining_red
	}
	prerequisite = {
		focus = STG_the_hunt_on_the_cultists
	}
	relative_position_id = STG_the_crystals_are_shining_red
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_industrial_integration_with_CRY"
		if = {
			limit = {
				has_idea = STG_cry_overextended_bureaucracy3
			}
			remove_ideas = STG_cry_overextended_bureaucracy3
		}
		else = {
			custom_effect_tooltip = STG_CRY_revolution_no_effect_tt
		}
	}
}
shared_focus = {				#TODO - delete this branch
	id = STG_temporal_allies
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_equestrian_crisis
	}
	mutually_exclusive = {
		focus = STG_warplane_crystal
		focus = STG_warplane_south
	}
	available = {
		NOT = {
			has_country_flag = STG_EQS_rejected
		}
	}
	relative_position_id = STG_equestrian_crisis
	x = 4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_temporal_allies"
		EQS = {
			country_event = stalliongrad_sinister.25
		}
	}
}
shared_focus = {
	id = STG_race_to_manehatten
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_temporal_allies
	}
	relative_position_id = STG_temporal_allies
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_race_to_manehatten"
		# TODO set up race thing
	}
}
shared_focus = {
	id = STG_integration_the_east_coast
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_race_to_manehatten
	}
	relative_position_id = STG_race_to_manehatten
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_integration_the_east_coast"
		
		NLR = {
			add_to_ROOT_potential_cores = yes
		}
	}
}
shared_focus = {
	id = STG_subversive_work_in_EQS_rear
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_race_to_manehatten
	}
	available = {
		NLR = {
			exists = no
		}
	}
	relative_position_id = STG_race_to_manehatten
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_subversive_work_in_EQS_rear"
		EQS = {
			add_ideas = STG_subversion_of_EQS
		}
	}
}
shared_focus = {
	id = STG_increased_military_industrial_buildup
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_integration_the_east_coast
	}
	prerequisite = {
		focus = STG_subversive_work_in_EQS_rear
	}
	relative_position_id = STG_integration_the_east_coast
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_increased_military_industrial_buildup"
		random_core_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
			}
			increase_state_category = yes
			add_building_construction = {
				type = arms_factory
				level = 2
			}
		}
		random_core_state = {
			limit = {
				is_owned_and_controlled_by = ROOT
			}
			increase_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 2
			}
		}
	}
}
shared_focus = {
	id = STG_waiting_the_oppotunity
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_industrial_integration_with_CRY
		focus = STG_increased_military_industrial_buildup
	}
	relative_position_id = STG_industrial_integration_with_CRY
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_waiting_the_oppotunity"
		add_timed_idea = {
			idea = STG_waiting_for_a_revolution
			days = 180
		}
	}
}
shared_focus = {
	id = STG_the_governor_is_dead
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_comunne_in_the_mountains
	}
	mutually_exclusive = {
		focus = STG_equestrian_crisis
	}
	available = {
		GRF = {
			has_country_flag = GRF_teafeather_dead
		}
	}
	bypass = {
		GRF = {
			OR = {
				exists = no
				is_subject_of = ROOT
			}
		}
	}
	offset = {

		x = -6
		y = 0
		trigger = {
			has_completed_focus = STG_the_governor_is_dead
		}
	}
	allow_branch = {
		NOT = {
			has_completed_focus = STG_equestrian_crisis
		}
	}
	relative_position_id = STG_comunne_in_the_mountains
	x = 6
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_governor_is_dead"
		country_event = stalliongrad_sinister.33
		# TODO waiting on Nova rework to be integrated
	}
}
shared_focus = {
	id = STG_cooperation_with_redtail
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_governor_is_dead
	}
	mutually_exclusive = {
		focus = STG_the_powers_of_the_CCA
	}
	available = {
		has_global_flag = GRF_civil_war_begun
	}
	relative_position_id = STG_the_governor_is_dead
	x = -4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cooperation_with_redtail"
		if = {
			limit = {
				owns_state = 243
			}
			release_puppet = GRF
		}
		add_ideas = STG_GRF_cooperation1
	}
}
shared_focus = {
	id = STG_mitigate_oversight
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_cooperation_with_redtail
	}
	relative_position_id = STG_cooperation_with_redtail
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_mitigate_oversight"
		GRF = {
			add_autonomy_score = {
				value = -1000
			}
		}
		swap_ideas = {
			remove_idea = STG_GRF_cooperation1
			add_idea = STG_GRF_cooperation2
		}
	}
}
shared_focus = {
	id = STG_industrial_cooperation_with_GRF
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_mitigate_oversight
	}
	relative_position_id = STG_mitigate_oversight
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_industrial_cooperation_with_GRF"
		
		swap_ideas = {
			remove_idea = STG_GRF_cooperation2
			add_idea = STG_GRF_cooperation3
		}
	}
}
shared_focus = {
	id = STG_preparation_of_northern_front
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_industrial_cooperation_with_GRF
	}
	relative_position_id = STG_industrial_cooperation_with_GRF
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_preparation_of_northern_front"
		# TODO railroads, infra, airbases in northern GRF
	}
}
shared_focus = {
	id = STG_the_powers_of_the_CCA
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_governor_is_dead
	}
	mutually_exclusive = {
		focus = STG_cooperation_with_redtail
	}
	available = {
		has_global_flag = GRF_civil_war_begun
		OR = {
			NOT = {
				country_exists = GRF
			}
			any_country_with_original_tag = {
				original_tag_to_check = GRF
				is_subject_of = ROOT
			}
		}
	}
	relative_position_id = STG_the_governor_is_dead
	x = -1
	y = 1
	completion_reward = {					#there also should starts event chain about arriving Morozov to GRF and his attempts to fight with Ironclaw resistance, which should decrease state modifers too
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_powers_of_the_CCA"
		add_to_variable = {
			STG_sinnie_madness_points = 1
		}
		STG_sinnie_madness_check = yes
		if = {
			limit = {
				any_country_with_original_tag = {
					original_tag_to_check = GRF
					is_subject_of = ROOT
				}
			}
			annex_country = {
				target = GRF
				transfer_troops = yes
			}
		}
		every_owned_state = {
			limit = {
				NOT = { 
					is_core_of = STG
					is_claimed_by = STG
				}
				is_controlled_by = ROOT
				is_core_of = GRF
			}
			custom_effect_tooltip = STG_integration_GRF_states_sinnie_modifer_effect_tt
			set_compliance = 10
			set_resistance = 45
			hidden_effect = {
				add_dynamic_modifier = { modifier = STG_integration_GRF_states_sinnie_modifer }
			}
		}
		set_variable = { STG_GRF_int_local_factory_sabotage_var = 0.25 }
		set_variable = { STG_GRF_int_local_resources_factor_var = -0.33 }
		set_variable = { STG_GRF_int_state_production_speed_buildings_factor_var = -0.15 }
		set_variable = { STG_GRF_int_local_factories_var = -0.5 }
		set_variable = { STG_GRF_int_resistance_target_var = 0.25 }
		set_variable = { STG_GRF_int_resistance_growth_var = 0.15 }
		set_variable = { STG_GRF_int_compliance_growth_var = -0.1 }
	}
}
shared_focus = {
	id = STG_nationalization_of_enterprises
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_powers_of_the_CCA
	}
	relative_position_id = STG_the_powers_of_the_CCA
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_nationalization_of_enterprises"
		add_to_variable = { STG_GRF_int_local_resources_factor_var = -0.13 tooltip = STG_GRF_int_local_resources_factor_pos_tt }
		every_owned_state = {
			limit = {
				NOT = { 
					is_core_of = STG
					is_claimed_by = STG
				}
				is_controlled_by = ROOT
				is_core_of = GRF
			}
			add_resistance = 1
			add_compliance = -0.5
		}
		#trigger event about raid Ironclaw's bandits on one of enterprises and Morozov's actions
	}
}
shared_focus = {
	id = STG_work_with_the_population
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_powers_of_the_CCA
	}
	relative_position_id = STG_the_powers_of_the_CCA
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_work_with_the_population"
		add_to_variable = { STG_GRF_int_local_factory_sabotage_var = -0.15 tooltip = STG_GRF_int_resistance_target_pos_tt }
		add_to_variable = { STG_GRF_int_resistance_target_var = -0.05 tooltip = STG_GRF_int_resistance_target_pos_tt }
		add_to_variable = { STG_GRF_int_resistance_growth_var = -0.05 tooltip = STG_GRF_int_resistance_growth_pos_tt }
		add_to_variable = { STG_GRF_int_compliance_growth_var = 0.02 tooltip = STG_GRF_int_compliance_growth_pos_tt }
	}
}
shared_focus = {
	id = STG_currency_problem
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_powers_of_the_CCA
	}
	relative_position_id = STG_the_powers_of_the_CCA
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_currency_problem"
		add_to_variable = { STG_GRF_int_local_resources_factor_var = -0.05 tooltip = STG_GRF_int_local_resources_factor_pos_tt }
		add_to_variable = { STG_GRF_int_state_production_speed_buildings_factor_var = -0.05 tooltip = STG_GRF_int_state_production_speed_buildings_factor_pos_tt }
		add_to_variable = { STG_GRF_int_compliance_growth_var = 0.02 tooltip = STG_GRF_int_compliance_growth_pos_tt }
		#event about explosion in people bank, Morozov should find the saboteurs
	}
}
shared_focus = {
	id = STG_atrocities_of_highhill_regmie
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_currency_problem
		focus = STG_nationalization_of_enterprises
	}
	relative_position_id = STG_currency_problem
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_atrocities_of_highhill_regmie"
		add_to_variable = { STG_GRF_int_state_production_speed_buildings_factor_var = -0.05 tooltip = STG_GRF_int_state_production_speed_buildings_factor_pos_tt }
		add_to_variable = { STG_GRF_int_compliance_growth_var = 0.02 tooltip = STG_GRF_int_compliance_growth_pos_tt }
		every_owned_state = {
			limit = {
				NOT = { 
					is_core_of = STG
					is_claimed_by = STG
				}
				is_controlled_by = ROOT
				is_core_of = GRF
			}
			add_resistance = -1
		}
		#event about newspapers or something like that, where we talking a scary truth about war crimes. If there were a civil war - about Highhill. If not - about 996 revolution and colonization
	}
}
shared_focus = {
	id = STG_organize_the_local_soviets
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_currency_problem
		focus = STG_work_with_the_population
	}
	relative_position_id = STG_currency_problem
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_organize_the_local_soviets"
		add_to_variable = { STG_GRF_int_state_production_speed_buildings_factor_var = -0.1 tooltip = STG_GRF_int_state_production_speed_buildings_factor_pos_tt }
		add_to_variable = { STG_GRF_int_local_factories_var = 0.5 tooltip = STG_GRF_int_local_factories_pos_tt }
		add_to_variable = { STG_GRF_int_compliance_growth_var = 0.04 tooltip = STG_GRF_int_compliance_growth_pos_tt }
	}
}
shared_focus = {
	id = STG_final_strike_for_griffon_resistance
	icon = GFX_goal_stg_wip_icon
	cost = 5
	available = {
		GRF = {
			all_core_state = {
				if = {
					limit = {
						NOT = {
							is_core_of = STG
							is_claimed_by = STG
						}
					}
					resistance < 10
					compliance > 20
				}
			}
		}
	}
	prerequisite = {
		focus = STG_organize_the_local_soviets
	}
	prerequisite = {
		focus = STG_currency_problem
	}
	prerequisite = {
		focus = STG_atrocities_of_highhill_regmie
	}
	relative_position_id = STG_currency_problem
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_final_strike_for_griffon_resistance"
		every_owned_state = {
			limit = {
				NOT = { 
					is_core_of = STG
					is_claimed_by = STG
				}
				is_controlled_by = ROOT
				is_core_of = GRF
			}
			custom_effect_tooltip = STG_integration_GRF_removing_effect_tt
			hidden_effect = {
				remove_dynamic_modifier = { modifier = STG_integration_GRF_states_sinnie_modifer }
			}
		}
		GRF = {
			add_to_ROOT_potential_cores = yes
		}
		#there should be an event where Morozov, if he survived, are attacking Ironclaw's last base and kill him or capturing, depend from the player. If Morozov is dead, that should be Masha
	}
}
shared_focus = {
	id = STG_northern_international
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_governor_is_dead
	}
	relative_position_id = STG_the_governor_is_dead
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_northern_international"
		set_country_flag = STG_northern_international_flag
		custom_effect_tooltip = STG_northern_international_occupation_law_tt
	}
}
shared_focus = {
	id = STG_strike_the_frontier
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_northern_international
	}
	relative_position_id = STG_northern_international
	x = -1
	y = 1
	will_lead_to_war_with = GFF
	bypass = {
		GFF = {
			OR = {
				exists = no
				is_subject_of = ROOT
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_strike_the_frontier"
		create_wargoal = {
			target = GFF
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STG_mi_amore_failed
	icon = GFX_goal_stg_wip_icon
	cost = 5
	available = {
		any_country_with_original_tag = {
			original_tag_to_check = CRY
			NOT = {
				OR = { 
					has_government = democratic 
					is_in_faction_with = EQS
				}
			}
		}
	}
	prerequisite = {
		focus = STG_northern_international
	}
	relative_position_id = STG_northern_international
	x = 1
	y = 1
	bypass = {
		CRY = {
			OR = {
				exists = no
				is_in_faction_with = EQS
			}
		}
	}
	will_lead_to_war_with = CRY
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_mi_amore_failed"
		create_wargoal = {
			target = CRY
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STG_sinnie_CRY_nocw
	icon = GFX_goal_stg_wip_icon
	cost = 5
	available = {
		OR = {
			CRY = { is_subject_of = ROOT }
			any_controlled_state = { is_core_of = CRY }
		}
	}
	prerequisite = {
		focus = STG_mi_amore_failed
	}
	relative_position_id = STG_mi_amore_failed
	x = 1
	y = 1
	bypass = {
		CRY = {
			OR = {
				exists = no
				is_in_faction_with = EQS
			}
		}
	}
	will_lead_to_war_with = CRY
	completion_reward = {						#should be a choice between more more cooperation and integration
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinnie_CRY_nocw"
		add_stability = -0.05
		CRY = {
			add_to_ROOT_potential_cores = yes
		}
	}
}
shared_focus = {
	id = STG_in_the_yakistan_valley
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_northern_international
	}
	bypass = {
		YAK = {
			OR = {
				exists = no
				is_subject = yes
			}
		}
		JAK = {
			OR = {
				exists = no
				is_subject = yes
			}
		}
	}
	relative_position_id = STG_northern_international
	x = 0
	y = 2
	will_lead_to_war_with = YAK
	will_lead_to_war_with = JAK
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_in_the_yakistan_valley"
		if = {
			limit = {
				YAK = {
					exists = yes
					has_government = communism
				}
			}
			YAK = {
				country_event = generic.5
			}
		}
		else_if = {
			limit = { 
				YAK = {
					exists = yes
				}
			}
			create_wargoal = {
				target = YAK
				type = annex_everything
			}
		}
		if = {
			limit = { 
				JAK = {
					exists = yes
				}
			}
			create_wargoal = {
				target = JAK
				type = annex_everything
			}
		}
	}
}
shared_focus = {
	id = STG_in_the_frozen_ice
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_in_the_yakistan_valley
	}
	bypass = {
		PNG = {
			OR = {
				exists = no
				is_subject = yes	
			}
		}
	}
	relative_position_id = STG_in_the_yakistan_valley
	x = 1
	y = 1
	will_lead_to_war_with = PNG
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_in_the_frozen_ice"
		if = {
			limit = {
				PNG = {
					exists = yes
					has_government = communism
				}
			}
			PNG = {
				country_event = generic.5
			}
		}
		else = {
			create_wargoal = {
				target = PNG
				type = annex_everything
			}
		}
	}
}
shared_focus = {
	id = STG_bear_gambit
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_in_the_yakistan_valley
	}
	bypass = {
		PLB = {
			OR = {
				exists = no
				is_subject = yes
			}
		}
	}
	relative_position_id = STG_in_the_yakistan_valley
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_bear_gambit"
		create_wargoal = {
			target = PLB
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STG_finish_northern_expansion
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_in_the_yakistan_valley
		focus = STG_bear_gambit
		focus = STG_in_the_frozen_ice
	}
	relative_position_id = STG_in_the_yakistan_valley
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_finish_northern_expansion"
		every_subject_country = {
			add_ideas = STG_sinnie_exploitation_puppet
		}
		every_other_country = {
			limit = {
				is_in_faction_with = STG
				NOT = {
					is_subject_of = STG
				}
			}
			add_ideas = STG_sinnie_exploitation_allies
		}
		custom_effect_tooltip = STG_finish_northern_expansion_tt
		hidden_effect = {
			every_owned_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
				}
				add_compliance = 10
				add_resistance = -10
				add_resistance_target = -10
			}
		}
	}
}
shared_focus = {
	id = STG_the_changeling_invasion
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_preparation_of_northern_front
		focus = STG_waiting_the_oppotunity
		focus = STG_final_strike_for_griffon_resistance
		focus = STG_finish_northern_expansion
	}
	relative_position_id = STG_preparation_of_northern_front
	x = -2
	y = 1
	offset = {
		x = 6
		y = 0
		trigger = {
			has_completed_focus = STG_the_governor_is_dead
		}
	}
	offset = {
		x = 4
		y = 0
		trigger = {
			has_completed_focus = STG_equestrian_crisis
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_changeling_invasion"
		every_owned_state = {
			limit = {
				any_neighbor_state = {
					is_owned_by = EQS
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		set_technology = {
			penal_infantry = 1
		}
		division_template = {
			name = "Shtrafnaya Diviziya"
			division_names_group = STG_INF_01
			regiments = {
				penal_battalion = { x = 0 y = 0 }
				penal_battalion = { x = 0 y = 1 }
				penal_battalion = { x = 0 y = 2 }
				penal_battalion = { x = 0 y = 3 }
				penal_battalion = { x = 1 y = 0 }
				penal_battalion = { x = 1 y = 1 }
				penal_battalion = { x = 1 y = 2 }
			}
			support = {
				military_police = { x = 0 y = 0 }
			}
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Penal Division\" division_template = \"Shtrafnaya Diviziya\" start_experience_factor = 0.3"
				owner = STG
				count = 6
				prioritize_location = 488
			}
		}
	}
}
shared_focus = {
	id = STG_a_tricky_attack
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_changeling_invasion
	}
	mutually_exclusive = {
		focus = STG_dilemma_of_revolution
	}
	cancelable = no
	relative_position_id = STG_the_changeling_invasion
	x = -4
	y = 1
	will_lead_to_war_with = EQS
	will_lead_to_war_with = CHN
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_tricky_attack"
		create_wargoal = {
			target = EQS
			type = annex_everything
		}
		create_wargoal = {
			target = CHN
			type = annex_everything
		}
		add_dynamic_modifier = {
			modifier = STG_sinnie_gpw
		}
		custom_effect_tooltip = STG_bad_capitulation_sinnie_tt
	}
}
shared_focus = {
	id = STG_ponies_celestia_has_failed
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_tricky_attack
	}
	relative_position_id = STG_a_tricky_attack
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ponies_celestia_has_failed"
		custom_effect_tooltip = STG_sinnie_compliance_targeted
		hidden_effect = {
			add_ideas = STG_sinnie_targeted_compliance
		}
	}
}
shared_focus = {
	id = STG_even_in_bad_we_show_the_light
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_tricky_attack
	}
	relative_position_id = STG_a_tricky_attack
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_even_in_bad_we_show_the_light"
		custom_effect_tooltip = STG_sinnie_factory_targeted
		hidden_effect = {
			add_ideas = STG_sinnie_targeted_factory
		}
	}
}
shared_focus = {
	id = STG_wartime_meassures
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_tricky_attack
	}
	relative_position_id = STG_a_tricky_attack
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_wartime_meassures"
		add_to_variable = {
			STG_sinnie_gpw_production_factory_max_efficiency_factor = 0.08
			tooltip = STG_get_gpw_factory_max_efficiency_factor_tt
		}
		add_to_variable = {
			STG_sinnie_gpw_equipment_upgrade_xp_cost = -0.12
			tooltip = STG_get_gpw_equipment_upgrade_xp_cost_tt
		}
		add_to_variable = {
			STG_sinnie_gpw_war_support_weekly = -0.001
			tooltip = STG_get_gpw_war_support_weekly_tt
		}
	}
}
shared_focus = {
	id = STG_the_great_patriotic_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_ponies_celestia_has_failed
	}
	prerequisite = {
		focus = STG_even_in_bad_we_show_the_light
	}
	prerequisite = {
		focus = STG_wartime_meassures
	}
	available = {
		controls_state = 3
		any_owned_state = {
			is_core_of = EQS
			compliance > 40
		}
	}
	relative_position_id = STG_even_in_bad_we_show_the_light
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_great_patriotic_war"
		EQS = {
			add_to_ROOT_potential_cores = yes
		}
		add_to_variable = {
			STG_sinnie_gpw_army_core_defence_factor = 0.08
			tooltip = STG_get_gpw_army_core_defence_factor_tt
		}
		add_to_variable = {
			STG_sinnie_gpw_mobilization_speed = 0.2
			tooltip = STG_get_gpw_mobilization_speed_tt
		}
	}
}
shared_focus = {
	id = STG_arise_vast_country
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_great_patriotic_war
	}
	continue_if_invalid = yes
	available = {
		EQS = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
		any_controlled_state = {
			is_core_of = CHN
		}
	}
	relative_position_id = STG_the_great_patriotic_war
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_arise_vast_country"
		add_to_variable = {
			STG_sinnie_gpw_conscription = 0.03
			tooltip = STG_get_gpw_conscription_tt
		}
	}
}
shared_focus = {
	id = STG_arise_on_fight_to_death
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_great_patriotic_war
	}
	continue_if_invalid = yes
	available = {
		EQS = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
		any_controlled_state = {
			is_core_of = CHN
		}
	}
	relative_position_id = STG_the_great_patriotic_war
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_arise_on_fight_to_death"
		add_to_variable = {
			STG_sinnie_gpw_army_org_factor = 0.08
			tooltip = STG_get_gpw_army_org_factor_tt
		}
	}
}
shared_focus = {
	id = STG_against_the_evil_forces
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_great_patriotic_war
	}
	continue_if_invalid = yes
	available = {
		EQS = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
		
		any_controlled_state = {
			is_core_of = CHN
		}
	}
	relative_position_id = STG_the_great_patriotic_war
	x = -1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_against_the_evil_forces"
		add_to_variable = {
			STG_sinnie_gpw_army_strength_factor = 0.08
			tooltip = STG_get_gpw_army_strength_factor_tt
		}
	}
}
shared_focus = {
	id = STG_against_the_cursed_hordes
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_great_patriotic_war
	}
	continue_if_invalid = yes
	available = {
		EQS = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
		
		any_controlled_state = {
			is_core_of = CHN
		}
	}
	relative_position_id = STG_the_great_patriotic_war
	x = 1
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_against_the_cursed_hordes"
		custom_effect_tooltip = STG_sinnie_attack_targeted
		hidden_effect = {
			add_ideas = STG_sinnie_targeted_attack
		}
	}
}
shared_focus = {
	id = STG_a_bloody_triumph
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_great_patriotic_war
	}
	available = {
		EQS = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
		CHN = {
			OR = {
				has_capitulated = yes
				exists = no
			}
		}
	}
	relative_position_id = STG_the_great_patriotic_war
	x = 0
	y = 3
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_bloody_triumph"
		# TODO - post-victory tree and crisis
	}
}

### Sinnie helps in the Great War

shared_focus = {
	id = STG_dilemma_of_revolution
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_changeling_invasion
	}
	available = {
		is_in_faction_with = EQS
	}
	mutually_exclusive = {
		focus = STG_a_tricky_attack
	}
	cancelable = no
	relative_position_id = STG_the_changeling_invasion
	x = 4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_dilemma_of_revolution"
		country_event = stalliongrad_sinister.34
	}
}

shared_focus = {
	id = STG_new_chief_of_hq
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_dilemma_of_revolution
	}
	relative_position_id = STG_dilemma_of_revolution
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_chief_of_hq"
		country_event = stalliongrad_sinister.35
	}
}

shared_focus = {
	id = STG_moonica_is_our_breadbasket
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_dilemma_of_revolution
	}
	relative_position_id = STG_dilemma_of_revolution
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_moonica_is_our_breadbasket"
		67 = {
			add_core_of = ROOT
			increase_state_category = yes
		}
		241 = {
			add_core_of = ROOT
			increase_state_category = yes
		}
	}
}
shared_focus = {
	id = STG_martial_law
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_chief_of_hq
	}
	relative_position_id = STG_new_chief_of_hq
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_martial_law"
		add_ideas = STG_martial_law_declared
	}
}
shared_focus = {
	id = STG_optimization_of_logistics
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_dilemma_of_revolution
	}
	relative_position_id = STG_dilemma_of_revolution
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_optimization_of_logistics"
		add_ideas = STG_central_supply
		every_allied_country = {
			add_ideas = STG_central_supply
		}
	}
}
shared_focus = {
	id = STG_not_our_enemies_anymore
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_moonica_is_our_breadbasket
	}
	relative_position_id = STG_moonica_is_our_breadbasket
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_not_our_enemies_anymore"
	}
}
shared_focus = {
	id = STG_protect_equestrian_heartlands
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_new_chief_of_hq
	}
	prerequisite = {
		focus = STG_optimization_of_logistics
	}
	relative_position_id = STG_new_chief_of_hq
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_protect_equestrian_heartlands"
	}
}
shared_focus = {
	id = STG_all_for_the_front
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_moonica_is_our_breadbasket
	}
	prerequisite = {
		focus = STG_optimization_of_logistics
	}
	relative_position_id = STG_moonica_is_our_breadbasket
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_all_for_the_front"
	}
}
shared_focus = {
	id = STG_northern_front
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_protect_equestrian_heartlands
	}
	relative_position_id = STG_protect_equestrian_heartlands
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_northern_front"
	}
}

shared_focus = {
	id = STG_battle_for_the_skies
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_protect_equestrian_heartlands
	}
	relative_position_id = STG_protect_equestrian_heartlands
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_battle_for_the_skies"
	}
}

shared_focus = {
	id = STG_allied_command_hq
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_protect_equestrian_heartlands
	}
	
	prerequisite = {
		focus = STG_optimization_of_logistics
	}
	
	prerequisite = {
		focus = STG_all_for_the_front
	}
	relative_position_id = STG_protect_equestrian_heartlands
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_allied_command_hq"
	}
}

shared_focus = {
	id = STG_industrial_exchange
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_all_for_the_front
	}
	relative_position_id = STG_all_for_the_front
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_industrial_exchange"
	}
}

shared_focus = {
	id = STG_road_to_victory
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_all_for_the_front
	}
	relative_position_id = STG_all_for_the_front
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_road_to_victory"
	}
}

shared_focus = {
	id = STG_spheres_of_influence
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_northern_front
		focus = STG_battle_for_the_skies
		focus = STG_allied_command_hq
		focus = STG_industrial_exchange
		focus = STG_road_to_victory
	}
	relative_position_id = STG_allied_command_hq
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_spheres_of_influence"
	}
}

shared_focus = {
	id = STG_mutual_guarantees
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_spheres_of_influence
	}
	relative_position_id = STG_spheres_of_influence
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_mutual_guarantees"
	}
}
shared_focus = {
	id = STG_atomic_heart_of_future_peace
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_spheres_of_influence
	}
	relative_position_id = STG_spheres_of_influence
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_atomic_heart_of_future_peace"
	}
}

shared_focus = {
	id = STG_we_will_get_chance
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_spheres_of_influence
	}
	relative_position_id = STG_spheres_of_influence
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_we_will_get_chance"
	}
}

shared_focus = {
	id = STG_just_not_today
	icon = GFX_goal_stg_wip_icon
	cost = 5
	
	prerequisite = {
		focus = STG_we_will_get_chance
	}
	relative_position_id = STG_we_will_get_chance
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_just_not_today"
	}
}
###Sinister industry###

shared_focus = {
	id = STG_plan_of_industrial_development
	icon = GFX_goal_sinister_focus
	cost = 10
	available = {
		has_completed_focus = STG_we_will_fix_in_three_years
	}
	select_effect = {
		country_event = { id = stalliongrad_sinister.10 }
	}
	x = 24
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_plan_of_industrial_development"
		add_political_power = 150
		unlock_decision_tooltip = STG_sinnie_crystal_obsession
		effect_tooltip = {
			swap_ideas = {
				remove_idea = tot_economic_mobilisation
				add_idea = STG_sinnie_unique_tot_economic_mobilisation
			}
		}
	}
}

shared_focus = {
	id = STG_NEP_folding
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_plan_of_industrial_development
	}
	relative_position_id = STG_plan_of_industrial_development
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_NEP_folding"
		if = {
			limit = {
				has_idea = STG_new_economic_policy
			}
			remove_ideas = STG_new_economic_policy
		}
		add_political_power = 100
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_timed_idea = {
			idea = STG_accelerated_nep_folding
			days = 90
		}
	}
}

shared_focus = {
	id = STG_attract_stuff
	icon = GFX_goal_stg_wip_icon
	cost = 7
	prerequisite = {
		focus = STG_NEP_folding
	}
	relative_position_id = STG_NEP_folding
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_attract_stuff"
		country_event = stalliongrad_sinister.29
		hidden_effect = { set_country_flag = { flag = STG_attract_stuff value = 1 days = 730 } }
	}
}

shared_focus = {
	id = STG_finalize_blockade_removal
	icon = GFX_goal_stg_wip_icon
	cost = 7
	prerequisite = {
		focus = STG_attract_stuff
	}
	available = {
		custom_trigger_tooltip = {
			tooltip = STG_two_years_since_stg_attract_stuff
			NOT = { has_country_flag = STG_attract_stuff }
		}
	}
	relative_position_id = STG_attract_stuff
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_attract_stuff"
		if = {
			limit = {
				has_idea = STG_equestrian_embargo_sinnie_dark
			}
			remove_ideas = STG_equestrian_embargo_sinnie_dark
		}
		else = {
			remove_ideas = STG_equestrian_embargo_sinnie
		}
	}
}

shared_focus = {
	id = STG_collectivisation
	icon = GFX_goal_stg_wip_icon
	cost = 6
	prerequisite = {
		focus = STG_NEP_folding
	}
	relative_position_id = STG_NEP_folding
	x = -3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_collectivisation"
		add_to_variable = { STG_sinister_industry_consumer_goods_factor = -0.05 tooltip = STG_get_consumer_goods_factor_tt }
		add_to_variable = { STG_sinister_industry_conscription_factor = 0.2 tooltip = STG_get_industry_conscription_factor_tt }
	}
}

shared_focus = {
	id = STG_new_soviet_pony
	icon = GFX_goal_stg_wip_icon
	cost = 7
	prerequisite = {
		focus = STG_collectivisation
	}
	relative_position_id = STG_collectivisation
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_soviet_pony"
		add_to_variable = { STG_sinister_industry_production_speed_buildings_factor = 0.05 tooltip = STG_get_industry_production_speed_buildings_factor_tt }
		add_to_variable = { STG_sinister_industry_industrial_capacity_factory = 0.05 tooltip = STG_get_industry_industrial_capacity_factory_tt }
		add_to_variable = { STG_sinister_industry_industrial_capacity_dockyard = 0.05 tooltip = STG_get_industry_industrial_capacity_dockyard_tt }
		add_to_variable = { STG_sinister_industry_stability_weekly_factor = 0.001 tooltip = STG_get_industry_stability_weekly_factor_tt }
	}
}

shared_focus = {
	id = STG_kolhoz_tractor_station
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_collectivisation
	}
	relative_position_id = STG_collectivisation
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_soviet_pony"
		add_to_variable = { STG_sinister_industry_consumer_goods_factor = -0.05 tooltip = STG_get_consumer_goods_factor_tt }		
		hidden_effect = { set_country_flag = { flag = stg_kolhoz_tractor_flag value = 1 days = 730 } }
		if = {
			limit = {
				has_idea = STG_agrarian_problem
			}
			swap_ideas = {
				remove_idea = STG_agrarian_problem
				add_idea = STG_agrarian_problem_sinnie
			}
		}
		else_if = {
			limit = {
				has_idea = STG_agrarian_problem_vasya_1
			}
			swap_ideas = {
				remove_idea = STG_agrarian_problem_vasya_1
				add_idea = STG_agrarian_problem_sinnie
			}
		}
		else_if = {
			limit = {
				has_idea = STG_agrarian_problem_karamelka_1
			}
			swap_ideas = {
				remove_idea = STG_agrarian_problem_karamelka_1
				add_idea = STG_agrarian_problem_sinnie
			}
		}
	}
}

shared_focus = {
	id = STG_breadbasket_of_stalliongrad
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_kolhoz_tractor_station
	}
	available = {
		custom_trigger_tooltip = {
			tooltip = STG_two_years_since_stg_kolhoz_tractor
			NOT = { has_country_flag = stg_kolhoz_tractor_flag }
		}
	}
	relative_position_id = STG_kolhoz_tractor_station
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		add_to_variable = { STG_sinister_industry_consumer_goods_factor = -0.05 tooltip = STG_get_consumer_goods_factor_tt }	
		remove_ideas = STG_agrarian_problem_sinnie
	}
}

shared_focus = {
	id = STG_pcdi
	icon = GFX_goal_STG_pcdi
	cost = 4
	prerequisite = {
		focus = STG_NEP_folding
	}
	# available = {
	# 	hidden_trigger = {
	# 		NOT = { has_country_flag = stg_industrial_plan_opened }
	# 	}
	# }
	relative_position_id = STG_NEP_folding
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_pcdi"
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_14a
			}
			add_to_variable = { STG_sinister_industry_production_speed_arms_factory_factor = 0.05 tooltip = STG_get_industry_production_speed_arms_factory_factor_tt }
			add_to_variable = { STG_sinister_industry_production_speed_dockyard_factor = 0.05 tooltip = STG_get_industry_production_speed_dockyard_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_14b
			}
			add_to_variable = { STG_sinister_industry_production_speed_industrial_complex_factor = 0.05 tooltip = STG_get_industry_production_speed_industrial_complex_factor_tt }
			add_to_variable = { STG_sinister_industry_production_speed_dockyard_factor = 0.05 tooltip = STG_get_industry_production_speed_dockyard_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_14c
			}
			add_to_variable = { STG_sinister_industry_production_speed_arms_factory_factor = 0.05 tooltip = STG_get_industry_production_speed_arms_factory_factor_tt }
			add_to_variable = { STG_get_industry_production_speed_industrial_complex_factor_tt = 0.05 tooltip = STG_get_industry_production_speed_industrial_complex_factor_tt }
		}
		
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_13b
			}
			add_to_variable = { STG_sinister_industry_industrial_capacity_factory = 0.1 tooltip = STG_get_industry_industrial_capacity_factory_tt }
			add_to_variable = { STG_sinister_industry_industrial_capacity_dockyard = 0.05 tooltip = STG_get_industry_industrial_capacity_dockyard_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_13a
			}
			add_to_variable = { STG_sinister_industry_production_speed_buildings_factor = 0.05 tooltip = STG_get_industry_production_speed_buildings_factor_tt }
		}
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = STG_industrial_plan_13a
						has_country_flag = STG_industrial_plan_13b
						has_country_flag = STG_industrial_plan_14a
						has_country_flag = STG_industrial_plan_14b
					}
				}
			}
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}

shared_focus = {
	id = STG_massive_investments_in_magic_industry
	icon = GFX_goal_stg_wip_icon
	cost = 6
	prerequisite = {
		focus = STG_pcdi
	}
	available = {
		has_resources_in_country = {
			resource = crystals
			amount > 14
			#extracted = yes
		}
	}			
	relative_position_id = STG_pcdi
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_massive_investments_in_magic_industry"
		set_country_flag = { flag = stg_magic_investments_made value = 1 days = 180 }
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a 
			}
			add_to_variable = { STG_sinister_industry_industrial_capacity_factory = 0.025 tooltip = STG_get_industry_industrial_capacity_factory_tt }
			add_to_variable = { STG_sinister_industry_production_factory_efficiency_gain_factor = 0.075 tooltip = STG_get_factory_efficiency_gain_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { STG_sinister_industry_production_factory_max_efficiency_factor = 0.025 tooltip = STG_get_factory_max_efficiency_factor_tt }
			add_to_variable = { STG_sinister_industry_production_factory_start_efficiency_factor = 0.1 tooltip = STG_get_factory_start_efficiency_factor_tt }
		}
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = STG_industrial_plan_11a
						has_country_flag = STG_industrial_plan_11b
					}
				}
			}
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}

shared_focus = {
	id = STG_investments_in_crystal_mining
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_massive_investments_in_magic_industry
	}
	available = {
		has_tech = excavation2
	}
	relative_position_id = STG_massive_investments_in_magic_industry
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_investments_in_crystal_mining"
		240 = {
			add_resource = {
				type = crystals
				amount = 10
			}
		}
	}
}

shared_focus = {
	id = STG_sinisters_design_bureau
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_in_magic_industry
	}
	
	relative_position_id = STG_massive_investments_in_magic_industry
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sinisters_design_bureau"
		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			every_military_industrial_organization = {
				add_mio_size = 1
			}
			mio:STG_grey_design_organization = {
				add_mio_size = 1
			}
		}
		else = {
			set_country_flag = STG_grey_design_expanded
			if = {
				limit = {
					has_idea = grey_design
				}
				swap_ideas = {
					remove_idea = grey_design
					add_idea = grey_design_improved
				}
			}
			else = {
				effect_tooltip = {
					swap_ideas = {
						remove_idea = grey_design
						add_idea = grey_design_improved
					}
				}
			}
		}
	}
}

shared_focus = {
	id = STG_first_profits_of_magic_industry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_in_magic_industry
	}
	available = {
		hidden_trigger = {
			NOT = { has_country_flag = stg_magic_investments_made }
		}
	}
	relative_position_id = STG_massive_investments_in_magic_industry
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_first_profits_of_magic_industry"
		set_country_flag = { flag = stg_first_magic_profits value = 1 days = 270 }
		set_country_flag = { flag = stg_first_magic_profits_2 value = 1 days = 90 }
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a 
			}
			add_to_variable = { STG_sinister_industry_production_factory_max_efficiency_factor = 0.075 tooltip = STG_get_factory_max_efficiency_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { STG_sinister_industry_production_factory_max_efficiency_factor = 0.05 tooltip = STG_get_factory_max_efficiency_factor_tt }
			add_to_variable = { STG_sinister_industry_production_line_change_production_efficiency_factor = 0.1 tooltip = STG_line_change_more_production_efficiency_factor_tt }
			add_to_variable = { STG_sinister_industry_production_factory_efficiency_gain_factor = 0.05 tooltip = STG_get_factory_efficiency_gain_factor_tt }
		}
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = STG_industrial_plan_11a
						has_country_flag = STG_industrial_plan_11b
					}
				}
			}
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}

shared_focus = {
	id = STG_radio_for_everypony
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_first_profits_of_magic_industry
	}
	relative_position_id = STG_first_profits_of_magic_industry
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_radio_for_everypony"
		add_ideas = STG_sinister_radio_idea
	}
}

shared_focus = {
	id = STG_all_union_industrial_plants_pone
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_sinisters_design_bureau
	}
	prerequisite = {
		focus = STG_first_profits_of_magic_industry
	}
	relative_position_id = STG_first_profits_of_magic_industry
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_all_union_industrial_plants_pone"	
		unlock_decision_category_tooltip = STG_sinister_industry_category
		unlock_decision_tooltip = STG_sinister_industry_civilian_factories
		unlock_decision_tooltip = STG_sinister_industry_arms_factories
	}
}

shared_focus = {
	id = STG_second_profits_of_magic_industry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_first_profits_of_magic_industry
	}
	available = {
		hidden_trigger = {
			NOT = { has_country_flag = stg_first_magic_profits }
		}
	}
	relative_position_id = STG_first_profits_of_magic_industry
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_second_profits_of_magic_industry"
		hidden_effect = { set_country_flag = { flag = STG_second_prof_of_magic_ind value = 1 days = 90 } }
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_13a
			}
			add_to_variable = { STG_sinister_industry_industrial_capacity_factory = 0.2 tooltip = STG_get_industry_industrial_capacity_factory_tt }
			add_to_variable = { STG_sinister_industry_industrial_capacity_dockyard = 0.1 tooltip = STG_get_industry_industrial_capacity_dockyard_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_13b
			}
			add_to_variable = { STG_sinister_industry_production_speed_buildings_factor = 0.075 tooltip = STG_get_industry_production_speed_buildings_factor_tt }
		}
		modify_building_resources = {
			building = 	arms_factory
			resource = crystals
			amount = -1
		}
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = STG_industrial_plan_11a
						has_country_flag = STG_industrial_plan_11b
					}
				}
			}
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}

shared_focus = {
	id = STG_radio_of_world_revolution
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_radio_for_everypony
	}
	prerequisite = {
		focus = STG_second_profits_of_magic_industry
	}
	relative_position_id = STG_second_profits_of_magic_industry
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_radio_of_world_revolution"
		add_ideas = STG_sinister_radio_of_revolution
	}
}

shared_focus = {
	id = STG_all_union_industrial_plants_ptwo
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_second_profits_of_magic_industry
	}
	relative_position_id = STG_second_profits_of_magic_industry
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_all_union_industrial_plants_ptwo"
		unlock_decision_tooltip = STG_sinister_industry_civ_factories_phase_two
		unlock_decision_tooltip = STG_sinister_industry_arms_factories_zvezdopadovo
		unlock_decision_tooltip = STG_sinister_industry_arms_factories_krasivsk
	}
}

shared_focus = {
	id = STG_invest_crystals_to_research_labs
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_second_profits_of_magic_industry
	}
	available = {
		has_resources_in_country = {
			resource = crystals
			amount > 29
			#extracted = yes
		}
	}
	relative_position_id = STG_second_profits_of_magic_industry
	x = 4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_invest_crystals_to_research_labs"
		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			unlock_mio_policy_tooltip = mio_policy_STG_applied_use_of_crystals
		}
		add_tech_bonus = {
			category = nuclear
			uses = 2
			bonus = 1
		}
		add_tech_bonus = {
			category = electronics
			uses = 1
			bonus = 1
		}
	}
}

shared_focus = {
	id = STG_invest_crystals_to_military_equipment
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_second_profits_of_magic_industry
	}
	relative_position_id = STG_second_profits_of_magic_industry
	x = 3
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_invest_crystals_to_military_equipment"
		#TODO 
	}
}

shared_focus = {
	id = STG_massive_investments_after_grf
	icon = GFX_goal_stg_wip_icon
	cost = 5
	available = {
		GRF = {
			OR = {
				exists = no 
				is_subject_of = ROOT 
			}
		}
		GFF = {
			OR = {
				exists = no 
				is_subject_of = ROOT 
			}
		}
		hidden_trigger = { NOT = { has_country_flag = STG_second_prof_of_magic_ind } }
	}
	prerequisite = {
		focus = STG_second_profits_of_magic_industry
	}
	relative_position_id = STG_second_profits_of_magic_industry
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_massive_investments_after_grf"
		set_country_flag = { flag = STG_massinv_after_grf value = 1 days = 365 }
		add_to_variable = { STG_sinister_industry_conscription_factor = 0.1 tooltip = STG_get_industry_conscription_factor_tt }
		add_to_variable = { STG_sinister_industry_consumer_goods_factor = -0.05 tooltip = STG_get_consumer_goods_factor_tt }
	}
}

shared_focus = {
	id = STG_crystal_to_every_dockyards
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_after_grf
	}
	available = {
		if = {
			limit = {
				is_ai = yes 
			}
			has_resources_in_country = {
				resource = crystals
				amount > 199
				#extracted = yes
			}
		}
		else = {
			has_resources_in_country = {
				resource = crystals
				amount > 74
				#extracted = yes
			}
		}
	}
	relative_position_id = STG_massive_investments_after_grf
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_crystal_to_every_dockyards"
		add_to_variable = { STG_sinister_industry_industrial_capacity_dockyard = 0.15 tooltip = STG_get_industry_industrial_capacity_dockyard_tt }
		modify_building_resources = {
			building = 	dockyard
			resource = crystals
			amount = -1
		}
	}
}

shared_focus = {
	id = STG_grf_crystal_mining
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_after_grf
	}
	available = {
		has_tech = excavation3
		238 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		278 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		283 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		287 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
	}
	relative_position_id = STG_massive_investments_after_grf
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_grf_crystal_mining"
		country_event = stalliongrad_sinister.32
	}
}

shared_focus = {
	id = STG_massive_investments_after_cry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_after_grf
	}
	available = {
		hidden_trigger = {
			NOT = { has_country_flag = STG_massinv_after_grf }
		}

		53 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		344 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		345 = {
			is_owned_and_controlled_by_ROOT_or_ally = yes
		}
		
	}
	relative_position_id = STG_massive_investments_after_grf
	x = 0
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_massive_investments_after_cry"
		set_country_flag = { flag = STG_massinv_after_cry value = 1 days = 120 }
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11a 
			}
			add_to_variable = { STG_sinister_industry_production_factory_max_efficiency_factor = 0.075 tooltip = STG_get_factory_max_efficiency_factor_tt }
			add_to_variable = { STG_sinister_industry_production_factory_efficiency_gain_factor = 0.1 tooltip = STG_get_factory_efficiency_gain_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_11b
			}
			add_to_variable = { STG_sinister_industry_production_factory_max_efficiency_factor = 0.05 tooltip = STG_get_factory_max_efficiency_factor_tt }
			add_to_variable = { STG_sinister_industry_production_line_change_production_efficiency_factor = 0.15 tooltip = STG_line_change_more_production_efficiency_factor_tt }
		}
		
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_15a
			}
			add_to_variable = { STG_sinister_industry_production_speed_rail_way_factor = 0.1 tooltip = STG_get_industry_production_speed_rail_way_factor_tt }
			add_to_variable = { STG_sinister_industry_production_speed_infrastructure_factor = 0.1 tooltip = STG_get_industry_production_speed_infrastructure_factor_tt }
			add_to_variable = { STG_sinister_industry_production_speed_supply_node_factor = 0.1 tooltip = STG_sinister_industry_production_speed_supply_node_factor_tt }
		}
		if = {
			limit = {
				has_country_flag = STG_industrial_plan_15b
			}
			add_to_variable = { STG_sinister_industry_production_speed_buildings_factor = 0.075 tooltip = STG_get_industry_production_speed_buildings_factor_tt }
		}
		if = {
			limit = {
				NOT = {
					OR = {
						has_country_flag = STG_industrial_plan_11a
						has_country_flag = STG_industrial_plan_11b
						has_country_flag = STG_industrial_plan_15a
						has_country_flag = STG_industrial_plan_15b
					}
				}
			}
			custom_effect_tooltip = STG_industrial_plan_no_effect_tt
		}
	}
}

shared_focus = {
	id = STG_fully_crystalized_civs
	icon = GFX_goal_stg_wip_icon
	cost = 6
	available = {
		hidden_trigger = {
			NOT = { has_country_flag = STG_massinv_after_cry }
		}
		if = {
			limit = {
				is_ai = yes 
			}
			has_resources_in_country = {
				resource = crystals
				amount > 299
				#extracted = yes
			}
		}
		else = {
			has_resources_in_country = {
				resource = crystals
				amount > 149
				#extracted = yes
			}
		}
	}
	prerequisite = {
		focus = STG_massive_investments_after_cry
	}
	relative_position_id = STG_massive_investments_after_cry
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fully_crystalized_civs"
		add_to_variable = { STG_sinister_industry_consumer_goods_factor = -0.3 tooltip = STG_get_consumer_goods_factor_tt }
		modify_building_resources = {
			building = 	industrial_complex
			resource = crystals
			amount = -1
		}
	}
}

shared_focus = {
	id = STG_fully_crystalized_mils
	icon = GFX_goal_stg_wip_icon
	cost = 9
	prerequisite = {
		focus = STG_massive_investments_after_cry
	}
	relative_position_id = STG_massive_investments_after_cry
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_fully_crystalized_mils"
		add_to_variable = { STG_sinister_industry_industrial_capacity_factory = 0.15 tooltip = STG_get_industry_industrial_capacity_factory_tt }
		modify_building_resources = {
			building = 	arms_factory
			resource = crystals
			amount = -1
		}
	}
}

shared_focus = {
	id = STG_mine_every_crystal
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_investments_after_cry
	}
	relative_position_id = STG_massive_investments_after_cry
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_mine_every_crystal"
		53 = {
			add_resource = {
				type = crystals
				amount = 40
			}
		}
		55 = {
			add_resource = {
				type = crystals
				amount = 20
			}
		}
		64 = {
			add_resource = {
				type = crystals
				amount = 20
			}
		}
		# todo add an event for deciding
	}
}

### Sinister military ###

shared_focus = {
	id = STG_a_revolutinary_army
	icon = GFX_goal_sinister_focus
	cost = 1
	available = {
		has_completed_focus = STG_we_will_fix_in_three_years
	}
	x = 37
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_revolutinary_army"
		if = {
			limit = {
				NOT = { has_country_flag = STG_voyennaya_pobudka }
			}
			country_event = { id=stalliongrad_mil.1 }
		}
		custom_effect_tooltip = STG_sinnie_task_tt
		country_event = stalliongrad_sinister.28
	}
}

shared_focus = {
	id = STG_put_old_ships_in_the_trash
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_a_revolutinary_army
	}
	relative_position_id = STG_a_revolutinary_army
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_put_old_ships_in_the_trash"
		add_timed_idea = {
			idea = STG_create_new_ships_idea
			days = 700
		}
		country_event = stalliongrad_sinister.30
		add_dynamic_modifier = { modifier = STG_red_fleet_dynamic_modifier }
	}
}
shared_focus = {
	id = STG_establish_tank_armies
	icon = GFX_goal_stg_wip_icon
	cost = 6
	prerequisite = {
		focus = STG_a_revolutinary_army
	}
	relative_position_id = STG_a_revolutinary_army
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_establish_tank_armies"
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			name = land_doctrine
			uses = 1
			category = land_doctrine
		}
		set_technology = {
			armor_assault_battalion_tech = 1
		}
		if = {
			limit = { 
				has_dlc = "No Step Back"
			}
			create_equipment_variant = {
				name = "T-32-76"
				type = medium_tank_chassis_1
				parent_version = 0
				modules = {
					main_armament_slot = tank_medium_cannon
					turret_type_slot = tank_medium_two_man_tank_turret
					suspension_type_slot = tank_christie_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_diesel_engine
					special_type_slot_1 = sloped_armor
					special_type_slot_2 = tank_radio_1
					special_type_slot_3 = additional_machine_guns
				}
				upgrades = {
					tank_nsb_engine_upgrade = 10
					tank_nsb_armor_upgrade = 2
				}
				icon = "gfx/interface/technologies/SOV_basic_main_tank.dds"
			}
			create_equipment_variant = {
				name = "KM-1"			#Karamel Marks
				type = heavy_tank_chassis_1
				parent_version = 0
				modules = {
					main_armament_slot = tank_medium_cannon
					turret_type_slot = tank_heavy_three_man_tank_turret
					suspension_type_slot = tank_torsion_bar_suspension
					armor_type_slot = tank_welded_armor
					engine_type_slot = tank_diesel_engine
					special_type_slot_1 = tank_radio_1
					special_type_slot_2 = additional_machine_guns
					special_type_slot_3 = additional_machine_guns
				}
				upgrades = {
					tank_nsb_engine_upgrade = 10
					tank_nsb_armor_upgrade = 6
				}
				icon = "gfx/interface/technologies/SOV_imp_heavy_tank.dds"
			}
			division_template = {
				name = "Krasnoznamennaya Tankovaya Divisiya"
				division_names_group = STG_ARM_01
				priority = 2
				template_counter = 0
				regiments = {
					medium_armor = { x = 0 y = 0 }
					medium_armor = { x = 0 y = 1 }
					medium_armor = { x = 0 y = 2 }
					heavy_armor = { x = 0 y = 3 }
					motorized = { x = 1 y = 0 }
					motorized = { x = 1 y = 1 }
					motorized = { x = 1 y = 2 }
					motorized = { x = 1 y = 3 }
					medium_armor = { x = 2 y = 0 }
					medium_armor = { x = 2 y = 1 }
					medium_armor = { x = 2 y = 2 }
					heavy_armor = { x = 2 y = 3 }
					motorized = { x = 3 y = 0 }
					motorized = { x = 3 y = 1 }
					motorized = { x = 3 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
					mot_recon = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
					armor_assault_battalion = { x = 0 y = 3 }
				}
			}
			capital_scope = {
				create_unit = { 
					division = "division_template = \"Krasnoznamennaya Tankovaya Divisiya\" start_equipment_factor = 0.95 start_experience_factor = 0.8" owner = ROOT }
			}
		}
	}
}
shared_focus = {
	id = STG_new_head_of_airforce
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_a_revolutinary_army
	}
	relative_position_id = STG_a_revolutinary_army
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_head_of_airforce"
		country_event = stalliongrad_sinister.31
		add_dynamic_modifier = { modifier = STG_revolutionary_airforce_dynamic_modifier }
	}
}
shared_focus = {
	id = STG_new_fighter_models
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_new_head_of_airforce
	}
	relative_position_id = STG_new_head_of_airforce
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_new_fighter_models"
		if = {
            limit = {
                has_dlc = "By Blood Alone"
            }
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_air
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = cat_air_engine
			}
		}
		else = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 2
				category = light_fighter
			}
		}
		add_to_variable = { STG_air_superiority_efficiency = 0.05 tooltip = STG_air_superiority_efficiency_tt }
		add_to_variable = { STG_air_fuel_consumption_factor = -0.1 tooltip = STG_air_fuel_consumption_factor_tt }
	}
}
shared_focus = {
	id = STG_revolutionary_technologies
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_establish_tank_armies
	}
	prerequisite = {
		focus = STG_put_old_ships_in_the_trash
	}
	prerequisite = {
		focus = STG_new_head_of_airforce
	}
	relative_position_id = STG_establish_tank_armies
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_revolutionary_technologies"
		add_research_slot = 1
	}
}
shared_focus = {
	id = STG_long_range_submarines
	icon = GFX_goal_stg_wip_icon
	cost = 6
	prerequisite = {
		focus = STG_put_old_ships_in_the_trash
	}
	relative_position_id = STG_put_old_ships_in_the_trash
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		#add_ideas = STG_long_range_subs
		add_to_variable = { STG_navy_max_range_factor = 0.15 tooltip = STG_navy_max_range_factor_tt }
		add_to_variable = { STG_naval_retreat_chance = 0.25 tooltip = STG_naval_retreat_chance_tt }
		add_to_variable = { STG_naval_retreat_speed = 0.1 tooltip = STG_naval_retreat_speed_tt }
	}
}
shared_focus = {
	id = STG_experiment_with_magic
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_revolutionary_technologies
	}
	mutually_exclusive = {
		focus = STG_rapid_offensive
	}
	relative_position_id = STG_revolutionary_technologies
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_experiment_with_magic"
		add_to_variable = {
			STG_sinnies_army_task_light_var = -400
			tooltip = STG_sinnies_army_task_light_tt
		}
		add_to_variable = {
			STG_sinnies_army_task_medium_var = -300
			tooltip = STG_sinnies_army_task_medium_tt
		}
		add_to_variable = {
			STG_sinnies_army_task_modern_var = -300
			tooltip = STG_sinnies_army_task_modern_tt
		}
		add_to_variable = {
			STG_sinnies_army_task_heavy_var = -200
			tooltip = STG_sinnies_army_task_heavy_tt
		}
		add_to_variable = {
			STG_sinnies_army_task_super_heavy_var = -40
			tooltip = STG_sinnies_army_task_super_heavy_tt
		}
		custom_effect_tooltip = STG_reduce_tank_task
		custom_effect_tooltip = STG_add_crystal_task
		if = {
			limit = {
				NOT = {
					has_tech = magical_weapons
				}
			}
			set_technology = {
				magical_weapons = 1
			}
			add_tech_bonus = {
				name = magical_bonus
				uses = 2
				bonus = 0.75
				category = magical_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = magical_bonus
				uses = 3
				bonus = 0.75
				category = magical_tech
			}
		}
		set_technology = {
			STG_sinnie_super_unicorns = 1
		}
		activate_advisor = STG_ketola_advisor
		STG_nestori_ketola = {
			set_can_be_fired_in_advisor_role = {
				slot = army_chief
				value = no
			}
		}
		add_political_power = -100
		add_to_variable = {
			STG_sinnie_madness_points = 1
		}
		STG_sinnie_madness_check = yes
	}
}
shared_focus = {
	id = STG_new_creative_officers
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_experiment_with_magic
		focus = STG_rapid_offensive
	}
	relative_position_id = STG_experiment_with_magic
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		hidden_effect = {
			generals_half_of_the_level = yes
		}
		custom_effect_tooltip = generals_half_of_the_level_tp
		every_country_division = {
			add_divisional_commander_xp = 300
		}
		add_to_variable = { STG_experience_gain_army_unit_factor = 0.15 tooltip = STG_experience_gain_army_unit_factor_tt }
	}
}
shared_focus = {
	id = STG_magical_rifles
	icon = GFX_goal_stg_wip_icon
	cost = 7
	prerequisite = {
		focus = STG_experiment_with_magic
	}
	relative_position_id = STG_experiment_with_magic
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_tech_bonus = {
			name = magical_bonus
			uses = 2
			bonus = 1
			category = magical_tech
		}
		add_ideas = STG_magical_rifles_development_idea
	}
}
shared_focus = {
	id = STG_crystal_radar_array
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_experiment_with_magic
	}
	relative_position_id = STG_experiment_with_magic
	x = -3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_tech_bonus = {
			name = radar_bonus
			uses = 1
			bonus = 1
			category = radar_tech
		}
		add_to_variable = { STG_air_superiority_detect_factor = 0.05 tooltip = STG_air_superiority_detect_factor_tt }
		add_to_variable = { STG_navy_visibility = -0.05 tooltip = STG_navy_visibility_tt }
		add_to_variable = { STG_naval_detection = 0.1 tooltip = STG_naval_detection_tt }
	}
}
shared_focus = {
	id = STG_DRG_tactics
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_crystal_radar_array
	}
	relative_position_id = STG_crystal_radar_array
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		hidden_effect = {
			set_technology = { guerrila_warfare_enable = 1 popup = no }
		}
		custom_effect_tooltip = SRS_gorilla_warfare_tech_tt
		hidden_effect = {
			set_technology = { masterful_blitz = 1 popup = no }
		}
		custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt
		add_to_variable = { STG_army_defence_factor = 0.05 tooltip = STG_army_defence_factor_tt }
		add_to_variable = { STG_resistance_target_on_our_occupied_states = 0.1 tooltip = STG_resistance_target_on_our_occupied_states_tt }
	}
}
shared_focus = {
	id = STG_training_the_best_for_the_best
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_crystal_radar_array
	}
	prerequisite = {
		focus = STG_magical_rifles
	}
	relative_position_id = STG_crystal_radar_array
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_to_variable = { STG_experience_gain_army_unit_factor = 0.1 tooltip = STG_experience_gain_army_unit_factor_tt }
		add_to_variable = { STG_experience_gain_army_factor = 0.1 tooltip = STG_experience_gain_army_factor_tt }
		every_unit_leader = {
			add_attack = 1
		}
		STG_pony_Budyonny = {
			add_attack = 1
			add_planning = 1
			add_trait = {
				trait = skilled_staffer
			}
		}
		STG_nestori_ketola = {
			add_attack = 1
			add_planning = 1
			add_trait = {
				trait = skilled_staffer
			}
		}
	}
}
shared_focus = {
	id = STG_project_chameleon
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_magical_rifles
	}
	relative_position_id = STG_magical_rifles
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_to_variable = { STG_experience_loss_factor = -0.1 tooltip = STG_experience_loss_factor_tt }
		add_to_variable = { STG_army_strength_factor = 0.15 tooltip = STG_army_strength_factor_tt }		
		add_tech_bonus = {
			name = racial_bonus
			uses = 2
			bonus = 1
			category = race_tech
		}
	}
}
shared_focus = {
	id = STG_rocket_launchers_for_infantry
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_training_the_best_for_the_best
	}
	relative_position_id = STG_training_the_best_for_the_best
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_to_variable = { STG_army_defence_factor = 0.075 tooltip = STG_army_defence_factor_tt }
		set_technology = {
			molotov_cocktails_tech = 1
		}
		custom_effect_tooltip = FIN_oy_alkoholiliike_dynamic_modifier_tt
	}
}
shared_focus = {
	id = STG_dual_purpose_artillery_for_infantry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_training_the_best_for_the_best
	}
	relative_position_id = STG_training_the_best_for_the_best
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		set_technology = {
			STG_universal_arty = 1
		}
		custom_effect_tooltip = STG_universal_arty_tt
		hidden_effect = {
			add_ideas = STG_universal_arty_idea
		}
	}
}
shared_focus = {
	id = STG_serov_musical_organ
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_project_chameleon
		focus = STG_shock_divisions
	}
	relative_position_id = STG_magical_rifles
	x = 3
	y = 2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_tech_bonus = {
			name = artillery_bonus
			bonus = 2.0
			uses = 2
			category = rocketry
		}
	}
}
shared_focus = {
	id = STG_tactical_missles
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_rocket_launchers_for_infantry
	}
	relative_position_id = STG_rocket_launchers_for_infantry
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			add_tech_bonus = {
				name = train_tech
				category = train_tech
				uses = 2
				bonus = 3
			}
		}
		else = {
			add_tech_bonus = {
				name = rocketry
				category = rocketry
				uses = 2
				bonus = 3
			}
		}
	}
}
shared_focus = {
	id = STG_intensify_new_arnament_production
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_dual_purpose_artillery_for_infantry
	}
	prerequisite = {
		focus = STG_rocket_launchers_for_infantry
	}
	relative_position_id = STG_rocket_launchers_for_infantry
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_ideas = STG_overproduction
	}
}
shared_focus = {
	id = STG_RKhBZ_troops
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_dual_purpose_artillery_for_infantry
		focus = STG_assault_rifles
	}
	relative_position_id = STG_dual_purpose_artillery_for_infantry
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		custom_effect_tooltip = MAN_enables_tear_gas_bombardment_tactic
		hidden_effect = {
		    set_country_flag = unlocked_tear_gas_bombardment_tactic
		}
	}
}
shared_focus = {
	id = STG_sinister_command
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_RKhBZ_troops
	}
	prerequisite = {
		focus = STG_intensify_new_arnament_production
	}
	relative_position_id = STG_intensify_new_arnament_production
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_long_range_submarines"
		add_field_marshal_role = {
			character = STG_sinister_serov
			skill = 2
			attack_skill = 2
			defense_skill = 1
			planning_skill = 2
			logistics_skill = 2
			traits = {
				pony_race_trait politically_connected skilled_staffer expert_delegator STG_great_commander
			}
		}
		STG_nestori_ketola = {
			add_defense = 1
			add_planning = 1
			add_unit_leader_trait = trait_SOV_determined
		}
		STG_pony_Budyonny = {
			add_defense = 1
			add_planning = 1
			add_unit_leader_trait = trait_SOV_determined
		}
		add_to_variable = {
			STG_sinnie_madness_points = 1
		}
		STG_sinnie_madness_check = yes
	}
}
shared_focus = {
	id = STG_rapid_offensive
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_revolutionary_technologies
	}
	mutually_exclusive = {
		focus = STG_experiment_with_magic
	}
	relative_position_id = STG_revolutionary_technologies
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_rapid_offensive"
		add_to_variable = { STG_army_speed_factor = 0.05 tooltip = STG_army_speed_factor_tt }
		add_to_variable = { STG_coordination_bonus = 0.05 tooltip = STG_coordination_bonus_tt }
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			name = land_doctrine
			uses = 2
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = STG_form_the_mechanized_guard
	icon = GFX_goal_stg_wip_icon
	cost = 7
	prerequisite = {
		focus = STG_rapid_offensive
	}
	relative_position_id = STG_rapid_offensive
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_form_the_mechanized_guard"
		add_to_variable = { STG_army_motorized_attack_factor = 0.1 tooltip = STG_army_motorized_attack_factor_tt }
		add_to_variable = { STG_army_mechanized_attack_factor = 0.1 tooltip = STG_army_mechanized_attack_factor_tt }
		if = {
			limit = {
			    has_tech = mechanised_infantry
		    }
			add_tech_bonus = {
				name = mechanized
				bonus = 2.0
				uses = 1
				category = cat_mechanized_equipment
			}
		}
		else = {
			set_technology = {
				mechanised_infantry = 1
			}
		}
		division_template = {						#24w template
			name = "Experimental Mechanized Guard"
			division_names_group = STG_MEC_01
			regiments = {
				mechanized = { x = 0 y = 0 }
				mechanized = { x = 0 y = 1 }
				mechanized = { x = 0 y = 2 }
				mechanized = { x = 0 y = 3 }
				mechanized = { x = 1 y = 0 }
				mechanized = { x = 1 y = 1 }
				mechanized = { x = 1 y = 2 }
				mechanized = { x = 1 y = 3 }
				mot_artillery_brigade = { x = 2 y = 0 }
				mot_artillery_brigade = { x = 2 y = 1 }
				mechanized = { x = 3 y = 0 }
			}
			support = {
				mot_recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				anti_air = { x = 0 y = 2 }
				artillery = { x = 0 y = 3 }
			}
			priority = 2
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Gvardeyskaya 'im. Caramel Marks' Motostrelkovaya Diviziya\" division_template = \"Experimental Mechanized Guard\" start_experience_factor = 0.9" 
				owner = STG
			}
		}

	}
}
shared_focus = {
	id = STG_war_of_motors
	icon = GFX_goal_stg_wip_icon
	cost = 8
	prerequisite = {
		focus = STG_rapid_offensive
	}
	relative_position_id = STG_rapid_offensive
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_war_of_motors"
		if = {
			limit = {
				has_idea = STG_lightning_dust_idea
			}
			add_to_variable = { STG_air_superiority_efficiency_tt = 0.1 tooltip = STG_air_superiority_efficiency_tt }
		}
		else = {
			add_to_variable = { STG_air_air_cas_efficiency_tt = 0.1 tooltip = STG_air_air_cas_efficiency_tt }
		}
		add_to_variable = { STG_supply_consumption_factor = -0.1 tooltip = STG_supply_consumption_factor_tt }
		add_to_variable = { STG_air_fuel_consumption_factor = -0.1 tooltip = STG_air_fuel_consumption_factor_tt }
		add_to_variable = { STG_navy_fuel_consumption_factor = -0.1 tooltip = STG_navy_fuel_consumption_factor_tt }
		add_to_variable = { STG_naval_speed_factor = 0.05 tooltip = STG_naval_speed_factor_tt }
		add_to_variable = { STG_naval_retreat_chance = 0.1 tooltip = STG_naval_retreat_chance_tt }
	}
}
shared_focus = {
	id = STG_shock_divisions
	icon = GFX_goal_stg_wip_icon
	cost = 3
	prerequisite = {
		focus = STG_form_the_mechanized_guard
	}
	relative_position_id = STG_form_the_mechanized_guard
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_shock_divisions"
		set_technology = {
			shock_division_hq_tech = 1
		}
	}
}
shared_focus = {
	id = STG_massive_tank_army
	icon = GFX_goal_stg_wip_icon
	cost = 6
	prerequisite = {
		focus = STG_form_the_mechanized_guard
	}
	prerequisite = {
		focus = STG_war_of_motors
	}
	relative_position_id = STG_form_the_mechanized_guard
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_massive_tank_army"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 1
			category = armor
		}
		if = {
			limit = { has_dlc = "No Step Back" }
			add_ideas = STG_NSB_sinnie_massive_tank_army_idea
			set_technology = { tank_cheap_construction_tech = 1 }
		}
		else = {
			add_ideas = STG_sinnie_massive_tank_army_idea
		}
	}
}
shared_focus = {
	id = STG_shaped_bombs
	icon = GFX_goal_stg_wip_icon
	cost = 4
	prerequisite = {
		focus = STG_war_of_motors
	}
	relative_position_id = STG_war_of_motors
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_shaped_bombs"
		add_breakthrough_points = {
			specialization = specialization_air
			value = 2
		}
		add_to_variable = { STG_air_air_cas_present_factor = 0.05 tooltip = STG_air_air_cas_present_factor_tt }
		add_to_variable = { STG_air_army_bonus_air_superiority_factor = 0.05 tooltip = STG_air_army_bonus_air_superiority_factor_tt }
	}
}
shared_focus = {
	id = STG_assault_rifles
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_tank_army
	}
	prerequisite = {
		focus = STG_shock_divisions
	}
	relative_position_id = STG_massive_tank_army
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_assault_rifles"
		add_tech_bonus = {
			name = infantry_research
			ahead_reduction = 2
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = infantry_research
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
	}
}
shared_focus = {
	id = STG_shock_deep_offensives
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_massive_tank_army
	}
	relative_position_id = STG_massive_tank_army
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_shock_deep_offensives"
		add_to_variable = { STG_supply_consumption_factor = -0.05 tooltip = STG_supply_consumption_factor_tt }
		add_to_variable = { STG_army_attack_factor = 0.05 tooltip = STG_army_attack_factor_tt }
		add_to_variable = { STG_out_of_supply_factor = -0.15 tooltip = STG_out_of_supply_factor_tt }
		every_unit_leader = {
			add_logistics = 1
		}
	}
}
shared_focus = {
	id = STG_armored_angels
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_shock_deep_offensives
	}
	prerequisite = {
		focus = STG_assault_rifles
	}
	relative_position_id = STG_shock_deep_offensives
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_armored_angels"
		if = {
			limit = {
				has_idea = STG_lightning_dust_idea
			}
			add_ideas = STG_ld_angels
		}
		else = {
			add_ideas = STG_slavya_angels
		}
	}
}
shared_focus = {
	id = STG_tactical_marine_landings
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_shock_deep_offensives
	}
	relative_position_id = STG_shock_deep_offensives
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_tactical_marine_landings"
		add_breakthrough_points = {
			specialization = specialization_naval
			value = 2
		}
		add_to_variable = { STG_special_forces_cap = 0.02 tooltip = STG_special_forces_cap_tt }
		add_to_variable = { STG_naval_invasion_prep_speed = 0.15 tooltip = STG_naval_invasion_prep_speed_tt }
	}
}
shared_focus = {
	id = STG_form_the_Stavka
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_armored_angels
	}
	prerequisite = {
		focus = STG_RKhBZ_troops
	}
	relative_position_id = STG_armored_angels
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_form_the_Stavka"
		add_to_variable = { STG_experience_loss_factor = -0.1 tooltip = STG_experience_loss_factor_tt }
		add_to_variable = { STG_max_planning_factor = 0.15 tooltip = STG_max_planning_factor_tt }
		add_to_variable = { STG_planning_speed = 0.1 tooltip = STG_planning_speed_tt }
		add_to_variable = { STG_experience_gain_army_unit_factor = 0.05 tooltip = STG_experience_gain_army_unit_factor_tt }
		STG_nestor_lunin = {
			add_attack = 1
			add_planning = 1
			add_trait = {
				trait = trait_SOV_determined #replace to something else in future
			}
		}
		STG_veronika_krasnova = {
			add_attack = 1
			add_planning = 1
			add_trait = {
				trait = trait_SOV_determined #replace to something else in future
			}
		}
		STG_masha_norushkina = {
			add_attack = 1
			add_planning = 1
			add_trait = {
				trait = trait_SOV_determined #replace to something else in future
			}
		}
		every_unit_leader = {
			add_attack = 1
		}
	}
}
###############
###Dark Wing###
###############

shared_focus = {
	id = STG_dark_wing_wins
	icon = GFX_goal_stg_wip_icon
	cost = 3

	x = 12
	y = 0
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_dark_wing_wins"
		custom_effect_tooltip = STG_dark_wing_wins_tt
	}
}

shared_focus = {
	id = STG_cleaning_up_politicial_arena
	icon = GFX_goal_stg_wip_icon
	cost = 3

	x = 10
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cleaning_up_politicial_arena"
		country_event = stalliongrad_darkwing.2
	}
}

shared_focus = {
	id = STG_stavropon_congress
	icon = GFX_goal_stg_wip_icon
	cost = 3

	x = 14
	y = 1
	ai_will_do = {
		factor = 5
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_stavropon_congress"
		country_event = stalliongrad_darkwing.5
		add_political_power = 25
	}
}

shared_focus = {
	id = STG_open_hoof_equestria
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_dark_wing_wins
	}
	relative_position_id = STG_dark_wing_wins
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_open_hoof_equestria"

		country_event = stalliongrad_darkwing.9
	}
}

shared_focus = {
	id = STG_enshrining_military_neutrality
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_cleaning_up_politicial_arena
	}
	relative_position_id = STG_cleaning_up_politicial_arena
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_enshrining_military_neutrality"
		country_event = stalliongrad_darkwing.3
	}
}

shared_focus = {
	id = STG_strength_right_wing
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_cleaning_up_politicial_arena
	}
	relative_position_id = STG_cleaning_up_politicial_arena
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_strength_right_wing"

		add_timed_idea = {
			idea = STG_DW_strenghten_the_right_wing_party
			days = 180
		}
	}
}

shared_focus = {
	id = STG_expelling_the_ultras
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_enshrining_military_neutrality
	}
	prerequisite = {
		focus = STG_strength_right_wing
	}
	relative_position_id = STG_enshrining_military_neutrality
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_expelling_the_ultras"
		add_stability = -0.1
		custom_effect_tooltip = "TODO Determine which advisors get sacked"
		country_event = stalliongrad_darkwing.4
	}
}

shared_focus = {
	id = STG_issue_of_liberalisaton
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_stavropon_congress
	}
	relative_position_id = STG_stavropon_congress
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_issue_of_liberalisaton"
		country_event = stalliongrad_darkwing.6
	}
}

shared_focus = {
	id = STG_issue_of_industry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_stavropon_congress
	}
	relative_position_id = STG_stavropon_congress
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_issue_of_industry"
		country_event = stalliongrad_darkwing.7
	}
}

shared_focus = {
	id = STG_declaration_the_231
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_issue_of_liberalisaton
	}
	prerequisite = {
		focus = STG_issue_of_industry
	}
	relative_position_id = STG_issue_of_liberalisaton
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_declaration_the_231"

		# Removing agricultural woes
		if = {
			limit = { has_idea = STG_agrarian_problem }
			remove_ideas = STG_agrarian_problem
		} else_if = {
			limit = { has_idea = STG_agrarian_problem_vasya_1 }
			remove_ideas = STG_agrarian_problem_vasya_1
		} else_if = {
			limit = { has_idea = STG_agrarian_problem_karamelka_1 }
			remove_ideas = STG_agrarian_problem_karamelka_1
		}

		# Removing new economic policy
		if = {
			limit = { has_idea = STG_new_economic_policy }
			remove_ideas = STG_new_economic_policy
		}

		country_event = stalliongrad_darkwing.8
	}
}

shared_focus = {
	id = STG_a_royal_visit
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_expelling_the_ultras
	}
	prerequisite = {
		focus = STG_open_hoof_equestria
	}
	prerequisite = {
		focus = STG_declaration_the_231
	}
	relative_position_id = STG_issue_of_liberalisaton
	x = -1
	y = 3
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_royal_visit"

		country_event = stalliongrad_darkwing.11
		custom_effect_tooltip = STG_DW_reform_minigame_introduction_tt
		set_country_flag = STG_DW_minigame_enabled
	}
}

shared_focus = {
	id = STG_the_severyana_equestrian_accords
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_royal_visit
	}
	relative_position_id = STG_a_royal_visit
	x = 0
	y = 1

	cancelable = no
	select_effect = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_severyana_equestrian_accords started"

		STG_DW_setup_reforms_minigame_f = yes
		country_event = {
			id = stalliongrad_darkwing.12
			days = 3
			random_days = 7
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_severyana_equestrian_accords"

		custom_effect_tooltip = STG_DW_accords_explanations_tt
		if = {
			limit = { has_idea = STG_equestrian_embargo }
			remove_ideas = STG_equestrian_embargo
		} else_if = {
			limit = { has_idea = STG_equestrian_embargo_vasya_1 }
			remove_ideas = STG_equestrian_embargo_vasya_1
		} else_if = {
			limit = { has_idea = STG_equestrian_embargo_kar_1 }
			remove_ideas = STG_equestrian_embargo_kar_1
		}
		country_event = stalliongrad_darkwing.16

	}
}

# DW Start main reform / minigame tree
shared_focus = {
	id = STG_three_betterments
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_severyana_equestrian_accords
	}
	allow_branch = {
		OR = {
			has_completed_focus = STG_the_severyana_equestrian_accords
			is_debug = yes
		}
	}
	relative_position_id = STG_the_severyana_equestrian_accords
	x = 0
	y = 3
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_three_betterments"

		country_event = stalliongrad_darkwing.18
		custom_effect_tooltip = "TODO Give trait to DW for the minigame"
	}
}
shared_focus = {
	id = STG_a_better_industry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_three_betterments
	}
	relative_position_id = STG_three_betterments
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_better_industry"

		country_event = stalliongrad_darkwing.20
		custom_effect_tooltip = STG_unlock_a_better_industry_decision_tt
	}
}
shared_focus = {
	id = STG_implemented_incrementalism
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_industry
	}
	relative_position_id = STG_a_better_industry
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_gearinite_principles
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_industry
	}
	relative_position_id = STG_a_better_industry
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_severyanian_polytechic_institute
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_implemented_incrementalism
		focus = STG_gearinite_principles
	}
	relative_position_id = STG_implemented_incrementalism
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_three_legs_of_industry
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_implemented_incrementalism
	}
	prerequisite = {
		focus = STG_gearinite_principles
	}
	relative_position_id = STG_implemented_incrementalism
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_great_eastern_line
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_implemented_incrementalism
		focus = STG_gearinite_principles
	}
	relative_position_id = STG_gearinite_principles
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_new_model_industry_and_commerce
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_severyanian_polytechic_institute
	}
	prerequisite = {
		focus = STG_three_legs_of_industry
	}
	relative_position_id = STG_three_legs_of_industry
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_harmonic_technocracy
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_three_legs_of_industry
	}
	prerequisite = {
		focus = STG_the_great_eastern_line
	}
	relative_position_id = STG_three_legs_of_industry
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_lsix_pioneers_in_griffonia
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_lsix_the_old_heartland
	}
	mutually_exclusive = {
		focus = STG_lsix_the_empire_of_crystals
	}
	prerequisite = {
		focus = STG_new_model_industry_and_commerce
	}
	prerequisite = {
		focus = STG_harmonic_technocracy
	}
	relative_position_id = STG_new_model_industry_and_commerce
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_lsix_the_old_heartland
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_lsix_pioneers_in_griffonia
	}
	mutually_exclusive = {
		focus = STG_lsix_the_empire_of_crystals
	}
	prerequisite = {
		focus = STG_new_model_industry_and_commerce
	}
	prerequisite = {
		focus = STG_harmonic_technocracy
	}
	relative_position_id = STG_new_model_industry_and_commerce
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_lsix_the_empire_of_crystals
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_lsix_pioneers_in_griffonia
	}
	mutually_exclusive = {
		focus = STG_lsix_the_old_heartland
	}
	prerequisite = {
		focus = STG_new_model_industry_and_commerce
	}
	prerequisite = {
		focus = STG_harmonic_technocracy
	}
	relative_position_id = STG_harmonic_technocracy
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_severyanian_model_region
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_lsix_pioneers_in_griffonia
		focus = STG_lsix_the_old_heartland
		focus = STG_lsix_the_empire_of_crystals
	}
	relative_position_id = STG_lsix_the_old_heartland
	x = 0
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_a_better_system
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_three_betterments
	}
	relative_position_id = STG_three_betterments
	x = -5
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_better_system"

		custom_effect_tooltip = STG_unlock_a_better_system_decision_tt
		country_event = stalliongrad_darkwing.19
	}
}

shared_focus = {
	id = STG_incremental_hardness_of_power
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_system
	}
	relative_position_id = STG_a_better_system
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_incremental_hardness_of_power"

		if = {
			limit = { has_dlc = "La Resistance" }

			if = {
				limit = { has_intelligence_agency = yes }

				add_political_power = 50
			} else = {
				custom_effect_tooltip = "TBD Do we want a custom logo for DW agency ?"
				create_intelligence_agency = {
					name = STG_DW_agency_name
					icon = GFX_intelligence_agency_logo_stg
				}
			}

			add_ideas = STG_DW_incremental_hardness_of_power_agency
		} else = {
			# No La resistance
			add_political_power = 80
			add_ideas = STG_DW_incremental_hardness_of_power_no_dlc
		}
	}
}

shared_focus = {
	id = STG_severyanian_enfranchisement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_system
	}
	relative_position_id = STG_a_better_system
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_severyanian_enfranchisement"

		swap_ideas = {
			remove_idea = STG_DW_expelled_the_ultras
			add_idea = STG_DW_enfranchisement
		}
	}
}
shared_focus = {
	id = STG_clasped_hooves_across_class_lines
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_system
	}
	relative_position_id = STG_a_better_system
	x = 2
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_informed_participation
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_incremental_hardness_of_power
	}
	prerequisite = {
		focus = STG_severyanian_enfranchisement
	}
	relative_position_id = STG_severyanian_enfranchisement
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_multilayered_representation
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_severyanian_enfranchisement
	}
	prerequisite = {
		focus = STG_clasped_hooves_across_class_lines
	}
	relative_position_id = STG_severyanian_enfranchisement
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_socialism_with_equestrian_harmony
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_informed_participation
		focus = STG_multilayered_representation
	}
	relative_position_id = STG_informed_participation
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_bringing_the_exiles_home
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_informed_participation
	}
	prerequisite = {
		focus = STG_multilayered_representation
	}
	relative_position_id = STG_informed_participation
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_watchtower_democracy
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_informed_participation
		focus = STG_multilayered_representation
	}
	relative_position_id = STG_multilayered_representation
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_reforms_for_red_harmony
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_inevitanle_but_responsible_change
	}
	mutually_exclusive = {
		focus = STG_ever_committed_to_the_revolution
	}
	prerequisite = {
		focus = STG_socialism_with_equestrian_harmony
	}
	prerequisite = {
		focus = STG_bringing_the_exiles_home
	}
	prerequisite = {
		focus = STG_watchtower_democracy
	}
	relative_position_id = STG_socialism_with_equestrian_harmony
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_inevitanle_but_responsible_change
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_reforms_for_red_harmony
	}
	mutually_exclusive = {
		focus = STG_ever_committed_to_the_revolution
	}
	prerequisite = {
		focus = STG_socialism_with_equestrian_harmony
	}
	prerequisite = {
		focus = STG_bringing_the_exiles_home
	}
	prerequisite = {
		focus = STG_watchtower_democracy
	}
	relative_position_id = STG_bringing_the_exiles_home
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_ever_committed_to_the_revolution
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_reforms_for_red_harmony
	}
	mutually_exclusive = {
		focus = STG_inevitanle_but_responsible_change
	}
	prerequisite = {
		focus = STG_socialism_with_equestrian_harmony
	}
	prerequisite = {
		focus = STG_bringing_the_exiles_home
	}
	prerequisite = {
		focus = STG_watchtower_democracy
	}
	relative_position_id = STG_watchtower_democracy
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_harmonic_socialist_technology
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_reforms_for_red_harmony
		focus = STG_inevitanle_but_responsible_change
		focus = STG_ever_committed_to_the_revolution
	}
	relative_position_id = STG_inevitanle_but_responsible_change
	x = 0
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_a_better_tomorrow
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_three_betterments
	}
	relative_position_id = STG_three_betterments
	x = 5
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_a_better_tomorrow"

		country_event = stalliongrad_darkwing.21
		custom_effect_tooltip = STG_unlock_a_better_tomorrow_decision_tt
	}
}
shared_focus = {
	id = STG_economic_exchanges
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_tomorrow
	}
	relative_position_id = STG_a_better_tomorrow
	x = -2
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_empowering_the_equestrian_working_class
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_tomorrow
	}
	relative_position_id = STG_a_better_tomorrow
	x = 0
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_union_cooperation_agreements
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_a_better_tomorrow
	}
	relative_position_id = STG_a_better_tomorrow
	x = 2
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_international_corps
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_economic_exchanges
	}
	prerequisite = {
		focus = STG_empowering_the_equestrian_working_class
	}
	relative_position_id = STG_empowering_the_equestrian_working_class
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_funding_the_labour_unions
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_economic_exchanges
	}
	prerequisite = {
		focus = STG_union_cooperation_agreements
	}
	relative_position_id = STG_empowering_the_equestrian_working_class
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_encouraging_factory_floor_consultations
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_international_corps
		focus = STG_funding_the_labour_unions
	}
	relative_position_id = STG_the_international_corps
	x = -1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_countrywide_labour_organisations
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_international_corps
	}
	prerequisite = {
		focus = STG_funding_the_labour_unions
	}
	relative_position_id = STG_the_international_corps
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_severyanian_summer_cooperatives
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_international_corps
		focus = STG_funding_the_labour_unions
	}
	relative_position_id = STG_funding_the_labour_unions
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_canterlot_agreement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_the_manehattan_agreement
	}
	mutually_exclusive = {
		focus = STG_the_baltimare_agreement
	}
	prerequisite = {
		focus = STG_encouraging_factory_floor_consultations
	}
	prerequisite = {
		focus = STG_countrywide_labour_organisations
	}
	prerequisite = {
		focus = STG_severyanian_summer_cooperatives
	}
	relative_position_id = STG_encouraging_factory_floor_consultations
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_manehattan_agreement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_the_canterlot_agreement
	}
	mutually_exclusive = {
		focus = STG_the_baltimare_agreement
	}
	prerequisite = {
		focus = STG_encouraging_factory_floor_consultations
	}
	prerequisite = {
		focus = STG_countrywide_labour_organisations
	}
	prerequisite = {
		focus = STG_severyanian_summer_cooperatives
	}
	relative_position_id = STG_countrywide_labour_organisations
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_baltimare_agreement
	icon = GFX_goal_stg_wip_icon
	cost = 5
	mutually_exclusive = {
		focus = STG_the_canterlot_agreement
	}
	mutually_exclusive = {
		focus = STG_the_manehattan_agreement
	}
	prerequisite = {
		focus = STG_encouraging_factory_floor_consultations
	}
	prerequisite = {
		focus = STG_countrywide_labour_organisations
	}
	prerequisite = {
		focus = STG_severyanian_summer_cooperatives
	}
	relative_position_id = STG_severyanian_summer_cooperatives
	x = 1
	y = 1
	completion_reward = { }
}
shared_focus = {
	id = STG_the_pride_of_the_equestrian_worker
	icon = GFX_goal_stg_wip_icon
	cost = 5
	prerequisite = {
		focus = STG_the_canterlot_agreement
		focus = STG_the_manehattan_agreement
		focus = STG_the_baltimare_agreement
	}
	relative_position_id = STG_the_manehattan_agreement
	x = 0
	y = 1
	completion_reward = { }
}

shared_focus = {
	id = STG_emergency_defense_council
	icon = GFX_goal_stg_wip_icon
	cost = 3
	x = 24
	y = 0

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		add_to_variable = { STG_DW_war_consumer_goods_factor = -0.05 }
		country_event = {
			id = stalliongrad_darkwing_great_war.0
			hours = 1
		}
	}
}

shared_focus = {
	id = STG_rapid_military_expansion
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -2
	y = 1
	prerequisite = {
		focus = STG_emergency_defense_council
	}
	relative_position_id = STG_emergency_defense_council
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		if = {
			limit = {
				has_idea = disarmed_nation
			}
			swap_ideas = {
				remove_idea = disarmed_nation
				add_idea = extensive_conscription
			}
		}
		else_if = {
			limit = {
				has_idea = volunteer_only
			}
			swap_ideas = {
				remove_idea = volunteer_only
				add_idea = extensive_conscription
			}
		}
		else_if = {
			limit = {
				has_idea = limited_conscription
			}
			swap_ideas = {
				remove_idea = limited_conscription
				add_idea = extensive_conscription
			}
		}
		else = {
			add_political_power = 150
		}
		add_to_variable = { STG_DW_war_mobilization_speed = 1 }
		custom_effect_tooltip = STG_rapid_military_expansion_ns_tt
	}
}

shared_focus = {
	id = STG_rushing_into_war_economy
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 0
	y = 1
	prerequisite = {
		focus = STG_emergency_defense_council
	}
	relative_position_id = STG_emergency_defense_council
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		if = {
			limit = {
				has_idea = civilian_economy
			}
			swap_ideas = {
				remove_idea = civilian_economy
				add_idea = war_economy
			}
		}
		else_if = {
			limit = {
				has_idea = low_economic_mobilisation
			}
			swap_ideas = {
				remove_idea = low_economic_mobilisation
				add_idea = war_economy
			}
		}
		else_if = {
			limit = {
				has_idea = partial_economic_mobilisation
			}
			swap_ideas = {
				remove_idea = partial_economic_mobilisation
				add_idea = war_economy
			}
		}
		else = {
			add_political_power = 150
		}
		add_to_variable = { STG_DW_war_conversion_cost_civ_to_mil_factor = -0.1 }
		custom_effect_tooltip = STG_war_rushing_into_war_economy_ns_tt
	}
}

shared_focus = {
	id = STG_mobilizing_all_of_society
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 2
	y = 1
	prerequisite = {
		focus = STG_emergency_defense_council
	}
	relative_position_id = STG_emergency_defense_council
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		add_to_variable = { STG_DW_war_stability_factor = 0.1 }
		add_to_variable = { STG_DW_industrial_capacity_factory = 0.1 }
		add_to_variable = { STG_DW_industrial_capacity_dockyard = 0.1 }

		custom_effect_tooltip = STG_mobilizing_all_of_society_ns_tt
	}
}


shared_focus = {
	id = STG_older_brothers_and_sisters
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -1
	y = 1
	prerequisite = {
		focus = STG_rapid_military_expansion
	}
	relative_position_id = STG_rapid_military_expansion
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		EQS = {
			add_ideas = STG_DW_stalliongradian_training
		}
	}
}

shared_focus = {
	id = STG_lessons_of_the_revolution
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	prerequisite = {
		focus = STG_rapid_military_expansion
	}
	prerequisite = {
		focus = STG_rushing_into_war_economy
	}
	relative_position_id = STG_rapid_military_expansion
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		EQS = {
			add_ideas = STG_DW_stalliongradian_partisans
		}
	}
}


shared_focus = {
	id = STG_all_panoply_of_war
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	prerequisite = {
		focus = STG_rushing_into_war_economy
	}
	prerequisite = {
		focus = STG_mobilizing_all_of_society
	}
	relative_position_id = STG_rushing_into_war_economy
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		add_timed_idea = {
			idea = STG_DW_hyper_production
			days = 365
		}
	}
}

shared_focus = {
	id = STG_total_war_focus
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	prerequisite = {
		focus = STG_mobilizing_all_of_society
	}
	relative_position_id = STG_mobilizing_all_of_society
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		two_random_arms_factory = yes
		two_random_arms_factory = yes
		add_stability = -0.1
	}
}


shared_focus = {
	id = STG_severyanian_shock_brigades
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = -1
	y = 1
	prerequisite = {
		focus = STG_older_brothers_and_sisters
	}
	relative_position_id = STG_older_brothers_and_sisters
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		custom_effect_tooltip = super_combat_abilities_tt
		add_stability = -0.1
	}
}

shared_focus = {
	id = STG_equip_equestrian_partisans
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	prerequisite = {
		focus = STG_older_brothers_and_sisters
	}
	
	prerequisite = {
		focus = STG_lessons_of_the_revolution
	}
	relative_position_id = STG_older_brothers_and_sisters
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		# TODO spawn divisions behind enemy lines? Sabotage logistics maybe?
	}
}


shared_focus = {
	id = STG_grim_determination
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	
	prerequisite = {
		focus = STG_lessons_of_the_revolution
	}
	prerequisite = {
		focus = STG_all_panoply_of_war
	}
	relative_position_id = STG_lessons_of_the_revolution
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		# TODO how do you make a spirit that gets stronger the closer EQS gets to capitulation?
	}
}

shared_focus = {
	id = STG_severyanian_mass_tank_production
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	
	prerequisite = {
		focus = STG_all_panoply_of_war
	}
	prerequisite = {
		focus = STG_total_war_focus
	}
	relative_position_id = STG_all_panoply_of_war
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		
		add_to_variable = { STG_DW_war_designer_reduction = -0.75 }
		custom_effect_tooltip = STG_severyanian_mass_tank_production_ns_tt
	}
}

shared_focus = {
	id = STG_all_ponies_together_for_victory
	icon = GFX_goal_stg_wip_icon
	cost = 5
	x = 1
	y = 1
	
	prerequisite = {
		focus = STG_all_panoply_of_war
	}
	prerequisite = {
		focus = STG_total_war_focus
	}
	relative_position_id = STG_all_panoply_of_war
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_breadbasket_of_stalliongrad"
		every_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			add_ideas = STG_DW_prod_boost
		}
	}
}


##########################
###### MASHA FOCUS #######
##########################

shared_focus = {
	id = STG_the_red_army_takes_control
	icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
	cost = 2
	x = 19
	y = 1

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_red_army_takes_control"

		add_ideas = STG_red_army_running_country

	}
}


shared_focus = {
	id = STG_the_purge_of_serovites
	icon = GFX_focus_SOV_the_last_purge
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_the_red_army_takes_control
	prerequisite = {
		focus = STG_the_red_army_takes_control
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_purge_of_serovites"
		add_timed_idea = {
			idea = STG_purging_serovites
			days = 56
		}
		country_event = stalliongrad_masha.4
	}
}


shared_focus = {
	id = STG_ban_all_nationalism
	icon = GFX_focus_generic_communism_anti_fascism
	cost = 2
	x = -2
	y = 1
	relative_position_id = STG_the_red_army_takes_control
	prerequisite = {
		focus = STG_the_red_army_takes_control
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_ban_all_nationalism"
		add_timed_idea = {
			idea = STG_outlawing_nationalism
			days = 56
		}
		
		country_event = stalliongrad_masha.5
	}
}



shared_focus = {
	id = STG_back_to_our_key_mission
	icon = GFX_focus_HUN_reinstate_the_lenin_boys
	cost = 2
	x = 2
	y = 1
	relative_position_id = STG_the_red_army_takes_control
	prerequisite = {
		focus = STG_the_red_army_takes_control
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_back_to_our_key_mission"
		add_timed_idea = {
			idea = STG_training_cadets
			days = 56
		}
		country_event = stalliongrad_masha.6
	}
}

shared_focus = {
	id = STG_red_dawn_on_the_north
	icon = GFX_focus_SOV_the_supreme_soviet
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_the_purge_of_serovites
	prerequisite = {
		focus = STG_the_purge_of_serovites
	}
	prerequisite = {
		focus = STG_ban_all_nationalism
	}
	
	prerequisite = {
		focus = STG_back_to_our_key_mission
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_red_dawn_on_the_north"
		news_event = stalliongrad_news.3
		army_experience = 75
		navy_experience = 75
		air_experience = 75
		add_political_power = 500
		every_other_country = {
			limit = {
				has_government = fascism
			}
			add_opinion_modifier = {
				target = STG
				modifier = mortal_enemies
			}
			reverse_add_opinion_modifier = {
				target = STG
				modifier = mortal_enemies
			}
		}
		
		unlock_decision_category_tooltip = STG_mashas_reforms
		
	}
}

shared_focus = {
	id = STG_prison_bars_broken
	icon = GFX_focus_ETH_freedom_at_gunpoint
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_red_dawn_on_the_north
	prerequisite = {
		focus = STG_red_dawn_on_the_north
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_prison_bars_broken"
		# TODO un-purge advisors # generals
		
	}
}

shared_focus = {
	id = STG_danilas_plan
	icon = GFX_focus_AUS_lawmaking_leniency
	cost = 2
	x = -2
	y = 1
	relative_position_id = STG_prison_bars_broken
	prerequisite = {
		focus = STG_prison_bars_broken
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_danilas_plan"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_ideas = STG_danilas_plan_lar
		}		
		else = {
			add_ideas = STG_danilas_plan_nolar
		}
	}
}

shared_focus = {
	id = STG_special_session_of_congress
	icon = GFX_focus_SWE_socialist_reforms
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_prison_bars_broken
	prerequisite = {
		focus = STG_prison_bars_broken
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_special_session_of_congress"
		country_event = stalliongrad_masha.9
	}
}


shared_focus = {
	id = STG_seize_traitor_property
	icon = GFX_focus_AUS_danubian_socialist_communes
	cost = 2
	x = 2
	y = 1
	relative_position_id = STG_prison_bars_broken
	prerequisite = {
		focus = STG_prison_bars_broken
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_seize_traitor_property"
		add_stability = -0.1
		one_random_arms_factory = yes
		one_random_arms_factory = yes
		one_random_industrial_complex = yes
		one_random_industrial_complex = yes
		one_random_synthetic_refinery = yes		
	}
}


shared_focus = {
	id = STG_service_guarantees_citizenship
	icon = GFX_focus_ARG_the_buenos_aires_conference
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_special_session_of_congress
	prerequisite = {
		focus = STG_danilas_plan
	}
	prerequisite = {
		focus = STG_special_session_of_congress
	}
	
	prerequisite = {
		focus = STG_seize_traitor_property
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_service_guarantees_citizenship"
		custom_effect_tooltip = YAK_manpower_from_every_state
		hidden_effect = {
			every_owned_state = {
				add_manpower = -2500
			}
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = all_adults_serve
				add_idea = STG_masha_all_adults_serve
			}
			swap_ideas = {
				remove_idea = scraping_the_barrel
				add_idea = STG_masha_scraping_the_barrel
			}
		}		
		hidden_effect = {
			if = {
				limit = {
					has_idea = all_adults_serve
				}
				swap_ideas = {
					remove_idea = all_adults_serve
					add_idea = STG_masha_all_adults_serve
				}
			}
			else_if = {
				limit = { 
					has_idea = scraping_the_barrel
				}
				
				swap_ideas = {
					remove_idea = scraping_the_barrel
					add_idea = STG_masha_scraping_the_barrel
				}
			}
		}
	}
}

shared_focus = {
	id = STG_our_mission
	icon = GFX_focus_HUN_officialize_the_rakosi_battalion
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_service_guarantees_citizenship
	prerequisite = {
		focus = STG_service_guarantees_citizenship
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_our_mission"
		country_event = stalliongrad_masha.10
	}
}


shared_focus = {
	id = STG_make_sure_they_arent_looking
	icon = GFX_focus_generic_secret_service_agency
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_our_mission
	prerequisite = {
		focus = STG_our_mission
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_make_sure_they_arent_looking"
		custom_effect_tooltip = STG_on_war_dec
		show_ideas_tooltip = STG_sabotaged_communications
	}
}


shared_focus = {
	id = STG_planning_for_red_dawn
	icon = GFX_focus_FIN_expand_air_force_academy
	cost = 2
	x = -1
	y = 1
	relative_position_id = STG_make_sure_they_arent_looking
	prerequisite = {
		focus = STG_make_sure_they_arent_looking
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_planning_for_red_dawn"
		add_collaboration = {
			target = EQS
			value = 0.3
		}
		EQS = {
			add_timed_idea = {
				idea = STG_commie_infiltration
				days = 180
			}
		}
		if = {
			limit = {
				country_exists = NLR
			}
			add_collaboration = {
				target = NLR
				value = 0.3
			}
			NLR = {
				add_timed_idea = {
					idea = STG_commie_infiltration
					days = 180
				}
			}
		}
	}
}

shared_focus = {
	id = STG_northern_route
	icon = GFX_focus_SOV_the_road_of_life
	cost = 2
	x = 1
	y = 1
	relative_position_id = STG_make_sure_they_arent_looking
	prerequisite = {
		focus = STG_make_sure_they_arent_looking
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_planning_for_red_dawn"
		if = {
			limit = {
				YAK = {
					has_government = communism
					exists = yes
				}
			}
			YAK = {
				country_event = generic.5
			}
		}
		else = {
			create_wargoal = {
				target = YAK
				type = puppet_wargoal_focus
			}				
			create_wargoal = {
				target = JAK
				type = puppet_wargoal_focus
			}
		}
	}
}

shared_focus = {
	id = STG_the_first_world_war
	icon = GFX_focus_GER_wunderwaffe_inner_circle
	cost = 2
	x = 0
	y = 2
	relative_position_id = STG_make_sure_they_arent_looking
	prerequisite = {
		focus = STG_planning_for_red_dawn
	}
	prerequisite = {
		focus = STG_make_sure_they_arent_looking
	}
	prerequisite = {
		focus = STG_northern_route
	}
	bypass = {
		all_other_country = {
			tooltip = all_other_equus
			if = {
				limit = {
					hidden_trigger = {
						is_equestrian_continent_country = yes
					}
				}
				OR = {
					is_major = no
					is_in_faction_with = STG
					has_government = communism
				}
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_first_world_war"
		every_other_country = {
			limit = {
				is_equestrian_continent_country = yes
				NOT = {
					is_in_faction_with = STG
					has_government = communism
				}
				is_major = yes
			}
			display_individual_scopes = yes
			hidden_effect = {
				add_timed_idea = {
					idea = STG_sabotaged_communications
					days = 45
				}
			}
			ROOT = {
				hidden_effect = {
					create_wargoal = {
						target = PREV
						type = puppet_wargoal_focus
					}
				}
				declare_war_on = {
					target = PREV
					type = puppet_wargoal_focus
				}
			}
		}
	}
}




##########################
###### STAR CHILDREN #####
##########################

shared_focus = {
	id = STG_the_stars_are_right
	icon = GFX_goal_HIP_SIR_ARI_lessons_of_invasion
	cost = 2
	x = 19
	y = 1

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_the_stars_are_right"
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
		set_party_name = {
			ideology = fascism
			long_name = STG_star_children_party_long
			name = STG_star_children_party
		}
		swap_ideas = {
			remove_idea = STG_societal_upheaval
			add_idea = STG_societal_upheaval2
		}
	}
}

shared_focus = {
	id = STG_cathedral_of_cosmic_alignment
	icon = GFX_goal_HIP_SIR_ARI_control_cities
	cost = 2
	x = -2
	y = 1
	relative_position_id = STG_the_stars_are_right
	prerequisite = {
		focus = STG_the_stars_are_right
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cathedral_of_cosmic_alignment"
		if = {
			limit = {
				153 = {
					landmark_palace_of_the_soviets > 0
				}
			}
			custom_effect_tooltip = STG_palace_to_cathedral # renames it
		}
		else = {
			153 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = landmark_palace_of_the_soviets
					level = 1
					instant_build = yes
					province = 488
				}
			}
		}
	}
}

shared_focus = {
	id = STG_faith_is_an_inferno
	icon = GFX_goal_HIP_SIR_ARI_fight_for_us
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_the_stars_are_right
	prerequisite = {
		focus = STG_the_stars_are_right
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_faith_is_an_inferno"
		custom_effect_tooltip = super_combat_abilities_tt
		
		swap_ideas = {
			remove_idea = STG_societal_upheaval2
			add_idea = STG_societal_upheaval3
		}

	}
}


shared_focus = {
	id = STG_flames_of_national_revolution
	icon = GFX_goal_HIP_SIR_ARI_no_time_games
	cost = 2
	x = 2
	y = 1
	relative_position_id = STG_the_stars_are_right
	prerequisite = {
		focus = STG_the_stars_are_right
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_flames_of_national_revolution"
		add_ideas = STG_burning_it_all_down
		every_owned_state = {
			display_individual_scopes = yes
			population_reduction_1 = yes
		}
	}
}


shared_focus = {
	id = STG_put_on_a_good_show
	icon = GFX_goal_HIP_SIR_ARI_rebuild_pearl
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_cathedral_of_cosmic_alignment
	prerequisite = {
		focus = STG_cathedral_of_cosmic_alignment
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_put_on_a_good_show"
		# event goes here
	}
}

shared_focus = {
	id = STG_blessed_light_from_above
	icon = GFX_goal_HIP_SIR_ARI_secure_mainland
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_faith_is_an_inferno
	prerequisite = {
		focus = STG_faith_is_an_inferno
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_blessed_light_from_above"
		add_breakthrough_points = {
			specialization = specialization_nuclear
			value = 3
		}
		
		swap_ideas = {
			remove_idea = STG_societal_upheaval3
			add_idea = STG_societal_upheaval4
		}

	}
}
shared_focus = {
	id = STG_nothing_against_us
	icon = GFX_goal_HIP_SIR_ARI_bolster_garrisons
	cost = 2
	x = 0
	y = 1
	relative_position_id = STG_flames_of_national_revolution
	prerequisite = {
		focus = STG_flames_of_national_revolution
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_nothing_against_us"
		swap_ideas = {
			remove_idea = STG_burning_it_all_down
			add_idea = STG_burning_it_all_down2
		}
	}
}

shared_focus = {
	id = STG_sanctify_the_presidium
	icon = GFX_goal_HIP_SIR_ARI_means_of_production
	cost = 2
	x = -1
	y = 1
	relative_position_id = STG_put_on_a_good_show
	prerequisite = {
		focus = STG_put_on_a_good_show
	}
	mutually_exclusive = {
		focus = STG_true_assembly_of_the_stars
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_sanctify_the_presidium"
	}
}


shared_focus = {
	id = STG_true_assembly_of_the_stars
	icon = GFX_goal_HIP_SIR_ARI_elites_of_equestria
	cost = 2
	x = 1
	y = 1
	relative_position_id = STG_put_on_a_good_show
	prerequisite = {
		focus = STG_put_on_a_good_show
	}
	mutually_exclusive = {
		focus = STG_sanctify_the_presidium
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_true_assembly_of_the_stars"
	}
}


shared_focus = {
	id = STG_unleash_stellar_knights
	icon = GFX_goal_HIP_SIR_ARI_military_tactics
	cost = 2
	x = -1
	y = 1
	relative_position_id = STG_nothing_against_us
	prerequisite = {
		focus = STG_nothing_against_us
	}
	mutually_exclusive = {
		focus = STG_organized_purple_terror
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_unleash_stellar_knights"
	}
}

shared_focus = {
	id = STG_organized_purple_terror
	icon = GFX_goal_HIP_SIR_ARI_legacy_of_zonicia
	cost = 2
	x = 1
	y = 1
	relative_position_id = STG_nothing_against_us
	prerequisite = {
		focus = STG_nothing_against_us
	}
	mutually_exclusive = {
		focus = STG_unleash_stellar_knights
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_organized_purple_terror"
	}
}




shared_focus = {
	id = STG_cast_down_false_gods
	icon = GFX_goal_HIP_SIR_ARI_what_we_have
	cost = 2
	x = 0
	y = 2
	relative_position_id = STG_blessed_light_from_above
	prerequisite = {
		focus = STG_blessed_light_from_above
	}
	prerequisite = {
		focus = STG_sanctify_the_presidium
		focus = STG_true_assembly_of_the_stars
	}
	
	prerequisite = {
		focus = STG_unleash_stellar_knights
		focus = STG_organized_purple_terror
	}

	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STG_cast_down_false_gods"
		remove_ideas = STG_societal_upheaval4
		create_wargoal = {
			target = EQS
			type = annex_everything
		}
		create_wargoal = {
			target = NLR
			type = annex_everything
		}
	}
}
