focus_tree = {
	id = KXN
	country = {
		factor = 0
		modifier = {
			add = 100
			tag = KXN
		}
	}
	
	default = no

	continuous_focus_position = { x = 2421 y = 2004 }

	shared_focus = KXN_Focus_GUNS_0
	shared_focus = KXN_Focus_ZAIK_1
	shared_focus = KXN_Focus_LEVELUP_1
	shared_focus = KXN_Focus_INDUSTRY_1
	shared_focus = KXN_Focus_CONQUEST_1
	shared_focus = KXN_Focus_MILTARCH

	initial_show_position = {
		x = 8
		y = 0
	}
	
	inlay_window = {
		id = KXN_mutually_exclusive_icon_inlay
		position = { x = 2233 y = 1012 }
	}
}

focus_tree = {
	id = KXN_EMPIRE_FOCUS_TREE
	country = {
		factor = 0
		modifier = {
			add = 100
			original_tag = KXN
			NOT = { tag = KXN }
		}
	}
	
	default = no

	continuous_focus_position = { x = 1500 y = 15 }
	
	shared_focus = KXN_Focus_CONQUEST_1

	initial_show_position = {
		x = 10
		y = 15
	}
}

shared_focus = {
	id = KXN_Focus_MILTARCH
	icon = GFX_goal_KIR_KXN_banner
	x = 40
	y = 0

	cost = 4.3

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MILTARCH"
	}
}

shared_focus = {
	id = KXN_Focus_MILTARCH_1
	icon = GFX_goal_KIR_tea
	relative_position_id = KXN_Focus_MILTARCH
	x = 3
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_MILTARCH
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MILTARCH_1"
	}
}

shared_focus = {
	id = KXN_Focus_MILTARCH_2
	icon = GFX_goal_KIR_unity
	relative_position_id = KXN_Focus_MILTARCH
	x = -3
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_MILTARCH
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MILTARCH_2"
	}
}

shared_focus = {
	id = KXN_Focus_MILTARCH_3
	icon = GFX_goal_KIR_rearing
	relative_position_id = KXN_Focus_MILTARCH
	x = 0
	y = 2

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_MILTARCH_1
	}
	
	prerequisite = {
		focus = KXN_Focus_MILTARCH_2
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MILTARCH_3"
	}
}

shared_focus = {
	id = KXN_Focus_MILTARCH_4
	icon = GFX_goal_KIR_companion
	relative_position_id = KXN_Focus_MILTARCH
	x = 0
	y = 4

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_MILTARCH_3
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MILTARCH_4"
		add_political_power = 75
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_0
	icon = GFX_goal_KIR_salute
	x = 15
	y = 0

	cost = 4.3

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_0"
		add_manpower = 10000
		army_experience = 75
		add_command_power = 50
		add_war_support = 0.1
	}
}

shared_focus = {
	id = KXN_Focus_AIRFORCE
	icon = GFX_goal_KIR_KXN_airforce
	relative_position_id = KXN_Focus_GUNS_0
	x = -2
	y = 1

	cost = 10

	ai_will_do = {
		factor = 5
	}

	available = {
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_0
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRFORCE"
		air_experience = 25
		custom_effect_tooltip = KXN_Focus_AIRFORCE_tt
		hidden_effect = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				load_oob = "KXN_Aerostat_Corps_bba"
			}
			else = {
				load_oob = "KXN_Aerostat_Corps_legacy"
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_AIRSHIP_1
	icon = GFX_goal_KIR_aeroflot
	relative_position_id = KXN_Focus_AIRFORCE
	x = -1
	y = 2

	cost = 8.7
	
	prerequisite = {
		focus = KXN_Focus_AIRFORCE
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRSHIP_1"
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			add_ideas = KXN_Nirik_Aerostats_BBA
		}
		else = {
			add_ideas = KXN_Nirik_Aerostats
		}
	}
}

shared_focus = {
	id = KXN_Focus_AIRSHIP_2
	icon = GFX_goal_KIR_airship
	relative_position_id = KXN_Focus_AIRSHIP_1
	x = 0
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_AIRSHIP_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = infantry_weapons
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRSHIP_2"
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			swap_ideas = { add_idea = KXN_Nirik_Aerostats_BBA_1 remove_idea = KXN_Nirik_Aerostats_BBA }
		}
		else = {
			swap_ideas = { add_idea = KXN_Nirik_Aerostats_1 remove_idea = KXN_Nirik_Aerostats }
		}
	}
}

shared_focus = {
	id = KXN_Focus_AIRSHIP_3
	icon = GFX_goal_KIR_aerostat
	relative_position_id = KXN_Focus_AIRSHIP_1
	x = 0
	y = 4

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_AIRSHIP_2
	}

	ai_will_do = {
		factor = 5
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRSHIP_3"
		add_command_power = 50
		hidden_effect = {
			set_technology = { KXN_Aerostat = 1 popup = no }
		}
		add_equipment_to_stockpile = {
			type = medium_airship_equipment_0
			amount = 75
		}
		set_country_flag = KXN_Aerostat_Decisions_Unlocked
		set_country_flag = KXN_Aerostat_CAS_Decision_Show_Flag
		set_country_flag = KXN_Aerostat_Bomb_Decision_Show_Flag
		set_country_flag = KXN_Aerostat_Supply_Decision_Show_Flag
		set_country_flag = KXN_Aerostat_Patrol_Decision_Show_Flag
		custom_effect_tooltip = KXN_Focus_AIRSHIP_3_tt
	}
}

shared_focus = {
	id = KXN_Focus_AIRPLANE_1
	icon = GFX_goal_KIR_air
	relative_position_id = KXN_Focus_AIRFORCE
	x = 1
	y = 2

	cost = 8.7
	
	prerequisite = {
		focus = KXN_Focus_AIRFORCE
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = infantry_weapons
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRPLANE_1"
		if = {
			limit = {
				has_tech = iw_small_airframe
			}
			set_technology = {
				aa_lmg = 1
				engines_1 = 1
				engines_2 = 1
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			generic_basic_fighter = yes
			add_equipment_to_stockpile = {
				type = small_plane_airframe_1
				variant_name = "Basic Fighter"
				amount = 25
			}
		}
		else_if = {
			limit = {
				has_tech = early_fighter
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			add_equipment_to_stockpile = {
				type = fighter_equipment_0
				amount = 25
			}
		}
		else = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				set_technology = {
					iw_small_airframe = 1
					aa_lmg = 1
					engines_1 = 1
				}
				generic_early_fighter = yes
				add_equipment_to_stockpile = {
					type = small_plane_airframe_0
					variant_name = "Early Fighter"
					amount = 25
				}
			}
			else = {	
				set_technology = {
					early_fighter = 1
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 25
				}
			}
		}
		random_owned_controlled_state = {
			prioritize = { 1085 }
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_AIRPLANE_2
	icon = GFX_goal_KIR_bomber
	relative_position_id = KXN_Focus_AIRPLANE_1
	x = 0
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_AIRPLANE_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_AIRPLANE_2"
		air_experience = 25
		add_tech_bonus = {
			name = KXN_Focus_AIRPLANE_2
			bonus = 2
			uses = 2
			category = air_equipment
		}
		add_doctrine_cost_reduction = {
			name = KXN_Focus_AIRPLANE_2
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_1
	icon = GFX_goal_KIR_motorcycle
	relative_position_id = KXN_Focus_GUNS_0
	x = 2
	y = 1

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_GUNS_0
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = infantry_weapons
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_1"
		set_technology = { KXN_Iron_Steed_Motorcycle = 1 }
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_1_tt
		hidden_effect = {
			load_oob = KXN_MOTORCYCLE
			fix_weapon_techs = yes
		}
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_2
	icon = GFX_goal_KIR_sidecar
	relative_position_id = KXN_Focus_MOTORCYCLE_1
	x = -1
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_2"
		add_fuel = 25000
		set_technology = { KXN_Motorcycle_Military_Police = 1 }
		add_ideas = KXN_Hell_Riders
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_2_tt
		hidden_effect = {
			KXN = {
				KXN_Bonfire_Cascade = {
					add_corps_commander_role = { skill = 2 attack_skill = 3 defense_skill = 1 planning_skill = 2 logistics_skill = 1 }
					add_unit_leader_trait = trickster
					add_unit_leader_trait = trait_reckless
					add_unit_leader_trait = cavalry_officer
					add_unit_leader_trait = kirin_race_trait
				}
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_3
	icon = GFX_goal_KIR_tanker
	relative_position_id = KXN_Focus_MOTORCYCLE_1
	x = 1
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_3"
		set_technology = { tech_kirin_vanguardmot = 1 }
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_3_tt
		hidden_effect = {
			load_oob = KXN_MOTOR_VANGUARDS
			fix_weapon_techs = yes
		}
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_4
	icon = GFX_goal_KIR_deaths_head
	relative_position_id = KXN_Focus_MOTORCYCLE_1
	x = -1
	y = 5

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_2
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_4"
		set_technology = { KXN_Death_Riders = 1 }
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_4_tt
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_5
	icon = GFX_goal_KIR_recon
	relative_position_id = KXN_Focus_MOTORCYCLE_3
	x = 0
	y = 3

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_3
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_5"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_6 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_speed_Var = 0.05 }
		set_technology = { KXN_Valiant_Storm = 1 }
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_5_tt
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_6
	icon = GFX_goal_KIR_barding
	relative_position_id = KXN_Focus_MOTORCYCLE_5
	x = -1
	y = 3

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_4
	}
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_5
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_6"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_7 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_recon_Var = 0.1 }
		set_technology = { KXN_Valiant_Elan = 1 }
		custom_effect_tooltip = KXN_Focus_MOTORCYCLE_6_tt
	}
}

shared_focus = {
	id = KXN_Focus_MOTORCYCLE_7
	icon = GFX_goal_KIR_motorbike
	relative_position_id = KXN_Focus_AIRFORCE
	x = 1
	y = 6

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_AIRSHIP_2
		focus = KXN_Focus_AIRPLANE_2
		focus = KXN_Focus_MOTORCYCLE_4
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = paratroopers
		has_completed_focus = KXN_Focus_MOTORCYCLE_1
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_MOTORCYCLE_7"
		set_technology = { KXN_Para_Motorcyclists = 1 }
		custom_effect_tooltip = KXN_Para_Motorcyclists_tt
		if = {
			limit = {
				NOT = {
					has_country_flag = KXN_Focus_MOTORCYCLE_7_flag
				}
			}
			set_country_flag = KXN_Focus_MOTORCYCLE_7_flag
			custom_effect_tooltip = KXN_Focus_MOTORCYCLE_7_tt
			hidden_effect = {
				load_oob = KXN_MOTOR_PARATROOPERS
				fix_weapon_techs = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_BALLOONIST
	icon = GFX_goal_KIR_balloonist
	relative_position_id = KXN_Focus_MOTORCYCLE_7
	x = 0
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_MOTORCYCLE_7
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_BALLOONIST"
		set_technology = { KXN_Aeronauts = 1 }
		custom_effect_tooltip = KXN_Focus_BALLOONIST_tt
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_1
	icon = GFX_goal_KIR_tank_infantry
	relative_position_id = KXN_Focus_GUNS_0
	x = 7
	y = 1

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_GUNS_0
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_completed_focus = KXN_Focus_MOTORCYCLE_1
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_1"
		army_experience = 25
		add_tech_bonus = {
			name = KXN_Focus_ARMOUR_1
			bonus = 2
			uses = 2
			category = motorized_equipment
			category = cat_mechanized_equipment
		}
		add_doctrine_cost_reduction = {
			name = KXN_Focus_ARMOUR_1
			cost_reduction = 0.5
			uses = 2
			category = cat_mobile_warfare
		}
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_2
	icon = GFX_goal_KIR_panzer
	relative_position_id = KXN_Focus_ARMOUR_1
	x = -1
	y = 3

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_1
	}


	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_2"
		add_tech_bonus = {
			name = KXN_Focus_ARMOUR_2
			bonus = 2
			uses = 2
			category = cat_light_armor
		}
		add_tech_bonus = {
			name = KXN_Focus_ARMOUR_2
			bonus = 2
			uses = 2
			category = cat_medium_armor
		}
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_3
	icon = GFX_goal_KIR_trucks
	relative_position_id = KXN_Focus_ARMOUR_1
	x = 0
	y = 4

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_3"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_4 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_fuel_gain_factor_Var = 0.2 }
		custom_effect_tooltip = KXN_Focus_ARMOUR_3_tt
		set_country_flag = KXN_Plunder_Oil_Flag
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_4
	icon = GFX_goal_KIR_car
	relative_position_id = KXN_Focus_ARMOUR_1
	x = -2
	y = 2

	cost = 5.8

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_1
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_4"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_3 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_army_fuel_capacity_factor_Var = 0.2 }
		subtract_from_variable = { KXN.LKB_army_fuel_consumption_factor_Var = 0.2 }
		custom_effect_tooltip = KXN_Focus_ARMOUR_4_tt
		set_country_flag = resistance_75_strategic_redeployment_not_disabled
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_5
	icon = GFX_goal_KIR_tank_factory
	relative_position_id = KXN_Focus_ARMOUR_1
	x = 1
	y = 3

	cost = 10

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_1
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_5"
		1085 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			add_resource = {
				type = tungsten
				amount = 5
			}
		}
		add_equipment_to_stockpile = { type = kirin_motorcycle amount = 1500 }
		add_breakthrough_points = {
		  specialization = specialization_land
		  value = 1
		}
	}
}

shared_focus = {
	id = KXN_Focus_ARMOUR_6
	icon = GFX_goal_KIR_gunboat
	relative_position_id = KXN_Focus_ARMOUR_1
	x = 2
	y = 2

	cost = 5.8

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_1
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ARMOUR_6"
		set_technology = { KIR_riverine_reavers = 1 popup = yes }
		custom_effect_tooltip = KIS_event_47a_tt
	}
}

shared_focus = {
	id = KXN_Focus_PACIFY
	icon = GFX_goal_KIR_barbed_wire
	relative_position_id = KXN_Focus_ARMOUR_3
	x = 1
	y = 2

	cost = 4.3

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_3
	}

	available = {
		has_country_flag = KXN_OCCUPY_STATE_EFFECT_PROCURE
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_PACIFY"
		if = {
			limit = {
				has_completed_focus = KXN_Focus_PROCURE
			}
			uncomplete_national_focus = {
				focus = KXN_Focus_PROCURE
				uncomplete_children = yes
				refund_political_power = no
			}
		}
		clr_country_flag = KXN_OCCUPY_STATE_EFFECT_PROCURE
		custom_effect_tooltip = KXN_Focus_PACIFY_tt
		effect_tooltip = {
			add_dynamic_modifier = { modifier = KXN_Pacified_State days = 365 }
			custom_effect_tooltip = KXN_CF_OCCUPY_BUTTON_COST
		}
	}
}

shared_focus = {
	id = KXN_Focus_PROCURE
	icon = GFX_goal_KIR_factory
	relative_position_id = KXN_Focus_ARMOUR_3
	x = -1
	y = 2

	cost = 4.3

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ARMOUR_3
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_OCCUPY_STATE_EFFECT_PACIFY
			NOT = { has_country_flag = KXN_OCCUPY_STATE_EFFECT_PROCURE }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_PROCURE"
		if = {
			limit = {
				has_completed_focus = KXN_Focus_PACIFY
			}
			uncomplete_national_focus = {
				focus = KXN_Focus_PACIFY
				uncomplete_children = yes
				refund_political_power = no
			}
		}
		set_country_flag = KXN_OCCUPY_STATE_EFFECT_PROCURE
		custom_effect_tooltip = KXN_Focus_PROCURE_tt
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_1
	icon = GFX_goal_KIR_construction
	x = 1
	y = 0

	cost = 5

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_1"
		add_tech_bonus = {
			name = KXN_Focus_INDUSTRY_1
			bonus = 2
			uses = 3
			category = industry
		}
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_2
	icon = GFX_goal_KIR_goal_government_icon
	relative_position_id = KXN_Focus_INDUSTRY_1
	x = 0
	y = 2

	cost = 8.7
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_2"
		every_core_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_3
	icon = GFX_goal_KIR_resources
	relative_position_id = KXN_Focus_INDUSTRY_2
	x = 1
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_2
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_3"
		add_tech_bonus = {
			name = KXN_Focus_INDUSTRY_3
			bonus = 2
			uses = 2
			technology = excavation1
			technology = excavation2
			technology = excavation3
			technology = excavation4
			technology = excavation5
			technology = excavation_a
			technology = excavation_b
			technology = excavation_c
		}
		custom_effect_tooltip = KIR_line_break
		1085 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = rubber
				amount = 10
			}
		}
		1086 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = tungsten
				amount = 10
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_4
	icon = GFX_goal_KIR_train
	relative_position_id = KXN_Focus_INDUSTRY_2
	x = -1
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_2
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_4"
		every_core_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_5
	icon = GFX_goal_KIR_electricity
	relative_position_id = KXN_Focus_INDUSTRY_4
	x = 0
	y = 2

	cost = 8.7
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_4
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_5"
		add_tech_bonus = {
			name = KXN_Focus_INDUSTRY_5
			bonus = 2
			uses = 2
			category = electronics
		}
		custom_effect_tooltip = KIR_line_break
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_INDUSTRY_6
	icon = GFX_goal_KIR_barrels
	relative_position_id = KXN_Focus_INDUSTRY_3
	x = 0
	y = 2

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_3
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_INDUSTRY_6"
		set_technology = { fuel_silos = 1 }
		set_technology = { synth_oil_experiments = 1 }
		1085 = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = synthetic_refinery
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = fuel_silo
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_LEVELUP_1
	icon = GFX_goal_KIR_torn_treaty
	relative_position_id = KXN_Focus_INDUSTRY_1
	x = 3
	y = 0

	cost = 10
	
	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_factories > 25
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LEVELUP_1"
		1085 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		custom_effect_tooltip = KIR_line_break
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_LEVELUP_2
	icon = GFX_goal_KIR_candle
	relative_position_id = KXN_Focus_LEVELUP_1
	x = 0
	y = 2

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_LEVELUP_1
	}
	
	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_factories > 50
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LEVELUP_2"
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 2
			uses = 2
			category = industry
		}
		custom_effect_tooltip = KIR_line_break
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_LEVELUP_3
	icon = GFX_goal_KIR_teaching
	relative_position_id = KXN_Focus_LEVELUP_2
	x = 0
	y = 2

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_LEVELUP_2
	}
	
	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_factories > 75
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LEVELUP_3"
		decrease_illiteracy = yes
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_LEVELUP_4
	icon = GFX_goal_KIR_collegium_focus
	relative_position_id = KXN_Focus_LEVELUP_3
	x = 0
	y = 2

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_LEVELUP_3
	}
	
	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_factories > 100
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LEVELUP_4"
		add_research_slot = 1
		increase_science_base = yes
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_CAPITAL
	icon = GFX_goal_KIR_palace
	relative_position_id = KXN_Focus_INDUSTRY_1
	x = 1
	y = 8

	cost = 10
	
	prerequisite = {
		focus = KXN_Focus_LEVELUP_4
	}
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_5
	}
	
	prerequisite = {
		focus = KXN_Focus_INDUSTRY_6
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_full_control_of_state = 1085
		has_full_control_of_state = 1083
		has_full_control_of_state = 1054
		has_full_control_of_state = 1058
		1073 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1059 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1060 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1071 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		KIR = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		NVA = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KHM = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CAPITAL"
		add_political_power = 150
		1085 = {
			if = {
				limit = {
					has_state_category = metropolis
				}
				set_state_category = megalopolis
			}
			if = {
				limit = {
					has_state_category = large_city
				}
				set_state_category = metropolis
			}
			if = {
				limit = {
					has_state_category = city
				}
				set_state_category = large_city
			}
			if = {
				limit = {
					has_state_category = large_town
				}
				set_state_category = city
			}
			if = {
				limit = {
					has_state_category = town
				}
				set_state_category = large_town
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		custom_effect_tooltip = KXN_Focus_CAPITAL_tt
		hidden_effect = {
			add_victory_points = {
				province = 16573
				value = 5
			}
		}
		custom_effect_tooltip = KIR_line_break
		add_research_slot = 1
		increase_science_base = yes
		increase_society_development_gradual = yes
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_1
	icon = GFX_goal_KIR_battle_rifle
	relative_position_id = KXN_Focus_GUNS_0
	x = -7
	y = 1

	cost = 4.3

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_0
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_1"
		add_tech_bonus = {
			name = KXN_Focus_GUNS_1
			bonus = 2
			uses = 2
			category = infantry_weapons
		}
		add_equipment_to_stockpile = { type = infantry_equipment amount = 2500 producer = FEA }
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_2
	icon = GFX_goal_KIR_mountaineer
	relative_position_id = KXN_Focus_GUNS_1
	x = -2
	y = 2

	cost = 4.3

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_2"
		add_tech_bonus = {
			name = KXN_Focus_GUNS_2
			bonus = 2
			uses = 3
			category = support_tech
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 500
		}
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_3
	icon = GFX_goal_KIR_artillery
	relative_position_id = KXN_Focus_GUNS_1
	x = 0
	y = 2

	cost = 5.8

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_3"
		add_tech_bonus = {
			name = KXN_Focus_GUNS_3
			bonus = 2
			uses = 2
			category = artillery
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 500
		}
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_4
	icon = GFX_goal_KIR_army_triad
	relative_position_id = KXN_Focus_GUNS_1
	x = 2
	y = 2

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_4"
		two_random_arms_factory = yes
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1500
		}
	}
}

shared_focus = {
	id = KXN_Focus_GUNS_5
	icon = GFX_goal_KIR_dragon
	relative_position_id = KXN_Focus_GUNS_1
	x = 1
	y = 4

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_3
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_4
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_GUNS_5"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_1 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { LKB_Artillery_Var = 0.1 }
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 750
		}
	}
}

shared_focus = {
	id = KXN_Focus_FINEST
	icon = GFX_goal_KIR_grenade_kirin
	relative_position_id = KXN_Focus_GUNS_2
	x = 0
	y = 2

	cost = 8.7

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_2
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_FINEST"
		army_experience = 25
		set_technology = { KXN_Elites = 1 }
		custom_effect_tooltip = KXN_Focus_FINEST_tt
	}
}

shared_focus = {
	id = KXN_Focus_FINEST_1
	icon = GFX_goal_KIR_corpsmare
	relative_position_id = KXN_Focus_FINEST
	x = 0
	y = 2

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_FINEST
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_FINEST_1"
		add_tech_bonus = {
			name = KXN_Focus_FINEST_1
			bonus = 2
			uses = 2
			category = para_tech
		}
		add_tech_bonus = {
			name = KXN_Focus_FINEST_1
			bonus = 2
			uses = 2
			category = special_forces_tech
		}
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_2 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_extra_paratrooper_supply_grace_Var = 250 }
		subtract_from_variable = { KXN.LKB_special_forces_out_of_supply_factor_Var = 0.1 }
	}
}

shared_focus = {
	id = KXN_Focus_FINEST_2
	icon = GFX_goal_KIR_com
	relative_position_id = KXN_Focus_GUNS_5
	x = -1
	y = 2

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_FINEST_2"
		custom_effect_tooltip = KXN_Focus_FINEST_2_tt
		set_variable = { var = KXN_Nirik_Counter_Days value = 75 }
		set_variable = { var = KXN_Kirin_Countdown_Days value = 120 }
		set_variable = { var = KXN_Kirin_Countdown_Difference value = 45 }
		set_country_flag = KXNNirikStormValiantBuff_Flag
	}
}

shared_focus = {
	id = KXN_Focus_NIRIK
	icon = GFX_goal_KIR_nirik
	relative_position_id = KXN_Focus_GUNS_5
	x = 1
	y = 2

	cost = 10

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_GUNS_5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_NIRIK"
		set_country_flag = KXNNirikStormFireStorm_Flag
		custom_effect_tooltip = KXNNirikStormModify_tt
		custom_effect_tooltip = KXNNirikStormFireStorm_tt
		custom_effect_tooltip = KXN_Focus_NIRIK_tt
	}
}

shared_focus = {
	id = KXN_Focus_FINEST_3
	icon = GFX_goal_KIR_retinue
	relative_position_id = KXN_Focus_FINEST_2
	x = 0
	y = 2

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_FINEST_1
	}
	
	prerequisite = {
		focus = KXN_Focus_FINEST_2
	}
	
	prerequisite = {
		focus = KXN_Focus_NIRIK
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_FINEST_3"
		add_doctrine_cost_reduction = {
			name = KXN_Focus_FINEST_3
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = { swap_ideas = { add_idea = KXN_Lan_Kir_Banners_DUMMY_5 remove_idea = KXN_Lan_Kir_Banners_DUMMY } }
		add_to_variable = { KXN.LKB_acclimatization_Var = 0.15 }
		add_to_variable = { KXN.LKB_army_Var = 0.1 }
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_1
	icon = GFX_goal_KIR_kirin_head_unique
	x = 10
	y = 12

	cost = 4.3

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}
	
	bypass_if_unavailable = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_1"
		add_political_power = 75
		add_war_support = 0.05
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_1 remove_idea = KXN_Matriarch_Cult_DUMMY } }
		set_variable = { KXN_Matriarch_Cult_Var_1 = 0.05 }
		set_variable = { KXN_Matriarch_Cult_Var_2 = -0.25 }
		set_variable = { KXN_Matriarch_Cult_Var_3 = -0.25 }
		set_variable = { KXN_Matriarch_Cult_Var_4 = 0.1 }
		set_variable = { KXN_Matriarch_Cult_Var_5 = -0.1 }
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_2
	icon = GFX_goal_KIR_angery
	relative_position_id = KXN_Focus_CONQUEST_1
	x = -1
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}
	
	bypass_if_unavailable = yes
	
	will_lead_to_war_with = NVA
	will_lead_to_war_with = KHM
	
	bypass = {
		has_full_control_of_state = 1054
		has_full_control_of_state = 1055
		has_full_control_of_state = 1056
		has_full_control_of_state = 1057
		has_full_control_of_state = 1058
		has_full_control_of_state = 1083
		has_full_control_of_state = 1084
		NVA = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KHM = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_2"
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					controls_state = 1054
					controls_state = 1055
					controls_state = 1056
					controls_state = 1057
					controls_state = 1058
					controls_state = 1083
					controls_state = 1084
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						controls_state = 1054
						controls_state = 1055
						controls_state = 1056
						controls_state = 1057
						controls_state = 1058
						controls_state = 1083
						controls_state = 1084
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_3
	icon = GFX_goal_KIR_chainbreaker
	relative_position_id = KXN_Focus_CONQUEST_1
	x = 1
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}
	
	bypass_if_unavailable = yes
	
	will_lead_to_war_with = ZLU
	will_lead_to_war_with = ZOO
	will_lead_to_war_with = TAI
	will_lead_to_war_with = MEL
	
	bypass = {
		1124 = { is_controlled_by_ROOT_or_subject = yes }
		1132 = { is_controlled_by_ROOT_or_subject = yes }
		1133 = { is_controlled_by_ROOT_or_subject = yes }
		1138 = { is_controlled_by_ROOT_or_subject = yes }
		ZLU = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		ZOO = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		TAI = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		MEL = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_3"
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					controls_state = 1124
					controls_state = 1132
					controls_state = 1133
					controls_state = 1138
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						controls_state = 1124
						controls_state = 1132
						controls_state = 1133
						controls_state = 1138
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_4
	icon = GFX_goal_KIR_flag_rag
	relative_position_id = KXN_Focus_CONQUEST_1
	x = -3
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}
	
	bypass_if_unavailable = yes
	
	will_lead_to_war_with = ROA
	will_lead_to_war_with = GFS
	will_lead_to_war_with = TSV
	
	bypass = {
		909 = { is_controlled_by_ROOT_or_subject = yes }
		912 = { is_controlled_by_ROOT_or_subject = yes }
		906 = { is_controlled_by_ROOT_or_subject = yes }
		ROA = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		GFS = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		TSV = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_4"
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					controls_state = 906
					controls_state = 909
					controls_state = 912
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						controls_state = 906
						controls_state = 909
						controls_state = 912
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_5
	icon = GFX_goal_KIR_pointing_hoof
	relative_position_id = KXN_Focus_CONQUEST_1
	x = 3
	y = 1

	cost = 4.3
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}
	
	bypass_if_unavailable = yes
	
	will_lead_to_war_with = DEL
	will_lead_to_war_with = IDO
	will_lead_to_war_with = IST
	
	bypass = {
		1139 = { is_controlled_by_ROOT_or_subject = yes }
		1149 = { is_controlled_by_ROOT_or_subject = yes }
		1190 = { is_controlled_by_ROOT_or_subject = yes }
		DEL = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		IDO = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		IST = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_5"
		every_other_country = {
			limit = {
				NOT = { is_subject_of = KXN }
				OR = {
					controls_state = 1139
					controls_state = 1149
					controls_state = 1190
				}
			}
			every_country = {
				limit = {
					tag = KXN
				}
				custom_effect_tooltip = KXN_Focus_CONQUEST_tt
			}
		}
		for_each_scope_loop = {
			array = global.countries
			if = {
				limit = {
					NOT = {
						original_tag = KXN
						is_subject_of = KXN
					}
					OR = {
						controls_state = 1139
						controls_state = 1149
						controls_state = 1190
					}
				}
				KXN = {
					create_wargoal = { type = annex_everything target = PREV }
				}
				hidden_effect = {
					add_ai_strategy = {
						type = prepare_for_war
						id = KXN
						value = 1000
					}
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		set_country_flag = KXN_Infiltrate_Golden_City_Flag
		unlock_decision_tooltip = KXN_Infiltrate_Golden_City
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_6
	icon = GFX_goal_KIR_flaming_nirik
	relative_position_id = KXN_Focus_CONQUEST_1
	x = 2
	y = 3

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_2
		focus = KXN_Focus_CONQUEST_3
		focus = KXN_Focus_CONQUEST_4
		focus = KXN_Focus_CONQUEST_5
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_controlled_states > 10
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_6"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Nirik_Storm_DUMMY_1 remove_idea = KXN_Nirik_Storm_DUMMY } }
		add_to_variable = { var = NirikStormVar2 value = 0.05 }
		add_to_variable = { var = NirikStormVar3 value = 0.05 }
		add_to_variable = { var = NirikStormVar4 value = 0.1 }
		add_to_variable = { var = NirikStormVar5 value = 40 }
		subtract_from_variable = { var = NirikStormVar6 value = 0.1 }
		add_to_variable = { var = NirikStormVar7 value = 0.1 }
		effect_tooltip = { swap_ideas = { add_idea = KXN_Nirik_Veisalgia_DUMMY_1 remove_idea = KXN_Nirik_Veisalgia_DUMMY } }
		subtract_from_variable = { var = NirikCrashVar1 value = 0.05 }
		subtract_from_variable = { var = NirikCrashVar2 value = 0.05 }
		add_to_variable = { var = NirikCrashVar3 value = 0.05 }
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_7
	icon = GFX_goal_KIR_sentry
	relative_position_id = KXN_Focus_CONQUEST_1
	x = 4
	y = 4

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_5
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		has_full_control_of_state = 1134
		has_full_control_of_state = 1151
		has_full_control_of_state = 1149
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_7"
		add_state_core = 1134
		add_state_core = 1151
		add_state_core = 1149
		every_controlled_state = {
			limit = {
				OR = {
					state = 1134
					state = 1151
					state = 1149
				}
			}
			add_dynamic_modifier = { modifier = KXN_Settler_Communities scope = KXN }
		}
	}
}

shared_focus = {
	id = KXN_Focus_CONQUEST_8
	icon = a
	relative_position_id = KXN_Focus_CONQUEST_1
	x = -4
	y = 4

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_4
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_CONQUEST_8"
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_2
	icon = GFX_goal_KIR_birdcage
	relative_position_id = KXN_Focus_CONQUEST_1
	x = -2
	y = 3

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_2
		focus = KXN_Focus_CONQUEST_3
		focus = KXN_Focus_CONQUEST_4
		focus = KXN_Focus_CONQUEST_5
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		num_of_controlled_states > 10
		hidden_trigger = {
			tag = KXN
			is_subject = no
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_EMPIRE_2"
		add_command_power = 25
		custom_effect_tooltip = KXN_Focus_EMPIRE_2_tt
		set_country_flag = KXN_Form_Tributary_Flag 
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_1
	icon = GFX_goal_KIR_kaiser
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_CONQUEST_1
	x = 0
	y = 5
	
	dynamic = yes 

	cost = 5.8

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_CONQUEST_2
		focus = KXN_Focus_CONQUEST_3
		focus = KXN_Focus_CONQUEST_4
		focus = KXN_Focus_CONQUEST_5
	}

	available = {
		tag = KXN
		is_subject = no
		num_of_controlled_states > 15
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_1
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward_joint_originator = {
		add_political_power = 150
		custom_effect_tooltip = KXN_Focus_EMPIRE_1_tt
		set_country_flag = KXN_Form_Empire_Flag
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_3
	icon = GFX_goal_KIR_three_banners
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_1
	x = -3
	y = 1
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_1
	}

	available = {
		tag = KXN
		is_subject = no
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_3
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
	}
	
	completion_reward_joint_originator = {
		army_experience = 25
		create_faction = KXN_Focus_EMPIRE_3
		add_to_tech_sharing_group = KXN_Tributary_Group
		every_other_country = {
			limit = {
				is_in_faction_with = KXN
			}
			add_to_tech_sharing_group = KXN_Tributary_Group
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_3_tt
	}
	
	completion_reward_joint_member = {
		army_experience = 75
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 1
			uses = 1
			category = industry
			category = electronics
		}
		add_to_tech_sharing_group = KXN_Tributary_Group
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_A
	icon = GFX_goal_KIR_cannon_helmet
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_1
	x = 3
	y = 1
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_1
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_SATELLITE_NUM_REQ_TT
			KXN_SATELLITE_NUM_REQ_TRIGGER = yes
		}
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_A
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		add_manpower = 25000
		army_experience = 25
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Tributary_Buff_DUMMY
				add_idea = KXN_Tributary_Buff_DUMMY_5
			}
		}
		set_variable = { KXN_SF_Pos_Var = 0.1 }
		hidden_effect = { fix_weapon_techs = yes }
	}
	
	completion_reward_joint_originator = {
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_A1
	icon = GFX_goal_KIR_deer
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_A
	x = -2
	y = 1
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_A
	}

	available = {
		tag = KXH
		is_subject_of = KXN
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_A1_trigger_tt
			has_global_flag = Form_KXN_Marshalcy_Flag
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		hidden_effect = { fix_weapon_techs = yes }
	}
	
	completion_reward_joint_originator = {
		custom_effect_tooltip = KXN_Focus_EMPIRE_A1_tt
		hidden_effect = {
			division_template = {
				name = "Hin-Doe Marine Banner"
				division_names_group = KIR_BANNER
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 0 y = 3 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
					marine = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					kirin_braves = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			set_division_template_cap = { division_template = "Hin-Doe Marine Banner" division_cap = 6 }
			fix_weapon_techs = yes
			capital_scope = {
				create_unit = {
					division = "name = \"Hin-Doe Marine Banner 'of the Heavy-Horned Cervid'\" division_template = \"Hin-Doe Marine Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXH count = 1
				}
				create_unit = {
					division = "name = \"Hin-Doe Marine Banner 'of the Velvet Forkhorn'\" division_template = \"Hin-Doe Marine Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXH count = 1
				}
				create_unit = {
					division = "name = \"Hin-Doe Marine Banner 'of the Ironbound Hind'\" division_template = \"Hin-Doe Marine Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXH count = 1
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 }
		add_equipment_to_stockpile = { type = artillery_equipment amount = 250 }
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_A2
	icon = GFX_goal_KIR_zebra
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_A
	x = 0
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_A
	}

	available = {
		tag = KXZ
		is_subject_of = KXN
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_A2_trigger_tt
			has_global_flag = Form_KXN_Eparchy_Flag
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		hidden_effect = { fix_weapon_techs = yes }
	}
	
	completion_reward_joint_originator = {
		custom_effect_tooltip = KXN_Focus_EMPIRE_A2_tt
		hidden_effect = {
			division_template = {
				name = "Zonglu Assault Banner"
				division_names_group = KIR_BANNER
				regiments = {
					spirit_warriors = { x = 0 y = 0 }
					spirit_warriors = { x = 0 y = 1 }
					spirit_warriors = { x = 0 y = 2 }
					spirit_warriors = { x = 0 y = 3 }
					spirit_warriors = { x = 1 y = 0 }
					spirit_warriors = { x = 1 y = 1 }
					spirit_warriors = { x = 1 y = 2 }
					spirit_warriors = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					kirin_braves = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			set_division_template_cap = { division_template = "Zonglu Assault Banner" division_cap = 6 }
			fix_weapon_techs = yes
			capital_scope = {
				create_unit = {
					division = "name = \"Zonglu Assault Banner 'of the Ivory Escutcheon'\" division_template = \"Zonglu Assault Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXZ count = 1
				}
				create_unit = {
					division = "name = \"Zonglu Assault Banner 'of the Oxhide Regalia'\" division_template = \"Zonglu Assault Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXZ count = 1
				}
				create_unit = {
					division = "name = \"Zonglu Assault Banner 'of the Dust Raisers'\" division_template = \"Zonglu Assault Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXZ count = 1
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 }
		add_equipment_to_stockpile = { type = artillery_equipment amount = 250 }
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_A3
	icon = GFX_goal_KIR_changeling_griffon
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_A
	x = 2
	y = 3
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_A
	}

	available = {
		tag = KXO
		is_subject_of = KXN
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_A3_trigger_tt
			has_global_flag = Form_KXN_Occident_Flag
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		hidden_effect = { fix_weapon_techs = yes }
	}
	
	completion_reward_joint_originator = {
		custom_effect_tooltip = KXN_Focus_EMPIRE_A3_tt
		hidden_effect = {
			division_template = {
				name = "Griffon Legionary Banner"
				division_names_group = KIR_BANNER
				regiments = {
					knights = { x = 0 y = 0 }
					knights = { x = 0 y = 1 }
					knights = { x = 0 y = 2 }
					knights = { x = 0 y = 3 }
					knights = { x = 1 y = 0 }
					knights = { x = 1 y = 1 }
					knights = { x = 1 y = 2 }
					knights = { x = 1 y = 3 }
				}
				support = {
					recon = { x = 0 y = 0 }
					kirin_braves = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
			set_division_template_cap = { division_template = "Griffon Legionary Banner" division_cap = 6 }
			fix_weapon_techs = yes
			capital_scope = {
				create_unit = {
					division = "name = \"Legionary Banner I 'of the Gilded Unguis'\" division_template = \"Griffon Legionary Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXO count = 1
				}
				create_unit = {
					division = "name = \"Legionary Banner II 'of the Corundum Gorget'\" division_template = \"Griffon Legionary Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXO count = 1
				}
				create_unit = {
					division = "name = \"Legionary Banner III 'of the Crimson Plumage'\" division_template = \"Griffon Legionary Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXO count = 1
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		add_equipment_to_stockpile = { type = infantry_equipment amount = 1500 }
		add_equipment_to_stockpile = { type = artillery_equipment amount = 250 }
	}
	
	completion_reward_joint_member = {
	}
}

shared_focus = {
	id = KXN_Focus_TURTLE_1
	icon = GFX_goal_KIR_turtle
	relative_position_id = KXN_Focus_EMPIRE_A
	x = 4
	y = 1

	cost = 8.7
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_A
	}
	
	allow_branch = {
		tag = KXN
		is_subject = no
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_TURTLE_1_Req_tt
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 133
				PREV = {
					any_state = {
						is_controlled_by_ROOT_or_ally = yes
						NOT = { state = PREV.PREV }
						region = 133
						PREV = {
							any_state = {
								is_controlled_by_ROOT_or_ally = yes
								NOT = { state = PREV.PREV.PREV.PREV }
								NOT = { state = PREV.PREV }
								region = 133
							}
						}
					}
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_TURTLE_1"
		set_technology = { KXN_Tortoise_Mechanized = 1 }
		custom_effect_tooltip = KXN_Focus_TURTLE_1_tt
		hidden_effect = {
			load_oob = KXN_TURTLE
			fix_weapon_techs = yes
		}
	}
}

shared_focus = {
	id = KXN_Focus_TURTLE_2
	icon = GFX_goal_KIR_tortoise
	relative_position_id = KXN_Focus_TURTLE_1
	x = 0
	y = 3

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_TURTLE_1
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_TURTLE_2"
		add_ideas = KXN_Chelonian_Assault_Guns
		hidden_effect = { set_technology = { KXN_Tortoise_Buff = 1 } }
		custom_effect_tooltip = KXN_Focus_TURTLE_2_tt
	}
}

shared_focus = {
	id = KXN_Focus_KOMODO
	icon = GFX_goal_KIR_lizard
	relative_position_id = KXN_Focus_EMPIRE_A
	x = 6
	y = 2

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_A
	}
	
	allow_branch = {
		tag = KXN
		is_subject = no
	}

	ai_will_do = {
		factor = 5
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_TURTLE_1_Req_tt
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				region = 133
				PREV = {
					any_state = {
						is_controlled_by_ROOT_or_ally = yes
						NOT = { state = PREV.PREV }
						region = 133
						PREV = {
							any_state = {
								is_controlled_by_ROOT_or_ally = yes
								NOT = { state = PREV.PREV.PREV.PREV }
								NOT = { state = PREV.PREV }
								region = 133
							}
						}
					}
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_KOMODO"
		custom_effect_tooltip = KXN_Focus_KOMODO_tt
		hidden_effect = {
			division_template = {
				name = "Saurider Banner"
				division_names_group = KIR_BANNER
				regiments = {
					saurian_battalion = { x = 0 y = 0 }
					saurian_battalion = { x = 0 y = 1 }
					saurian_battalion = { x = 0 y = 2 }
					saurian_battalion = { x = 1 y = 0 }
					saurian_battalion = { x = 1 y = 1 }
					saurian_battalion = { x = 1 y = 2 }
					saurian_battalion = { x = 2 y = 0 }
					saurian_battalion = { x = 2 y = 1 }
					saurian_battalion = { x = 2 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			add_to_variable = { KXN_SRB_CAP = 12 }
			set_division_template_cap = { division_template = "Saurider Banner" division_cap = KXN_SRB_CAP }
			capital_scope = {
				create_unit = {
					division = "name = \"Saurider War-Banner 'of the Lustrian Serpent'\" division_template = \"Saurider Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXN count = 1
				}
				create_unit = {
					division = "name = \"Saurider War-Banner 'of the Truculent Saurus'\" division_template = \"Saurider Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXN count = 1
				}
				create_unit = {
					division = "name = \"Saurider War-Banner 'of the Old-Blooded Terradon'\" division_template = \"Saurider Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXN count = 1
				}
				create_unit = {
					division = "name = \"Saurider War-Banner 'of the Chryselephantine Skink'\" division_template = \"Saurider Banner\" start_experience_factor = 0.3 start_equipment_factor = 1" owner = KXN count = 1
				}
			}
			fix_weapon_techs = yes
		}
	}
}

shared_focus = {
	id = KXN_Focus_KOMODO_1
	icon = GFX_goal_KIR_ranks
	relative_position_id = KXN_Focus_KOMODO
	x = 0
	y = 3

	cost = 7.2
	
	prerequisite = {
		focus = KXN_Focus_KOMODO
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_KOMODO_1"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Saurider_Buff_1 remove_idea = KXN_Saurider_Buff } }
		hidden_effect = { add_ideas = KXN_Saurider_Buff_1 }
		custom_effect_tooltip = KXN_Focus_KOMODO_1_tt
		clear_division_template_cap = { division_template = "Saurider Banner" }
		hidden_effect = { set_technology = { KXN_Enable_Saurian_Battalion = 1 } }
		custom_effect_tooltip = KXN_Focus_KOMODO_1_tt_A
	}
}

shared_focus = {
	id = KXN_Focus_KOMODO_2
	icon = GFX_goal_KIR_maxim_gun
	relative_position_id = KXN_Focus_KOMODO
	x = 2
	y = 2

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_KOMODO
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_KOMODO_2"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Saurider_Buff_2 remove_idea = KXN_Saurider_Buff } }
		hidden_effect = { add_ideas = KXN_Saurider_Buff_2 }
	}
}

shared_focus = {
	id = KXN_Focus_SHAFFRON
	icon = GFX_goal_KIR_shaffron
	relative_position_id = KXN_Focus_KOMODO_1
	x = -1
	y = 2

	cost = 5.8
	
	prerequisite = {
		focus = KXN_Focus_KOMODO_1
	}
	
	prerequisite = {
		focus = KXN_Focus_TURTLE_2
	}

	ai_will_do = {
		factor = 5
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_SHAFFRON"
		swap_ideas = { add_idea = KXN_Chelonian_Assault_Guns_1 remove_idea = KXN_Chelonian_Assault_Guns }
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_B
	icon = GFX_goal_KIR_kirins_rampant
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_3
	x = 2
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_3
	}

	available = {
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_B
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		add_political_power = 100
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 2
			uses = 2
			category = race_tech
		}
	}
	
	completion_reward_joint_originator = {
		add_ideas = KXN_Tributary_Race_Tech_Buff_Extra
	}
	
	completion_reward_joint_member = {
		add_ideas = KXN_Tributary_Race_Tech_Buff
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_B1
	icon = GFX_goal_KIR_cub
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_B
	x = -1
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_SATELLITE_NUM_REQ_TT
			KXN_SATELLITE_NUM_REQ_TRIGGER = yes
		}
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_B1
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		custom_effect_tooltip = KXN_Focus_EMPIRE_B1_tt
		add_to_variable = { KXN_Tributary_State_Cap = 2 }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_1
			}
		}
		add_to_variable = { KXN_Banner_Colony_Conscription_Factor = 0.1 }
		set_global_flag = KXN_Focus_EMPIRE_B1_Completed
	}
	
	completion_reward_joint_originator = {
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_B2
	icon = GFX_goal_KIR_shouty
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_B
	x = 1
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_SATELLITE_NUM_REQ_TT
			KXN_SATELLITE_NUM_REQ_TRIGGER = yes
		}
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_B2
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		modify_tech_sharing_bonus = {
			id = KXN_Tributary_Group
			bonus = 0.1
		}
	}
	
	completion_reward_joint_originator = {
		add_research_slot = 1
	}
	
	completion_reward_joint_member = {
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 2
			uses = 1
			category = race_tech
		}
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_B3
	icon = GFX_goal_KIR_torchbearer
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_B
	x = -1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_B3
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B1
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_B4
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_B3_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}
	
	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_B3
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_B3_Num_Taken_Var = 1 }
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_8
			}
		}
		set_variable = { KXN_Banner_Colony_Var_8 = 300 }
		set_variable = { KXN_Banner_Colony_Var_9 = 0.05 }
		set_variable = { KXN_Banner_Colony_Var_10 = -0.1 }
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_B4
	icon = GFX_goal_KIR_exhort
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_B
	x = 1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_B4
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B1
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_B2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_B3
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_B4_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}

	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_B4
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_B4_Num_Taken_Var = 1 }
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_7
			}
		}
		add_to_variable = { KXN_Banner_Colony_Conscription_Factor = 0.05 }
		set_variable = { KXN_Banner_Colony_Var_11 = 0.05 }
		set_variable = { KXN_Banner_Colony_Var_12 = -0.1 }
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_C
	icon = GFX_goal_KIR_general
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_3
	x = -6
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_3
	}

	available = {
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_C
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		add_tech_bonus = {
			name = KXN_Focus_EMPIRE_C
			bonus = 1
			uses = 1
			category = industry
		}
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Tributary_Buff_DUMMY
				add_idea = KXN_Tributary_Buff_DUMMY_7
			}
		}
		set_variable = { KXN.KXN_Industry_Var = 0.1 }
		set_variable = { KXN.KXN_Industry_Neg_Var = -0.15 }
	}
	
	completion_reward_joint_originator = {
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_C1
	icon = GFX_goal_KIR_back_hoof
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_C
	x = -1
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_SATELLITE_NUM_REQ_TT
			KXN_SATELLITE_NUM_REQ_TRIGGER = yes
		}
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_C1
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Tributary_Buff_DUMMY
				add_idea = KXN_Tributary_Buff_DUMMY_8
			}
		}
		set_variable = { KXN.KXN_Supply_Var = 0.1 }
	}
	
	completion_reward_joint_originator = {
	}
	
	completion_reward_joint_member = {
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_C2
	icon = GFX_goal_KIR_flyby
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_C
	x = 1
	y = 2
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_SATELLITE_NUM_REQ_TT
			KXN_SATELLITE_NUM_REQ_TRIGGER = yes
		}
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_C2
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Tributary_Buff_DUMMY
				add_idea = KXN_Tributary_Buff_DUMMY_9
			}
		}
		set_variable = { KXN.KXN_Air_Var = 0.15 }
		set_variable = { KXN.KXN_Air_Neg_Var = -0.15 }
	}
	
	completion_reward_joint_originator = {
		capital_scope = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
	}
	
	completion_reward_joint_member = {
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_C3
	icon = GFX_goal_KIR_farmer
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_C
	x = -1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_C3
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C1
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_C4
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_C3_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}
	
	completion_reward = {
		add_offsite_building = { type = arms_factory level = 2 }
		add_offsite_building = { type = industrial_complex level = 2 }
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_C3
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_C3_Num_Taken_Var = 1 }
		}
		custom_effect_tooltip = KIR_line_break
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_C4
	icon = GFX_goal_KIR_embrace
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_C
	x = 1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_C4
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C1
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_C2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_C3
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_C4_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}
	
	completion_reward = {
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_2
			}
		}
		set_variable = { KXN_Autarky_Neg_Var = -0.15 }
		set_variable = { KXN_Autarky_CG_Var = -0.1 }
		set_variable = { KXN_Autarky_Var = 0.15 }
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_C4
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_C4_Num_Taken_Var = 1 }
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

joint_focus = {
	id = KXN_Focus_EMPIRE_D
	icon = GFX_goal_KIR_creature_friend
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_3
	x = -2
	y = 1
	
	dynamic = yes 

	cost = 7.2

	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_3
	}

	available = {
	}
	
	bypass = {
		any_allied_country = {
			has_completed_focus = KXN_Focus_EMPIRE_D
		}
	}
	
	joint_trigger = {
		KXN_EMPIRE_JOINT_TRIGGER = yes
	}

	completion_reward = {
		add_command_power = 50
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Tributary_Buff_DUMMY
				add_idea = KXN_Tributary_Buff_DUMMY_6
			}
		}
		set_variable = { KXN_Vanguard_Var = 0.05 }
		hidden_effect = { fix_weapon_techs = yes }
	}
	
	completion_reward_joint_originator = {
		if = {
			limit = {
				NOT = { tag = KXN }
			}
			custom_effect_tooltip = KXN_Focus_EMPIRE_D_tt
			hidden_effect = {
				division_template = {
					name = "Veteran Vanguard Banner"
					division_names_group = KIR_BANNER
					regiments = {
						kirin_vanguards = { x = 0 y = 0 }
						kirin_vanguards = { x = 0 y = 1 }
						kirin_vanguards = { x = 0 y = 2 }
						kirin_vanguards = { x = 0 y = 3 }
						kirin_vanguards = { x = 1 y = 0 }
						kirin_vanguards = { x = 1 y = 1 }
						kirin_vanguards = { x = 1 y = 2 }
						kirin_vanguards = { x = 1 y = 3 }
					}
					support = {
						kirin_braves = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"Veteran Vanguard Banner\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 3
					}
				}
			}
		}
	}
	
	completion_reward_joint_member = {
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_D1
	icon = GFX_goal_KIR_soldier_sitting
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_D
	x = -1
	y = 2
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_D1
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_D
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_D2
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_D1_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}

	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_D1
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_D1_Num_Taken_Var = 1 }
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_D1_tt
		hidden_effect = {
			division_template = {
				name = "Bannerkirin Guard"
				division_names_group = KIR_BANNER
				template_counter = 6
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					artillery_brigade = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					kirin_braves = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Bannerkirin Guard\" start_experience_factor = 0.75 start_equipment_factor = 1" owner = ROOT count = 2
				}
			}
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_3
			}
		}
		set_variable = { KXN_Banner_Colony_Var_3 = 0.1 }
		set_variable = { KXN_Banner_Colony_Var_5 = 0.15 }
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_D2
	icon = GFX_goal_KIR_cooperation
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_D
	x = 1
	y = 2
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_D2
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_D
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_D1
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_D2_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}

	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_D2
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_D2_Num_Taken_Var = 1 }
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_D2_tt
		hidden_effect = {
			division_template = {
				name = "Auxiliary Banner"
				division_names_group = KIR_BANNER
				template_counter = 3
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Auxiliary Banner\" start_experience_factor = 0.25 start_equipment_factor = 1" owner = ROOT count = 3
				}
			}
		}
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_4
			}
		}
		set_variable = { KXN_Banner_Colony_Var_4 = 0.1 }
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_D3
	icon = GFX_goal_KIR_table
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_D
	x = -1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_D3
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_D1
		focus = KXN_Focus_EMPIRE_D2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_D4
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_D3_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}

	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_D3
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_D3_Num_Taken_Var = 1 }
		}
		set_variable = { KXN_Banner_Colony_Var_7 = 0.1 }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_5
			}
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_EMPIRE_D4
	icon = GFX_goal_KIR_administration
	text_icon = RIV_focus_style
	relative_position_id = KXN_Focus_EMPIRE_D
	x = 1
	y = 4
	
	dynamic = yes 

	cost = 4.3

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_global_flag = KXN_Completed_Focus_EMPIRE_D4
		}
	}
	
	prerequisite = {
		focus = KXN_Focus_EMPIRE_D1
		focus = KXN_Focus_EMPIRE_D2
	}
	
	mutually_exclusive = {
		focus = KXN_Focus_EMPIRE_D3
	}

	available = {
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_EMPIRE_Num_Taken_TT
			check_variable = { KXN.KXN_Focus_EMPIRE_D4_Num_Taken_Var < 5 }
			NOT = { has_country_flag = KXN_Mellifluve_Flag }
		}
	}

	completion_reward = {
		if = {
			limit = { tag = KXN }
			set_global_flag = KXN_Completed_Focus_EMPIRE_D4
		}
		else = {
			add_to_variable = { KXN.KXN_Focus_EMPIRE_D4_Num_Taken_Var = 1 }
		}
		add_to_variable = { KXN_Banner_Colony_Var_1 = 0.15 }
		add_to_variable = { KXN_Banner_Colony_Var_2 = 0.15 }
		set_variable = { KXN_Banner_Colony_Var_6 = 0.1 }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = KXN_Banner_Colony_DUMMY
				add_idea = KXN_Banner_Colony_DUMMY_6
			}
		}
		custom_effect_tooltip = KXN_Focus_EMPIRE_Increase_Chance_TT
	}
}

shared_focus = {
	id = KXN_Focus_ZAIK_1
	icon = GFX_goal_KIR_swords_crossed
	x = 27
	y = 0

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}

	available = {
		has_full_control_of_state = 1054
		has_full_control_of_state = 1055
		has_full_control_of_state = 1056
		has_full_control_of_state = 1057
		has_full_control_of_state = 1058
		has_full_control_of_state = 1083
		has_full_control_of_state = 1084
		NVA = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KHM = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ZAIK_1"
		add_political_power = 100
		NVA = { add_to_ROOT_potential_cores = yes }
		KHM = { add_to_ROOT_potential_cores = yes }
		hidden_effect = {
			## Reset State and VP Names
		}
	}
}

shared_focus = {
	id = KXN_Focus_ZAIK_2
	icon = GFX_goal_KIR_pistol
	relative_position_id = KXN_Focus_ZAIK_1
	x = -1
	y = 2

	cost = 8.7
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ZAIK_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ZAIK_2"
		save_current_manpower = yes
		every_controlled_state = {
			tooltip = every_controlled_zaikirian_state_tt
			limit = {
				OR = {
					state = 1054
					state = 1055
					state = 1056
					state = 1057
					state = 1058
					state = 1083
					state = 1084
				}
			}
			add_manpower = -15000
			add_compliance = 10
			add_resistance = -10
		}
		restore_previous_manpower = yes
	}
}

shared_focus = {
	id = KXN_Focus_ZAIK_3
	icon = GFX_goal_KIR_threaten
	relative_position_id = KXN_Focus_ZAIK_1
	x = 1
	y = 2

	cost = 8.7
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ZAIK_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ZAIK_3"
		every_controlled_state = {
			limit = {
				OR = {
					state = 1055
					state = 1056
					state = 1057
					state = 1084
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_ZAIK_4
	icon = GFX_goal_KIR_constitution
	relative_position_id = KXN_Focus_ZAIK_1
	x = 0
	y = 4

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ZAIK_2
	}
	
	prerequisite = {
		focus = KXN_Focus_ZAIK_3
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_ZAIK_4"
		set_cosmetic_tag = KXN_Zaikirian_Militarchy
		add_stability = 0.05
		add_political_power = 75
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = {
			swap_ideas = { add_idea = KXN_Nirik_Militarchy_DUMMY_2 remove_idea = KXN_Nirik_Militarchy_DUMMY_0 }
		}
		set_variable = { KXN_NM_ZAIKIRIA_Var = 0.05 }
		set_variable = { KXN_NM_GBSF_Var = 0.15 }
		set_variable = { KXN_NM_PPG_Var = 0.5 }
	}
}

shared_focus = {
	id = KXN_Focus_LAND_1
	icon = GFX_goal_KIR_constitution_unique
	relative_position_id = KXN_Focus_ZAIK_4
	x = 0
	y = 2

	cost = 10
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_ZAIK_4
	}

	available = {
		816 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1073 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1077 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1078 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1079 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1080 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1081 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		1082 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		926 = {
			is_controlled_by_ROOT_or_subject = yes
		}
		KIR = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIS = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
		KIC = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_capitulated = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_1"
		## Event
		add_political_power = 150
		custom_effect_tooltip = KXN_Focus_LAND_1_tt
		hidden_effect = {
			set_global_flag = Form_KXN_Mellifluve_Flag
			for_each_scope_loop = {
				array = KXV.owned_controlled_states
				if = {
					limit = {
						is_core_of = KXV
						OR = {
							state = 816
							state = 1073
							state = 1077
							state = 1078
							state = 1079
							state = 1080
							state = 1081
							state = 1082
							state = 926
						}
					}
					remove_core_of = KXV
					subtract_from_variable = { KXV.KXV_Num_States = 1 }
				}
			}
			create_dynamic_country = {
				original_tag = KXN
				set_country_flag = KXN_Mellifluve_Flag
				set_cosmetic_tag = KXN_Mellifluve
				transfer_state = 816
				transfer_state = 1073
				transfer_state = 1077
				transfer_state = 1078
				transfer_state = 1079
				transfer_state = 1080
				transfer_state = 1081
				transfer_state = 1082
				transfer_state = 926
				add_state_core = 816
				add_state_core = 1073
				add_state_core = 1077
				add_state_core = 1078
				add_state_core = 1079
				add_state_core = 1080
				add_state_core = 1081
				add_state_core = 1082
				add_state_core = 926
				set_capital = {
					state = 1073
				}
				KXN_SETUP_PUPPET_EFFECT = yes
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_LAND_2
	icon = GFX_goal_KIR_smug
	relative_position_id = KXN_Focus_LAND_1
	x = -1
	y = 2

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_2"
		army_experience = 75
		save_current_manpower = yes
		every_state = {
			limit = {
				is_controlled_by_ROOT_or_subject = yes
				OR = {
					state = 816
					state = 1073
					state = 1077
					state = 1078
					state = 1079
					state = 1080
					state = 1081
					state = 1082
					state = 926
				}
			}
			add_manpower = -15000
		}
		restore_previous_manpower = yes
	}
}

shared_focus = {
	id = KXN_Focus_LAND_3
	icon = GFX_goal_KIR_verdigris_rotunda
	relative_position_id = KXN_Focus_LAND_1
	x = 1
	y = 2

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_1
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_3"
		add_command_power = 75
		KXL = {
			every_state = {
				limit = {
					OR = {
						state = 816
						state = 1073
						state = 1077
						state = 1078
						state = 1079
						state = 1080
						state = 1081
						state = 1082
						state = 926
					}
				}
				add_dynamic_modifier = { modifier = KXN_Religious_Iconoclasm days = 365 }
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_LAND_4
	icon = GFX_goal_KIR_speech
	relative_position_id = KXN_Focus_LAND_1
	x = -1
	y = 4

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_2
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_4"
		effect_tooltip = {
			swap_ideas = { add_idea = KXN_Nirik_Militarchy_DUMMY_1 remove_idea = KXN_Nirik_Militarchy_DUMMY_0 }
		}
		add_to_variable = { KXN_NM_OWSF_Var = 0.05 }
		add_to_variable = { KXN_NM_SL_Var = 0.05 }
		set_variable = { KXN_NM_MP_Var = 0.25 }
		KXL = {
			every_state = {
				limit = {
					OR = {
						state = 816
						state = 1073
						state = 1077
						state = 1078
						state = 1079
						state = 1080
						state = 1081
						state = 1082
						state = 926
					}
				}
				add_dynamic_modifier = { modifier = KXN_Colonial_Settlement days = 750 }
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_LAND_5
	icon = GFX_goal_KIR_reform_bureau
	relative_position_id = KXN_Focus_LAND_1
	x = 1
	y = 4

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_3
	}

	available = {
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_5"
		KXL = {
			1073 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1081 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}

shared_focus = {
	id = KXN_Focus_LAND_6
	icon = GFX_goal_KIR_hoof
	relative_position_id = KXN_Focus_LAND_1
	x = 0
	y = 6

	cost = 10
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_4
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_5
	}

	available = {
		KXL = {
			exists = yes
			is_subject_of = KXN
		}
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_LAND_6_trigger_tt
			has_global_flag = Form_KXN_Mellifluve_Flag
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_6"
		set_cosmetic_tag = KXN_Great_Kirin_Militarchy
		hidden_effect = {
			every_state = {
				limit = {
					is_core_of = KXL
				}
				remove_core_of = KXL
			}
		}
		KXN = {
			annex_country = {
				target = KXL
				transfer_troops = yes
			}
		}
		add_state_core = 816
		add_state_core = 1073
		add_state_core = 1077
		add_state_core = 1078
		add_state_core = 1079
		add_state_core = 1080
		add_state_core = 1081
		add_state_core = 1082
		add_state_core = 926
	}
}

shared_focus = {
	id = KXN_Focus_LAND_7
	icon = GFX_goal_KIR_soldier
	relative_position_id = KXN_Focus_LAND_1
	x = -2
	y = 6

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_4
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_5
	}

	available = {
		1079 = { is_controlled_by_ROOT_or_subject = yes }
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_7"
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_2 remove_idea = KXN_Matriarch_Cult_DUMMY } }
		set_variable = { KXN_Matriarch_Cult_Var_Braves = 0.05 }
		set_country_flag = KIR_aureolin_monastery_available
		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = KIR_aureolin_monastery
			mio:KIR_aureolin_monastery = {
				add_mio_size = 1
				add_mio_funds = 350
			}
		}
		else = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KIR_aureolin_monastery
		}
	}
}

shared_focus = {
	id = KXN_Focus_LAND_8
	icon = GFX_goal_KIR_scroll
	relative_position_id = KXN_Focus_LAND_1
	x = 2
	y = 6

	cost = 7.2
	
	ai_will_do = {
		factor = 5
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_4
	}
	
	prerequisite = {
		focus = KXN_Focus_LAND_5
	}

	available = {
		KXV = {
			exists = yes
			is_subject_of = KXN
		}
		custom_trigger_tooltip = {
			tooltip = KXN_Focus_LAND_8_trigger_tt
			has_global_flag = Form_KXN_Vermilion_Flag
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KXN_Focus_LAND_8"
		add_opinion_modifier = {
			target = KXV
			modifier = friendly_government
		}
		reverse_add_opinion_modifier = {
			target = KXV
			modifier = friendly_government
		}
		custom_effect_tooltip = KIR_line_break
		KXV = {
			custom_effect_tooltip = KXN_Focus_LAND_8_tt
			hidden_effect = {
				add_autonomy_score = {
					value = -150
					localization = KXN_Focus_LAND_8
				}
			}
		}
		custom_effect_tooltip = KIR_line_break
		effect_tooltip = { swap_ideas = { add_idea = KXN_Matriarch_Cult_DUMMY_3 remove_idea = KXN_Matriarch_Cult_DUMMY } }
		set_variable = { KXN_Matriarch_Cult_Var_6 = 0.05 }
		set_variable = { KXN_Matriarch_Cult_Var_7 = -0.05 }
	}
}