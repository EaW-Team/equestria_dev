##################################################
###### Industrial and Research branch (H&C) ######
##################################################

##### Agrarian society cluster #####

	shared_focus = {
		id = NTR_finishing_the_queens_labors
		icon = GFX_goal_agrarian_reform
		
		x = 27
		y = 0
		
		cost = 8
		
		bypass = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
			
			custom_trigger_tooltip = {
				tooltip = has_agrarian_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_finishing_the_queens_labors"
			
			custom_effect_tooltip = NTR_centralization_tooltip
			
			hidden_effect = {
				country_event = Ntribes.1
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_bind_the_north_together
		icon = GFX_goal_generic_construct_infrastructure
		
		relative_position_id = NTR_finishing_the_queens_labors
		x = -2
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_finishing_the_queens_labors
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			567 = { is_owned_and_controlled_by = ROOT }
			573 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_bind_the_north_together"
			
			if = {
				limit = {
					check_variable = { party_popularity@ruling_party < 100 }
				}
				
				add_stability = 0.04
				
				if = {
					limit = {
						has_government = democratic
					}
					
					add_popularity = {
						ideology = democratic
						popularity = 0.025
					}
				}
				else = {
					add_popularity = {
						ideology = communism
						popularity = 0.025
					}
				}
			}
			else = {
				add_stability = 0.05
			}
			
			562 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			563 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			602 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			567 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			573 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				country_event = Ntribes.588
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_use_all_we_have
		icon = GFX_goal_generic_trade
		
		relative_position_id = NTR_finishing_the_queens_labors
		x = 2
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_finishing_the_queens_labors
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_use_all_we_have"
			
			if = {
				limit = {
					has_government = democratic
				}
				
				add_political_power = 100
				add_stability = 0.04
				
				swap_ideas = {
					remove_idea = export_focus
					add_idea = limited_exports
				}
			}
			else = {
				add_political_power = 50
				add_stability = 0.06
				
				swap_ideas = {
					remove_idea = limited_exports
					add_idea = closed_economy
				}
			}
			
			hidden_effect = {
				adjust_frozen_seas_dynamic_modifier = yes
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_protect_our_workers }
					
					AND = {
						has_government = communism
						
						has_political_power > 150
						
						check_variable = { modifier@stability_factor = 1 }
						
						NOT = { has_completed_focus = NTR_new_production }
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_connecting_to_the_outside_world
		icon = GFX_goal_foreign_diplomacy
		
		relative_position_id = NTR_finishing_the_queens_labors
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_finishing_the_queens_labors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_connecting_to_the_outside_world"
			
			swap_ideas = {
				remove_idea = NTR_weakening_isolationism_idea
				add_idea = NTR_insignificant_isolationism_idea
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_advanced_tools
		icon = GFX_goal_generic_production
		
		relative_position_id = NTR_connecting_to_the_outside_world
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_connecting_to_the_outside_world
		}
		
		bypass = {
			has_tech = basic_machine_tools
		}
		
		available = {
			has_tech = melee_weapons1
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_advanced_tools"
			
			set_technology = { basic_machine_tools = 1 }
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_protect_our_workers
		icon = GFX_goal_industrial_pony
		
		relative_position_id = NTR_advanced_tools
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_advanced_tools
		}
		prerequisite = {
			focus = NTR_bind_the_north_together
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_protect_our_workers"
			
			add_political_power = 50
			add_stability = 0.075
			
			unlock_decision_tooltip = improved_worker_conditions
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_the_northern_manufactories
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_advanced_tools
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_advanced_tools
		}
		prerequisite = {
			focus = NTR_use_all_we_have
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_northern_manufactories"
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			563 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_the_new_economy
		icon = GFX_goal_generic_consumer_goods
		
		relative_position_id = NTR_advanced_tools
		x = 0
		y = 2
		
		cost = 12
		
		prerequisite = {
			focus = NTR_protect_our_workers
		}
		prerequisite = {
			focus = NTR_the_northern_manufactories
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_new_economy"
			
			swap_ideas = {
				remove_idea = primitive_economy
				add_idea = civilian_economy
			}
			
			hidden_effect = {
				swap_ideas = {
					remove_idea = NTR_primitive_economy_balance_adjustment_hidden_idea
					add_idea = NTR_civilian_economy_balance_adjustment_hidden_idea
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_bridges_and_tunnels
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_bind_the_north_together
		x = 0
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_bind_the_north_together
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			567 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_bridges_and_tunnels"
			
			562 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			602 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			567 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			563 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					574 = { is_owned_and_controlled_by = ROOT }
				}
				
				574 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							OR = {
								state = 562
								state = 567
								state = 602
								state = 563
							}
						}
					}
					
					prioritize = { 573 }
					
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_new_teachers_for_a_new_era
		icon = GFX_goal_eqs_public_schools
		
		relative_position_id = NTR_bridges_and_tunnels
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_bridges_and_tunnels
		}
		
		bypass = {
			NOT = {
				OR = {
					has_idea = lack_of_scientists
					has_idea = lack_of_scientists1
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_teachers_for_a_new_era"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			country_event = Ntribes.8
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_new_production
		icon = GFX_goal_generic_production2
		
		relative_position_id = NTR_new_teachers_for_a_new_era
		x = 1
		y = 1
		
		cost = 4
		
		bypass = {
			has_country_leader = { name = "Northland General Congress" ruling_only = yes }
		}
		
		prerequisite = {
			focus = NTR_new_teachers_for_a_new_era
		}
		prerequisite = {
			focus = NTR_protect_our_workers
		}
		
		available = {
			has_completed_focus = NTR_new_rifles
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_production"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				technology = improved_machine_tools
				technology = advanced_machine_tools
				technology = assembly_line_production
				technology = flexible_line
				technology = streamlined_line
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				category = construction_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_extend_resources_extraction
		icon = GFX_goal_generic_construction2
		
		relative_position_id = NTR_use_all_we_have
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_use_all_we_have
		}
		
		available = {
			602 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_extend_resources_extraction"
			
			add_resource = {
				type = steel
				amount = 6
				state = 602
			}
			add_resource = {
				type = crystals
				amount = 12
				state = 602
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_opening_our_doors
		icon = GFX_goal_griffon_books
		
		relative_position_id = NTR_extend_resources_extraction
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_extend_resources_extraction
		}
		
		bypass = {
			NOT = { has_idea = poor_science_base }
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_opening_our_doors"
			
			if = {
				limit = {
					has_government = democratic
				}
				
				country_event = Ntribes.4
			}
			else = {
				if = {
					limit = {
						SRS = {
							exists = yes
							is_subject = no
							has_civil_war = no
							has_government = communism
						}
					}
					
					country_event = Ntribes.5
				}
				else = {
					country_event = Ntribes.6
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_prototype_electronics
		icon = GFX_goal_radio
		
		relative_position_id = NTR_opening_our_doors
		x = -1
		y = 1
		
		cost = 4
		
		bypass = {
			has_country_leader = { name = "Northland General Congress" ruling_only = yes }
		}
		
		prerequisite = {
			focus = NTR_opening_our_doors
		}
		prerequisite = {
			focus = NTR_the_northern_manufactories
		}
		
		available = {
			has_completed_focus = NTR_new_rifles
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_prototype_electronics"
			
			if = {
				limit = {
					NOT = {
						has_tech = electronic_mechanical_engineering
						is_researching_technology = electronic_mechanical_engineering
						has_tech_bonus = { technology = electronic_mechanical_engineering }
					}
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = electronic_mechanical_engineering
				}
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.75
					category = computing_tech
				}
			}
			
			if = {
				limit = {
					NOT = {
						has_tech = radio
						is_researching_technology = radio
						has_tech_bonus = { technology = radio }
					}
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = radio
				}
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.75
					category = electronics
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = { #???
			base = 75
			
			modifier = {
				factor = 2.5
				
				NOT = {
					has_tech = electronic_mechanical_engineering
					has_tech = radio
				}
			}
			modifier = {
				factor = 1.5
				
				OR = {
					NOT = { has_tech = electronic_mechanical_engineering }
					NOT = { has_tech = radio }
				}
			}
		}
	}

### Industrialising society cluster ###
# Core (early) #

	shared_focus = {
		id = NTR_industrialization_is_coming_north
		icon = GFX_focus_generic_industry_1
		
		relative_position_id = NTR_the_new_economy
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_new_economy
		}
		prerequisite = {
			focus = NTR_new_production
		}
		prerequisite = {
			focus = NTR_prototype_electronics
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			has_country_flag = NTR_the_unification_process_is_completed_flag
			
			does_not_has_poverty = yes
		}
		
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				
				OR = {
					has_completed_focus = NTR_protect_our_way_of_life
					has_completed_focus = NTR_open_our_doors_to_all
				}
			}
			else = {
				has_completed_focus = NTR_our_western_neighbor
			}
			
			does_not_has_poverty = yes
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_industrialization_is_coming_north"
			
			if = {
				limit = {
					has_government = democratic
				}
				
				if = {
					limit = {
						is_subject = yes
					}
					
					OVERLORD = { country_event = Ntribes.55 }
				}
				else_if = {
					limit = {
						VED = { has_country_flag = NTR_agreed_to_cooperate_flag }
					}
					
					if = {
						limit = {
							VED = {
								is_subject = no
								has_government = democratic
								
								OR = {
									AND = {
										has_non_aggression_pact_with = NTR
										is_guaranteed_by = NTR
										has_guaranteed = NTR
									}
									
									is_in_faction_with = NTR
								}
							}
						}
						
						VED = { country_event = Ntribes.53 } # to 'Best Friends'
					}
					else = {
						country_event = Ntribes.11 # to choose
					}
				}
				else = {
					custom_effect_tooltip = NTR_search_for_investors_tooltip
					
					hidden_effect = {
						country_event = { # to 'Trade with All'
							id = Ntribes.98
							days = 3
							random = 24
						}
					}
				}
				
				if = {
					limit = {
						has_completed_focus = NTR_open_our_doors_to_all
					}
					
					swap_ideas = {
						remove_idea = export_focus
						add_idea = free_trade
					}
				}
				else = {
					swap_ideas = {
						remove_idea = limited_exports
						add_idea = export_focus
					}
				}
			}
			else = {
				if = {
					limit = {
						SRS = {
							exists = yes
							has_war = no
							is_subject = no
							has_government = communism
							
							NOT = {
								has_or_is_justifying_wargoal_against_ROOT = yes
								
								ROOT = {
									OR = {
										has_wargoal_against = PREV
										is_justifying_wargoal_against = PREV
									}
								}
							}
						}
					}
					
					country_event = Ntribes.17
				}
				else = {
					country_event = Ntribes.15
				}
			}
			
			hidden_effect = {
				clr_country_flag = can_improve_poverty
				
				country_event = {
					id = Ntribes.993
					days = 28
					random = 336
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_economic_development_initiative
		icon = GFX_goal_economic_control
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = 0
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		available = {
			if = {
				limit = {
					has_government = communism
				}
				
				has_completed_focus = NTR_our_western_neighbor
			}
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_economic_development_initiative"
			
			if = {
				limit = {
					has_government = communism
					NOT = { has_country_leader = { name = "Northland General Congress" ruling_only = yes } }
				}
				
				swap_ideas = {
					remove_idea = civilian_economy
					add_idea = low_economic_mobilisation
				}
			}
			else = {
				add_political_power = 100
			}
			
			clr_country_flag = economic_laws_blocked
			
			unlock_decision_tooltip = infrastructure_building_slot
			unlock_decision_tooltip = war_building_slot
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_universal_education }
			}
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_expanding_the_everfrost_academy }
			}
		}
	}

### 2nd cluster (left) ###

	shared_focus = {
		id = NTR_expanding_the_everfrost_academy
		icon = GFX_focus_research
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = -2
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 1
			}
		}
		
		available = {
			if = {
				limit = {
					has_government = communism
				}
				
				has_completed_focus = NTR_our_western_neighbor
			}
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			if = {
				limit = {
					has_completed_focus = NTR_the_coronation
					
					NOT = { has_country_flag = NTR_the_everfrost_academy_was_rebuilt_flag }
				}
				
				has_country_flag = NTR_the_everfrost_academy_was_rebuilt_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expanding_the_everfrost_academy"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_new_technologies
		icon = GFX_focus_Computer_2
		
		relative_position_id = NTR_expanding_the_everfrost_academy
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_expanding_the_everfrost_academy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_technologies"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 2
					category = computing_tech
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 2
					category = electronics
				}
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					category = computing_tech
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					category = electronics
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_universal_education }
			}
		}
	}
	
	shared_focus = {
		id = NTR_universal_education
		icon = GFX_goal_griffon_com_books
		
		relative_position_id = NTR_expanding_the_everfrost_academy
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_expanding_the_everfrost_academy
		}
		
		bypass = {
			hidden_trigger = {
				NOT = { has_idea = lack_of_scientists2 }
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_universal_education"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			
			if = {
				limit = {
					OR = {
						has_country_flag = NTR_new_education_doctrine
						
						AND = {
							has_country_leader = { name = "Northland General Congress" ruling_only = yes }
							
							SRS = { NOT = { has_idea = lack_of_scientists2 } }
						}
					}
				}
				
				country_event = { # 56-70
					id = Ntribes.19
					days = 56
					random = 336
				}
			}
			else = {
				country_event = { # 70-91
					id = Ntribes.19
					days = 70
					random = 504
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_scase
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_universal_education
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_universal_education
		}
		prerequisite = {
			focus = NTR_new_technologies
		}
		
		bypass = {
			OR = {
				has_idea = big_science_base
				has_idea = proper_science_base
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_scase"
			
			swap_ideas = {
				remove_idea = better_science_base
				add_idea = big_science_base
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				inherit_technology = SRS
				
				if = {
					limit = {
						has_idea = pre_industrial_society2
					}
					
					swap_ideas = {
						remove_idea = pre_industrial_society2
						add_idea = pre_industrial_society3
					}
				}
				else = {
					swap_ideas = {
						remove_idea = pre_industrial_society3
						add_idea = outdated_industry
					}
				}
			}
			
			hidden_effect = {
				set_country_flag = big_science_base_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}

### 2nd cluster (right) ###

	shared_focus = {
		id = NTR_mountain_roads
		icon = GFX_goal_generic_construction2
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = 2
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			567 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_mountain_roads"
			
			602 = {
				if = {
					limit = {
						infrastructure < 9
					}
					
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			567 = {
				if = {
					limit = {
						infrastructure < 8
					}
					
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = {
					if = {
						limit = {
							infrastructure < 9
						}
						
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
					else = {
						add_extra_state_shared_building_slots = 1
					}
				}
				
				# add SRS temp resource decisions #???
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					category = construction_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.75
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_universal_education }
			}
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_expanding_the_everfrost_academy }
			}
		}
	}
	
	shared_focus = {
		id = NTR_prospecting_the_north
		icon = GFX_focus_indy_excavations
		
		relative_position_id = NTR_mountain_roads
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_mountain_roads
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_prospecting_the_north"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					uses = 2
					category = excavation_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.75
					uses = 2
					category = excavation_tech
				}
			}
			
			custom_effect_tooltip = NTR_cubtria_mines_development_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_universal_education }
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_foundries_and_steelworks
		icon = GFX_focus_generic_steel
		
		relative_position_id = NTR_mountain_roads
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_mountain_roads
		}
		
		available = {
			567 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = { #???
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_foundries_and_steelworks"
			
			567 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				add_resource = {
					type = steel
					amount = 8
				}
			}
			602 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				add_resource = {
					type = steel
					amount = 4
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = {
					add_extra_state_shared_building_slots = 1
					
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				
				add_resource = {
					type = steel
					amount = 4
					state = 585
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					category = construction_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.75
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_efficient_mining
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_new_foundries_and_steelworks
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_new_foundries_and_steelworks
		}
		prerequisite = {
			focus = NTR_prospecting_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_efficient_mining"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_ideas = NTR_mining_concern # merge SRS and NTR concern? #???
				
				if = {
					limit = {
						has_idea = pre_industrial_society2
					}
					
					swap_ideas = {
						remove_idea = pre_industrial_society2
						add_idea = pre_industrial_society3
					}
				}
				else = {
					swap_ideas = {
						remove_idea = pre_industrial_society3
						add_idea = outdated_industry
					}
				}
			}
			else = {
				add_ideas = NTR_mining_concern
			}
			
			custom_effect_tooltip = ENTER
			
			unlock_decision_tooltip = {
				decision = Moonrise_minework
				show_effect_tooltip = yes
			}
			
			custom_effect_tooltip = END_FORMATING
			
			unlock_decision_tooltip = {
				decision = Cubtria_minework
				show_effect_tooltip = yes
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_scase }
			}
		}
	}

# Core (late) #

	shared_focus = {
		id = NTR_the_future_planning_committee
		icon = GFX_goal_riv_atom
		
		relative_position_id = NTR_economic_development_initiative
		x = 0
		y = 2
		
		cost = 4
		
		prerequisite = {
			focus = NTR_economic_development_initiative
		}
		prerequisite = {
			focus = NTR_new_technologies
		}
		prerequisite = {
			focus = NTR_prospecting_the_north
		}
		
		available = {
			if = {
				limit = {
					has_government = democratic
				}
				
				OR = {
					has_completed_focus = NTR_establish_vedinian_guild
					has_completed_focus = NTR_expand_guilds_rights
				}
			}
			else = {
				OR = {
					has_completed_focus = NTR_new_social_programmes
					has_completed_focus = NTR_designate_communes_rights
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_future_planning_committee"
			
			custom_effect_tooltip = RS_GUI_tooltip
			
			hidden_effect = {
				set_country_flag = RS_GUI_unlocked_flag
				
				country_event = SM_and_RS_GUI_events.1
				log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.1 started"
				
				country_event = SM_and_RS_GUI_events.9
				log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.9 started"
				
				if = {
					limit = {
						check_variable = { SM_country_amount_of_complexes > 0 }
					}
					
					set_variable = { RS_daily_industrial_savings_var = 1 }
					add_to_variable = { RS_daily_industrial_savings_var = modifier@research_speed_factor }
					multiply_variable = { RS_daily_industrial_savings_var = SM_country_amount_of_complexes }
					multiply_variable = { RS_daily_industrial_savings_var = 0.02 }
					
					country_event = { id = SM_and_RS_GUI_events.2 days = 1 }
					log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.2 started"
				}
				if = {
					limit = {
						check_variable = { SM_country_amount_of_factories > 0 }
					}
					
					set_variable = { RS_daily_army_savings_var = 1 }
					add_to_variable = { RS_daily_army_savings_var = modifier@research_speed_factor }
					multiply_variable = { RS_daily_army_savings_var = SM_country_amount_of_factories }
					multiply_variable = { RS_daily_army_savings_var = 0.02 }
					
					if = {
						limit = {
							has_completed_focus = NTR_a_northern_airforce
						}
						
						set_variable = { RS_daily_air_savings_var = RS_daily_army_savings_var }
						divide_variable = { RS_daily_air_savings_var = SM_country_amount_of_factories }
					}
					
					country_event = { id = SM_and_RS_GUI_events.4 days = 1 }
					log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.4 started"
				}
				if = {
					limit = {
						has_completed_focus = NTR_founding_the_northern_navy
						
						check_variable = { SM_country_amount_of_dockyards > 0 }
					}
					
					set_variable = { RS_daily_naval_savings_var = 1 }
					add_to_variable = { RS_daily_naval_savings_var = modifier@research_speed_factor }
					multiply_variable = { RS_daily_naval_savings_var = SM_country_amount_of_dockyards }
					multiply_variable = { RS_daily_naval_savings_var = 0.02 }
					
					country_event = { id = SM_and_RS_GUI_events.6 days = 1 }
					log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.6 started"
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.75
				
				OR = {
					check_variable = { NTR_army_AI_factor > 2 }
					check_variable = { NTR_navy_AI_factor > 2 }
				}
			}
			modifier = {
				factor = 0.5
				
				OR = {
					check_variable = { NTR_army_AI_factor > 3 }
					check_variable = { NTR_navy_AI_factor > 3 }
				}
			}
		}
	}

### Outdated society cluster ###
# Core #

	shared_focus = {
		id = NTR_economic_miracle
		icon = GFX_focus_generic_industry_2
		
		relative_position_id = NTR_the_future_planning_committee
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_scase
		}
		prerequisite = {
			focus = NTR_efficient_mining
		}
		prerequisite = {
			focus = NTR_the_future_planning_committee
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available = {
			does_not_has_poverty = yes
			
			if = {
				limit = {
					has_government = democratic
				}
				
				OR = {
					NTR_SRS_reclaiming_the_west_completed = yes
					
					custom_trigger_tooltip = {
						tooltip = NTR_basic_trade_decisions_completed_tooltip
						
						check_variable = { NTR_external_links > 4 }
					}
				}
			}
			else = {
				has_completed_focus = NTR_help_from_comrades
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_economic_miracle"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				swap_ideas = {
					remove_idea = outdated_industry
					add_idea = outdated_industry2
				}
			}
			else = {
				custom_effect_tooltip = NTR_continue_development_tooltip
				
				hidden_effect = {
					clr_country_flag = can_improve_poverty
					
					country_event = Ntribes.21
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_the_common_examination
		icon = GFX_goal_bookstack
		
		relative_position_id = NTR_economic_miracle
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_economic_miracle
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_common_examination"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					
					SRS = { NOT = { has_idea = lack_of_scientists3 } }
				}
				
				country_event = { # 56-70
					id = Ntribes.20
					days = 56
					random = 336
				}
			}
			else = {
				country_event = { # 70-91
					id = Ntribes.20
					days = 70
					random = 504
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_from_towns_to_cities
		icon = GFX_goal_generic_construct_public_housing
		
		relative_position_id = NTR_economic_miracle
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_economic_miracle
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_from_towns_to_cities"
			
			unlock_decision_category_tooltip = NTR_country_development_category
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.25
				
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = no
					}
				}
			}
			modifier = {
				factor = 0.25
				
				any_of_scopes = {
					array = core_states
					
					NOT = { is_controlled_by = ROOT }
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_the_common_examination }
			}
		}
	}
	
	shared_focus = {
		id = NTR_northern_universities
		icon = GFX_goal_supremacy_of_will
		
		relative_position_id = NTR_economic_miracle
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_common_examination
		}
		prerequisite = {
			focus = NTR_from_towns_to_cities
		}
		
		bypass = {
			hidden_trigger = {
				if = {
					limit = {
						has_completed_focus = NTR_everfrost_military_academy
					}
					
					amount_research_slots > 3
				}
				else = {
					amount_research_slots > 2
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_northern_universities"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_electronic_eyes_at_the_sky
		icon = GFX_goal_generic_radar
		
		relative_position_id = NTR_northern_universities
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_northern_universities
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_electronic_eyes_at_the_sky"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = radar_tech_bonus
					bonus = 2
					uses = 2
					category = radar_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = radar_tech_bonus
					bonus = 1.5
					uses = 2
					category = radar_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_blood_of_war
		icon = GFX_goal_oil_derrick
		
		relative_position_id = NTR_northern_universities
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_northern_universities
		}
		
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "Waking the Tiger" }
				}
				
				has_political_power > 150
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_blood_of_war"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.5
					uses = 2
					category = synth_resources
				}
			}
			else = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				custom_effect_tooltip = NTR_oil_fields_development_tooltip
			}
			else = {
				add_political_power = -150
				
				add_resource = {
					type = oil
					amount = 12
					state = 562
				}
				add_resource = {
					type = oil
					amount = 16
					state = 563
				}
				
				hidden_effect = {
					562 = { set_state_flag = liftauf_oil_developed }
					563 = { set_state_flag = vastmush_oil_developed }
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.5
			}
			modifier = {
				factor = 2
				
				fuel_ratio < 0.25
			}
		}
	}

# Research-focused subcluster #

	shared_focus = {
		id = NTR_electronic_riddling
		icon = GFX_goal_goal_machine
		
		relative_position_id = NTR_electronic_eyes_at_the_sky
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_electronic_eyes_at_the_sky
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_electronic_riddling"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1.5
					category = encryption_tech
				}
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1.5
					category = decryption_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1
					category = encryption_tech
				}
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1
					category = decryption_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_improved_refining_technologies
		icon = GFX_goal_oil
		
		relative_position_id = NTR_the_blood_of_war
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_the_blood_of_war
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_improved_refining_technologies"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.5
					uses = 2
					category = synth_resources
				}
			}
			else = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.5
			}
			modifier = {
				factor = 2
				
				fuel_ratio < 0.25
			}
		}
	}

# War-focused subcluster #

	shared_focus = {
		id = NTR_warriors_of_a_modern_era
		icon = GFX_focus_indy_generic_political
		
		relative_position_id = NTR_the_common_examination
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_common_examination
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_warriors_of_a_modern_era"
			
			add_ideas = NTR_preparing_for_war_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_new_north
		icon = GFX_COS_Ferrer_Coup
		
		relative_position_id = NTR_from_towns_to_cities
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_from_towns_to_cities
		}
		
		available = {
			has_idea = NTR_a_fledgling_modern_army_idea
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_new_north"
			
			if = {
				limit = {
					has_government = communism
				}
				
				if = {
					limit = {
						has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					}
					
					add_ideas = NTR_until_the_last_breath_idea
				}
				
				swap_ideas = {
					remove_idea = NTR_a_fledgling_modern_army_idea
					add_idea = NTR_great_northland_army_idea
				}
			}
			else = {
				swap_ideas = {
					remove_idea = NTR_a_fledgling_modern_army_idea
					add_idea = NTR_one_nation_in_harmony_idea
				}
			}
			
			every_army_leader = {
				limit = {
					has_trait = commander_of_the_past_century
				}
				
				remove_unit_leader_trait = commander_of_the_past_century
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}

# Navy-focused subcluster #

	shared_focus = {
		id = NTR_naval_investments
		icon = GFX_goal_generic_construct_naval_dockyard
		
		relative_position_id = NTR_warriors_of_a_modern_era
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_warriors_of_a_modern_era
		}
		prerequisite = {
			focus = NTR_a_new_north
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_naval_investments"
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			563 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = {
					add_extra_state_shared_building_slots = 1
					
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					
					hidden_effect = {
						set_state_flag = NTR_SRS_the_bluffhead_harbour_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						check_variable = { NTR_army_AI_factor > 2 }
						
						NOT = { has_completed_focus = NTR_preparations_for_a_total_defense }
					}
					AND = {
						check_variable = { NTR_army_AI_factor > 3 }
						
						NOT = { has_completed_focus = NTR_defensive_strongpoints }
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_northern_frontier
		icon = GFX_focus_generic_coastal_fort
		
		relative_position_id = NTR_naval_investments
		x = 0
		y = 2
		
		cost = 4
		
		prerequisite = {
			focus = NTR_naval_investments
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_northern_frontier"
			
			562 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 1307
				}
				
				hidden_effect = {
					if = {
						limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
						add_building_construction = {
							type = coastal_bunker
							level = 4
							instant_build = yes
							province = 1307
						}
					}
					else = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
							set_building_level = {
								type = coastal_bunker
								level = 1
								instant_build = yes
								province = 1307
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
							set_building_level = {
								type = coastal_bunker
								level = 2
								instant_build = yes
								province = 1307
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_3 } }
							set_building_level = {
								type = coastal_bunker
								level = 3
								instant_build = yes
								province = 1307
							}
						}
						else = {
							if = {
								limit = {
									NOT = {
										has_game_rule = { rule = maximum_fort_level option = level_4 }
										any_province_building_level = {
											building = coastal_bunker
											level < 1 # 1-...
											province = { id = 1307 }
										}
									}
								}
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_5 }
											any_province_building_level = {
												building = coastal_bunker
												level < 2 # 2-...
												province = { id = 1307 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_6 }
												any_province_building_level = {
													building = coastal_bunker
													level < 3 # 3-...
													province = { id = 1307 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_7 }
													any_province_building_level = {
														building = coastal_bunker
														level < 4 # 4-...
														province = { id = 1307 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_8 }
														any_province_building_level = {
															building = coastal_bunker
															level < 5 # 5-...
															province = { id = 1307 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_9 }
															any_province_building_level = {
																building = coastal_bunker
																level < 6 # 6-...
																province = { id = 1307 }
															}
														}
													}
													set_building_level = {
														type = coastal_bunker
														level = 10
														instant_build = yes
														province = 1307
													}
												}
												else = {
													set_building_level = {
														type = coastal_bunker
														level = 9
														instant_build = yes
														province = 1307
													}
												}
											}
											else = {
												set_building_level = {
													type = coastal_bunker
													level = 8
													instant_build = yes
													province = 1307
												}
											}
										}
										else = {
											set_building_level = {
												type = coastal_bunker
												level = 7
												instant_build = yes
												province = 1307
											}
										}
									}
									else = {
										set_building_level = {
											type = coastal_bunker
											level = 6
											instant_build = yes
											province = 1307
										}
									}
								}
								else = {
									set_building_level = {
										type = coastal_bunker
										level = 5
										instant_build = yes
										province = 1307
									}
								}
							}
							else = {
								set_building_level = {
									type = coastal_bunker
									level = 4
									instant_build = yes
									province = 1307
								}
							}
						}
					}
				}
			}
			
			563 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 497
				}
				
				hidden_effect = {
					if = {
						limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
						add_building_construction = {
							type = coastal_bunker
							level = 4
							instant_build = yes
							province = 497
						}
					}
					else = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
							set_building_level = {
								type = coastal_bunker
								level = 1
								instant_build = yes
								province = 497
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
							set_building_level = {
								type = coastal_bunker
								level = 2
								instant_build = yes
								province = 497
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_3 } }
							set_building_level = {
								type = coastal_bunker
								level = 3
								instant_build = yes
								province = 497
							}
						}
						else = {
							if = {
								limit = {
									NOT = {
										has_game_rule = { rule = maximum_fort_level option = level_4 }
										any_province_building_level = {
											building = coastal_bunker
											level < 1 # 1-...
											province = { id = 497 }
										}
									}
								}
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_5 }
											any_province_building_level = {
												building = coastal_bunker
												level < 2 # 2-...
												province = { id = 497 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_6 }
												any_province_building_level = {
													building = coastal_bunker
													level < 3 # 3-...
													province = { id = 497 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_7 }
													any_province_building_level = {
														building = coastal_bunker
														level < 4 # 4-...
														province = { id = 497 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_8 }
														any_province_building_level = {
															building = coastal_bunker
															level < 5 # 5-...
															province = { id = 497 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_9 }
															any_province_building_level = {
																building = coastal_bunker
																level < 6 # 6-...
																province = { id = 497 }
															}
														}
													}
													set_building_level = {
														type = coastal_bunker
														level = 10
														instant_build = yes
														province = 497
													}
												}
												else = {
													set_building_level = {
														type = coastal_bunker
														level = 9
														instant_build = yes
														province = 497
													}
												}
											}
											else = {
												set_building_level = {
													type = coastal_bunker
													level = 8
													instant_build = yes
													province = 497
												}
											}
										}
										else = {
											set_building_level = {
												type = coastal_bunker
												level = 7
												instant_build = yes
												province = 497
											}
										}
									}
									else = {
										set_building_level = {
											type = coastal_bunker
											level = 6
											instant_build = yes
											province = 497
										}
									}
								}
								else = {
									set_building_level = {
										type = coastal_bunker
										level = 5
										instant_build = yes
										province = 497
									}
								}
							}
							else = {
								set_building_level = {
									type = coastal_bunker
									level = 4
									instant_build = yes
									province = 497
								}
							}
						}
					}
				}
			}
			
			if = {
				limit = {
					522 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
				}
				
				522 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 1808
					}
					
					hidden_effect = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
							add_building_construction = {
								type = coastal_bunker
								level = 4
								instant_build = yes
								province = 1808
							}
						}
						else = {
							if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
								set_building_level = {
									type = coastal_bunker
									level = 1
									instant_build = yes
									province = 1808
								}
							}
							else_if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
								set_building_level = {
									type = coastal_bunker
									level = 2
									instant_build = yes
									province = 1808
								}
							}
							else_if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_3 } }
								set_building_level = {
									type = coastal_bunker
									level = 3
									instant_build = yes
									province = 1808
								}
							}
							else = {
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_4 }
											any_province_building_level = {
												building = coastal_bunker
												level < 1 # 1-...
												province = { id = 1808 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_5 }
												any_province_building_level = {
													building = coastal_bunker
													level < 2 # 2-...
													province = { id = 1808 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_6 }
													any_province_building_level = {
														building = coastal_bunker
														level < 3 # 3-...
														province = { id = 1808 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_7 }
														any_province_building_level = {
															building = coastal_bunker
															level < 4 # 4-...
															province = { id = 1808 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_8 }
															any_province_building_level = {
																building = coastal_bunker
																level < 5 # 5-...
																province = { id = 1808 }
															}
														}
													}
													if = {
														limit = {
															NOT = {
																has_game_rule = { rule = maximum_fort_level option = level_9 }
																any_province_building_level = {
																	building = coastal_bunker
																	level < 6 # 6-...
																	province = { id = 1808 }
																}
															}
														}
														set_building_level = {
															type = coastal_bunker
															level = 10
															instant_build = yes
															province = 1808
														}
													}
													else = {
														set_building_level = {
															type = coastal_bunker
															level = 9
															instant_build = yes
															province = 1808
														}
													}
												}
												else = {
													set_building_level = {
														type = coastal_bunker
														level = 8
														instant_build = yes
														province = 1808
													}
												}
											}
											else = {
												set_building_level = {
													type = coastal_bunker
													level = 7
													instant_build = yes
													province = 1808
												}
											}
										}
										else = {
											set_building_level = {
												type = coastal_bunker
												level = 6
												instant_build = yes
												province = 1808
											}
										}
									}
									else = {
										set_building_level = {
											type = coastal_bunker
											level = 5
											instant_build = yes
											province = 1808
										}
									}
								}
								else = {
									set_building_level = {
										type = coastal_bunker
										level = 4
										instant_build = yes
										province = 1808
									}
								}
							}
						}
						
						set_state_flag = NTR_SRS_the_bluffhead_harbour_fully_developed
					}
				}
			}
			
			custom_effect_tooltip = NTR_the_northern_frontier_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						check_variable = { NTR_army_AI_factor > 2 }
						
						NOT = { has_completed_focus = NTR_preparations_for_a_total_defense }
					}
					AND = {
						check_variable = { NTR_army_AI_factor > 3 }
						
						NOT = { has_completed_focus = NTR_defensive_strongpoints }
					}
				}
			}
		}
	}

# Army- and Airforce-focused subcluster #

	shared_focus = {
		id = NTR_preparations_for_a_total_defense
		icon = GFX_goal_factory_complex
		
		relative_position_id = NTR_a_new_north
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_new_north
		}
		prerequisite = {
			focus = NTR_warriors_of_a_modern_era
		}
		
		available = {
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							OR = {
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
								
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = { state = PREV.PREV }
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = { state = PREV.PREV }
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
											
											OWNER = {
												any_of_scopes = {
													array = core_states
													
													is_controlled_by = ROOT
													
													NOT = {
														OR = {
															state = PREV.PREV
															state = PREV.PREV.PREV.PREV
														}
													}
													
													free_building_slots = {
														building = arms_factory
														size > 0
														include_locked = yes
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				else = {
					custom_trigger_tooltip = {
						tooltip = RESTRICTED_BY_GAME_CIRCUMSTANCES
						
						always = no
					}
				}
			}
			else = {
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							NOT = { is_core_of = SRS }
							
							OR = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
								
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = {
												is_core_of = SRS
												
												state = PREV.PREV
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
							}
						}
					}
				}
				else = {
					custom_trigger_tooltip = {
						tooltip = RESTRICTED_BY_GAME_CIRCUMSTANCES
						
						always = no
					}
				}
			}
		}
		
		cancel_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preparations_for_a_total_defense"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							
							OWNER = {
								any_of_scopes = {
									array = core_states
									
									is_controlled_by = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = {
												OR = {
													state = PREV.PREV
													state = PREV.PREV.PREV.PREV
												}
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 1
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
								
								OWNER = {
									random_owned_controlled_state = {
										limit = {
											is_core_of = ROOT
											
											NOT = {
												OR = {
													state = PREV.PREV
													state = PREV.PREV.PREV.PREV
												}
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
										
										add_extra_state_shared_building_slots = 1
										
										add_building_construction = {
											type = arms_factory
											level = 1
											instant_build = yes
										}
									}
								}
							}
						}
					}
				}
				else_if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							
							OWNER = {
								any_of_scopes = {
									array = core_states
									
									is_controlled_by = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 2
						
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
							}
						}
					}
				}
				else_if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 3
						
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}
			}
			else = {
				if = {
					limit = {
						any_owned_state = {
							is_core_of = PREV
							is_controlled_by = PREV
							
							NOT = { is_core_of = SRS }
							
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							
							OWNER = {
								any_owned_state = {
									is_core_of = PREV
									is_controlled_by = PREV
									
									NOT = {
										is_core_of = SRS
										
										state = PREV.PREV
									}
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = PREV
							
							NOT = { is_core_of = SRS }
							
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 1
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = PREV
									
									NOT = {
										is_core_of = SRS
										
										state = PREV.PREV
									}
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
							}
						}
					}
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = PREV
							
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 2
						
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_war_construction_AI_factor
				
				has_variable = NTR_war_construction_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_defensive_strongpoints
		icon = GFX_goal_generic_construct_military
		
		relative_position_id = NTR_preparations_for_a_total_defense
		x = 0
		y = 2
		
		cost = 4
		
		prerequisite = {
			focus = NTR_preparations_for_a_total_defense
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_defensive_strongpoints"
			
			562 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				
				hidden_effect = {
					if = {
						limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
						add_building_construction = {
							type = bunker
							level = 4
							instant_build = yes
							province = 1307
						}
					}
					else = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = 1307
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = 1307
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_3 } }
							set_building_level = {
								type = bunker
								level = 3
								instant_build = yes
								province = 1307
							}
						}
						else = {
							if = {
								limit = {
									NOT = {
										has_game_rule = { rule = maximum_fort_level option = level_4 }
										any_province_building_level = {
											building = bunker
											level < 1 # 1-...
											province = { id = 1307 }
										}
									}
								}
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_5 }
											any_province_building_level = {
												building = bunker
												level < 2 # 2-...
												province = { id = 1307 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_6 }
												any_province_building_level = {
													building = bunker
													level < 3 # 3-...
													province = { id = 1307 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_7 }
													any_province_building_level = {
														building = bunker
														level < 4 # 4-...
														province = { id = 1307 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_8 }
														any_province_building_level = {
															building = bunker
															level < 5 # 5-...
															province = { id = 1307 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_9 }
															any_province_building_level = {
																building = bunker
																level < 6 # 6-...
																province = { id = 1307 }
															}
														}
													}
													set_building_level = {
														type = bunker
														level = 10
														instant_build = yes
														province = 1307
													}
												}
												else = {
													set_building_level = {
														type = bunker
														level = 9
														instant_build = yes
														province = 1307
													}
												}
											}
											else = {
												set_building_level = {
													type = bunker
													level = 8
													instant_build = yes
													province = 1307
												}
											}
										}
										else = {
											set_building_level = {
												type = bunker
												level = 7
												instant_build = yes
												province = 1307
											}
										}
									}
									else = {
										set_building_level = {
											type = bunker
											level = 6
											instant_build = yes
											province = 1307
										}
									}
								}
								else = {
									set_building_level = {
										type = bunker
										level = 5
										instant_build = yes
										province = 1307
									}
								}
							}
							else = {
								set_building_level = {
									type = bunker
									level = 4
									instant_build = yes
									province = 1307
								}
							}
						}
					}
				}
			}
			
			563 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				
				hidden_effect = {
					if = {
						limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
						add_building_construction = {
							type = bunker
							level = 3
							instant_build = yes
							province = 497
						}
					}
					else = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = 497
							}
						}
						else_if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = 497
							}
						}
						else = {
							if = {
								limit = {
									NOT = {
										has_game_rule = { rule = maximum_fort_level option = level_3 }
										any_province_building_level = {
											building = bunker
											level < 1 # 1-...
											province = { id = 497 }
										}
									}
								}
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_4 }
											any_province_building_level = {
												building = bunker
												level < 2 # 2-...
												province = { id = 497 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_5 }
												any_province_building_level = {
													building = bunker
													level < 3 # 3-...
													province = { id = 497 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_6 }
													any_province_building_level = {
														building = bunker
														level < 4 # 4-...
														province = { id = 497 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_7 }
														any_province_building_level = {
															building = bunker
															level < 5 # 5-...
															province = { id = 497 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_8 }
															any_province_building_level = {
																building = bunker
																level < 6 # 6-...
																province = { id = 497 }
															}
														}
													}
													if = {
														limit = {
															NOT = {
																has_game_rule = { rule = maximum_fort_level option = level_9 }
																any_province_building_level = {
																	building = bunker
																	level < 7 # 7-...
																	province = { id = 497 }
																}
															}
														}
														set_building_level = {
															type = bunker
															level = 10
															instant_build = yes
															province = 497
														}
													}
													else = {
														set_building_level = {
															type = bunker
															level = 9
															instant_build = yes
															province = 497
														}
													}
												}
												else = {
													set_building_level = {
														type = bunker
														level = 8
														instant_build = yes
														province = 497
													}
												}
											}
											else = {
												set_building_level = {
													type = bunker
													level = 7
													instant_build = yes
													province = 497
												}
											}
										}
										else = {
											set_building_level = {
												type = bunker
												level = 6
												instant_build = yes
												province = 497
											}
										}
									}
									else = {
										set_building_level = {
											type = bunker
											level = 5
											instant_build = yes
											province = 497
										}
									}
								}
								else = {
									set_building_level = {
										type = bunker
										level = 4
										instant_build = yes
										province = 497
									}
								}
							}
							else = {
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = 497
								}
							}
						}
					}
				}
			}
			
			if = {
				limit = {
					574 = { is_owned_and_controlled_by = ROOT }
				}
				
				574 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
					
					hidden_effect = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
							add_building_construction = {
								type = bunker
								level = 3
								instant_build = yes
								province = 7654
							}
						}
						else = {
							if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = 7654
								}
							}
							else_if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = 7654
								}
							}
							else = {
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_3 }
											any_province_building_level = {
												building = bunker
												level < 1 # 1-...
												province = { id = 7654 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_4 }
												any_province_building_level = {
													building = bunker
													level < 2 # 2-...
													province = { id = 7654 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_5 }
													any_province_building_level = {
														building = bunker
														level < 3 # 3-...
														province = { id = 7654 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_6 }
														any_province_building_level = {
															building = bunker
															level < 4 # 4-...
															province = { id = 7654 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_7 }
															any_province_building_level = {
																building = bunker
																level < 5 # 5-...
																province = { id = 7654 }
															}
														}
													}
													if = {
														limit = {
															NOT = {
																has_game_rule = { rule = maximum_fort_level option = level_8 }
																any_province_building_level = {
																	building = bunker
																	level < 6 # 6-...
																	province = { id = 7654 }
																}
															}
														}
														if = {
															limit = {
																NOT = {
																	has_game_rule = { rule = maximum_fort_level option = level_9 }
																	any_province_building_level = {
																		building = bunker
																		level < 7 # 7-...
																		province = { id = 7654 }
																	}
																}
															}
															set_building_level = {
																type = bunker
																level = 10
																instant_build = yes
																province = 7654
															}
														}
														else = {
															set_building_level = {
																type = bunker
																level = 9
																instant_build = yes
																province = 7654
															}
														}
													}
													else = {
														set_building_level = {
															type = bunker
															level = 8
															instant_build = yes
															province = 7654
														}
													}
												}
												else = {
													set_building_level = {
														type = bunker
														level = 7
														instant_build = yes
														province = 7654
													}
												}
											}
											else = {
												set_building_level = {
													type = bunker
													level = 6
													instant_build = yes
													province = 7654
												}
											}
										}
										else = {
											set_building_level = {
												type = bunker
												level = 5
												instant_build = yes
												province = 7654
											}
										}
									}
									else = {
										set_building_level = {
											type = bunker
											level = 4
											instant_build = yes
											province = 7654
										}
									}
								}
								else = {
									set_building_level = {
										type = bunker
										level = 3
										instant_build = yes
										province = 7654
									}
								}
							}
						}
					}
				}
			}
			
			if = {
				limit = {
					522 = {
						is_core_of = ROOT
						is_owned_and_controlled_by = ROOT
					}
				}
				
				if = {
					limit = {
						522 = { NOT = { has_state_flag = SRS_NTR_aviation_corps_created } }
					}
					
					522 = {
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
						
						hidden_effect = {
							set_state_flag = SRS_NTR_aviation_corps_created
						}
					}
				}
				
				hidden_effect = {
					522 = {
						if = {
							limit = { has_game_rule = { rule = maximum_fort_level option = normal } }
							add_building_construction = {
								type = bunker
								level = 3
								instant_build = yes
								province = 1808
							}
						}
						else = {
							if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_1 } }
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = 1808
								}
							}
							else_if = {
								limit = { has_game_rule = { rule = maximum_fort_level option = level_2 } }
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = 1808
								}
							}
							else = {
								if = {
									limit = {
										NOT = {
											has_game_rule = { rule = maximum_fort_level option = level_3 }
											any_province_building_level = {
												building = bunker
												level < 1 # 1-...
												province = { id = 1808 }
											}
										}
									}
									if = {
										limit = {
											NOT = {
												has_game_rule = { rule = maximum_fort_level option = level_4 }
												any_province_building_level = {
													building = bunker
													level < 2 # 2-...
													province = { id = 1808 }
												}
											}
										}
										if = {
											limit = {
												NOT = {
													has_game_rule = { rule = maximum_fort_level option = level_5 }
													any_province_building_level = {
														building = bunker
														level < 3 # 3-...
														province = { id = 1808 }
													}
												}
											}
											if = {
												limit = {
													NOT = {
														has_game_rule = { rule = maximum_fort_level option = level_6 }
														any_province_building_level = {
															building = bunker
															level < 4 # 4-...
															province = { id = 1808 }
														}
													}
												}
												if = {
													limit = {
														NOT = {
															has_game_rule = { rule = maximum_fort_level option = level_7 }
															any_province_building_level = {
																building = bunker
																level < 5 # 5-...
																province = { id = 1808 }
															}
														}
													}
													if = {
														limit = {
															NOT = {
																has_game_rule = { rule = maximum_fort_level option = level_8 }
																any_province_building_level = {
																	building = bunker
																	level < 6 # 6-...
																	province = { id = 1808 }
																}
															}
														}
														if = {
															limit = {
																NOT = {
																	has_game_rule = { rule = maximum_fort_level option = level_9 }
																	any_province_building_level = {
																		building = bunker
																		level < 7 # 7-...
																		province = { id = 1808 }
																	}
																}
															}
															set_building_level = {
																type = bunker
																level = 10
																instant_build = yes
																province = 1808
															}
														}
														else = {
															set_building_level = {
																type = bunker
																level = 9
																instant_build = yes
																province = 1808
															}
														}
													}
													else = {
														set_building_level = {
															type = bunker
															level = 8
															instant_build = yes
															province = 1808
														}
													}
												}
												else = {
													set_building_level = {
														type = bunker
														level = 7
														instant_build = yes
														province = 1808
													}
												}
											}
											else = {
												set_building_level = {
													type = bunker
													level = 6
													instant_build = yes
													province = 1808
												}
											}
										}
										else = {
											set_building_level = {
												type = bunker
												level = 5
												instant_build = yes
												province = 1808
											}
										}
									}
									else = {
										set_building_level = {
											type = bunker
											level = 4
											instant_build = yes
											province = 1808
										}
									}
								}
								else = {
									set_building_level = {
										type = bunker
										level = 3
										instant_build = yes
										province = 1808
									}
								}
							}
						}
					}
				}
			}
			
			custom_effect_tooltip = NTR_defensive_strongpoints_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				OR = {
					562 = { NOT = { is_fully_controlled_by = ROOT } }
					563 = { NOT = { is_fully_controlled_by = ROOT } }
				}
			}
		}
	}

### Modern society cluster ###
# Core (early) #

	shared_focus = {
		id = NTR_the_future_looks_bright
		icon = GFX_focus_generic_industry_3
		
		relative_position_id = NTR_northern_universities
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_electronic_eyes_at_the_sky
		}
		prerequisite = {
			focus = NTR_the_blood_of_war
		}
		
		bypass = {
			has_modern_society = yes
		}
		
		available = {
			does_not_has_poverty = yes
			
			has_government = democratic
			
			has_completed_focus = NTR_the_final_frontier
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_future_looks_bright"
			
			custom_effect_tooltip = NTR_modernization_tooltip
			
			hidden_effect = {
				country_event = Ntribes.23
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 500
		}
	}
	
	shared_focus = {
		id = NTR_the_scientific_frontier
		icon = GFX_focus_research2
		
		relative_position_id = NTR_the_future_looks_bright
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_future_looks_bright
		}
		
		bypass = {
			has_idea = proper_science_base
		}
		
		available = {
			has_modern_society = yes
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_scientific_frontier"
			
			swap_ideas = {
				remove_idea = big_science_base
				add_idea = proper_science_base
			}
			
			hidden_effect = {
				set_country_flag = proper_science_base_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_the_future_economy
		icon = GFX_goal_ITA_urban
		
		relative_position_id = NTR_the_future_looks_bright
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_future_looks_bright
		}
		
		available = {
			has_modern_society = yes
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_future_economy"
			
			add_stability = 0.05
			
			divide_variable = {
				var = SM_effect_cost_var
				value = 2
				tooltip = SM_decrease_effects_cost_by_50_percent_tooltip
			}
			
			custom_effect_tooltip = SM_increase_local_complexes_output_by_25_percent_tooltip
			
			hidden_effect = {
				set_variable = { SM_trigger_cost_var = SM_effect_cost_var }
				multiply_variable = { SM_trigger_cost_var = -1 }
				subtract_from_variable = { SM_trigger_cost_var = 1 }
				
				set_variable = { SM_base_local_monthly_population_var = 0.05 }
				set_variable = { SM_base_local_resources_var = 0.05 }
				
				for_each_scope_loop = {
					array = SM_states_with_dynamic_modifiers_from_complexes
					
					multiply_variable = { SM_local_resources_var = 1.25 }
					
					subtract_from_variable = { SM_state_monthly_population_var = SM_dynamic_state_monthly_population_var }
					multiply_variable = { SM_dynamic_state_monthly_population_var = 1.25 }
					add_to_variable = { SM_state_monthly_population_var = SM_dynamic_state_monthly_population_var }
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}

# Research subcluster #

	shared_focus = {
		id = NTR_the_sky_spears
		icon = GFX_focus_rocketry
		
		relative_position_id = NTR_the_scientific_frontier
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		prerequisite = {
			focus = NTR_the_future_economy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_sky_spears"
			
			add_tech_bonus = {
				name = jet_rocket_bonus
				bonus = 1
				uses = 2
				category = rocketry
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_final_weapon
		icon = GFX_focus_wonderweapons
		
		relative_position_id = NTR_the_future_economy
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_the_future_economy
		}
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_final_weapon"
			
			add_tech_bonus = {
				name = nuclear_bonus
				bonus = 1
				category = nuclear
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}

# Core (late) #

	shared_focus = {
		id = NTR_the_modern_tribe
		icon = GFX_goal_rct_expand_the_city
		
		relative_position_id = NTR_the_future_looks_bright
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		prerequisite = {
			focus = NTR_the_future_economy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_modern_tribe"
			
			add_ideas = NTR_a_northern_paradise_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_the_dawn_of_a_new_millenium
		icon = GFX_goal_government_icon
		
		relative_position_id = NTR_the_modern_tribe
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_modern_tribe
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_dawn_of_a_new_millenium"
			
			add_political_power = 100
			add_stability = 0.05
			
			custom_effect_tooltip = ENTER
			
			unlock_decision_tooltip = {
				decision = NTR_solve_famine_problem
				show_effect_tooltip = yes
				show_modifiers = yes
			}
			unlock_decision_tooltip = {
				decision = NTR_sponsor_technological_development
				show_effect_tooltip = yes
				show_modifiers = yes
			}
			
			if = {
				limit = {
					has_government = democratic
				}
				
				custom_effect_tooltip = NTR_the_dawn_of_a_new_millenium_democratic_tooltip
			}
			
			hidden_effect = {
				add_to_variable = { NTR_VED_HLR_guilds_power_var = 1 }
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

##################################################
############## Military branch (H&C) #############
##################################################

### Core ###

	shared_focus = {
		id = NTR_establish_a_hierarchy
		icon = GFX_goal_officers
		
		x = 44
		y = 0
		
		cost = 8
		
		available = {
			has_completed_focus = NTR_the_coronation
			
			if = {
				limit = {
					has_government = democratic
				}
				
				democratic > 0.5
			}
			else = {
				communism > 0.5
			}
		}
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_a_hierarchy"
			
			swap_ideas = {
				remove_idea = NTR_a_military_of_tribal_warriors_idea
				add_idea = NTR_army_of_the_past_millennium_idea
			}
			
			every_army_leader = {
				limit = {
					has_trait = tribal_warchief
				}
				
				remove_unit_leader_trait = tribal_warchief
				add_unit_leader_trait = warlord_of_the_past_millennium
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_government = communism
				
				NOT = { has_completed_focus = NTR_our_western_neighbor }
			}
		}
	}

### Army branch ###
# Doctrines, Designers and Staff #

	shared_focus = {
		id = NTR_a_true_army
		icon = GFX_goal_military_mission_soldier
		
		relative_position_id = NTR_establish_a_hierarchy
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_true_army"
			
			army_experience = 20
			add_war_support = 0.05
			
			if = {
				limit = {
					has_government = democratic
				}
				
				if = {
					limit = {
						NOT = { any_army_leader = { has_id = 13452 } }
					}
					
					custom_effect_tooltip = ENTER
					
					create_corps_commander = { # griffon (can be neu general)
						name = "Folki Haug"
						picture = "Governor.tga" # portrait #???
						id = 13452
						skill = 2
						attack_skill = 2
						defense_skill = 2
						planning_skill = 1
						logistics_skill = 2
						traits = { warlord_of_the_past_millennium hill_fighter winter_specialist winter_expert }
					}
				}
			}
			else = {
				custom_effect_tooltip = ENTER
				
				random_army_leader = {
					limit = {
						has_id = 13457
					}
					
					promote_leader = yes
					
					remove_unit_leader_trait = organizer
					add_unit_leader_trait = organisational_leader
				}
			}
			
			# MB commie NTR ask SRS to transfer their weakest commanders? #???
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_military_theorist
			
			custom_effect_tooltip = ENTER
			
			unlock_decision_tooltip = military_training
			
			hidden_effect = {
				set_country_flag = NTR_military_theorist_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_standardized_weapons
		icon = GFX_goal_generic_military_sphere
		
		relative_position_id = NTR_a_true_army
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_standardized_weapons"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_infantry_equipment_manufacturer
			show_ideas_tooltip = NTR_artillery_manufacturer
			
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
						
						has_government = democratic
						
						has_political_power > 150
					}
					
					add_political_power = -150
					
					add_ideas = NTR_infantry_equipment_manufacturer
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 75
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_centralized_northern_army
		icon = GFX_goal_military_mission_pony
		
		relative_position_id = NTR_a_true_army
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_centralized_northern_army"
			
			add_war_support = 0.05
			
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = NTR_morale_2_army_chief
			show_ideas_tooltip = NTR_defensive_2_army_chief
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_regrouping_2_high_command
			show_ideas_tooltip = NTR_army_logistics_2_high_command
			show_ideas_tooltip = NTR_commando_2_high_command
			
			hidden_effect = {
				set_country_flag = NTR_army_chiefs_unlocked
				set_country_flag = NTR_army_high_command_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 75
			}
		}
	}
	
	shared_focus = {
		id = NTR_modern_military_thinking
		icon = GFX_goal_generic_army_doctrines
		
		relative_position_id = NTR_a_true_army
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_a_centralized_northern_army
		}
		prerequisite = {
			focus = NTR_standardized_weapons
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modern_military_thinking"
			
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.75
				uses = 2
				category = cat_superior_firepower
				category = cat_grand_battle_plan
				category = cat_mass_assault
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				amount_research_slots < 1
			}
		}
	}

# Equipment #

	shared_focus = {
		id = NTR_new_rifles
		icon = GFX_goal_generic_small_arms
		
		relative_position_id = NTR_a_true_army
		x = -3
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			has_tech = pre_gw_artillery
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_rifles"
			
			if = {
				limit = {
					NOT = {
						OR = {
							has_tech = infantry_weapons
							is_researching_technology = infantry_weapons
						}
					}
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					technology = infantry_weapons
				}
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 0.75
					category = infantry_weapons
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor # NOTE: NOT NTR_army_research_AI_factor (equal production cost for infantry_weapons and melee_weapons1)
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_guns_to_shake_the_earth
		icon = GFX_goal_artillery
		
		relative_position_id = NTR_new_rifles
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_new_rifles
		}
		
		available = {
			has_tech = infantry_weapons
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_guns_to_shake_the_earth"
			
			if = {
				limit = {
					NOT = {
						OR = {
							has_tech = gw_artillery
							is_researching_technology = gw_artillery
							has_tech_bonus = { technology = gw_artillery }
						}
					}
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					technology = gw_artillery
				}
				
				effect_tooltip = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						category = artillery
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						technology = interwar_artillery
						technology = artillery1
						technology = artillery2
						technology = artillery3
						technology = artillery4
						technology = artillery5
						technology = artillery_a
						technology = artillery_b
						technology = artillery_c
						technology = artillery_d
						technology = artillery_e
					}
				}
			}
			else = {
				effect_tooltip = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						uses = 2
						category = artillery
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						uses = 2
						technology = interwar_artillery
						technology = artillery1
						technology = artillery2
						technology = artillery3
						technology = artillery4
						technology = artillery5
						technology = artillery_a
						technology = artillery_b
						technology = artillery_c
						technology = artillery_d
						technology = artillery_e
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_revise_combat_tactics
		icon = GFX_focus_secret_rearmament
		
		relative_position_id = NTR_new_rifles
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_new_rifles
		}
		
		available = {
			has_tech = infantry_weapons
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_revise_combat_tactics"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 2
				technology = support_weapons
				technology = support_weapons2
				technology = support_weapons3
				technology = support_weapons4
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_practical_application_of_crystals
		icon = GFX_goal_magical_weapon_focus
		
		relative_position_id = NTR_revise_combat_tactics
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		
		available = {
			has_tech = infantry_weapons2
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_practical_application_of_crystals"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.5
				technology = magical_weapons
				technology = magical_weapons1
				technology = magical_weapons2
				technology = magical_weapons3
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_and_even_more }
			}
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_wrath_of_the_north }
			}
		}
	}
	
	shared_focus = {
		id = NTR_specialized_battalions
		icon = GFX_goal_anti_tank
		
		relative_position_id = NTR_guns_to_shake_the_earth
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_guns_to_shake_the_earth
		}
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		
		available = {
			has_tech = gw_artillery
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialized_battalions"
			
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1
				category = cat_anti_air
			}
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1
				category = cat_anti_tank
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					NOT = { has_completed_focus = NTR_new_era_designs }
					NOT = { has_completed_focus = NTR_millennial_tactics }
					NOT = { has_completed_focus = NTR_northern_elite }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_operative_battalions
		icon = GFX_goal_generic_army_motorized
		
		relative_position_id = NTR_practical_application_of_crystals
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_practical_application_of_crystals
		}
		prerequisite = {
			focus = NTR_specialized_battalions
		}
		
		bypass = {
			has_tech = motorised_infantry
		}
		
		available = {
			has_tech = assembly_line_production
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_operative_battalions"
			
			set_technology = { motorised_infantry = 1 }
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					NOT = { has_completed_focus = NTR_new_era_designs }
					NOT = { has_completed_focus = NTR_millennial_tactics }
					NOT = { has_completed_focus = NTR_northern_elite }
				}
			}
		}
	}

# Specialization #

	shared_focus = {
		id = NTR_the_panoply_of_war
		icon = GFX_goal_generic_occupy_states_ongoing_war
		
		relative_position_id = NTR_a_true_army
		x = 3
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		bypass = {
			has_tech = tech_support
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_panoply_of_war"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				technology = tech_support
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_army_reorganization_plan
		icon = GFX_focus_chi_army_reform
		
		relative_position_id = NTR_the_panoply_of_war
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_the_panoply_of_war
		}
		
		available = {
			has_tech = tech_support
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_army_reorganization_plan"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 1
				category = engineers_tech
			}
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 1
				category = recon_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_making_the_most_of_our_potential
		icon = GFX_goal_generic_magic
		
		relative_position_id = NTR_the_panoply_of_war
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_the_panoply_of_war
		}
		
		available = {
			has_tech = tech_support
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_making_the_most_of_our_potential"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.75
				category = mountaineers_tech
			}
			effect_tooltip = {
				add_tech_bonus = {
					name = pegasi_bonus
					bonus = 0.75
					category = pegasi_tech
				}
			}
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.5
				category = unicorn_tech
			}
			
			hidden_effect = {
				add_tech_bonus = {
					name = pegasi_bonus
					bonus = 0.75
					technology = tech_pegasi
					technology = tech_pegasi2
					technology = tech_pegasi3
					technology = tech_pegasi_a
					technology = tech_pegasi_b
					technology = tech_pegasi_c
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_and_even_more
		icon = GFX_goal_griffon_levy
		
		relative_position_id = NTR_making_the_most_of_our_potential
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available = {
			has_tech = tech_mountaineers
			has_tech = tech_pegasi
			has_tech = tech_unicorn
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_and_even_more"
			
			add_war_support = 0.05
			
			custom_effect_tooltip = NTR_military_griffon_decisions_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_tech = tech_pegasi }
			}
		}
	}
	
	shared_focus = {
		id = NTR_special_forces_trainings
		icon = GFX_goal_generic_more_territorial_claims
		
		relative_position_id = NTR_army_reorganization_plan
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_army_reorganization_plan
		}
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available = {
			has_tech = tech_engineers
			has_tech = tech_recon
			has_tech = tech_mountaineers
			has_tech = tech_pegasi
			has_tech = tech_unicorn
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_special_forces_trainings"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.5
				uses = 3
				technology = tech_special_forces
				technology = advanced_special_forces
				technology = improved_special_forces
				technology = extreme_environment_training
				technology = survival_training
				technology = elite_forces
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_northern_elite
		icon = GFX_focus_eng_special_air_service
		
		relative_position_id = NTR_and_even_more
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_and_even_more
		}
		prerequisite = {
			focus = NTR_special_forces_trainings
		}
		
		available = {
			has_tech = elite_forces
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_northern_elite"
			
			set_technology = { NTR_northern_elite_technology = 1 }
			custom_effect_tooltip = NTR_northern_elite_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					
					NOT = {
						has_template_containing_unit = pegasi
						has_template_containing_unit = knights
						has_template_containing_unit = mountaineers
						has_template_containing_unit = marine
						has_template_containing_unit = paratrooper
					}
				}
			}
		}
	}

# Spirits and Upgrades #

	shared_focus = {
		id = NTR_wrath_of_the_north
		icon = GFX_goal_forest_spirit
		
		relative_position_id = NTR_modern_military_thinking
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		prerequisite = {
			focus = NTR_a_centralized_northern_army
		}
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_wrath_of_the_north"
			
			add_ideas = NTR_wrath_of_the_north_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_era_designs
		icon = GFX_focus_generic_combined_arms
		
		relative_position_id = NTR_practical_application_of_crystals
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_practical_application_of_crystals
		}
		prerequisite = {
			focus = NTR_modern_military_thinking
		}
		
		available = {
			OR = {
				has_idea = NTR_infantry_equipment_manufacturer
				has_idea = NTR_artillery_manufacturer
			}
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_era_designs"
			
			if = {
				limit = {
					has_idea = NTR_infantry_equipment_manufacturer
				}
				
				swap_ideas = {
					remove_idea = NTR_infantry_equipment_manufacturer
					add_idea = NTR_material_manufacturer
				}
			}
			else_if = {
				limit = {
					has_idea = NTR_artillery_manufacturer
				}
				
				swap_ideas = {
					remove_idea = NTR_artillery_manufacturer
					add_idea = NTR_material_manufacturer
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = NTR_material_manufacturer
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_millennial_tactics
		icon = GFX_goal_generic_special_forces
		
		relative_position_id = NTR_and_even_more
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_and_even_more
		}
		prerequisite = {
			focus = NTR_modern_military_thinking
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_millennial_tactics"
			
			add_ideas = NTR_millennial_tactics_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					
					NOT = {
						has_template_containing_unit = pegasi
						has_template_containing_unit = knights
						has_template_containing_unit = mountaineers
						has_template_containing_unit = marine
						has_template_containing_unit = paratrooper
					}
				}
			}
		}
	}

### Navy branch ###
# Core #

	shared_focus = {
		id = NTR_founding_the_northern_navy
		icon = GFX_goal_naval_operations
		
		relative_position_id = NTR_establish_a_hierarchy
		x = -9
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_founding_the_northern_navy"
			
			navy_experience = 50
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_naval_theorist
			
			custom_effect_tooltip = ENTER
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = 1307
				}
			}
			
			hidden_effect = {
				set_country_flag = NTR_naval_theorist_unlocked
				
				if = {
					limit = {
						check_variable = { SM_country_amount_of_dockyards > 0 }
					}
					
					set_variable = { RS_daily_naval_savings_var = 1 }
					add_to_variable = { RS_daily_naval_savings_var = modifier@research_speed_factor }
					multiply_variable = { RS_daily_naval_savings_var = SM_country_amount_of_dockyards }
					multiply_variable = { RS_daily_naval_savings_var = 0.02 }
					
					country_event = { id = SM_and_RS_GUI_events.6 days = 1 }
					log = "[GetDateText]: [Root.GetName]: self-triggering event SM_and_RS_GUI_events.6 started"
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_wrath_of_the_north }
			}
		}
	}

# Destroyers and Submarines #

	shared_focus = {
		id = NTR_escort_ships
		icon = GFX_goal_generic_navy_anti_submarine
		
		relative_position_id = NTR_founding_the_northern_navy
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_escort_ships"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_light }
					}
					
					add_tech_bonus = {
						name = dd_bonus
						bonus = 1
						technology = early_ship_hull_light
					}
				}
				else = {
					add_tech_bonus = {
						name = dd_bonus
						bonus = 0.75
						category = dd_tech
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_destroyer }
					}
					
					add_tech_bonus = {
						name = dd_bonus
						bonus = 1
						technology = early_destroyer
					}
				}
				else = {
					add_tech_bonus = {
						name = dd_bonus
						bonus = 0.75
						category = dd_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_cheap_but_effective
		icon = GFX_goal_generic_navy_submarine
		
		dynamic = yes
		
		relative_position_id = NTR_founding_the_northern_navy
		x = -3
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_cheap_but_effective"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = {
							OR = {
								has_tech = basic_torpedo
								is_researching_technology = basic_torpedo
							}
						}
					}
					
					add_tech_bonus = {
						name = torpedo_tech_bonus
						bonus = 1
						technology = basic_torpedo
					}
				}
				else = {
					add_tech_bonus = {
						name = torpedo_tech_bonus
						bonus = 0.75
						category = torpedo_tech
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_submarine }
					}
					
					add_tech_bonus = {
						name = ss_bonus
						bonus = 1
						technology = early_submarine
					}
				}
				else = {
					add_tech_bonus = {
						name = ss_bonus
						bonus = 0.75
						category = ss_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}

# Vanilla subbranch (DaS) #

	shared_focus = {
		id = NTR_hone_maritime_practices
		icon = GFX_goal_generic_sea_focused_navy
		
		relative_position_id = NTR_escort_ships
		x = -1
		y = 1
		
		cost = 6
		
		allow_branch = {
			NOT = { has_dlc = "Man the Guns" }
		}
		
		prerequisite = {
			focus = NTR_escort_ships
		}
		prerequisite = {
			focus = NTR_cheap_but_effective
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_hone_maritime_practices"
			
			add_tech_bonus = {
				name = con_def_bonus
				bonus = 0.75
				category = convoy_defense_tree
			}
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 0.75
				category = submarine_doctrine
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}

# "Pony the Gun" subbranch (DaS) #

	shared_focus = {
		id = NTR_anti_submarine_warfare
		icon = GFX_goal_generic_navy_cruiser
		
		relative_position_id = NTR_escort_ships
		x = -1
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_escort_ships
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_anti_submarine_warfare"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_depth_charges
				technology = improved_depth_charges
				technology = advanced_depth_charges
				technology = modern_depth_charges
			}
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.5
				technology = sonar
				technology = improved_sonar
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = early_ship_hull_light
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_battlefield
		icon = GFX_goal_generic_wolf_pack
		
		relative_position_id = NTR_cheap_but_effective
		x = 0
		y = 2
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_cheap_but_effective
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_battlefield"
			
			if = {
				limit = {
					NOT = { has_tech = early_ship_hull_submarine }
				}
				
				add_tech_bonus = {
					name = ss_bonus
					bonus = 1
					technology = early_ship_hull_submarine
				}
			}
			else = {
				add_tech_bonus = {
					name = ss_bonus
					bonus = 0.75
					category = ss_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = basic_torpedo
			}
		}
	}

# Light and Heavy Cruisers #

	shared_focus = {
		id = NTR_defenders_of_the_north
		icon = GFX_focus_generic_destroyer
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_defenders_of_the_north"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_cruiser }
					}
					
					add_tech_bonus = {
						name = cr_bonus
						bonus = 1
						technology = early_ship_hull_cruiser
					}
				}
				else = {
					add_tech_bonus = {
						name = cr_bonus
						bonus = 0.75
						category = cl_tech
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_light_cruiser }
					}
					
					add_tech_bonus = {
						name = cr_bonus
						bonus = 1
						technology = early_ship_hull_cruiser
					}
				}
				add_tech_bonus = {
					name = cr_bonus
					bonus = 0.75
					category = cl_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_escort_ships }
			}
		}
	}
	
	shared_focus = {
		id = NTR_fists_of_the_frozen_seas
		icon = GFX_focus_generic_cruiser2
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 3
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available = {
			has_completed_focus = NTR_defenders_of_the_north
			
			has_tech = basic_ship_hull_cruiser
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fists_of_the_frozen_seas"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				effect_tooltip = {
					add_tech_bonus = {
						name = naval_armor_bonus
						bonus = 1
						category = naval_armor
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = naval_armor_bonus
						bonus = 1
						technology = basic_cruiser_armor_scheme
						technology = improved_cruiser_armor_scheme
						technology = advanced_cruiser_armor_scheme
					}
				}
			}
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_heavy_cruiser }
					}
					
					add_tech_bonus = {
						name = bc_bonus
						bonus = 1
						technology = early_heavy_cruiser
					}
				}
				else = {
					add_tech_bonus = {
						name = bc_bonus
						bonus = 0.75
						category = ca_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_adapt_guns_for_naval_combat }
			}
		}
	}

# Vanilla subbranch (LaH) #

	shared_focus = {
		id = NTR_build_heavy_shipyards
		icon = GFX_goal_dockyard_generic_psody
		
		relative_position_id = NTR_defenders_of_the_north
		x = 1
		y = 1
		
		cost = 6
		
		allow_branch = {
			NOT = { has_dlc = "Man the Guns" }
		}
		
		prerequisite = {
			focus = NTR_defenders_of_the_north
		}
		prerequisite = {
			focus = NTR_fists_of_the_frozen_seas
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_build_heavy_shipyards"
			
			562 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			563 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# "Pony the Gun" subbranch (LaH) #

	shared_focus = {
		id = NTR_adapt_guns_for_naval_combat
		icon = GFX_focus_indy_plan_z
		
		relative_position_id = NTR_defenders_of_the_north
		x = 1
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_defenders_of_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_adapt_guns_for_naval_combat"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_battery
			}
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.5
				technology = basic_secondary_battery
				technology = improved_secondary_battery
				technology = dp_secondary_battery
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { can_research = early_ship_hull_light }
					NOT = { can_research = early_ship_hull_cruiser }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_main_calibers
		icon = GFX_goal_battleship
		
		relative_position_id = NTR_fists_of_the_frozen_seas
		x = 0
		y = 2
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_fists_of_the_frozen_seas
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_main_calibers"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_light_battery
				technology = improved_light_battery
				technology = advanced_light_battery
			}
			add_tech_bonus = {
				name = naval_medium_artillery_bonus
				bonus = 0.75
				technology = basic_medium_battery
				technology = improved_medium_battery
				technology = advanced_medium_battery
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = basic_battery
			}
		}
	}

# Spirits, Designers, Doctrines, Staff and Specialized Research #

	shared_focus = {
		id = NTR_specialized_naval_production
		icon = GFX_goal_upgrade_reserves
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialized_naval_production"
			
			add_ideas = NTR_specialized_shipyards_idea
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_designer
			
			if = {
				limit = {
					has_government = democratic
				}
				
				show_ideas_tooltip = NTR_screen_ship_manufacturer
			}
			else = {
				show_ideas_tooltip = NTR_submarine_manufacturer
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 125
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					OR = {
						has_completed_focus = NTR_escort_ships
						has_completed_focus = NTR_defenders_of_the_north
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_small_but_lethal_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		
		relative_position_id = NTR_specialized_naval_production
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_specialized_naval_production
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_small_but_lethal_navy"
			
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 0.75
				uses = 2
				category = convoy_defense_tree
				category = submarine_doctrine
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_navy_size = { size < 1 }
			}
		}
	}
	
	shared_focus = {
		id = NTR_apply_army_experience
		icon = GFX_goal_navy_hat_ships
		
		relative_position_id = NTR_specialized_naval_production
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_specialized_naval_production
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_apply_army_experience"
			
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = NTR_maneuver_2_navy_chief
			show_ideas_tooltip = NTR_commerce_raiding_2_navy_chief
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_navy_fleet_logistics_2_high_command
			
			custom_effect_tooltip = ENTER
			
			create_navy_leader = { # pegasi?
				name = "#Somebody"
				picture = "Governor.tga"
				skill = 2
				attack_skill = 1
				defense_skill = 2
				maneuvering_skill = 2
				coordination_skill = 2
				traits = {  } # admiral traits #???
			}
			
			hidden_effect = {
				set_country_flag = NTR_naval_chiefs_and_military_high_command_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					has_political_power < 75
					
					has_navy_size = { size < 1 }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_wanderers_of_the_north
		icon = GFX_goal_battlefleet
		
		relative_position_id = NTR_specialized_naval_production
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_apply_army_experience
		}
		prerequisite = {
			focus = NTR_a_small_but_lethal_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_wanderers_of_the_north"
			
			add_ideas = NTR_northern_seas_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# Navy subbranch (MtG) #

	shared_focus = {
		id = NTR_fear_of_the_giants
		icon = GFX_goal_generic_navy_carrier
		
		relative_position_id = NTR_a_small_but_lethal_navy
		x = -1
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_a_small_but_lethal_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fear_of_the_giants"
			
			effect_tooltip = {
				add_tech_bonus = {
					name = naval_mines_bonus
					bonus = 0.75
					uses = 2
					category = naval_mines
				}
			}
			hidden_effect = {
				add_tech_bonus = {
					name = naval_mines_bonus
					bonus = 0.75
					uses = 2
					technology = basic_naval_mines
					technology = improved_naval_mines
					technology = advanced_naval_mines
					technology = modern_naval_mines
					technology = submarine_mine_laying
					technology = improved_submarine_mine_laying
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_work_out_crew_exercises
		icon = GFX_goal_generic_amphibious_assault
		
		relative_position_id = NTR_apply_army_experience
		x = 1
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_apply_army_experience
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_work_out_crew_exercises"
			
			effect_tooltip = {
				add_tech_bonus = {
					name = naval_training_bonus
					bonus = 0.75
					uses = 2
					category = naval_training
				}
			}
			hidden_effect = {
				add_tech_bonus = {
					name = naval_training_bonus
					bonus = 0.75
					uses = 2
					technology = damage_control_1
					technology = damage_control_2
					technology = damage_control_3
					technology = fire_control_methods_2
					technology = fire_control_methods_3
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}

### Airforce branch ###
# Core #

	shared_focus = {
		id = NTR_a_northern_airforce
		icon = GFX_goal_generic_build_airforce
		
		relative_position_id = NTR_establish_a_hierarchy
		x = 9
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_northern_airforce"
			
			562 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = ENTER
			
			air_experience = 20
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_air_warfare_theorist
			
			hidden_effect = {
				set_country_flag = NTR_air_warfare_theorist_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}

# Light Air #

	shared_focus = {
		id = NTR_strike_swiftly
		icon = GFX_goal_generic_air_fighter
		
		relative_position_id = NTR_a_northern_airforce
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_northern_airforce
		}
		
		mutually_exclusive = {
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strike_swiftly"
			
			if = {
				limit = {
					NOT = { has_tech = early_fighter }
				}
				
				set_technology = { early_fighter = 1 }
			}
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					category = light_fighter
				}
				
				hidden_effect = {
					set_country_flag = NTR_strike_swiftly_flag
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_support_our_warriors
		icon = GFX_focus_chi_flying_tigers
		
		relative_position_id = NTR_strike_swiftly
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_strike_swiftly
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_support_our_warriors"
			
			if = {
				limit = {
					NOT = { has_country_flag = NTR_strike_swiftly_flag }
				}
				
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 0.75
					uses = 2
					category = cat_battlefield_support
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.5
					category = light_fighter
				}
			}
			else = {
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 0.75
					uses = 2
					category = cat_battlefield_support
				}
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 0.5
					category = cat_battlefield_support
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_equipment = { fighter_equipment < 1 }
			}
		}
	}
	
	shared_focus = {
		id = NTR_sky_warriors
		icon = GFX_goal_generic_CAS
		
		relative_position_id = NTR_support_our_warriors
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sky_warriors"
			
			add_tech_bonus = {
				name = CAS_bonus
				bonus = 1
				category = cas_bomber
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_slayers_of_the_giants
		icon = GFX_goal_generic_air_naval_bomber
		
		relative_position_id = NTR_support_our_warriors
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_slayers_of_the_giants"
			
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1
				category = naval_bomber
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_research_AI_factor
				
				has_variable = NTR_navy_research_AI_factor
			}
		}
	}

# Medium and Heavy Air #

	shared_focus = {
		id = NTR_strike_hard
		icon = GFX_goal_generic_air_bomber
		
		relative_position_id = NTR_a_northern_airforce
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_northern_airforce
		}
		
		mutually_exclusive = {
			focus = NTR_strike_swiftly
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strike_hard"
			
			if = {
				limit = {
					NOT = { has_tech = early_bomber }
				}
				
				set_technology = { early_bomber = 1 }
			}
			else = {
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					category = tactical_bomber
				}
				
				hidden_effect = {
					set_country_flag = NTR_strike_hard_flag
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_flying_reavers
		icon = GFX_goal_generic_air_fighter2
		
		relative_position_id = NTR_strike_hard
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_flying_reavers"
			
			if = {
				limit = {
					NOT = { has_country_flag = NTR_strike_hard_flag }
				}
				
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 0.75
					uses = 2
					category = strategic_destruction_tree
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 0.5
					category = tactical_bomber
				}
			}
			else = {
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 0.75
					uses = 2
					category = strategic_destruction_tree
				}
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 0.5
					category = strategic_destruction_tree
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_equipment = { tac_bomber_equipment < 1 }
			}
		}
	}
	
	shared_focus = {
		id = NTR_fortresses_in_the_sky
		icon = GFX_focus_usa_escort_fighters
		
		relative_position_id = NTR_flying_reavers
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fortresses_in_the_sky"
			
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				category = cat_heavy_fighter
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_sky_giants
		icon = GFX_goal_generic_occupy_start_war
		
		relative_position_id = NTR_flying_reavers
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sky_giants"
			
			add_tech_bonus = {
				name = heavy_bomber_bonus
				bonus = 1
				category = cat_strategic_bomber
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_air_research_AI_factor
				
				has_variable = NTR_air_research_AI_factor
			}
		}
	}

# Spirits, Designers, Staff #

	shared_focus = {
		id = NTR_airforce_optimisation
		icon = GFX_goal_generic_air_production
		
		relative_position_id = NTR_a_northern_airforce
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_strike_swiftly
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_airforce_optimisation"
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_swiftly
				}
				
				add_ideas = NTR_fighter_focus_idea
			}
			else_if = {
				limit = {
					has_completed_focus = NTR_strike_hard
				}
				
				add_ideas = NTR_focus_on_bombers_idea
			}
			else = {
				custom_effect_tooltip = NTR_strike_swiftly_is_completed_tooltip
				add_ideas = NTR_fighter_focus_idea
				
				custom_effect_tooltip = ENTER
				
				custom_effect_tooltip = NTR_strike_hard_is_completed_tooltip
				add_ideas = NTR_focus_on_bombers_idea
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_light_airforce_designer
		icon = GFX_focus_YUG_rogozarski
		
		relative_position_id = NTR_airforce_optimisation
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_airforce_optimisation
		}
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_light_airforce_designer"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_light_aircraft_manufacturer
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 125
			}
		}
	}
	
	shared_focus = {
		id = NTR_heavy_airforce_designer
		icon = GFX_focus_CZE_military_aeronautical_institute
		
		relative_position_id = NTR_airforce_optimisation
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_airforce_optimisation
		}
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_heavy_airforce_designer"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_heavy_aircraft_manufacturer
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 125
			}
		}
	}
	
	shared_focus = {
		id = NTR_an_independent_airforce
		icon = GFX_goal_generic_air_doctrine
		
		relative_position_id = NTR_airforce_optimisation
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_light_airforce_designer
			focus = NTR_heavy_airforce_designer
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_an_independent_airforce"
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_swiftly
				}
				
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_ground_support_2_air_chief
				
				hidden_effect = {
					set_country_flag = {
						flag = NTR_airforce_chiefs_and_military_high_command_unlocked
						value = 0
					}
				}
			}
			else_if = {
				limit = {
					has_completed_focus = NTR_strike_hard
				}
				
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_all_weather_2_chief_of_airforce
				
				hidden_effect = {
					set_country_flag = {
						flag = NTR_airforce_chiefs_and_military_high_command_unlocked
						value = 1
					}
				}
			}
			else = {
				custom_effect_tooltip = NTR_strike_swiftly_is_completed_tooltip
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_ground_support_2_air_chief
				
				custom_effect_tooltip = ENTER
				
				custom_effect_tooltip = NTR_strike_hard_is_completed_tooltip
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_all_weather_2_chief_of_airforce
				
				custom_effect_tooltip = NTR_any_is_completed_tooltip
				custom_effect_tooltip = available_chief_of_airforce
			}
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_air_combat_training_2_high_command
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 200
			}
		}
	}

# Everfrost Military Academy #

	shared_focus = {
		id = NTR_everfrost_military_academy
		icon = GFX_focus_usa_build_the_pentagon
		
		relative_position_id = NTR_wrath_of_the_north
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_wanderers_of_the_north
		}
		prerequisite = {
			focus = NTR_wrath_of_the_north
		}
		prerequisite = {
			focus = NTR_an_independent_airforce
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_everfrost_military_academy"
			
			add_research_slot = 1
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_tank_manufacturer
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

##################################################
###### Industrial and Research branch (N&F) ######
##################################################

	shared_focus = {
		id = NTR_marking_down_the_trails
		icon = GFX_focus_eng_global_defense
		
		x = 24
		y = 0
		
		cost = 6
		
		available = {
			has_completed_focus = NTR_the_isolated_north
			
			neutrality > 0.5
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_marking_down_the_trails"
			
			add_stability = 0.04
			
			add_popularity = {
				ideology = neutrality
				popularity = 0.04
			}
			
			random_owned_controlled_state = {
				limit = {
					NOT = { state = 542 }
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
				ROOT = {
					random_owned_controlled_state = {
						limit = {
							NOT = {
								OR = {
									state = 542
									state = PREV.PREV
								}
							}
						}
						
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						
						ROOT = {
							random_owned_controlled_state = {
								limit = {
									NOT = {
										OR = {
											state = 542
											state = PREV.PREV
											state = PREV.PREV.PREV.PREV
										}
									}
								}
								
								add_building_construction = {
									type = infrastructure
									level = 1
									instant_build = yes
								}
								
								ROOT = {
									random_owned_controlled_state = {
										limit = {
											NOT = {
												OR = {
													state = 542
													state = PREV.PREV
													state = PREV.PREV.PREV.PREV
													state = PREV.PREV.PREV.PREV.PREV.PREV
												}
											}
										}
										
										add_building_construction = {
											type = infrastructure
											level = 1
											instant_build = yes
										}
									}
								}
							}
						}
					}
				}
			}
			
			hidden_effect = {
				country_event = Ntribes.588
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_honor_and_help_the_craftsponies
		icon = GFX_goal_industrial_pony
		
		x = 26
		y = 0
		
		cost = 6
		
		available = {
			has_completed_focus = NTR_the_isolated_north
			
			neutrality > 0.5
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_honor_and_help_the_craftsponies"
			
			add_stability = 0.05
			
			one_random_industrial_complex = yes
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_communal_teaching
		icon = GFX_goal_griffon_books
		
		relative_position_id = NTR_marking_down_the_trails
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_marking_down_the_trails
		}
		prerequisite = {
			focus = NTR_honor_and_help_the_craftsponies
		}
		
		bypass = {
			NOT = { has_idea = lack_of_scientists }
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_communal_teaching"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			
			hidden_effect = {
				country_event = {
					id = Ntribes.302
					days = 60
					random = 480
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_destroy_remnants_of_centralization_attempts }
			}
		}
	}
	
	shared_focus = {
		id = NTR_destroy_remnants_of_centralization_attempts
		icon = GFX_goal_DEI_focus_disband_volksraad
		
		relative_position_id = NTR_honor_and_help_the_craftsponies
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_honor_and_help_the_craftsponies
		}
		prerequisite = {
			focus = NTR_marking_down_the_trails
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_destroy_remnants_of_centralization_attempts"
			
			add_stability = 0.075
			
			swap_ideas = {
				remove_idea = communal_society2
				add_idea = communal_society
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_establish_scientific_communes
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_communal_teaching
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_communal_teaching
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 1
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_scientific_communes"
			
			add_research_slot = 1
			
			hidden_effect = {
				set_country_flag = NTR_the_everfrost_academy_was_rebuilt_flag
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_preserving_old_knowledge
		icon = GFX_goal_generic_national_unity_claws
		
		relative_position_id = NTR_destroy_remnants_of_centralization_attempts
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_destroy_remnants_of_centralization_attempts
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preserving_old_knowledge"
			
			add_ideas = NTR_revived_old_practices_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_the_council_takes_care_of_you }
					NOT = { has_completed_focus = NTR_establish_scientific_communes }
				}
				
				has_idea = NTR_northern_war
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_council_takes_care_of_you
		icon = GFX_goal_generic_national_unity
		
		relative_position_id = NTR_communal_teaching
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_communal_teaching
		}
		prerequisite = {
			focus = NTR_destroy_remnants_of_centralization_attempts
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_council_takes_care_of_you"
			
			add_political_power = 100
			add_stability = 0.025
			add_war_support = 0.025
			
			unlock_decision_tooltip = NTR_call_up_commune_militias
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_remember_what_we_are
		icon = GFX_goal_improve_relations_pony_pony
		
		relative_position_id = NTR_establish_scientific_communes
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_establish_scientific_communes
		}
		prerequisite = {
			focus = NTR_the_council_takes_care_of_you
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_remember_what_we_are"
			
			add_tech_bonus = {
				name = race_bonus
				bonus = 1
				uses = 2
				category = race_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_refining_the_old_practices }
			}
		}
	}
	
	shared_focus = {
		id = NTR_refining_the_old_practices
		icon = GFX_goal_generic_national_unity_horseshoe
		
		relative_position_id = NTR_preserving_old_knowledge
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_preserving_old_knowledge
		}
		prerequisite = {
			focus = NTR_the_council_takes_care_of_you
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_refining_the_old_practices"
			
			add_ideas = NTR_refining_the_old_practices_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
		}
	}

### "Our Own Path" branch ###
# Research subcluster #

	shared_focus = {
		id = NTR_strange_devices
		icon = GFX_goal_radio
		
		relative_position_id = NTR_establish_scientific_communes
		x = -1
		y = 1
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
		}
		
		prerequisite = {
			focus = NTR_establish_scientific_communes
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strange_devices"
			
			if = {
				limit = {
					NOT = { has_tech = electronic_mechanical_engineering }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = electronic_mechanical_engineering
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = radio
				}
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.75
					category = computing_tech
				}
				
				if = {
					limit = {
						NOT = { has_tech = radio }
					}
					
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 1
						technology = radio
					}
				}
				else = {
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 0.75
						category = electronics
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_legacy_of_precursors
				NOT = { has_completed_focus = NTR_keepers_of_traditions }
			}
		}
	}
	
	shared_focus = {
		id = NTR_legacy_of_precursors
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_preserving_old_knowledge
		x = 1
		y = 1
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
		}
		
		prerequisite = {
			focus = NTR_preserving_old_knowledge
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_legacy_of_precursors"
			
			if = {
				limit = {
					NOT = { has_tech = basic_machine_tools }
				}
				
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					technology = basic_machine_tools
				}
			}
			else = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.75
					category = industry
				}
			}
			
			if = {
				limit = {
					NOT = { has_tech = construction1 }
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					technology = construction1
				}
			}
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.75
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_strange_devices
				NOT = { has_completed_focus = NTR_expand_authority_of_scientific_communes }
			}
		}
	}

# Core #

	shared_focus = {
		id = NTR_expand_authority_of_scientific_communes
		icon = GFX_focus_research2
		
		relative_position_id = NTR_remember_what_we_are
		x = 0
		y = 1
		
		cost = 10
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
		}
		
		prerequisite = {
			focus = NTR_remember_what_we_are
		}
		
		bypass = {
			NOT = { has_idea = poor_science_base }
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expand_authority_of_scientific_communes"
			
			swap_ideas = {
				remove_idea = poor_science_base
				add_idea = better_science_base
			}
			
			hidden_effect = {
				set_country_flag = better_science_base_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_keepers_of_traditions
		icon = GFX_goal_riv_shovels
		
		relative_position_id = NTR_refining_the_old_practices
		x = 0
		y = 1
		
		cost = 10
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
		}
		
		prerequisite = {
			focus = NTR_refining_the_old_practices
		}
		
		available = {
			542 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_keepers_of_traditions"
			
			542 = {
				add_core_of = ROOT
				
				add_extra_state_shared_building_slots = 2
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_knowledge_to_elders
		icon = GFX_goal_bookstack
		
		relative_position_id = NTR_the_council_takes_care_of_you
		x = 0
		y = 3
		
		cost = 8
		
		prerequisite = {
			focus = NTR_expand_authority_of_scientific_communes
		}
		prerequisite = {
			focus = NTR_keepers_of_traditions
		}
		
		bypass = {
			NOT = {
				OR = {
					has_idea = lack_of_scientists1
					has_idea = lack_of_scientists
				}
			}
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_knowledge_to_elders"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			
			hidden_effect = {
				country_event = {
					id = Ntribes.304
					days = 60
					random = 480
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_establish_DAC # Decentralized Administration of Communes
		icon = GFX_goal_riv_investment_fund
		
		relative_position_id = NTR_knowledge_to_elders
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_DAC"
			
			add_ideas = NTR_DAC
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_reestablish_skynavian_science_base
		icon = GFX_focus_research
		
		relative_position_id = NTR_knowledge_to_elders
		x = -2
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			522 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_reestablish_skynavian_science_base"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_establish_communal_institutions
		icon = GFX_goal_generic_scientific_exchange_pony_griffon
		
		relative_position_id = NTR_reestablish_skynavian_science_base
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_reestablish_skynavian_science_base
		}
		prerequisite = {
			focus = NTR_establish_DAC
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_communal_institutions"
			
			add_ideas = NTR_traditionalists_research_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_specialize_communes }
			}
		}
	}
	
	shared_focus = {
		id = NTR_modify_native_production
		icon = GFX_IRE_medium_industry
		
		relative_position_id = NTR_knowledge_to_elders
		x = 2
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modify_native_production"
			
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				ROOT = {
					random_owned_controlled_state = {
						limit = {
							arms_factory > 0
							
							is_core_of = ROOT
							
							NOT = {
								state = PREV.PREV
								
								is_core_of = SRS
							}
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 1
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_specialize_communes
		icon = GFX_focus_collective_housing
		
		relative_position_id = NTR_modify_native_production
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_modify_native_production
		}
		prerequisite = {
			focus = NTR_establish_DAC
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialize_communes"
			
			swap_ideas = {
				remove_idea = NTR_revived_old_practices_idea
				add_idea = NTR_perfected_old_practices_full_idea
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_our_destiny
		icon = GFX_goal_unicorn_academy
		
		relative_position_id = NTR_establish_DAC
		x = 0
		y = 2
		
		cost = 7
		
		prerequisite = {
			focus = NTR_establish_communal_institutions
		}
		prerequisite = {
			focus = NTR_specialize_communes
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_destiny"
			
			add_ideas = NTR_race_theorist
			
			hidden_effect = {
				set_country_flag = NTR_race_theorist_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}

### "Our Destiny" branch ###

	shared_focus = {
		id = NTR_our_own_path
		#icon = GFX_
		
		relative_position_id = NTR_our_destiny
		x = 0
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_focus_tree = NTR_our_own_path_focus_tree
		}
		
		prerequisite = {
			focus = NTR_our_destiny
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_own_path"
			
			add_ideas = NTR_our_own_path_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_strengthen_the_community
		#icon = GFX_
		
		relative_position_id = NTR_our_own_path
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_our_own_path
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strengthen_the_community"
			
			add_ideas = NTR_strengthen_the_community_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_eternal_vigilance
		#icon = GFX_
		
		relative_position_id = NTR_our_own_path
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_our_own_path
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_eternal_vigilance"
			
			add_ideas = NTR_eternal_vigilance_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_millennial_experience
		icon = GFX_goal_supremacy_of_will
		
		relative_position_id = NTR_our_own_path
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_our_own_path
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_millennial_experience"
			
			add_stability = 0.075
			
			custom_effect_tooltip = NTR_reduces_famine_risk_by_25_percent_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}

##### "New Traditions" branch #####

	shared_focus = {
		id = NTR_establish_SAC
		icon = GFX_goal_red_star_green_wreath
		
		relative_position_id = NTR_the_council_takes_care_of_you
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_completed_focus = NTR_cow_the_red_conquerors
		}
		
		prerequisite = {
			focus = NTR_the_council_takes_care_of_you
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_SAC"
			
			add_ideas = NTR_SAC
			
			every_owned_state = { # on_state_control_changed checks #???
				limit = {
					is_core_of = SRS
				}
				
				add_state_modifier = {
					modifier = {
						local_building_slots_factor = 0.1
						local_non_core_manpower = 0.18
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_rebuild_skynavian_science_base
		icon = GFX_goal_double_research
		
		relative_position_id = NTR_remember_what_we_are
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_establish_SAC
		}
		prerequisite = {
			focus = NTR_remember_what_we_are
		}
		
		bypass = {
			NOT = { has_idea = poor_science_base }
		}
		
		available = {
			522 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_rebuild_skynavian_science_base"
			
			swap_ideas = {
				remove_idea = poor_science_base
				add_idea = better_science_base
			}
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_dynamic_modifier = { modifier = NTR_unite_the_tribes_communism_drift_modifier } }
					}
					
					add_dynamic_modifier = { modifier = NTR_unite_the_tribes_communism_drift_modifier }
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_upgrade_old_practices
		icon = GFX_goal_generic_production
		
		relative_position_id = NTR_refining_the_old_practices
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_establish_SAC
		}
		prerequisite = {
			focus = NTR_refining_the_old_practices
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_upgrade_old_practices"
			
			swap_ideas = {
				remove_idea = NTR_revived_old_practices_idea
				add_idea = NTR_modernized_old_practices_idea
			}
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_dynamic_modifier = { modifier = NTR_unite_the_tribes_communism_drift_modifier } }
					}
					
					add_dynamic_modifier = { modifier = NTR_unite_the_tribes_communism_drift_modifier }
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_instance_analysis
		icon = GFX_goal_generic_production2
		
		relative_position_id = NTR_rebuild_skynavian_science_base
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_rebuild_skynavian_science_base
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_instance_analysis"
			
			add_popularity = {
				ideology = communism
				popularity = 0.04
			}
			
			if = {
				limit = {
					NOT = { has_tech = electronic_mechanical_engineering }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					technology = electronic_mechanical_engineering
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					technology = radio
				}
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					category = computing_tech
				}
				
				if = {
					limit = {
						NOT = { has_tech = radio }
					}
					
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 1.5
						technology = radio
					}
				}
				else = {
					add_tech_bonus = {
						name = electronics_bonus
						bonus = 1
						category = electronics
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_construction_patterns
		icon = GFX_goal_generic_construction
		
		relative_position_id = NTR_upgrade_old_practices
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_upgrade_old_practices
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_construction_patterns"
			
			add_popularity = {
				ideology = communism
				popularity = 0.04
			}
			
			if = {
				limit = {
					NOT = { has_tech = basic_machine_tools }
				}
				
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1.5
					technology = basic_machine_tools
				}
			}
			else = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					category = industry
				}
			}
			
			if = {
				limit = {
					NOT = { has_tech = construction1 }
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1.5
					technology = construction1
				}
			}
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_new_knowledges
		icon = GFX_goal_griffon_schools
		
		relative_position_id = NTR_establish_SAC
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_rebuild_skynavian_science_base
		}
		prerequisite = {
			focus = NTR_upgrade_old_practices
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_knowledges"
			
			custom_effect_tooltip = delayed_decrease_illiteracy_tt
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				country_event = { # ~70
					id = Ntribes.305
					days = 56
					random = 672
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_allow_independent_research
		icon = GFX_focus_generic_socialist_science
		
		relative_position_id = NTR_instance_analysis
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_instance_analysis
		}
		prerequisite = {
			focus = NTR_new_knowledges
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_allow_independent_research"
			
			add_research_slot = 1
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_new_century_industry
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_construction_patterns
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_construction_patterns
		}
		prerequisite = {
			focus = NTR_new_knowledges
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_century_industry"
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_modernize_communes
		icon = GFX_goal_generic_construct_public_housing
		
		relative_position_id = NTR_new_knowledges
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_allow_independent_research
		}
		prerequisite = {
			focus = NTR_new_century_industry
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modernize_communes"
			
			custom_effect_tooltip = NTR_reduce_winter_debuffs_and_famine_risk_by_25_percents_tooltip
			
			add_to_variable = {
				var = NTR_unite_the_tribes_drift_var
				value = 0.01
				tooltip = NTR_communist_partisans_dynamic_modifier_increased_red_tooltip
			}
			
			hidden_effect = {
				add_dynamic_modifier = { modifier = NTR_unite_the_tribes_communism_drift_modifier }
				
				country_event = { # 28-42
					id = Ntribes.306
					days = 28
					random = 336
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

### "Old Lands" branch ###

	shared_focus = {
		id = NTR_to_new_heights
		icon = GFX_focus_indy_agriculture_2
		
		relative_position_id = NTR_modernize_communes
		x = 0
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_focus_tree = NTR_revanchism_focus_tree
		}
		
		prerequisite = {
			focus = NTR_modernize_communes
		}
		
		available = {
			has_completed_focus = NTR_new_elite
			has_completed_focus = NTR_reservations_for_dissenters
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_to_new_heights"
			
			custom_effect_tooltip = NTR_centralization_tooltip
			
			country_event = Ntribes.1
		}
	}

# Economic focuses (Synthesis) #

	shared_focus = {
		id = NTR_black_gold
		icon = GFX_goal_generic_oil_refinery
		
		relative_position_id = NTR_modernize_communes
		x = -1
		y = 1
		
		cost = 6
		
		allow_branch = {
			OR = {
				has_focus_tree = NTR_great_northern_communes_focus_tree
				has_focus_tree = NTR_revanchism_focus_tree
			}
		}
		
		prerequisite = {
			focus = NTR_modernize_communes
		}
		
		available = {
			if = {
				limit = {
					has_focus_tree = NTR_great_northern_communes_focus_tree
				}
				
				has_completed_focus = NTR_complete_the_unification_process
				
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = has_pre_industrial_society_tt
					
					check_variable = {
						var = EaW_society_development_var
						value = 4
						compare = greater_than_or_equals
					}
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_black_gold"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				uses = 2
				category = synth_resources
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				OR = {
					check_variable = { resource@oil < 0 }
					check_variable = { resource@rubber < 0 }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_oil_prospecting_programs
		icon = GFX_goal_further_oil
		
		relative_position_id = NTR_black_gold
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_black_gold
		}
		
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "Waking the Tiger" }
				}
				
				has_political_power > 150
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_oil_prospecting_programs"
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				custom_effect_tooltip = NTR_oil_fields_development_tooltip
			}
			else = {
				add_political_power = -150
				
				add_resource = {
					type = oil
					amount = 12
					state = 563
				}
				add_resource = {
					type = oil
					amount = 12
					state = 522
				}
				add_resource = {
					type = oil
					amount = 8
					state = 562
				}
				
				hidden_effect = {
					563 = { set_state_flag = vastmush_oil_developed }
					522 = { set_state_flag = srs_ntr_oil_work_developed }
					562 = { set_state_flag = liftauf_oil_developed }
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				check_variable = { resource@oil < 0 }
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_mining_technologies
		icon = GFX_focus_indy_excavations
		
		relative_position_id = NTR_modernize_communes
		x = 1
		y = 1
		
		cost = 6
		
		allow_branch = {
			OR = {
				has_focus_tree = NTR_great_northern_communes_focus_tree
				has_focus_tree = NTR_revanchism_focus_tree
			}
		}
		
		prerequisite = {
			focus = NTR_new_knowledges
		}
		
		available = {
			if = {
				limit = {
					has_focus_tree = NTR_great_northern_communes_focus_tree
				}
				
				has_completed_focus = NTR_complete_the_unification_process
				
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = has_pre_industrial_society_tt
					
					check_variable = {
						var = EaW_society_development_var
						value = 4
						compare = greater_than_or_equals
					}
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_mining_technologies"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				uses = 2
				category = excavation_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				check_variable = { NTR_war_construction_AI_factor = 0 }
			}
		}
	}
	
	shared_focus = {
		id = NTR_resources_expeditions
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_new_mining_technologies
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_mining_technologies
		}
		
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "Waking the Tiger" }
				}
				
				has_political_power > 200
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_resources_expeditions"
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				custom_effect_tooltip = NTR_cubtria_mines_development_tooltip
				custom_effect_tooltip = NTR_littlegriff_mines_development_tooltip
			}
			else = {
				add_political_power = -200
				
				add_resource = {
					type = aluminium
					amount = 8
					state = 567
				}
				add_resource = {
					type = tungsten
					amount = 7
					state = 567
				}
				
				add_resource = {
					type = crystals
					amount = 10
					state = 585
				}
				add_resource = {
					type = steel
					amount = 6
					state = 585
				}
				add_resource = {
					type = aluminium
					amount = 6
					state = 585
				}
				
				hidden_effect = {
					567 = {
						set_state_flag = Cubtria_aluminium_developed
						set_state_flag = Cubtria_tungsten_developed
					}
					585 = {
						set_state_flag = srs_ntr_crystal_work_developed
						set_state_flag = srs_ntr_steel_work_developed
						set_state_flag = srs_ntr_aluminium_work_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				OR = {
					check_variable = { resource@aluminium < 0 }
					check_variable = { resource@crystals < 0 }
					check_variable = { resource@tungsten < 0 }
					check_variable = { resource@steel < 0 }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_existence_requires_change
		icon = GFX_goal_generic_consumer_goods
		
		relative_position_id = NTR_modernize_communes
		x = 0
		y = 3
		
		cost = 8
		
		allow_branch = {
			has_focus_tree = NTR_great_northern_communes_focus_tree
		}
		
		prerequisite = {
			focus = NTR_oil_prospecting_programs
		}
		prerequisite = {
			focus = NTR_resources_expeditions
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_existence_requires_change"
			
			add_stability = -0.075
			
			swap_ideas = {
				remove_idea = primitive_economy
				add_idea = civilian_economy
			}
			
			unlock_decision_tooltip = improved_worker_conditions
			
			hidden_effect = {
				swap_ideas = {
					remove_idea = NTR_primitive_economy_balance_adjustment_hidden_idea
					add_idea = NTR_civilian_economy_balance_adjustment_hidden_idea
				}
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
			
			modifier = {
				factor = 0.25
				
				check_variable = { NTR_war_construction_AI_factor = 0 }
			}
		}
	}

##################################################
############### Military branch (N) ##############
##################################################

### Core ###

	shared_focus = {
		id = NTR_preparations_for_total_war
		icon = GFX_IRE_heavy_industry
		
		x = 30
		y = 0
		
		cost = 4
		
		available = {
			if = {
				limit = {
					has_government = neutrality
				}
				
				neutrality > 0.5
			}
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preparations_for_total_war"
			
			add_ideas = NTR_melee_equipment_manufacturer
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_northern_tactics
		icon = GFX_goal_offensive_army
		
		x = 34
		y = 0
		
		cost = 4
		
		available = {
			if = {
				limit = {
					has_government = neutrality
				}
				
				neutrality > 0.5
			}
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_northern_tactics"
			
			custom_effect_tooltip = NTR_northern_tactics_tooltip
			
			hidden_effect = {
				set_technology = { NTR_northern_tactics_technology = 1 } #todelete via on_actions #???
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.1
				
				has_war = no
			}
		}
	}
	
	shared_focus = {
		id = NTR_our_game
		icon = GFX_goal_generic_special_forces
		
		x = 32
		y = 0
		
		cost = 6
		
		available = {
			if = {
				limit = {
					has_government = neutrality
				}
				
				neutrality > 0.5
			}
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_game"
			
			add_ideas = NTR_our_game_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.1
				
				has_war = no
			}
		}
	}
	
	shared_focus = {
		id = NTR_perfect_our_weapons
		icon = GFX_focus_indy_swing_the_sword
		
		relative_position_id = NTR_preparations_for_total_war
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_our_game
		}
		prerequisite = {
			focus = NTR_preparations_for_total_war
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_perfect_our_weapons"
			
			swap_ideas = {
				remove_idea = NTR_melee_equipment_manufacturer
				add_idea = NTR_perfected_melee_equipment_manufacturer
			}
			
			custom_effect_tooltip = NTR_perfected_melee_equipment_manufacturer_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_reclaim_skynavia }
			}
		}
	}
	
	shared_focus = {
		id = NTR_equipment_capture_groups
		icon = GFX_goal_break_rifle
		
		relative_position_id = NTR_northern_tactics
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_our_game
		}
		prerequisite = {
			focus = NTR_northern_tactics
		}
		
		available = {
			has_country_flag = NTR_the_unification_process_is_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_equipment_capture_groups"
			
			custom_effect_tooltip = NTR_equipment_capture_groups_tooltip
			
			hidden_effect = {
				set_technology = { NTR_equipment_capture_groups_technology = 1 } #todelete via on_actions #???
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_reclaim_skynavia }
			}
		}
	}

### "Post-SRS" branch ###

	shared_focus = {
		id = NTR_new_designs
		icon = GFX_goal_generic_small_arms
		
		relative_position_id = NTR_preparations_for_total_war
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			OR = {
				has_completed_focus = NTR_no_mercy_no_forgiveness
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_perfect_our_weapons
		}
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_designs"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1.5
					category = infantry_weapons
				}
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					category = infantry_weapons
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_remember_what_we_are }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_equipment
		icon = GFX_goal_generic_more_territorial_claims
		
		relative_position_id = NTR_northern_tactics
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			OR = {
				has_completed_focus = NTR_no_mercy_no_forgiveness
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_perfect_our_weapons
		}
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		bypass = {
			has_tech = tech_support
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_equipment"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				set_technology = { tech_support = 1 }
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1.5
					technology = tech_support
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				check_variable = { NTR_army_AI_factor < 3 }
				
				OR = {
					NOT = { has_completed_focus = NTR_remember_what_we_are }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_tribal_traditions
		icon = GFX_goal_generic_major_alliance_pony
		
		relative_position_id = NTR_new_designs
		x = 1
		y = 1
		
		offset = {
			trigger = {
				has_completed_focus = NTR_cow_the_red_conquerors
			}
			
			x = -2
			y = 0
		}
		
		cost = 6
		
		prerequisite = {
			focus = NTR_new_designs
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_tribal_traditions"
			
			if = {
				limit = {
					has_completed_focus = NTR_no_mercy_no_forgiveness
				}
				
				add_tech_bonus = {
					name = special_forces_bonus
					bonus = 0.75
					uses = 3
					category = special_forces_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = special_forces_bonus
					bonus = 0.5
					uses = 3
					category = special_forces_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_age_structures
		icon = GFX_goal_military_academy
		
		relative_position_id = NTR_new_equipment
		x = -1
		y = 1
		
		offset = {
			trigger = {
				has_completed_focus = NTR_cow_the_red_conquerors
			}
			
			x = 2
			y = 0
		}
		
		cost = 6
		
		prerequisite = {
			focus = NTR_new_equipment
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_age_structures"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 1
					uses = 2
					category = support_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons
					bonus = 0.75
					uses = 2
					category = support_tech
				}
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}

### "Our Own Path" branch ###

	shared_focus = {
		id = NTR_old_tactics
		icon = GFX_goal_unicorn_soldier
		
		relative_position_id = NTR_our_game
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_completed_focus = NTR_no_mercy_no_forgiveness
		}
		
		prerequisite = {
			focus = NTR_perfect_our_weapons
		}
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_old_tactics"
			
			add_ideas = NTR_millennial_tactics_idea
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_remember_what_we_are }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
					
					AND = {
						check_variable { NTR_army_AI_factor < 3 }
						
						NOT = {
							has_template_containing_unit = pegasi
							has_template_containing_unit = knights
							has_template_containing_unit = mountaineers
							has_template_containing_unit = marine
							has_template_containing_unit = paratrooper
						}
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_perfect_our_warriors
		icon = GFX_goal_generic_secret_weapon
		
		relative_position_id = NTR_new_equipment
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_old_tactics
		}
		prerequisite = {
			focus = NTR_tribal_traditions
		}
		prerequisite = {
			focus = NTR_new_age_structures
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_perfect_our_warriors"
			
			set_technology = { NTR_northern_elite_technology = 1 } #todelete via on_actions #???
			custom_effect_tooltip = NTR_northern_elite_tooltip
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

### "New Traditions" branch ###

	shared_focus = {
		id = NTR_large_calibers
		icon = GFX_goal_generic_army_artillery
		
		relative_position_id = NTR_our_game
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_completed_focus = NTR_cow_the_red_conquerors
		}
		
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		prerequisite = {
			focus = NTR_perfect_our_weapons
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_large_calibers"
			
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1.5
				category = artillery
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_remember_what_we_are }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_standardize_rifle_design
		icon = GFX_goal_national_arsenal
		
		relative_position_id = NTR_large_calibers
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_large_calibers
		}
		
		mutually_exclusive = {
			focus = NTR_establish_artillery_design
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_standardize_rifle_design"
			
			swap_ideas = {
				remove_idea = NTR_perfected_melee_equipment_manufacturer
				add_idea = NTR_infantry_equipment_manufacturer
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_artillery_design
		icon = GFX_goal_national_artillery
		
		relative_position_id = NTR_large_calibers
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_large_calibers
		}
		
		mutually_exclusive = {
			focus = NTR_standardize_rifle_design
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_artillery_design"
			
			swap_ideas = {
				remove_idea = NTR_perfected_melee_equipment_manufacturer
				add_idea = NTR_artillery_manufacturer
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_research_AI_factor
				
				has_variable = NTR_army_research_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_forming_the_army
		icon = GFX_goal_riv_army
		
		relative_position_id = NTR_large_calibers
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_standardize_rifle_design
			focus = NTR_establish_artillery_design
		}
		prerequisite = {
			focus = NTR_tribal_traditions
		}
		prerequisite = {
			focus = NTR_new_age_structures
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_forming_the_army"
			
			swap_ideas = {
				remove_idea = NTR_a_military_of_tribal_warriors_idea
				add_idea = NTR_army_of_the_past_millennium_idea
			}
			
			every_army_leader = {
				limit = {
					has_trait = tribal_warchief
				}
				
				remove_unit_leader_trait = tribal_warchief
				add_unit_leader_trait = warlord_of_the_past_millennium
			}
			
			#random_unit_leader = { #???
			#	limit = {
			#		has_id = 13451
			#	}
			#	
			#	promote_leader = yes
			#	
			#	if = {
			#		limit = {
			#			skill > 1
			#		}
			#		
			#		add_skill_level = 1
			#		
			#		if = {
			#			limit = {
			#				ROOT = { has_country_flag = NTR_revanchism_branch }
			#			}
			#			
			#			add_unit_leader_trait = offensive_doctrine
			#		}
			#		else = {
			#			add_unit_leader_trait = defensive_doctrine
			#		}
			#	}
			#}
			#
			#create_corps_commander = { # griffon
			#	name = "Folki Haug"
			#	picture = "Governor.tga" # portrait #???
			#	id = 13452
			#	skill = 2
			#	attack_skill = 2
			#	defense_skill = 2
			#	planning_skill = 1
			#	logistics_skill = 2
			#	traits = { politically_connected warlord_of_the_past_millennium hill_fighter winter_specialist winter_expert }
			#}
			#
			#create_corps_commander = { # pony
			#	name = "Leos Venture"
			#	picture = "Governor.tga" # portrait #???
			#	id = 13453
			#	skill = 2
			#	attack_skill = 1
			#	defense_skill = 1
			#	planning_skill = 3
			#	logistics_skill = 2
			#	traits = { warlord_of_the_past_millennium winter_specialist } # add specialization #???
			#}
			#
			#create_corps_commander = { # griffon for purge
			#	name = "Federic Hoff"
			#	picture = "Dumb_griffon.tga"
			#	id = 13454
			#	skill = 1
			#	attack_skill = 1
			#	defense_skill = 1
			#	planning_skill = 1
			#	logistics_skill = 1
			#	traits = { imbecile warlord_of_the_past_millennium winter_specialist }
			#}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_a_high_command
		icon = GFX_goal_military_mission_pony
		
		relative_position_id = NTR_forming_the_army
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_forming_the_army
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_a_high_command"
			
			add_war_support = 0.05
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_regrouping_2_high_command
			show_ideas_tooltip = NTR_army_logistics_2_high_command
			show_ideas_tooltip = NTR_commando_2_high_command
			
			hidden_effect = {
				set_country_flag = NTR_army_high_command_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_adapt_the_conquerors_tactics
		icon = GFX_goal_generic_occupy_states_ongoing_war
		
		relative_position_id = NTR_forming_the_army
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_forming_the_army
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_adapt_the_conquerors_tactics"
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_military_theorist
			
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.75
				uses = 2
				category = land_doctrine
			}
			
			hidden_effect = {
				set_country_flag = NTR_military_theorist_unlocked
				
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

### "Synthesis" branch ###

	shared_focus = {
		id = NTR_great_communal_army
		icon = GFX_focus_YUG_pan_slavic_congress
		
		relative_position_id = NTR_forming_the_army
		x = 0
		y = 3
		
		cost = 6
		
		allow_branch = {
			has_focus_tree = NTR_great_northern_communes_focus_tree
		}
		
		prerequisite = {
			focus = NTR_establish_a_high_command
		}
		prerequisite = {
			focus = NTR_adapt_the_conquerors_tactics
		}
		
		available = {
			has_completed_focus = NTR_complete_the_unification_process
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_great_communal_army"
			
			swap_ideas = {
				remove_idea = NTR_army_of_the_past_millennium_idea
				add_idea = NTR_communal_army_idea
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

### "Revanchism" branch ###

	shared_focus = {
		id = NTR_past_battles_experience
		icon = GFX_focus_generic_combined_arms
		
		relative_position_id = NTR_establish_a_high_command
		x = 0
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_focus_tree = NTR_revanchism_focus_tree
		}
		
		prerequisite = {
			focus = NTR_establish_a_high_command
		}
		prerequisite = {
			focus = NTR_adapt_the_conquerors_tactics
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_past_battles_experience"
			
			if = {
				limit = {
					has_idea = NTR_artillery_manufacturer
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 0.75
					category = infantry_weapons
				}
				add_tech_bonus = {
					name = arty_bonus
					bonus = 1
					category = artillery
				}
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					category = infantry_weapons
				}
				add_tech_bonus = {
					name = arty_bonus
					bonus = 0.75
					category = artillery
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_revise_the_structure_of_units
		icon = GFX_goal_generic_military_sphere
		
		relative_position_id = NTR_adapt_the_conquerors_tactics
		x = 0
		y = 1
		
		cost = 5
		
		allow_branch = {
			has_focus_tree = NTR_revanchism_focus_tree
		}
		
		prerequisite = {
			focus = NTR_adapt_the_conquerors_tactics
		}
		prerequisite = {
			focus = NTR_establish_a_high_command
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_revise_the_structure_of_units"
			
			add_tech_bonus = {
				name = infantry_weapons
				bonus = 0.75
				uses = 2
				category = support_tech
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_new_hierarcy
		icon = GFX_goal_generic_army_doctrines
		
		relative_position_id = NTR_forming_the_army
		x = 0
		y = 3
		
		cost = 8
		
		prerequisite = {
			focus = NTR_past_battles_experience
		}
		prerequisite = {
			focus = NTR_revise_the_structure_of_units
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_new_hierarcy"
			
			swap_ideas = {
				remove_idea = NTR_army_of_the_past_millennium_idea
				add_idea = NTR_a_fledgling_modern_army_idea
			}
			
			every_army_leader = {
				limit = {
					has_trait = warlord_of_the_past_millennium
				}
				
				remove_unit_leader_trait = warlord_of_the_past_millennium
				add_unit_leader_trait = commander_of_the_past_century
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_legends
		icon = GFX_goal_generic_special_forces
		
		relative_position_id = NTR_a_new_hierarcy
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_a_new_hierarcy
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_legends"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.75
				uses = 2
				category = mountaineers_tech
				category = marine_tech
				category = para_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_our_greatest_weapon
		icon = GFX_goal_generic_major_alliance_pony
		
		relative_position_id = NTR_a_new_hierarcy
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_a_new_hierarcy
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_greatest_weapon"
			
			add_tech_bonus = {
				name = pegasi_bonus
				bonus = 0.75
				category = pegasi_tech
			}
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.75
				category = unicorn_tech
			}
			
			hidden_effect = {
				calculate_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_counter_tactics
		#icon = GFX_
		
		relative_position_id = NTR_new_legends
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_new_legends
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_counter_tactics"
			
			add_tech_bonus = {
				name = arty_bonus
				bonus = 0.75
				category = cat_anti_air
			}
			add_tech_bonus = {
				name = arty_bonus
				bonus = 0.75
				category = cat_anti_tank
			}
		}
	}
	
	shared_focus = {
		id = NTR_clean_command_hierarcy
		icon = GFX_goal_officers
		
		relative_position_id = NTR_a_new_hierarcy
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_new_hierarcy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_clean_command_hierarcy"
			
			add_war_support = 0.075
			
			create_corps_commander = { # pony
				name = "Dusan Chaser"
				picture = "Governor.tga"
				id = 13455
				skill = 3
				attack_skill = 4
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 2
				traits = { harsh_leader commander_of_the_past_century expert_improviser ranger winter_specialist }
			}
			create_corps_commander = { # pony
				name = "Izeibla Petal"
				picture = "Governor.tga"
				id = 13456
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
				traits = { politically_connected commander_of_the_past_century skirmisher winter_specialist }
				female = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_against_griffons
		icon = GFX_goal_generic_secret_weapon
		
		relative_position_id = NTR_our_greatest_weapon
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_our_greatest_weapon
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_against_griffons"
			
			add_ideas = NTR_anti_griffons_tactics_idea
			
			every_enemy_country = {
				limit = {
					has_tech = griffon_race
				}
				
				add_ideas = Griffons_war_with_the_northern_menace_idea_idea
			}
			
			every_neighbor_country = {
				limit = {
					has_tech = griffon_race
					
					has_border_war_with = ROOT
				}
				
				add_ideas = Griffons_war_with_the_northern_menace_idea_idea
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_northern_menace
		icon = GFX_goal_forest_spirit # something better? #???
		
		relative_position_id = NTR_clean_command_hierarcy
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_counter_tactics
		}
		prerequisite = {
			focus = NTR_clean_command_hierarcy
		}
		prerequisite = {
			focus = NTR_against_griffons
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_northern_menace"
			
			swap_ideas = {
				remove_idea = NTR_a_fledgling_modern_army_idea
				add_idea = NTR_the_northern_menace_idea
			}
			
			every_army_leader = {
				limit = {
					has_trait = commander_of_the_past_century
				}
				
				remove_unit_leader_trait = commander_of_the_past_century
			}
		}
	}
