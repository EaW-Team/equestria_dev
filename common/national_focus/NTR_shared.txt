##################################################
######### Industrial and research branch #########
##################################################

##### Agrarian society cluster #####

	shared_focus = {
		id = NTR_continue_centralization
		icon = GFX_goal_agrarian_reform
		
		x = 26
		y = 0
		
		cost = 10
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
			
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_continue_centralization"
			
			custom_effect_tooltip = NTR_agrarian_tooltip
			
			hidden_effect = {
				country_event = Ntribes.1
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_bind_the_north_together
		icon = GFX_goal_generic_construct_infrastructure
		
		relative_position_id = NTR_continue_centralization
		x = -2
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_continue_centralization
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			567 = { is_owned_and_controlled_by = ROOT }
			573 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_bind_the_north_together"
			
			add_stability = 0.05
			
			if = {
				limit = {
					has_government = democratic
				}
				
				add_popularity = {
					ideology = democratic
					popularity = 0.05
				}
			}
			
			else = {
				add_popularity = {
					ideology = communism
					popularity = 0.05
				}
			}
			
			562 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			602 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			567 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			573 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				country_event = Ntribes.587
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						has_completed_focus = NTR_the_northern_manufactories
						NOT = { has_completed_focus = NTR_protect_our_workers }
					}
					
					AND = {
						has_completed_focus = NTR_advanced_tools
						NOT = { has_completed_focus = NTR_adjust_production_lines }
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_use_all_we_have
		icon = GFX_goal_generic_trade
		
		relative_position_id = NTR_continue_centralization
		x = 2
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_continue_centralization
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_use_all_we_have"
			
			add_stability = 0.05
			
			swap_ideas = {
				remove_idea = export_focus
				add_idea = limited_exports
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_bridges_and_tunnels
				NOT = { has_completed_focus = NTR_new_teachers_for_a_new_era }
			}
		}
	}
	
	shared_focus = {
		id = NTR_make_connections_with_the_outside_world
		icon = GFX_goal_foreign_diplomacy
		
		relative_position_id = NTR_continue_centralization
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_continue_centralization
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 3
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_make_connections_with_the_outside_world"
			
			swap_ideas = {
				remove_idea = NTR_weakening_isolationism
				add_idea = NTR_insignificant_isolationism
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}

### Science-focused subcluster ###

	shared_focus = {
		id = NTR_bridges_and_tunnels
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_bind_the_north_together
		x = -1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_bind_the_north_together
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			567 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_bridges_and_tunnels"
			
			562 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			602 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					574 = { is_owned_and_controlled_by = ROOT }
				}
				
				574 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			
			else = {
				random_owned_controlled_state = {
					limit = {
						NOT = {
							OR = {
								state = 562
								state = 563
								state = 567
								state = 602
							}
						}
					}
					
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			
			567 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						amount_research_slots < 1
						NOT = { has_decision = NTR_rebuilding_the_everfrost_academy }
					}
					
					AND = {
						has_completed_focus = NTR_advanced_tools
						NOT = { has_completed_focus = NTR_adjust_production_lines }
					}
					
					AND = {
						has_completed_focus = NTR_the_northern_manufactories
						NOT = { has_completed_focus = NTR_protect_our_workers }
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_teachers_for_a_new_era
		icon = GFX_goal_eqs_public_schools
		
		relative_position_id = NTR_bridges_and_tunnels
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_bridges_and_tunnels
		}
		
		bypass = {
			NOT = {
				OR = {
					has_idea = lack_of_scientists
					has_idea = lack_of_scientists1
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_teachers_for_a_new_era"
			
			country_event = Ntribes.8
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = 0.5
				
				amount_research_slots < 1
			}
		}
	}
	
	shared_focus = {
		id = NTR_opening_our_doors
		icon = GFX_goal_griffon_books
		
		relative_position_id = NTR_make_connections_with_the_outside_world
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_make_connections_with_the_outside_world
		}
		
		prerequisite = {
			focus = NTR_bind_the_north_together
		}
		
		bypass = {
			NOT = { has_idea = poor_science_base }
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_opening_our_doors"
			
			if = {
				limit = {
					has_government = democratic
				}
				
				country_event = Ntribes.4
			}
			
			else_if = {
				limit = {
					SRS = {
						exists = yes
						is_subject = no
						has_civil_war = no
						has_government = communism
					}
				}
				
				country_event = Ntribes.5
			}
			
			else = {
				country_event = Ntribes.6
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				amount_research_slots < 1
				NOT = { has_decision = NTR_rebuilding_the_everfrost_academy }
			}
		}
	}
	
	shared_focus = {
		id = NTR_prototype_electronics
		icon = GFX_goal_radio
		
		relative_position_id = NTR_opening_our_doors
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_opening_our_doors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_prototype_electronics"
			
			if = {
				limit = {
					NOT = { has_tech = electronic_mechanical_engineering }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = electronic_mechanical_engineering
				}
			}
			
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.5
					category = computing_tech
				}
			}
			
			if = {
				limit = {
					NOT = { has_tech = radio }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					technology = radio
				}
			}
			
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.5
					category = electronics
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 2.5
				
				NOT = {
					has_tech = electronic_mechanical_engineering
					has_tech = radio
				}
			}
			
			modifier = {
				factor = 1.5
				
				OR = {
					NOT = { has_tech = electronic_mechanical_engineering }
					NOT = { has_tech = radio }
				}
			}
		}
	}

### Industry-focused subcluster ###

	shared_focus = {
		id = NTR_the_northern_manufactories
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_use_all_we_have
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_use_all_we_have
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_northern_manufactories"
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_protect_our_workers
		icon = GFX_goal_industrial_pony
		
		relative_position_id = NTR_the_northern_manufactories
		x = 0
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_northern_manufactories
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_protect_our_workers"
			
			add_stability = 0.075
			
			unlock_decision_tooltip = improved_worker_conditions
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	
	shared_focus = {
		id = NTR_advanced_tools
		icon = GFX_goal_generic_production
		
		relative_position_id = NTR_make_connections_with_the_outside_world
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_make_connections_with_the_outside_world
		}
		
		prerequisite = {
			focus = NTR_use_all_we_have
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_advanced_tools"
			
			if = {
				limit = {
					NOT = { has_tech = basic_machine_tools }
				}
				
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					technology = basic_machine_tools
				}
			}
			
			else = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.5
					category = industry
				}
			}
			
			if = {
				limit = {
					NOT = { has_tech = construction1 }
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					technology = construction1
				}
			}
			
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.5
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 2.5
				
				NOT = {
					has_tech = basic_machine_tools
					has_tech = construction1
				}
			}
			
			modifier = {
				factor = 1.5
				
				OR = {
					NOT = { has_tech = basic_machine_tools }
					NOT = { has_tech = construction1 }
				}
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_opening_our_doors }
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_new_teachers_for_a_new_era }
			}
		}
	}
	
	shared_focus = {
		id = NTR_adjust_production_lines
		icon = GFX_goal_generic_consumer_goods
		
		relative_position_id = NTR_advanced_tools
		x = 0
		y = 1
		
		cost = 12
		
		prerequisite = {
			focus = NTR_advanced_tools
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_adjust_production_lines"
			
			swap_ideas = {
				remove_idea = primitive_economy
				add_idea = civilian_economy
			}
			
			hidden_effect = {
				set_country_flag = economic_laws_blocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}

### Industrialising society cluster ###

	shared_focus = {
		id = NTR_industrialization_is_coming_north
		icon = GFX_focus_generic_industry_1
		
		relative_position_id = NTR_continue_centralization
		x = 0
		y = 4
		
		cost = 10
		
		prerequisite = {
			focus = NTR_new_teachers_for_a_new_era
		}
		
		prerequisite = {
			focus = NTR_prototype_electronics
		}
		
		prerequisite = {
			focus = NTR_adjust_production_lines
		}
		
		prerequisite = {
			focus = NTR_protect_our_workers
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			has_country_flag = NTR_reintegration_completed_flag
			
			does_not_has_poverty = yes
		}
		
		available = {
			has_country_flag = NTR_reintegration_completed_flag
			
			does_not_has_poverty = yes
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_industrialization_is_coming_north"
			
			if = {
				limit = {
					is_subject = yes
				}
				
				OVERLORD = {
					country_event = Ntribes.55
				}
			}
			
			else_if = {
				limit = {
					has_government = democratic
				}
				
				if = {
					limit = {
						VED = {
							exists = yes
							has_war = no
							is_subject = no
							has_government = democratic
							
							is_not_a_potential_enemy_and_has_not_war_with_ROOT = yes
						}
					}
					
					country_event = Ntribes.11 # to choose
				}
				
				else = {
					custom_effect_tooltip = NTR_search_for_investors_tooltip
					
					hidden_effect = {
						country_event = { # to 'Trade with All'
							id = Ntribes.98
							days = 3
							random = 24
						}
					}
				}
			}
			
			else_if = {
				limit = {
					SRS = {
						exists = yes
						has_war = no
						is_subject = no
						has_government = communism
						
						NOT = {
							has_or_is_justifying_wargoal_against_ROOT = yes
							
							ROOT = {
								OR = {
									has_wargoal_against = PREV
									is_justifying_wargoal_against = PREV
								}
							}
						}
					}
				}
				
				country_event = Ntribes.17
			}
			
			else = {
				country_event = Ntribes.15
			}
			
			hidden_effect = {
				clr_country_flag = can_improve_poverty
				
				country_event = {
					id = Ntribes.991
					days = 28
					random = 168
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_regulatory_economics
		icon = GFX_goal_economic_control
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		available = {
			if = {
				limit = {
					has_government = communism
				}
				
				has_completed_focus = NTR_our_western_neighbor
			}
			
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_regulatory_economics"
			
			if = {
				limit = {
					has_government = communism
					
					NOT = {
						has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					}
				}
				
				swap_ideas = {
					remove_idea = civilian_economy
					add_idea = low_economic_mobilisation
				}
			}
			
			else = {
				add_political_power = 100
			}
			
			if = {
				limit = {
					has_country_flag = economic_laws_blocked
				}
				
				clr_country_flag = economic_laws_blocked
			}
			
			unlock_decision_tooltip = infrastructure_building_slot
			unlock_decision_tooltip = war_building_slot
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
		}
	}

### 2nd cluster (left) ###

	shared_focus = {
		id = NTR_expanding_the_everfrost_academy
		icon = GFX_focus_research
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = -2
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 1
			}
		}
		
		available = {
			if = {
				limit = {
					has_government = communism
				}
				
				has_completed_focus = NTR_our_western_neighbor
			}
			
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			has_country_flag = NTR_rebuilding_the_everfrost_academy_completed_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expanding_the_everfrost_academy"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_laggards_do_not_win
		icon = GFX_focus_Computer_2
		
		relative_position_id = NTR_expanding_the_everfrost_academy
		x = 1
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_expanding_the_everfrost_academy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_laggards_do_not_win"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					category = computing_tech
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					category = electronics
				}
			}
			
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.75
					category = computing_tech
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 0.75
					category = electronics
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_universal_education
		icon = GFX_goal_griffon_com_books
		
		relative_position_id = NTR_expanding_the_everfrost_academy
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_expanding_the_everfrost_academy
		}
		
		bypass = {
			hidden_trigger = {
				NOT = { has_idea = lack_of_scientists2 }
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_universal_education"
			
			custom_effect_tooltip = decrease_illiteracy_tt
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					
					SRS = {
						NOT = { has_idea = lack_of_scientists2 }
					}
				}
				
				country_event = {
					id = Ntribes.19
					days = 90
					random = 360
				}
			}
			
			else = {
				country_event = {
					id = Ntribes.19
					days = 120
					random = 480
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_scase
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_universal_education
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_universal_education
		}
		
		prerequisite = {
			focus = NTR_laggards_do_not_win
		}
		
		bypass = {
			OR = {
				has_idea = big_science_base
				has_idea = proper_science_base
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_scase"
			
			add_ideas = big_science_base
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				inherit_technology = SRS
				
				if = {
					limit = {
						has_idea = pre_industrial_society2
					}
					
					swap_ideas = {
						remove_idea = pre_industrial_society2
						add_idea = pre_industrial_society3
					}
				}
				
				else = {
					swap_ideas = {
						remove_idea = pre_industrial_society3
						add_idea = outdated_industry
					}
				}
			}
			
			hidden_effect = {
				set_country_flag = big_science_base_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}

### 2nd cluster (right) ###

	shared_focus = {
		id = NTR_mountain_roads
		icon = GFX_goal_generic_construction2
		
		relative_position_id = NTR_industrialization_is_coming_north
		x = 2
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_industrialization_is_coming_north
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			567 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_mountain_roads"
			
			602 = {
				if = {
					limit = {
						infrastructure < 9
					}
					
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			
			567 = {
				if = {
					limit = {
						infrastructure < 8
					}
					
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
				
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = {
					if = {
						limit = {
							infrastructure < 9
						}
						
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
					
					else = {
						add_extra_state_shared_building_slots = 1
					}
				}
				
				# add SRS temp resource decisions #???
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					category = construction_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.75
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = 0.5
				
				has_completed_focus = NTR_universal_education
			}
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_expanding_the_everfrost_academy
			}
		}
	}
	
	shared_focus = {
		id = NTR_prospecting_the_north
		icon = GFX_focus_indy_excavations
		
		relative_position_id = NTR_mountain_roads
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_mountain_roads
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_prospecting_the_north"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					uses = 2
					category = excavation_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.75
					uses = 2
					category = excavation_tech
				}
			}
			
			custom_effect_tooltip = Cubtria_mines_development_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}
	
	shared_focus = {
		id = NTR_new_foundries_and_steelworks
		icon = GFX_focus_generic_steel
		
		relative_position_id = NTR_mountain_roads
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_mountain_roads
		}
		
		available = {
			567 = { is_owned_and_controlled_by = ROOT }
			602 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_foundries_and_steelworks"
			
			567 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				add_resource = {
					type = steel
					amount = 8
				}
			}
			
			602 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				add_resource = {
					type = steel
					amount = 4
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				585 = {
					add_extra_state_shared_building_slots = 1
					
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					
					add_resource = {
						type = steel
						amount = 4
					}
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 1
					category = construction_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = construction_tech_bonus
					bonus = 0.75
					category = construction_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_efficient_mining
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_new_foundries_and_steelworks
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_foundries_and_steelworks
		}
		
		prerequisite = {
			focus = NTR_prospecting_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_efficient_mining"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_ideas = NTR_mine_concern # merge SRS and NTR concern? #???
				
				if = {
					limit = {
						has_idea = pre_industrial_society2
					}
					
					swap_ideas = {
						remove_idea = pre_industrial_society2
						add_idea = pre_industrial_society3
					}
				}
				
				else = {
					swap_ideas = {
						remove_idea = pre_industrial_society3
						add_idea = outdated_industry
					}
				}
			}
			
			else = {
				add_ideas = NTR_mine_concern
			}
			
			custom_effect_tooltip = ENTER
			
			unlock_decision_tooltip = {
				decision = Moonrise_minework
				show_effect_tooltip = yes
			}
			
			custom_effect_tooltip = END_FORMATING
			
			unlock_decision_tooltip = {
				decision = Cubtria_minework
				show_effect_tooltip = yes
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_scase }
			}
		}
	}
	
	shared_focus = {
		id = NTR_future_planning_committee
		icon = GFX_goal_riv_atom
		
		relative_position_id = NTR_regulatory_economics
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_laggards_do_not_win
		}
		
		prerequisite = {
			focus = NTR_prospecting_the_north
		}
		
		prerequisite = {
			focus = NTR_universal_education
		}
		
		prerequisite = {
			focus = NTR_new_foundries_and_steelworks
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_future_planning_committee"
			
			unlock_decision_tooltip = {
				decision = NTR_investment_in_industry
				show_effect_tooltip = yes
			}
			
			unlock_decision_tooltip = {
				decision = NTR_investment_in_electronics
				show_effect_tooltip = yes
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.75
				
				OR = {
					check_variable = { NTR_army_AI_factor > 2 }
					check_variable = { NTR_navy_AI_factor > 2 }
				}
			}
			
			modifier = {
				factor = 0.5
				
				OR = {
					check_variable = { NTR_army_AI_factor > 3 }
					check_variable = { NTR_navy_AI_factor > 3 }
				}
			}
		}
	}

### 3rd level ###

	shared_focus = {
		id = NTR_economic_miracle
		icon = GFX_focus_generic_industry_2
		
		relative_position_id = NTR_future_planning_committee
		x = 0
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_scase
		}
		
		prerequisite = {
			focus = NTR_efficient_mining
		}
		
		prerequisite = {
			focus = NTR_future_planning_committee
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available = {
			does_not_has_poverty = yes
			
			OR = {
				AND = {
					has_government = democratic
					
					OR = {
						NTR_SRS_integration_completed = yes
						
						custom_trigger_tooltip = {
							tooltip = NTR_basic_trade_decisions_completed_tooltip
							
							check_variable = { NTR_external_links > 4 }
						}
					}
				}
				
				AND = {
					has_government = communism
					
					has_completed_focus = NTR_help_from_comrades
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_economic_miracle"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				swap_ideas = {
					remove_idea = outdated_industry
					add_idea = outdated_industry2
				}
			}
			
			else = {
				custom_effect_tooltip = NTR_outdated_tooltip
				
				hidden_effect = {
					clr_country_flag = can_improve_poverty
					
					country_event = Ntribes.21
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

### 3rd level (left) ###

	shared_focus = {
		id = NTR_the_common_examination
		icon = GFX_goal_bookstack
		
		relative_position_id = NTR_economic_miracle
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_economic_miracle
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_common_examination"
			
			custom_effect_tooltip = decrease_illiteracy_tt
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					
					SRS = {
						NOT = { has_idea = lack_of_scientists3 }
					}
				}
				
				country_event = {
					id = Ntribes.20
					days = 90
					random = 360
				}
			}
			
			else = {
				country_event = {
					id = Ntribes.20
					days = 120
					random = 480
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_electronic_eyes_at_the_sky
		icon = GFX_goal_generic_radar
		
		relative_position_id = NTR_the_common_examination
		x = -1
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_the_common_examination
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_electronic_eyes_at_the_sky"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = radar_tech_bonus
					bonus = 1
					uses = 2
					category = radar_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = radar_tech_bonus
					bonus = 0.75
					uses = 2
					category = radar_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_electronic_riddling
		icon = GFX_goal_goal_machine
		
		relative_position_id = NTR_electronic_eyes_at_the_sky
		x = -1
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_electronic_eyes_at_the_sky
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_electronic_riddling"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1
					category = encryption_tech
				}
				
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 1
					category = decryption_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 0.75
					category = encryption_tech
				}
				
				add_tech_bonus = {
					name = codebreaking_bonus
					bonus = 0.75
					category = decryption_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

### 3rd level (right) ###

	shared_focus = {
		id = NTR_from_towns_to_cities
		icon = GFX_goal_ITA_urban
		
		relative_position_id = NTR_economic_miracle
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_economic_miracle
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_from_towns_to_cities"
			
			unlock_decision_category_tooltip = NTR_country_development_category
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.25
				
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = no
					}
				}
			}
			
			modifier = {
				factor = 0.25
				
				any_of_scopes = {
					array = core_states
					
					NOT = { is_controlled_by = ROOT }
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_the_common_examination }
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_blood_of_war
		icon = GFX_goal_oil_derrick
		
		relative_position_id = NTR_from_towns_to_cities
		x = 1
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_from_towns_to_cities
		}
		
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "Waking the Tiger" }
				}
				
				has_political_power > 150
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_blood_of_war"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}
			
			else = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 0.75
					uses = 2
					category = synth_resources
				}
			}
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				custom_effect_tooltip = NTR_oil_fields_development_tooltip
			}
			
			else = {
				add_political_power = -150
				
				562 = {
					add_resource = {
						type = oil
						amount = 12
					}
					
					hidden_effect = {
						set_state_flag = liftauf_oil_developed
					}
				}
				
				563 = {
					add_resource = {
						type = oil
						amount = 16
					}
					
					hidden_effect = {
						set_state_flag = vastmush_oil_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.5
			}
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.25
			}
		}
	}
	
	shared_focus = {
		id = NTR_improve_oil_refining
		icon = GFX_goal_oil
		
		relative_position_id = NTR_the_blood_of_war
		x = 1
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_the_blood_of_war
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_improve_oil_refining"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}
			
			else = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 0.75
					uses = 2
					category = synth_resources
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.5
			}
			
			modifier = {
				factor = 2
				
				fuel_ratio < 0.25
			}
		}
	}

# Core (late) #

	shared_focus = {
		id = NTR_expanses_of_the_north
		icon = GFX_goal_generic_production
		
		relative_position_id = NTR_economic_miracle
		x = 0
		y = 2
		
		cost = 10
		
		prerequisite = {
			focus = NTR_the_common_examination
		}
		
		prerequisite = {
			focus = NTR_from_towns_to_cities
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expanses_of_the_north"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				every_owned_state = {
					limit = {
						is_core_of = ROOT
						
						NOT = { state = 677 }
					}
					
					add_extra_state_shared_building_slots = 1
				}
				
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						
						NOT = { state = 677 }
					}
					
					add_extra_state_shared_building_slots = 1
					
					OWNER = {
						random_owned_state = {
							limit = {
								is_core_of = ROOT
								
								NOT = {
									OR = {
										state = 677
										state = PREV.PREV
									}
								}
							}
							
							add_extra_state_shared_building_slots = 1
							
							OWNER = {
								random_owned_state = {
									limit = {
										is_core_of = ROOT
										
										NOT = {
											OR = {
												state = 677
												state = PREV.PREV
												state = PREV.PREV.PREV.PREV
											}
										}
									}
									
									add_extra_state_shared_building_slots = 1
								}
							}
						}
					}
				}
			}
			
			else = {
				every_owned_state = {
					limit = {
						is_core_of = ROOT
						
						NOT = {
							is_core_of = SRS
							
							state = 677
						}
					}
					
					add_extra_state_shared_building_slots = 1
				}
				
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						
						NOT = {
							is_core_of = SRS
							
							state = 677
						}
					}
					
					add_extra_state_shared_building_slots = 1
					
					OWNER = {
						random_owned_state = {
							limit = {
								is_core_of = ROOT
								
								NOT = {
									is_core_of = SRS
									
									OR = {
										state = 677
										state = PREV.PREV
									}
								}
							}
							
							add_extra_state_shared_building_slots = 1
							
							OWNER = {
								random_owned_state = {
									limit = {
										is_core_of = ROOT
										
										NOT = {
											is_core_of = SRS
											
											OR = {
												state = 677
												state = PREV.PREV
												state = PREV.PREV.PREV.PREV
											}
										}
									}
									
									add_extra_state_shared_building_slots = 1
								}
							}
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}

# War-focused subclusters #

	shared_focus = {
		id = NTR_warriors_of_a_modern_era
		icon = GFX_focus_indy_generic_political
		
		relative_position_id = NTR_expanses_of_the_north
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_expanses_of_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_warriors_of_a_modern_era"
			
			add_ideas = NTR_preparing_for_war
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_new_north
		icon = GFX_COS_Ferrer_Coup
		
		relative_position_id = NTR_expanses_of_the_north
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_expanses_of_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_new_north"
			
			if = {
				limit = {
					has_government = communism
				}
				
				if = {
					limit = {
						has_country_leader = { name = "Northland General Congress" ruling_only = yes }
					}
					
					# choose and modify one SRS military-focused idea for NTR #???
				}
				
				else = {
					swap_ideas = { # previous swap #???
						remove_idea = NTR_a_fledgling_modern_army
						add_idea = NTR_centralized_army_communism
					}
				}
			}
			
			else = {
				swap_ideas = { # previous swap #???
					remove_idea = NTR_a_fledgling_modern_army
					add_idea = NTR_one_nation_in_harmony
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
		}
	}

# Navy-focused subcluster #

	shared_focus = {
		id = NTR_naval_investments
		icon = GFX_goal_generic_construct_naval_dockyard
		
		relative_position_id = NTR_warriors_of_a_modern_era
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_warriors_of_a_modern_era
		}
		
		prerequisite = {
			focus = NTR_a_new_north
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_naval_investments"
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = {
					add_extra_state_shared_building_slots = 1
					
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					
					hidden_effect = {
						set_state_flag = NTR_SRS_the_bluffhead_harbour_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						check_variable = { NTR_army_AI_factor > 2 }
						
						NOT = { has_completed_focus = NTR_preparations_for_a_total_defense }
					}
					
					AND = {
						check_variable = { NTR_army_AI_factor > 3 }
						
						NOT = { has_completed_focus = NTR_defensive_strongpoints }
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_northern_frontier
		icon = GFX_focus_generic_coastal_fort
		
		relative_position_id = NTR_naval_investments
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_naval_investments
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = { is_owned_and_controlled_by = ROOT }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_northern_frontier"
			
			562 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 1307
				}
				
				hidden_effect = {
					if = {
						limit = {
							any_province_building_level = {
								building = coastal_bunker
								level < 5 # 0-4
								province = {
									id = 1307
								}
							}
						}
						
						if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_2
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											has_game_rule = {
												rule = RULE_MAXIMUM_FORT_LEVEL
												option = level_3
											}
										}
									}
									
									if = {
										limit = {
											any_province_building_level = {
												building = coastal_bunker
												level > 3 # 4
												province = {
													id = 1307
												}
											}
											
											NOT = {
												has_game_rule = {
													rule = RULE_MAXIMUM_FORT_LEVEL
													option = level_4
												}
											}
										}
										
										set_building_level = {
											type = coastal_bunker
											level = 5
											instant_build = yes
											province = 1307
										}
									}
									
									else = {
										# nothing (game rule or big construction cost)
									}
								}
								
								else = {
									set_building_level = {
										type = coastal_bunker
										level = 3
										instant_build = yes
										province = 1307
									}
								}
							}
							
							else = {
								set_building_level = {
									type = coastal_bunker
									level = 2
									instant_build = yes
									province = 1307
								}
							}
						}
						
						else = {
							set_building_level = {
								type = coastal_bunker
								level = 1
								instant_build = yes
								province = 1307
							}
						}
					}
					
					else = {
						# nothing (big construction cost)
					}
				}
			}
			
			563 = {
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 497
				}
				
				hidden_effect = {
					if = {
						limit = {
							any_province_building_level = {
								building = coastal_bunker
								level < 4 # 0-3
								province = {
									id = 497
								}
							}
						}
						
						if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_2
										}
									}
								}
								
								if = {
									limit = {
										any_province_building_level = {
											building = coastal_bunker
											level > 2 # 3
											province = {
												id = 497
											}
										}
										
										NOT = {
											has_game_rule = {
												rule = RULE_MAXIMUM_FORT_LEVEL
												option = level_3
											}
										}
									}
									
									set_building_level = {
										type = coastal_bunker
										level = 4
										instant_build = yes
										province = 497
									}
								}
								
								else = {
									# nothing (game rule or big construction cost)
								}
							}
							
							else = {
								set_building_level = {
									type = coastal_bunker
									level = 2
									instant_build = yes
									province = 497
								}
							}
						}
						
						else = {
							set_building_level = {
								type = coastal_bunker
								level = 1
								instant_build = yes
								province = 497
							}
						}
					}
					
					else = {
						# nothing (big construction cost)
					}
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				542 = {
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 1808
					}
					
					hidden_effect = {
						if = {
							limit = {
								any_province_building_level = {
									building = coastal_bunker
									level < 4 # 0-3
									province = {
										id = 1808
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_1
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											has_game_rule = {
												rule = RULE_MAXIMUM_FORT_LEVEL
												option = level_2
											}
										}
									}
									
									if = {
										limit = {
											any_province_building_level = {
												building = coastal_bunker
												level > 2 # 3
												province = {
													id = 1808
												}
											}
											
											NOT = {
												has_game_rule = {
													rule = RULE_MAXIMUM_FORT_LEVEL
													option = level_3
												}
											}
										}
										
										set_building_level = {
											type = coastal_bunker
											level = 4
											instant_build = yes
											province = 1808
										}
									}
									
									else = {
										# nothing (game rule or big construction cost)
									}
								}
								
								else = {
									set_building_level = {
										type = coastal_bunker
										level = 2
										instant_build = yes
										province = 1808
									}
								}
							}
							
							else = {
								set_building_level = {
									type = coastal_bunker
									level = 1
									instant_build = yes
									province = 1808
								}
							}
						}
						
						else = {
							# nothing (big construction cost)
						}
					}
					
					hidden_effect = {
						set_state_flag = NTR_SRS_the_bluffhead_harbour_fully_developed
					}
				}
			}
			
			custom_effect_tooltip = NTR_the_northern_frontier_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					AND = {
						check_variable = { NTR_army_AI_factor > 2 }
						
						NOT = { has_completed_focus = NTR_preparations_for_a_total_defense }
					}
					
					AND = {
						check_variable = { NTR_army_AI_factor > 3 }
						
						NOT = { has_completed_focus = NTR_defensive_strongpoints }
					}
				}
			}
		}
	}

# Army- and Airforce-focused subcluster #

	shared_focus = {
		id = NTR_preparations_for_a_total_defense
		icon = GFX_goal_factory_complex
		
		relative_position_id = NTR_a_new_north
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_a_new_north
		}
		
		prerequisite = {
			focus = NTR_warriors_of_a_modern_era
		}
		
		available = {
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							OR = {
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
								
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 1
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = { state = PREV.PREV }
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
								
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = { state = PREV.PREV }
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
											
											OWNER = {
												any_of_scopes = {
													array = core_states
													
													is_controlled_by = ROOT
													
													NOT = {
														OR = {
															state = PREV.PREV
															state = PREV.PREV.PREV.PREV
														}
													}
													
													free_building_slots = {
														building = arms_factory
														size > 0
														include_locked = yes
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
				
				else = {
					custom_trigger_tooltip = {
						tooltip = NTR_try_harder_tooltip
						
						always = no
					}
				}
			}
			
			else = {
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							NOT = { is_core_of = SRS }
							
							OR = {
								free_building_slots = {
									building = arms_factory
									size > 1
									include_locked = yes
								}
								
								AND = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = {
												is_core_of = SRS
												
												state = PREV.PREV
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
							}
						}
					}
				}
				
				else = {
					custom_trigger_tooltip = {
						tooltip = NTR_try_harder_tooltip
						
						always = no
					}
				}
			}
		}
		
		cancel_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preparations_for_a_total_defense"
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							
							OWNER = {
								any_of_scopes = {
									array = core_states
									
									is_controlled_by = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									
									OWNER = {
										any_of_scopes = {
											array = core_states
											
											is_controlled_by = ROOT
											
											NOT = {
												OR = {
													state = PREV.PREV
													state = PREV.PREV.PREV.PREV
												}
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 1
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
								
								OWNER = {
									random_owned_controlled_state = {
										limit = {
											is_core_of = ROOT
											
											NOT = {
												OR = {
													state = PREV.PREV
													state = PREV.PREV.PREV.PREV
												}
											}
											
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
										}
										
										add_extra_state_shared_building_slots = 1
										
										add_building_construction = {
											type = arms_factory
											level = 1
											instant_build = yes
										}
									}
								}
							}
						}
					}
				}
				
				else_if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
							
							OWNER = {
								any_of_scopes = {
									array = core_states
									
									is_controlled_by = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 2
						
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = ROOT
									
									NOT = { state = PREV.PREV }
									
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
							}
						}
					}
				}
				
				else_if = {
					limit = {
						any_of_scopes = {
							array = core_states
							
							is_controlled_by = ROOT
							
							free_building_slots = {
								building = industrial_complex
								size > 2
								include_locked = yes
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = ROOT
							
							free_building_slots = {
								building = arms_factory
								size > 2
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 3
						
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}
			}
			
			else = {
				if = {
					limit = {
						any_owned_state = {
							is_core_of = PREV
							is_controlled_by = PREV
							
							NOT = { is_core_of = SRS }
							
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							
							OWNER = {
								any_owned_state = {
									is_core_of = PREV
									is_controlled_by = PREV
									
									NOT = {
										is_core_of = SRS
										
										state = PREV.PREV
									}
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
							}
						}
					}
					
					random_owned_controlled_state = {
						limit = {
							is_core_of = PREV
							
							NOT = { is_core_of = SRS }
							
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 1
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						
						OWNER = {
							random_owned_controlled_state = {
								limit = {
									is_core_of = PREV
									
									NOT = {
										is_core_of = SRS
										
										state = PREV.PREV
									}
									
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
								}
								
								add_extra_state_shared_building_slots = 1
								
								add_building_construction = {
									type = arms_factory
									level = 1
									instant_build = yes
								}
							}
						}
					}
				}
				
				else = {
					random_owned_controlled_state = {
						limit = {
							is_core_of = PREV
							
							free_building_slots = {
								building = industrial_complex
								size > 1
								include_locked = yes
							}
						}
						
						add_extra_state_shared_building_slots = 2
						
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_war_construction_AI_factor
				
				has_variable = NTR_war_construction_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_defensive_strongpoints
		icon = GFX_goal_generic_construct_military
		
		relative_position_id = NTR_preparations_for_a_total_defense
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_preparations_for_a_total_defense
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_defensive_strongpoints"
			
			562 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				
				hidden_effect = {
					if = { # 4 max
						limit = {
							any_province_building_level = {
								building = bunker
								level < 3 # 0-2
								province = {
									id = 1307
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 1307
								}
							}
						}
						
						else_if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_2
								}
							}
							
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									id = 1307
								}
							}
						}
						
						else_if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_3
								}
							}
							
							set_building_level = {
								type = bunker
								level = 3
								instant_build = yes
								province = {
									id = 1307
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 4
								instant_build = yes
								province = {
									id = 1307
								}
							}
						}
					}
					
					else = { # +1 max
						if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 4 # 3
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_3
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 4
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = normal
								}
							}
							
							add_building_construction = {
								type = bunker
								level = 1
								instant_build = yes
								province = 1307
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 5 # 4
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_4
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 5
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 6 # 5
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_5
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 6
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 7 # 6
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_6
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 7
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 8 # 7
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_7
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 8
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 9 # 8
									province = {
										id = 1307
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_8
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 9
									instant_build = yes
									province = {
										id = 1307
									}
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_9
									}
								}
							}
							
							set_building_level = {
								type = bunker
								level = 10
								instant_build = yes
								province = {
									id = 1307
								}
							}
						}
					}
				}
			}
			
			563 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				
				hidden_effect = {
					if = { # 3 max
						limit = {
							any_province_building_level = {
								building = bunker
								level < 3 # 0-2
								province = {
									id = 497
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 497
								}
							}
						}
						
						else_if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_2
								}
							}
							
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									id = 497
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 3
								instant_build = yes
								province = {
									id = 497
								}
							}
						}
					}
					
					else = {
						if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 4 # 3
									province = {
										id = 497
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_3
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 4
									instant_build = yes
									province = {
										id = 497
									}
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 5 # 4
									province = {
										id = 497
									}
								}
								
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_4
									}
								}
							}
							
							set_building_level = {
								type = bunker
								level = 5
								instant_build = yes
								province = {
									id = 497
								}
							}
						}
						
						else_if = {
							limit = {
								any_province_building_level = {
									building = bunker
									level < 6 # 5
									province = {
										id = 497
									}
								}
								
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_5
									}
								}
							}
							
							set_building_level = {
								type = bunker
								level = 6
								instant_build = yes
								province = {
									id = 497
								}
							}
						}
						
						else = {
							# nothing (big construction cost)
						}
					}
				}
			}
			
			if = {
				limit = {
					574 = { is_owned_and_controlled_by = ROOT }
				}
				
				574 = {
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
					
					hidden_effect = {
						if = { # 3 max
							limit = {
								any_province_building_level = {
									building = bunker
									level < 3 # 0-2
									province = {
										id = 7654
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
								
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else_if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
								
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
						}
						
						else = {
							if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 4 # 3
										province = {
											id = 7654
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											has_game_rule = {
												rule = RULE_MAXIMUM_FORT_LEVEL
												option = level_3
											}
										}
									}
									
									set_building_level = {
										type = bunker
										level = 4
										instant_build = yes
										province = {
											id = 7654
										}
									}
								}
							}
							
							else_if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 5 # 4
										province = {
											id = 7654
										}
									}
									
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_4
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 5
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else_if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 6 # 5
										province = {
											id = 7654
										}
									}
									
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_5
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 6
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else = {
								# nothing (big construction cost)
							}
						}
					}
				}
			}
			
			if = {
				limit = {
					has_country_leader = { name = "Northland General Congress" ruling_only = yes }
				}
				
				if = {
					limit = {
						522 = {
							NOT = { has_state_flag = NTR_SRS_aviation_corps_created }
						}
					}
					
					522 = {
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
						
						hidden_effect = {
							set_state_flag = NTR_SRS_aviation_corps_created
						}
					}
				}
				
				hidden_effect = {
					522 = {
						if = { # 3 max
							limit = {
								any_province_building_level = {
									building = bunker
									level < 3 # 0-2
									province = {
										id = 7654
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
								
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else_if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
								
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
						}
						
						else = {
							if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 4 # 3
										province = {
											id = 7654
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											has_game_rule = {
												rule = RULE_MAXIMUM_FORT_LEVEL
												option = level_3
											}
										}
									}
									
									set_building_level = {
										type = bunker
										level = 4
										instant_build = yes
										province = {
											id = 7654
										}
									}
								}
							}
							
							else_if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 5 # 4
										province = {
											id = 7654
										}
									}
									
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_4
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 5
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else_if = {
								limit = {
									any_province_building_level = {
										building = bunker
										level < 6 # 5
										province = {
											id = 7654
										}
									}
									
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_5
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 6
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else = {
								# nothing (big construction cost)
							}
						}
					}
				}
			}
			
			custom_effect_tooltip = NTR_defensive_strongpoints_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				OR = {
					562 = {
						NOT = { is_fully_controlled_by = ROOT }
					}
					
					563 = {
						NOT = { is_fully_controlled_by = ROOT }
					}
				}
			}
		}
	}

### Modern society cluster ###

# Core (early) #

	shared_focus = {
		id = NTR_the_future_looks_bright
		icon = GFX_focus_generic_industry_3
		
		relative_position_id = NTR_expanses_of_the_north
		x = 0
		y = 2
		
		cost = 10
		
		prerequisite = {
			focus = NTR_expanses_of_the_north
		}
		
		bypass = {
			has_modern_society = yes
		}
		
		available = {
			does_not_has_poverty = yes
			
			OR = {
				AND = {
					has_government = democratic
					
					has_country_flag = NTR_modern_society_unlocked_flag
				}
				
				AND = {
					has_government = communism
					
					OR = {
						has_completed_focus = NTR_peace_and_tranquility #???
						has_completed_focus = NTR_the_future_is_calling
					}
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_future_looks_bright"
			
			custom_effect_tooltip = NTR_modern_tooltip
			
			hidden_effect = {
				country_event = Ntribes.23
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 500
		}
	}
	
	shared_focus = {
		id = NTR_the_scientific_frontier
		icon = GFX_focus_research2
		
		relative_position_id = NTR_the_future_looks_bright
		x = -1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_the_future_looks_bright
		}
		
		bypass = {
			has_idea = proper_science_base
		}
		
		available = {
			has_modern_society = yes
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_scientific_frontier"
			
			swap_ideas = {
				remove_idea = big_science_base
				add_idea = proper_science_base
			}
			
			hidden_effect = {
				set_country_flag = proper_science_base_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
		}
	}
	
	shared_focus = {
		id = NTR_over_the_horizon
		icon = GFX_goal_supremacy_of_will
		
		relative_position_id = NTR_the_future_looks_bright
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_the_future_looks_bright
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			has_modern_society = yes
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_over_the_horizon"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

# Research subcluster #

	shared_focus = {
		id = NTR_weapons_of_the_future
		icon = GFX_focus_rocketry
		
		relative_position_id = NTR_the_scientific_frontier
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		
		prerequisite = {
			focus = NTR_over_the_horizon
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_weapons_of_the_future"
			
			add_tech_bonus = {
				name = jet_rocket_bonus
				bonus = 1
				uses = 2
				category = rocketry
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_extreme_measures
		icon = GFX_focus_wonderweapons
		
		relative_position_id = NTR_over_the_horizon
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_over_the_horizon
		}
		
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_extreme_measures"
			
			add_tech_bonus = {
				name = nuclear_bonus
				bonus = 1
				category = nuclear
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}

# Core (late) #

	shared_focus = {
		id = NTR_the_modern_tribe
		icon = GFX_goal_rct_expand_the_city
		
		relative_position_id = NTR_the_future_looks_bright
		x = 0
		y = 2
		
		cost = 10
		
		prerequisite = {
			focus = NTR_the_scientific_frontier
		}
		
		prerequisite = {
			focus = NTR_over_the_horizon
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_modern_tribe"
			
			add_ideas = NTR_a_northern_paradise
			
			hidden_effect = {
				if = { #???
					limit = {
						has_government = democratic
					}
					
					country_event = {
						id = Ntribes.139
						days = 14
						random = 336
					}
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}
	
	shared_focus = {
		id = NTR_millennium_dawn
		icon = GFX_goal_government_icon
		
		relative_position_id = NTR_the_modern_tribe
		x = 0
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_the_modern_tribe
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_millennium_dawn"
			
			custom_effect_tooltip = NTR_millennium_dawn_tooltip
			
			# MB show them?
			
			hidden_effect = {
				if = { #???
					limit = {
						has_government = democratic
					}
					
					country_event = {
						id = Ntribes.139
						days = 14
						random = 336
					}
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

##################################################
############## Military branch (H&C) #############
##################################################

### Core (early) ###

	shared_focus = {
		id = NTR_establish_a_hierarchy
		icon = GFX_goal_officers
		
		x = 43
		y = 0
		
		cost = 8
		
		available = {
			has_completed_focus = NTR_the_coronation
			
			if = {
				limit = {
					has_government = democratic
				}
				
				democratic > 0.5
			}
			
			else = {
				communism > 0.5
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_a_hierarchy"
			
			swap_ideas = {
				remove_idea = NTR_a_military_of_tribal_warriors
				add_idea = NTR_army_of_the_past_millennium
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

### Army branch ###

# Doctrines, Designers and Staff #

	shared_focus = {
		id = NTR_a_true_army
		icon = GFX_goal_military_mission_soldier
		
		relative_position_id = NTR_establish_a_hierarchy
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_true_army"
			
			army_experience = 20
			
			if = {
				limit = {
					has_government = democratic
					
					NOT = {
						any_army_leader = {
							has_id = 13452
						}
					}
				}
				
				custom_effect_tooltip = ENTER
				
				create_corps_commander = { # griffon (can be neu general)
					name = "Folki Haug"
					picture = "Governor.tga" # portrait #???
					id = 13452
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 2
					traits = { hill_fighter politically_connected }
				}
			}
			
			# MB commie NTR ask SRS to transfer their weakest commanders? #???
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_theorist_1
			
			hidden_effect = {
				set_country_flag = NTR_military_theorist_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_standardize_military_designs
		icon = GFX_goal_generic_military_sphere
		
		relative_position_id = NTR_a_true_army
		x = -1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_standardize_military_designs"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_infantry_equipment_manufacturer
			show_ideas_tooltip = NTR_artillery_equipment_manufacturer
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 400
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 200
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 100
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_centralized_northern_army
		icon = GFX_goal_military_mission_pony
		
		relative_position_id = NTR_a_true_army
		x = 1
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_centralized_northern_army"
			
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = NTR_chief_of_army_1
			show_ideas_tooltip = NTR_chief_of_army_2
			show_ideas_tooltip = NTR_chief_of_army_3
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_1
			show_ideas_tooltip = NTR_military_high_command_2
			show_ideas_tooltip = NTR_military_high_command_3
			
			hidden_effect = {
				set_country_flag = NTR_army_chiefs_and_high_command_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 400
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 200
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 100
			}
		}
	}
	
	shared_focus = {
		id = NTR_modern_military_thinking
		icon = GFX_goal_generic_army_doctrines
		
		relative_position_id = NTR_a_true_army
		x = 0
		y = 2
		
		cost = 7
		
		prerequisite = {
			focus = NTR_a_centralized_northern_army
		}
		
		prerequisite = {
			focus = NTR_standardize_military_designs
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modern_military_thinking"
			
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1
				category = cat_superior_firepower
				category = cat_grand_battle_plan
				category = cat_mass_assault
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				amount_research_slots < 1
			}
		}
	}

# Equipment #

	shared_focus = {
		id = NTR_new_rifles
		icon = GFX_goal_generic_small_arms
		
		relative_position_id = NTR_a_true_army
		x = -3
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		available = {
			has_tech = pre_gw_artillery
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_rifles"
			
			if = {
				limit = {
					NOT = {
						OR = {
							has_tech = infantry_weapons
							is_researching_technology = infantry_weapons
						}
					}
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					technology = infantry_weapons
				}
			}
			
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 0.75
					category = infantry_weapons
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				amount_research_slots < 1
			}
		}
	}
	
	shared_focus = {
		id = NTR_guns_to_shake_the_earth
		icon = GFX_goal_artillery
		
		relative_position_id = NTR_new_rifles
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_rifles
		}
		
		available = {
			has_tech = infantry_weapons
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_guns_to_shake_the_earth"
			
			if = {
				limit = {
					NOT = {
						OR = {
							has_tech = gw_artillery
							is_researching_technology = gw_artillery
						}
					}
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					technology = gw_artillery
				}
				
				effect_tooltip = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						category = artillery
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						technology = interwar_artillery
						technology = artillery1
						technology = artillery2
						technology = artillery3
						technology = artillery4
						technology = artillery5
						technology = artillery_a
						technology = artillery_b
						technology = artillery_c
						technology = artillery_d
						technology = artillery_e
					}
				}
			}
			
			else = {
				effect_tooltip = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						uses = 2
						category = artillery
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						uses = 2
						technology = interwar_artillery
						technology = artillery1
						technology = artillery2
						technology = artillery3
						technology = artillery4
						technology = artillery5
						technology = artillery_a
						technology = artillery_b
						technology = artillery_c
						technology = artillery_d
						technology = artillery_e
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_revise_combat_tactics
		icon = GFX_focus_secret_rearmament
		
		relative_position_id = NTR_new_rifles
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_rifles
		}
		
		available = {
			has_tech = infantry_weapons
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_revise_combat_tactics"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 2
				technology = support_weapons
				technology = support_weapons2
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_practical_application_of_crystals
		icon = GFX_goal_magical_weapon_focus
		
		relative_position_id = NTR_revise_combat_tactics
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		
		available = {
			has_tech = infantry_weapons2
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_practical_application_of_crystals"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				technology = magical_weapons
				technology = magical_weapons1
				technology = magical_weapons2
				technology = magical_weapons3
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_and_even_more }
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_wrath_of_the_north }
			}
		}
	}
	
	shared_focus = {
		id = NTR_specialized_batalions
		icon = GFX_goal_anti_tank
		
		relative_position_id = NTR_guns_to_shake_the_earth
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_guns_to_shake_the_earth
		}
		
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		
		available = {
			has_tech = gw_artillery
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialized_batalions"
			
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1
				category = cat_anti_air
			}
			
			add_tech_bonus = {
				name = arty_bonus
				bonus = 1
				category = cat_anti_tank
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					NOT = { has_completed_focus = NTR_new_era_designs }
					NOT = { has_completed_focus = NTR_millennial_tactics }
					NOT = { has_completed_focus = NTR_northern_elite }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_operative_battalions
		icon = GFX_goal_generic_army_motorized
		
		relative_position_id = NTR_practical_application_of_crystals
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_practical_application_of_crystals
		}
		
		prerequisite = {
			focus = NTR_specialized_batalions
		}
		
		bypass = {
			has_tech = motorised_infantry
		}
		
		available = {
			has_tech = assembly_line_production
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_operative_battalions"
			
			set_technology = {
				motorised_infantry = 1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_wrath_of_the_north }
					NOT = { has_completed_focus = NTR_new_era_designs }
					NOT = { has_completed_focus = NTR_millennial_tactics }
					NOT = { has_completed_focus = NTR_northern_elite }
				}
			}
		}
	}

# Specialization #

	shared_focus = {
		id = NTR_the_panoply_of_war
		icon = GFX_goal_generic_occupy_states_ongoing_war
		
		relative_position_id = NTR_a_true_army
		x = 3
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_a_true_army
		}
		
		bypass = {
			has_tech = tech_support
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_panoply_of_war"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1
				technology = tech_support
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				amount_research_slots < 1
			}
		}
	}
	
	shared_focus = {
		id = NTR_army_reorganization_plan
		icon = GFX_focus_chi_army_reform
		
		relative_position_id = NTR_the_panoply_of_war
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_panoply_of_war
		}
		
		available = {
			has_tech = tech_support
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_army_reorganization_plan"
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 1
				category = engineers_tech
			}
			
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 0.75
				uses = 1
				category = recon_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_making_the_most_of_our_potential
		icon = GFX_goal_generic_magic
		
		relative_position_id = NTR_the_panoply_of_war
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_the_panoply_of_war
		}
		
		available = {
			has_tech = tech_support
			
			custom_trigger_tooltip = {
				tooltip = not_has_communal_society_tt
				
				check_variable = { EaW_society_development_var > 2 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_making_the_most_of_our_potential"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.75
				category = mountaineers_tech
			}
			
			effect_tooltip = {
				add_tech_bonus = {
					name = pegasi_bonus
					bonus = 0.75
					category = pegasi_tech
				}
			}
			
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.5
				category = unicorn_tech
			}
			
			hidden_effect = {
				add_tech_bonus = {
					name = pegasi_bonus
					bonus = 0.75
					technology = tech_pegasi
					technology = tech_pegasi2
					technology = tech_pegasi3
					technology = tech_pegasi_a
					technology = tech_pegasi_b
					technology = tech_pegasi_c
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_and_even_more
		icon = GFX_goal_griffon_armor
		
		relative_position_id = NTR_making_the_most_of_our_potential
		x = 0
		y = 1
		
		cost = 5
		
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available = {
			has_tech = tech_mountaineers
			has_tech = tech_pegasi
			has_tech = tech_unicorn
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_and_even_more"
			
			custom_effect_tooltip = NTR_military_griffon_decisions_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_tech = tech_pegasi }
			}
		}
	}
	
	shared_focus = {
		id = NTR_special_forces_trainings
		icon = GFX_goal_generic_more_territorial_claims
		
		relative_position_id = NTR_army_reorganization_plan
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_army_reorganization_plan
		}
		
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available = {
			has_tech = tech_engineers
			has_tech = tech_recon
			has_tech = tech_mountaineers
			has_tech = tech_pegasi
			has_tech = tech_unicorn
			
			custom_trigger_tooltip = {
				tooltip = not_has_agrarian_society_tt
				
				check_variable = { EaW_society_development_var > 3 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_special_forces_trainings"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.5
				uses = 3
				technology = tech_special_forces
				technology = advanced_special_forces
				technology = improved_special_forces
				technology = extreme_environment_training
				technology = survival_training
				technology = elite_forces
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_northern_elite
		icon = GFX_focus_eng_special_air_service
		
		relative_position_id = NTR_and_even_more
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_and_even_more
		}
		
		prerequisite = {
			focus = NTR_special_forces_trainings
		}
		
		available = {
			has_tech = elite_forces
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_northern_elite"
			
			set_technology = {
				NTR_northern_elite_technology = 1
			}
			
			custom_effect_tooltip = NTR_northern_elite_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

# Spirits and Upgrades #

	shared_focus = {
		id = NTR_wrath_of_the_north
		icon = GFX_goal_forest_spirit
		
		relative_position_id = NTR_modern_military_thinking
		x = 0
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_revise_combat_tactics
		}
		
		prerequisite = {
			focus = NTR_a_centralized_northern_army
		}
		
		prerequisite = {
			focus = NTR_making_the_most_of_our_potential
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_wrath_of_the_north"
			
			add_ideas = NTR_wrath_of_the_north_idea
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_era_designs
		icon = GFX_focus_generic_combined_arms
		
		relative_position_id = NTR_practical_application_of_crystals
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_practical_application_of_crystals
		}
		
		prerequisite = {
			focus = NTR_modern_military_thinking
		}
		
		available = {
			OR = {
				has_idea = NTR_infantry_equipment_manufacturer
				has_idea = NTR_artillery_equipment_manufacturer
			}
			
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_era_designs"
			
			if = {
				limit = {
					has_idea = NTR_infantry_equipment_manufacturer
				}
				
				swap_ideas = {
					remove_idea = NTR_infantry_equipment_manufacturer
					add_idea = NTR_material_manufacturer
				}
			}
			
			else_if = {
				limit = {
					has_idea = NTR_artillery_equipment_manufacturer
				}
				
				swap_ideas = {
					remove_idea = NTR_artillery_equipment_manufacturer
					add_idea = NTR_material_manufacturer
				}
			}
			
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = NTR_material_manufacturer
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_millennial_tactics
		icon = GFX_goal_generic_special_forces
		
		relative_position_id = NTR_and_even_more
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_and_even_more
		}
		
		prerequisite = {
			focus = NTR_modern_military_thinking
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = not_has_pre_industrial_society_tt
				
				check_variable = { EaW_society_development_var > 4 }
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_millennial_tactics"
			
			add_ideas = NTR_old_tactics_in_a_new_wrapper
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_wrath_of_the_north }
				
				check_variable = { num_of_battalions_with_type@mountaineers < 1 }
				check_variable = { num_of_battalions_with_type@marine < 1 }
				check_variable = { num_of_battalions_with_type@paratrooper < 1 }
				check_variable = { num_of_battalions_with_type@pegasi < 1 }
				check_variable = { num_of_battalions_with_type@unicorn_company < 1 } #???
				check_variable = { num_of_battalions_with_type@knights < 1 }
			}
		}
	}

### Navy branch ###

# Core #

	shared_focus = {
		id = NTR_founding_the_northern_navy
		icon = GFX_goal_naval_effort
		
		relative_position_id = NTR_establish_a_hierarchy
		x = -9
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			562 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_founding_the_northern_navy"
			
			navy_experience = 50
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_theorist_2
			
			custom_effect_tooltip = ENTER
			
			562 = {
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				
				add_building_construction = {
					type = naval_base
					level = 1
					instant_build = yes
					province = 1307
				}
			}
			
			hidden_effect = {
				set_country_flag = NTR_naval_theorist_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 150
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_wrath_of_the_north }
			}
		}
	}

# Destroyers and Submarines #

	shared_focus = {
		id = NTR_escort_ships
		icon = GFX_goal_generic_navy_anti_submarine
		
		relative_position_id = NTR_founding_the_northern_navy
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_escort_ships"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_light }
					}
					
					add_tech_bonus = {
						name = dd_bonus
						bonus = 1
						technology = early_ship_hull_light
					}
				}
				
				else = {
					add_tech_bonus = {
						name = dd_bonus
						bonus = 0.75
						category = dd_tech
					}
				}
			}
			
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_destroyer }
					}
					
					add_tech_bonus = {
						name = dd_bonus
						bonus = 1
						technology = early_destroyer
					}
				}
				
				else = {
					add_tech_bonus = {
						name = dd_bonus
						bonus = 0.75
						category = dd_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_cheap_but_effective
		icon = GFX_goal_generic_navy_submarine
		
		dynamic = yes
		
		relative_position_id = NTR_founding_the_northern_navy
		x = -3
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_cheap_but_effective"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = {
							OR = {
								has_tech = basic_torpedo
								is_researching_technology = basic_torpedo
							}
						}
					}
					
					add_tech_bonus = {
						name = torpedo_tech_bonus
						bonus = 1
						technology = basic_torpedo
					}
				}
				
				else = {
					add_tech_bonus = {
						name = torpedo_tech_bonus
						bonus = 0.75
						category = torpedo_tech
					}
				}
			}
			
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_submarine }
					}
					
					add_tech_bonus = {
						name = ss_bonus
						bonus = 1
						technology = early_submarine
					}
				}
				
				else = {
					add_tech_bonus = {
						name = ss_bonus
						bonus = 0.75
						category = ss_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# Vanilla subbranch (DaS) #

	shared_focus = {
		id = NTR_hone_maritime_practices
		icon = GFX_goal_generic_sea_focused_navy
		
		relative_position_id = NTR_escort_ships
		x = -1
		y = 1
		
		cost = 8
		
		allow_branch = {
			NOT = { has_dlc = "Man the Guns" }
		}
		
		prerequisite = {
			focus = NTR_escort_ships
		}
		
		prerequisite = {
			focus = NTR_cheap_but_effective
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_hone_maritime_practices"
			
			add_tech_bonus = {
				name = convoy_defense_bonus
				bonus = 0.75
				category = convoy_defense_tree
			}
			
			add_tech_bonus = {
				name = submarine_doctrine_bonus
				bonus = 0.75
				category = submarine_doctrine
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# "Pony the Gun" subbranch (DaS) #

	shared_focus = {
		id = NTR_anti_submarine_warfare
		icon = GFX_goal_generic_navy_cruiser
		
		relative_position_id = NTR_escort_ships
		x = -1
		y = 1
		
		cost = 7
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_escort_ships
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_anti_submarine_warfare"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_depth_charges
				technology = improved_depth_charges
				technology = advanced_depth_charges
				technology = modern_depth_charges
			}
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.5
				technology = sonar
				technology = improved_sonar
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = early_ship_hull_light
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_battlefield
		icon = GFX_goal_generic_wolf_pack
		
		relative_position_id = NTR_cheap_but_effective
		x = 0
		y = 2
		
		cost = 5
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_cheap_but_effective
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_battlefield"
			
			if = {
				limit = {
					NOT = { has_tech = early_ship_hull_submarine }
				}
				
				add_tech_bonus = {
					name = ss_bonus
					bonus = 1
					technology = early_ship_hull_submarine
				}
			}
			
			else = {
				add_tech_bonus = {
					name = ss_bonus
					bonus = 0.75
					category = ss_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = basic_torpedo
			}
		}
	}

# Light and Heavy Cruisers #

	shared_focus = {
		id = NTR_defenders_of_the_north
		icon = GFX_focus_generic_destroyer
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_defenders_of_the_north"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_cruiser }
					}
					
					add_tech_bonus = {
						name = cl_bonus
						bonus = 1
						technology = early_ship_hull_cruiser
					}
				}
				
				else = {
					add_tech_bonus = {
						name = cl_bonus
						bonus = 0.75
						category = cl_tech
					}
				}
			}
			
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_light_cruiser }
					}
					
					add_tech_bonus = {
						name = cl_bonus
						bonus = 1
						technology = early_ship_hull_cruiser
					}
				}
				
				add_tech_bonus = {
					name = cl_bonus
					bonus = 0.75
					category = cl_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_escort_ships }
			}
		}
	}
	
	shared_focus = {
		id = NTR_fists_of_the_frozen_seas
		icon = GFX_focus_generic_cruiser2
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 3
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available = {
			has_completed_focus = NTR_defenders_of_the_north
			
			has_tech = basic_ship_hull_cruiser
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fists_of_the_frozen_seas"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				effect_tooltip = {
					add_tech_bonus = {
						name = ca_bonus
						bonus = 1
						category = naval_armor
					}
				}
				
				hidden_effect = {
					add_tech_bonus = {
						name = ca_bonus
						bonus = 1
						technology = basic_cruiser_armor_scheme
						technology = improved_cruiser_armor_scheme
						technology = advanced_cruiser_armor_scheme
					}
				}
			}
			
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_heavy_cruiser }
					}
					
					add_tech_bonus = {
						name = ca_bonus
						bonus = 1
						technology = early_heavy_cruiser
					}
				}
				
				else = {
					add_tech_bonus = {
						name = ca_bonus
						bonus = 0.75
						category = ca_tech
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_adapt_guns_for_naval_combat }
			}
		}
	}

# Vanilla subbranch (LaH) #

	shared_focus = {
		id = NTR_build_heavy_shipyards
		icon = GFX_goal_dockyard_generic_psody
		
		relative_position_id = NTR_defenders_of_the_north
		x = 1
		y = 1
		
		cost = 8
		
		allow_branch = {
			NOT = { has_dlc = "Man the Guns" }
		}
		
		prerequisite = {
			focus = NTR_defenders_of_the_north
		}
		
		prerequisite = {
			focus = NTR_fists_of_the_frozen_seas
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
			563 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_build_heavy_shipyards"
			
			562 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# "Pony the Gun" subbranch (LaH) #

	shared_focus = {
		id = NTR_adapt_guns_for_naval_combat
		icon = GFX_focus_indy_plan_z
		
		relative_position_id = NTR_defenders_of_the_north
		x = 1
		y = 1
		
		cost = 6
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_defenders_of_the_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_adapt_guns_for_naval_combat"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_battery
			}
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.5
				technology = basic_secondary_battery
				technology = improved_secondary_battery
				technology = dp_secondary_battery
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { can_research = early_ship_hull_light }
					NOT = { can_research = early_ship_hull_cruiser }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_main_calibers
		icon = GFX_goal_battleship
		
		relative_position_id = NTR_fists_of_the_frozen_seas
		x = 0
		y = 2
		
		cost = 7
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_fists_of_the_frozen_seas
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_main_calibers"
			
			add_tech_bonus = {
				name = asw_tech_bonus
				bonus = 0.75
				technology = basic_light_battery
				technology = improved_light_battery
				technology = advanced_light_battery
			}
			
			add_tech_bonus = {
				name = naval_medium_artillery_bonus
				bonus = 0.75
				technology = basic_medium_battery
				technology = improved_medium_battery
				technology = advanced_medium_battery
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				can_research = basic_battery
			}
		}
	}

# Spirits, Designers, Doctrines, Staff and Specialized Research #

	shared_focus = {
		id = NTR_specialized_naval_production
		icon = GFX_goal_upgrade_reserves
		
		relative_position_id = NTR_founding_the_northern_navy
		x = 0
		y = 2
		
		cost = 10
		
		prerequisite = {
			focus = NTR_founding_the_northern_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialized_naval_production"
			
			add_ideas = NTR_specialized_shipyards
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_naval_manufacturer # make one for dem and one for com #???
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 500
			}
			
			modifier = {
				factor = 0.5
				
				has_political_power < 250
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 125
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					OR = {
						has_completed_focus = NTR_escort_ships
						has_completed_focus = NTR_defenders_of_the_north
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_a_small_but_lethal_navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		
		relative_position_id = NTR_specialized_naval_production
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_specialized_naval_production
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_small_but_lethal_navy"
			
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 0.75
				uses = 2
				category = convoy_defense_tree
				category = submarine_doctrine
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_navy_size = {
					size < 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_apply_army_experience
		icon = GFX_goal_navy_hat_ships
		
		relative_position_id = NTR_specialized_naval_production
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_specialized_naval_production
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_apply_army_experience"
			
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = NTR_chief_of_navy_1
			show_ideas_tooltip = NTR_chief_of_navy_2
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_4
			
			custom_effect_tooltip = ENTER
			
			create_navy_leader = { # pegasi?
				name = "#Somebody"
				picture = "Governor.tga"
				skill = 2
				attack_skill = 1
				defense_skill = 2
				maneuvering_skill = 2
				coordination_skill = 2
				traits = {  } #???
			}
			
			hidden_effect = {
				set_country_flag = NTR_naval_chiefs_and_military_high_command_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 300
			}
			
			modifier = {
				factor = 0.5
				
				has_political_power < 150
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 75
			}
			
			modifier = {
				factor = 0
				
				has_navy_size = {
					size < 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_wanderers_of_the_north
		icon = GFX_goal_battlefleet
		
		relative_position_id = NTR_specialized_naval_production
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_apply_army_experience
		}
		
		prerequisite = {
			focus = NTR_a_small_but_lethal_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_wanderers_of_the_north"
			
			add_ideas = NTR_northern_seas
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# Navy subbranch (MtG) #

	shared_focus = {
		id = NTR_fear_of_the_giants
		icon = GFX_goal_generic_navy_carrier
		
		relative_position_id = NTR_a_small_but_lethal_navy
		x = -1
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_a_small_but_lethal_navy
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fear_of_the_giants"
			
			effect_tooltip = {
				add_tech_bonus = {
					name = naval_mines_bonus
					bonus = 0.75
					uses = 2
					category = naval_mines
				}
			}
			
			hidden_effect = {
				add_tech_bonus = {
					name = naval_mines_bonus
					bonus = 0.75
					uses = 2
					technology = basic_naval_mines
					technology = improved_naval_mines
					technology = advanced_naval_mines
					technology = modern_naval_mines
					technology = submarine_mine_laying
					technology = improved_submarine_mine_laying
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_work_out_crew_exercises
		icon = GFX_goal_generic_amphibious_assault
		
		relative_position_id = NTR_apply_army_experience
		x = 1
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_dlc = "Man the Guns"
		}
		
		prerequisite = {
			focus = NTR_apply_army_experience
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_work_out_crew_exercises"
			
			effect_tooltip = {
				add_tech_bonus = {
					name = naval_training_bonus
					bonus = 0.75
					uses = 2
					category = naval_training
				}
			}
			
			hidden_effect = {
				add_tech_bonus = {
					name = naval_training_bonus
					bonus = 0.75
					uses = 2
					technology = damage_control_1
					technology = damage_control_2
					technology = damage_control_3
					technology = fire_control_methods_2
					technology = fire_control_methods_3
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

### Airforce branch ###

# Core #

	shared_focus = {
		id = NTR_a_northern_airforce
		icon = GFX_goal_generic_build_airforce
		
		relative_position_id = NTR_establish_a_hierarchy
		x = 9
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_establish_a_hierarchy
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_a_northern_airforce"
			
			562 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			
			custom_effect_tooltip = ENTER
			
			air_experience = 20
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_theorist_3
			
			hidden_effect = {
				set_country_flag = NTR_air_warfare_theorist_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}

# Light Air #

	shared_focus = {
		id = NTR_strike_swiftly
		icon = GFX_goal_generic_air_fighter
		
		relative_position_id = NTR_a_northern_airforce
		x = -1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_a_northern_airforce
		}
		
		mutually_exclusive = {
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strike_swiftly"
			
			if = {
				limit = {
					NOT = { has_tech = early_fighter }
				}
				
				set_technology = {
					early_fighter = 1
				}
			}
			
			else = {
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					category = light_fighter
				}
				
				hidden_effect = {
					set_country_flag = NTR_strike_swiftly_flag
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_support_our_warriors
		icon = GFX_focus_chi_flying_tigers
		
		relative_position_id = NTR_strike_swiftly
		x = -1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_strike_swiftly
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_support_our_warriors"
			
			if = {
				limit = {
					NOT = { has_country_flag = NTR_strike_swiftly_flag }
				}
				
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 1
					category = cat_battlefield_support
				}
				
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 0.5
					category = light_fighter
				}
			}
			
			else = {
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 1
					category = cat_battlefield_support
				}
				
				add_tech_bonus = {
					name = air_sup_bonus
					bonus = 0.5
					category = cat_battlefield_support
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_equipment = { fighter_equipment < 1 } 
			}
		}
	}
	
	shared_focus = {
		id = NTR_sky_warriors
		icon = GFX_goal_generic_CAS
		
		relative_position_id = NTR_support_our_warriors
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sky_warriors"
			
			add_tech_bonus = {
				name = CAS_bonus
				bonus = 1
				category = cas_bomber
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_slayers_of_the_giants
		icon = GFX_goal_generic_air_naval_bomber
		
		relative_position_id = NTR_support_our_warriors
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_slayers_of_the_giants"
			
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1
				category = naval_bomber
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}

# Medium and Heavy Air #

	shared_focus = {
		id = NTR_strike_hard
		icon = GFX_goal_generic_air_bomber
		
		relative_position_id = NTR_a_northern_airforce
		x = 1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_a_northern_airforce
		}
		
		mutually_exclusive = {
			focus = NTR_strike_swiftly
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strike_hard"
			
			if = {
				limit = {
					NOT = { has_tech = early_bomber }
				}
				
				set_technology = {
					early_bomber = 1
				}
			}
			
			else = {
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					category = tactical_bomber
				}
				
				hidden_effect = {
					set_country_flag = NTR_strike_hard_flag
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_flying_reavers
		icon = GFX_goal_generic_air_fighter2
		
		relative_position_id = NTR_strike_hard
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_flying_reavers"
			
			if = {
				limit = {
					NOT = { has_country_flag = NTR_strike_hard_flag }
				}
				
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 1
					category = strategic_destruction_tree
				}
				
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 0.5
					category = tactical_bomber
				}
			}
			
			else = {
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 1
					category = strategic_destruction_tree
				}
				
				add_tech_bonus = {
					name = strat_dest_bonus
					bonus = 0.5
					category = strategic_destruction_tree
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 0
				
				has_equipment = { tac_bomber_equipment < 1 } 
			}
		}
	}
	
	shared_focus = {
		id = NTR_fortresses_in_the_sky
		icon = GFX_focus_usa_escort_fighters
		
		relative_position_id = NTR_flying_reavers
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_fortresses_in_the_sky"
			
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				category = cat_heavy_fighter
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_navy_AI_factor
				
				has_variable = NTR_navy_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_sky_giants
		icon = GFX_goal_generic_occupy_start_war
		
		relative_position_id = NTR_flying_reavers
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sky_giants"
			
			add_tech_bonus = {
				name = heavy_bomber_bonus
				bonus = 1
				category = cat_strategic_bomber
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}

# Spirits, Designers, Staff #

	shared_focus = {
		id = NTR_airforce_optimisation
		icon = GFX_goal_generic_air_production
		
		relative_position_id = NTR_a_northern_airforce
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_strike_swiftly
			focus = NTR_strike_hard
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_airforce_optimisation"
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_swiftly
				}
				
				add_ideas = NTR_fighter_focus
			}
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_hard
				}
				
				add_ideas = NTR_focus_on_bombers
			}
			
			else = {
				custom_effect_tooltip = NTR_strike_swiftly_tooltip
				add_ideas = NTR_fighter_focus
				
				custom_effect_tooltip = ENTER
				
				custom_effect_tooltip = NTR_strike_hard_tooltip
				add_ideas = NTR_focus_on_bombers
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_light_airforce_designer
		icon = GFX_focus_YUG_rogozarski
		
		relative_position_id = NTR_airforce_optimisation
		x = -1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_airforce_optimisation
		}
		
		prerequisite = {
			focus = NTR_support_our_warriors
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_light_airforce_designer"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_light_aircraft_manufacturer
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 500
			}
			
			modifier = {
				factor = 0.5
				
				has_political_power < 250
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 125
			}
		}
	}
	
	shared_focus = {
		id = NTR_heavy_airforce_designer
		icon = GFX_focus_CZE_military_aeronautical_institute
		
		relative_position_id = NTR_airforce_optimisation
		x = 1
		y = 1
		
		cost = 4
		
		prerequisite = {
			focus = NTR_airforce_optimisation
		}
		
		prerequisite = {
			focus = NTR_flying_reavers
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_heavy_airforce_designer"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_heavy_aircraft_manufacturer
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 500
			}
			
			modifier = {
				factor = 0.5
				
				has_political_power < 250
			}
			
			modifier = {
				factor = 0.25
				
				has_political_power < 125
			}
		}
	}
	
	shared_focus = {
		id = NTR_an_independent_airforce
		icon = GFX_goal_generic_air_doctrine
		
		relative_position_id = NTR_airforce_optimisation
		x = 0
		y = 2
		
		cost = 5
		
		prerequisite = {
			focus = NTR_light_airforce_designer
			focus = NTR_heavy_airforce_designer
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_an_independent_airforce"
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_swiftly
				}
				
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_chief_of_airforce_1
				
				hidden_effect = {
					set_country_flag = {
						flag = NTR_airforce_chiefs_and_military_high_command_unlocked
						value = 0
					}
				}
			}
			
			if = {
				limit = {
					has_completed_focus = NTR_strike_hard
				}
				
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_chief_of_airforce_3
				
				hidden_effect = {
					set_country_flag = {
						flag = NTR_airforce_chiefs_and_military_high_command_unlocked
						value = 1
					}
				}
			}
			
			else = {
				custom_effect_tooltip = NTR_strike_swiftly_tooltip
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_chief_of_airforce_1
				
				custom_effect_tooltip = ENTER
				
				custom_effect_tooltip = NTR_strike_hard_tooltip
				custom_effect_tooltip = available_chief_of_airforce
				show_ideas_tooltip = NTR_chief_of_airforce_3
				
				custom_effect_tooltip = NTR_any_is_completed_tooltip
				custom_effect_tooltip = available_chief_of_airforce
			}
			
			show_ideas_tooltip = NTR_chief_of_airforce_2
			
			custom_effect_tooltip = ENTER
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_5
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_air_AI_factor
				
				has_variable = NTR_air_AI_factor
			}
			
			modifier = {
				factor = 2
				
				has_political_power > 300
			}
			
			modifier = {
				factor = 0.5
				
				has_political_power < 150
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 75
			}
		}
	}

# Everfrost Military Academy #

	shared_focus = {
		id = NTR_everfrost_military_academy
		icon = GFX_focus_usa_build_the_pentagon
		
		relative_position_id = NTR_wrath_of_the_north
		x = 0
		y = 2
		
		cost = 10
		
		prerequisite = {
			focus = NTR_wanderers_of_the_north
		}
		
		prerequisite = {
			focus = NTR_wrath_of_the_north
		}
		
		prerequisite = {
			focus = NTR_an_independent_airforce
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			562 = { is_owned_and_controlled_by = ROOT }
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_everfrost_military_academy"
			
			add_research_slot = 1
			
			#custom_effect_tooltip = available_designer # expand branch? #???
			#show_ideas_tooltip = NTR_tank_manufacturer
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 250
		}
	}

#################################################
################ Neutrality path ################
#################################################

### 1st level ###

	shared_focus = {
		id = NTR_marking_down_the_trails
		icon = GFX_focus_eng_global_defense
		
		x = 26
		y = 0
		
		cost = 6
		
		ai_will_do = {
			base = 75
		}
		
		available = {
			has_completed_focus = NTR_the_isolated_north
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_marking_down_the_trails"
			
			random_owned_controlled_state = {
				limit = {
					NOT = { state = 542 }
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
				ROOT = {
					random_owned_controlled_state = {
						limit = {
							NOT = {
								OR = {
									state = 542
									state = PREV.PREV
								}
							}
						}
						
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						
						ROOT = {
							random_owned_controlled_state = {
								limit = {
									NOT = {
										OR = {
											state = 542
											state = PREV.PREV
											state = PREV.PREV.PREV.PREV
										}
									}
								}
								
								add_building_construction = {
									type = infrastructure
									level = 1
									instant_build = yes
								}
							}
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_honor_and_help_the_craftsponies
		icon = GFX_goal_industrial_pony
		
		x = 28
		y = 0
		
		cost = 6
		
		ai_will_do = {
			base = 100
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_honor_and_help_the_craftsponies"
			
			one_random_industrial_complex = yes
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 1st cluster (left) ###

	shared_focus = {
		id = NTR_communal_teaching
		icon = GFX_goal_griffon_books
		
		relative_position_id = NTR_marking_down_the_trails
		x = 0
		y = 1
		
		cost = 12
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_marking_down_the_trails
		}
		
		prerequisite = {
			focus = NTR_honor_and_help_the_craftsponies
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_communal_teaching"
			
			custom_effect_tooltip = decrease_illiteracy_tt
			
			hidden_effect = {
				country_event = {
					id = Ntribes.302
					days = 60
					random = 480
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_scientific_communes
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_communal_teaching
		x = -1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 250
		}
		
		prerequisite = {
			focus = NTR_communal_teaching
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 1
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_scientific_communes"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_refining_the_old_practices
		icon = GFX_goal_generic_national_unity_horseshoe
		
		relative_position_id = NTR_establish_scientific_communes
		x = -1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_preserving_old_knowledge }
			}
		}
		
		prerequisite = {
			focus = NTR_establish_scientific_communes
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_refining_the_old_practices"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				category = industry
			}
			
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.75
				category = construction_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 1st cluster (right) ###

	shared_focus = {
		id = NTR_destroy_remnants_of_centralization_attempts
		icon = GFX_focus_SAF_colonialist_crusade
		
		relative_position_id = NTR_honor_and_help_the_craftsponies
		x = 0
		y = 1
		
		cost = 12
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_honor_and_help_the_craftsponies
		}
		
		prerequisite = {
			focus = NTR_marking_down_the_trails
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_destroy_remnants_of_centralization_attempts"
			
			add_stability = 0.075
			
			swap_ideas = {
				remove_idea = communal_society1
				add_idea = communal_society
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_preserving_old_knowledge
		icon = GFX_goal_generic_national_unity_claws
		
		relative_position_id = NTR_destroy_remnants_of_centralization_attempts
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_destroy_remnants_of_centralization_attempts
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preserving_old_knowledge"
			
			add_ideas = NTR_perfected_old_practices
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_experience_of_the_past_centuries
		icon = GFX_goal_bookstack
		
		relative_position_id = NTR_preserving_old_knowledge
		x = 1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_establish_scientific_communes }
			}
		}
		
		prerequisite = {
			focus = NTR_preserving_old_knowledge
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_experience_of_the_past_centuries"
			
			add_tech_bonus = {
				name = race_bonus
				bonus = 1
				uses = 2
				category = race_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_the_council_takes_care_of_you
		icon = GFX_goal_generic_national_unity
		
		relative_position_id = NTR_communal_teaching
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 2
				
				has_political_power > 400
			}
			
			modifier = {
				factor = 0
				
				has_political_power < 200
			}
		}
		
		prerequisite = {
			focus = NTR_communal_teaching
		}
		
		prerequisite = {
			focus = NTR_destroy_remnants_of_centralization_attempts
		}
		
		available = {
			OR = {
				has_completed_focus = NTR_no_mercy_no_forgiveness
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_council_takes_care_of_you"
			
			custom_effect_tooltip = NTR_internal_politics_decisions_tooltip
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

##################################################
################## Our own path ##################
##################################################

### 2nd level ###

	shared_focus = {
		id = NTR_strange_devices
		icon = GFX_focus_Computer_2
		
		relative_position_id = NTR_establish_scientific_communes
		x = 0
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_legacy_of_precursors
				NOT = { has_completed_focus = NTR_keepers_of_traditions }
			}
		}
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
			
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		
		prerequisite = {
			focus = NTR_establish_scientific_communes
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strange_devices"
			
			if = {
				limit = {
					NOT = { has_tech = electronic_mechanical_engineering }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					technology = electronic_mechanical_engineering
				}
			}
			
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					category = computing_tech
				}
			}
			
			if = {
				limit = {
					NOT = { has_tech = radio }
				}
				
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.5
					technology = radio
				}
			}
			
			else = {
				add_tech_bonus = {
					name = radar_tech_bonus
					bonus = 1
					category = radar_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_expand_authority_of_scientific_communes
		icon = GFX_focus_research2
		
		relative_position_id = NTR_strange_devices
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_strange_devices
		}
		
		bypass = {
			NOT = { has_idea = poor_science_base }
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expand_authority_of_scientific_communes"
			
			swap_ideas = {
				remove_idea = poor_science_base
				add_idea = better_science_base
			}
			
			hidden_effect = {
				set_country_flag = better_science_base_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_legacy_of_precursors
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_preserving_old_knowledge
		x = 0
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				has_completed_focus = NTR_strange_devices
				NOT = { has_completed_focus = NTR_expand_authority_of_scientific_communes }
			}
		}
		
		allow_branch = {
			has_country_flag = NTR_traditionalism_branch
			
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		
		prerequisite = {
			focus = NTR_preserving_old_knowledge
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_legacy_of_precursors"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				category = industry
			}
			
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				category = construction_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_keepers_of_traditions
		icon = GFX_goal_riv_shovels
		
		relative_position_id = NTR_legacy_of_precursors
		x = -1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_legacy_of_precursors
		}
		
		available = {
			542 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_keepers_of_traditions"
			
			542 = {
				add_core_of = ROOT
				
				add_extra_state_shared_building_slots = 2
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 2nd cluster ###

	shared_focus = {
		id = NTR_knowledge_to_elders
		icon = GFX_goal_griffon_com_books
		
		relative_position_id = NTR_expand_authority_of_scientific_communes
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 250
		}
		
		prerequisite = {
			focus = NTR_expand_authority_of_scientific_communes
		}
		
		prerequisite = {
			focus = NTR_keepers_of_traditions
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_knowledge_to_elders"
			
			custom_effect_tooltip = decrease_illiteracy_tt
			
			hidden_effect = {
				country_event = {
					id = Ntribes.303
					days = 60
					random = 480
				}
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_DAC # Decentralized Administration of Communes
		icon = GFX_goal_riv_investment_fund
		
		relative_position_id = NTR_knowledge_to_elders
		x = 0
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_DAC"
			
			add_ideas = NTR_DAC
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 2nd cluster (left) ###

	shared_focus = {
		id = NTR_skynavia_science_base
		icon = GFX_focus_research
		
		relative_position_id = NTR_knowledge_to_elders
		x = -2
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 250
		}
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			522 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_skynavia_science_base"
			
			add_research_slot = 1
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_communal_institutions
		icon = GFX_goal_generic_scientific_exchange_pony_griffon
		
		relative_position_id = NTR_skynavia_science_base
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_specialize_communes }
			}
		}
		
		prerequisite = {
			focus = NTR_skynavia_science_base
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_communal_institutions"
			
			add_ideas = NTR_neutral_research_bonus
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_open_the_mind
		icon = GFX_goal_generic_radar
		
		relative_position_id = NTR_skynavia_science_base
		x = -1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_establish_communal_institutions }
			}
		}
		
		prerequisite = {
			focus = NTR_skynavia_science_base
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_open_the_mind"
			
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 0.75
				category = computing_tech
			}
			
			add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 0.75
				category = radar_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 2nd cluster (right) ###

	shared_focus = {
		id = NTR_modify_native_production
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_knowledge_to_elders
		x = 2
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_knowledge_to_elders
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modify_native_production"
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					industrial_complex > 0
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					arms_factory > 0
					
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_specialize_communes
		icon = GFX_focus_collective_housing
		
		relative_position_id = NTR_modify_native_production
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_modify_native_production
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_specialize_communes"
			
			swap_ideas = {
				remove_idea = NTR_perfected_old_practices
				add_idea = NTR_perfected_old_practices_full
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_what_is_that
		icon = GFX_focus_indy_excavations
		
		relative_position_id = NTR_modify_native_production
		x = 1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_establish_communal_institutions }
			}
		}
		
		prerequisite = {
			focus = NTR_modify_native_production
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_what_is_that"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				uses = 2
				category = excavation_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd level ###

	shared_focus = {
		id = NTR_convene_the_great_thing
		icon = GFX_goal_news
		
		relative_position_id = NTR_establish_DAC
		x = 0
		y = 3
		
		cost = 4
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_open_the_mind }
					NOT = { has_completed_focus = NTR_what_is_that }
				}
			}
		}
		
		prerequisite = {
			focus = NTR_establish_communal_institutions
		}
		
		prerequisite = {
			focus = NTR_specialize_communes
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		will_lead_to_war_with = VED
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_convene_the_great_thing"
			
			country_event = Ntribes.304
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd cluster (Old Lands) ###

	shared_focus = {
		id = NTR_new_regional_government
		icon = GFX_goal_government_icon
		
		relative_position_id = NTR_convene_the_great_thing
		x = 0
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_country_flag = NTR_vedina_branch
			
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		
		prerequisite = {
			focus = NTR_convene_the_great_thing
		}
		
		available = {
			has_manpower > 2500
			
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		select_effect = {
			country_event = { # 1/3
				id = Ntribes.306
				days = 14
				random = 168
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_regional_government"
			
			add_stability = 0.075
			add_war_support = 0.05
			
			add_manpower = -2500
			
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			
			hidden_effect = {
				country_event = {
					id = Ntribes.400
					days = 14
					random = 168
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_harald_frontier
		icon = GFX_goal_generic_consumer_goods
		
		relative_position_id = NTR_new_regional_government
		x = -1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_new_regional_government
		}
		
		available = {
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_harald_frontier"
			
			custom_effect_tooltip = NTR_new_harald_frontier_tooltip
			
			hidden_effect = {
				430 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										limit_to_border = yes
									}
								}	
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2
											province = {
												limit_to_border = yes
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
				
				483 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2
											province = {
												limit_to_border = yes
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_analyze_production_chains
		icon = GFX_goal_generic_military_sphere
		
		relative_position_id = NTR_new_regional_government
		x = 1
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_regional_government
		}
		
		available = {
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_analyze_production_chains"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				category = industry
			}
			
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 1
				uses = 2
				category = electronics
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_migration_policy
		icon = GFX_focus_generic_military_mission
		
		relative_position_id = NTR_new_regional_government
		x = 0
		y = 2
		
		cost = 8
		
		prerequisite = {
			focus = NTR_new_regional_government
		}
		
		available = {
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		select_effect = {
			hidden_effect = {
				country_event = {
					id = Ntribes.307
					days = 14
					random = 168
				}
			}
		}
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_migration_policy"
			
			add_stability = -0.1
			add_war_support = -0.05
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_inculcation_of_traditions
		icon = GFX_goal_generic_propaganda
		
		relative_position_id = NTR_migration_policy
		x = 0
		y = 1
		
		cost = 12
		
		prerequisite = {
			focus = NTR_migration_policy
		}
		
		available = {
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		select_effect = {
			hidden_effect = {
				country_event = {
					id = Ntribes.401
					days = 28
					random = 168
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_inculcation_of_traditions"
			
			add_political_power = -100
			add_stability = 0.05
			
			430 = {
				add_core_of = ROOT
				
				add_dynamic_modifier = {
					modifier = de_facto_non_core_state
				}
			}
			
			483 = {
				add_core_of = ROOT
				
				add_dynamic_modifier = {
					modifier = de_facto_non_core_state
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_to_new_heights
		icon = GFX_focus_indy_agriculture_2
		
		relative_position_id = NTR_inculcation_of_traditions
		x = 0
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_inculcation_of_traditions
		}
		
		available = {
			has_war = no
			
			has_completed_focus = NTR_new_elite
			has_completed_focus = NTR_reservations_for_dissenters
			
			430 = { is_owned_and_controlled_by = ROOT }
			483 = { is_owned_and_controlled_by = ROOT }
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_to_new_heights"
			
			custom_effect_tooltip = NTR_agrarian_tooltip
			
			country_event = Ntribes.1
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_we_need_to_catch_up
		icon = GFX_focus_generic_industry_2
		
		relative_position_id = NTR_to_new_heights
		x = 0
		y = 1
		
		cost = 12
		
		prerequisite = {
			focus = NTR_to_new_heights
		}
		
		available = {
			has_war = no
			
			has_completed_focus = NTR_reparations_time
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_VED_HAU_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_we_need_to_catch_up"
			
			custom_effect_tooltip = NTR_outdated_tooltip
			
			country_event = Ntribes.410
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_combine_the_gained_knowledge
		icon = GFX_goal_supremacy_of_will
		
		relative_position_id = NTR_we_need_to_catch_up
		x = -1
		y = 1
		
		cost = 10
		
		prerequisite = {
			focus = NTR_we_need_to_catch_up
		}
		
		bypass = {
			has_idea = proper_science_base
			
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_VED_HAU_cores_flag
			}
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_VED_HAU_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_combine_the_gained_knowledge"
			
			swap_ideas = {
				remove_idea = big_science_base
				add_idea = proper_science_base
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_knowledge_is_power
		icon = GFX_goal_generic_scientific_exchange_pony
		
		relative_position_id = NTR_we_need_to_catch_up
		x = 1
		y = 1
		
		cost = 12
		
		prerequisite = {
			focus = NTR_we_need_to_catch_up
		}
		
		bypass = {
			does_not_has_illiteracy = yes
			
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_VED_HAU_cores_flag
			}
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = has_outdated_industry_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 5
				}
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_VED_HAU_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_knowledge_is_power"
			
			remove_ideas = lack_of_scientists3
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd cluster (Our Destiny) ###

	shared_focus = {
		id = NTR_strengthen_the_community
		icon = GFX_goal_generic_defence
		
		relative_position_id = NTR_convene_the_great_thing
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		allow_branch = {
			has_country_flag = NTR_stagnation_branch
		}
		
		prerequisite = {
			focus = NTR_convene_the_great_thing
		}
		
		available = {
			is_subject = no
			has_government = neutrality
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strengthen_the_community"
			
			swap_ideas = {
				remove_idea = NTR_the_old_ways_are_standing_firm
				add_idea = NTR_internal_priority
			}
			
			hidden_effect = {
				set_rule = {
					can_boost_other_ideologies = no
					can_force_government = yes
					can_not_declare_war = yes
					can_puppet = no
				}
				
				set_country_flag = NTR_internal_rules
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_harald_frontier
		icon = GFX_goal_nested_fortifications
		
		relative_position_id = NTR_strengthen_the_community
		x = -1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 5
				
				VED = {
					OR = {
						has_wargoal_against = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
			}
			
			modifier = {
				factor = 0.25
				
				NOT = { has_completed_focus = NTR_millennial_experience }
			}
		}
		
		prerequisite = {
			focus = NTR_strengthen_the_community
		}
		
		available = {
			is_subject = no
			has_government = neutrality
			
			542 = { is_owned_and_controlled_by = ROOT }
			585 = { is_owned_and_controlled_by = ROOT }
			601 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_harald_frontier"
			
			custom_effect_tooltip = NTR_harald_frontier_tooltip
			
			hidden_effect = {
				542 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 3 # 0-3
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2-3
											province = {
												limit_to_border = yes
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
				
				585 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										id = 6486
										id = 9455
										id = 1135
										id = 10242
										id = 4296
										id = 12593
									}
								}
							}
						}
						
						if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 1 # 1-2
											province = {
												id = 6486
												id = 9455
												id = 1135
												id = 10242
												id = 4296
												id = 12593
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 6486
										id = 9455
										id = 1135
										id = 10242
										id = 4296
										id = 12593
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = {
										id = 6486
										id = 9455
										id = 1135
										id = 10242
										id = 4296
										id = 12593
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 6486
									id = 9455
									id = 1135
									id = 10242
									id = 4296
									id = 12593
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
					
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 3 # 0-3
									province = {
										id = 4218
										id = 4973
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 4218
									id = 4973
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2-3
											province = {
												id = 4218
												id = 4973
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 4218
										id = 4973
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 4218
										id = 4973
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									id = 4218
									id = 4973
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_olaf_line
		icon = GFX_goal_generic_construct_military
		
		relative_position_id = NTR_strengthen_the_community
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 5
				
				FAT = {
					OR = {
						has_wargoal_against = ROOT
						is_justifying_wargoal_against = ROOT
					}
				}
			}
			
			modifier = {
				factor = 0.25
				
				NOT = { has_completed_focus = NTR_millennial_experience }
			}
		}
		
		prerequisite = {
			focus = NTR_strengthen_the_community
		}
		
		available = {
			is_subject = no
			has_government = neutrality
			
			602 = { is_owned_and_controlled_by = ROOT }
			567 = { is_owned_and_controlled_by = ROOT }
			601 = { is_owned_and_controlled_by = ROOT }
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_olaf_line"
			
			custom_effect_tooltip = NTR_olaf_line_tooltip
			
			hidden_effect = {
				601 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										id = 10911
										id = 1943
										id = 2074
										id = 12890
										id = 13097
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 10911
									id = 1943
									id = 2074
									id = 12890
									id = 13097
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2
											province = {
												id = 10911
												id = 1943
												id = 2074
												id = 12890
												id = 13097
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 10911
										id = 1943
										id = 2074
										id = 12890
										id = 13097
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 10911
										id = 1943
										id = 2074
										id = 12890
										id = 13097
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									id = 10911
									id = 1943
									id = 2074
									id = 12890
									id = 13097
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
				
				567 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2
											province = {
												limit_to_border = yes
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										limit_to_border = yes
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									limit_to_border = yes
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
				
				602 = {
					if = {
						limit = {
							NOT = {
								any_province_building_level = {
									building = bunker
									level > 2 # 0-2
									province = {
										id = 477
										id = 3459
										id = 11578
									}
								}
							}
						}
						
						if = {
							limit = {
								has_game_rule = {
									rule = RULE_MAXIMUM_FORT_LEVEL
									option = level_1
								}
							}
							
							set_building_level = {
								type = bunker
								level = 1
								instant_build = yes
								province = {
									id = 477
									id = 3459
									id = 11578
								}
							}
						}
						
						else_if = {
							limit = {
								NOT = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
							}
							
							if = {
								limit = {
									NOT = {
										any_province_building_level = {
											building = bunker
											level < 2 # 2
											province = {
												id = 477
												id = 3459
												id = 11578
											}
										}
									}
								}
								
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 477
										id = 3459
										id = 11578
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 477
										id = 3459
										id = 11578
									}
								}
							}
						}
						
						else = {
							set_building_level = {
								type = bunker
								level = 2
								instant_build = yes
								province = {
									id = 477
									id = 3459
									id = 11578
								}
							}
						}
					}
					
					else = {
						# nothing, abuser
					}
				}
				
				if = {
					limit = {
						574 = { is_owned_by = ROOT }
					}
					
					574 = {
						if = {
							limit = {
								NOT = {
									any_province_building_level = {
										building = bunker
										level > 4 # 0-4
										province = {
											id = 7654
										}
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
								
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
								
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
							
							else_if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_3
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											any_province_building_level = {
												building = bunker
												level < 3 # 3-4
												province = {
													id = 7654
												}
											}
										}
									}
									
									set_building_level = {
										type = bunker
										level = 4
										instant_build = yes
										province = {
											id = 7654
										}
									}
								}
								
								else = {
									set_building_level = {
										type = bunker
										level = 3
										instant_build = yes
										province = {
											id = 7654
										}
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 7654
									}
								}
							}
						}
						
						else = {
							# nothing, abuser
						}
						
						if = {
							limit = {
								NOT = {
									any_province_building_level = {
										building = bunker
										level > 4 # 0-4
										province = {
											id = 1574
										}
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_1
									}
								}
								
								set_building_level = {
									type = bunker
									level = 1
									instant_build = yes
									province = {
										id = 1574
									}
								}
							}
							
							if = {
								limit = {
									has_game_rule = {
										rule = RULE_MAXIMUM_FORT_LEVEL
										option = level_2
									}
								}
								
								set_building_level = {
									type = bunker
									level = 2
									instant_build = yes
									province = {
										id = 1574
									}
								}
							}
							
							else_if = {
								limit = {
									NOT = {
										has_game_rule = {
											rule = RULE_MAXIMUM_FORT_LEVEL
											option = level_3
										}
									}
								}
								
								if = {
									limit = {
										NOT = {
											any_province_building_level = {
												building = bunker
												level < 3 # 3-4
												province = {
													id = 1574
												}
											}
										}
									}
									
									set_building_level = {
										type = bunker
										level = 4
										instant_build = yes
										province = {
											id = 1574
										}
									}
								}
								
								else = {
									set_building_level = {
										type = bunker
										level = 3
										instant_build = yes
										province = {
											id = 1574
										}
									}
								}
							}
							
							else = {
								set_building_level = {
									type = bunker
									level = 3
									instant_build = yes
									province = {
										id = 1574
									}
								}
							}
						}
						
						else = {
							# nothing, abuser
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_civil_priority
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_strengthen_the_community
		x = -1
		y = 2
		
		cost = 10
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0.75
				
				country_exists = MNC
			}
			
			modifier = {
				factor = 0.5
				
				VED = {
					exists = yes
					has_government = fascism
				}
			}
			
			modifier = {
				factor = 0.5
				
				HLR = {
					exists = yes
					has_government = neutrality
				}
			}
			
			modifier = {
				factor = 0.25
				
				country_exists = DED
				NOT = { country_exists = HLR }
			}
			
			modifier = {
				factor = 0
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_strengthen_the_community
		}
		
		mutually_exclusive = {
			focus = NTR_defence_priority
		}
		
		available = {
			is_subject = no
			has_government = neutrality
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_civil_priority"
			
			add_ideas = NTR_civil_priority_idea
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				
				ROOT = {
					random_owned_controlled_state = {
						limit = {
							NOT = { state = PREV.PREV }
							
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
						}
						
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_defence_priority
		icon = GFX_goal_generic_construct_mil_factory
		
		relative_position_id = NTR_strengthen_the_community
		x = 1
		y = 2
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_strengthen_the_community
		}
		
		mutually_exclusive = {
			focus = NTR_civil_priority
		}
		
		available = {
			has_government = neutrality
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_defence_priority"
			
			add_ideas = NTR_defence_priority_idea
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				
				ROOT = {
					random_owned_controlled_state = {
						limit = {
							NOT = { state = PREV.PREV }
							
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_millennial_experience
		icon = GFX_goal_supremacy_of_will
		
		relative_position_id = NTR_strengthen_the_community
		x = 0
		y = 3
		
		cost = 8
		
		ai_will_do = {
			base = 150
		}
		
		prerequisite = {
			focus = NTR_civil_priority
			focus = NTR_defence_priority
		}
		
		available = {
			is_subject = no
			has_government = neutrality
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_millennial_experience"
			
			add_ideas = NTR_millennial_experience_idea
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

#################################################
################ Synthesis path #################
#################################################

### 2nd level ###

	shared_focus = {
		id = NTR_instance_analysis
		icon = GFX_goal_generic_production2
		
		relative_position_id = NTR_establish_scientific_communes
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_north_does_not_like_interventions }
			}
		}
		
		allow_branch = {
			has_completed_focus = NTR_cow_the_red_conquerors
		}
		
		prerequisite = {
			focus = NTR_establish_scientific_communes
		}
		
		available = {
			has_government = neutrality
			
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_instance_analysis"
			
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 1.5
				category = computing_tech
			}
			
			add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 1.5
				category = radar_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_construction_patterns
		icon = GFX_goal_generic_production
		
		relative_position_id = NTR_preserving_old_knowledge
		x = -1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_north_does_not_like_interventions }
			}
		}
		
		allow_branch = {
			has_completed_focus = NTR_cow_the_red_conquerors
		}
		
		prerequisite = {
			focus = NTR_preserving_old_knowledge
		}
		
		available = {
			has_government = neutrality
			
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_construction_patterns"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.5
				category = industry
			}
			
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1.5
				category = construction_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 2nd cluster (middle) ###

	shared_focus = {
		id = NTR_new_teachers
		icon = GFX_goal_griffon_schools
		
		relative_position_id = NTR_instance_analysis
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_instance_analysis
		}
		
		prerequisite = {
			focus = NTR_construction_patterns
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_teachers"
			
			add_stability = -0.05
			decrease_illiteracy = yes
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_mining_technologies
		icon = GFX_focus_indy_excavations
		
		relative_position_id = NTR_new_teachers
		x = -2
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 50
		}
		
		prerequisite = {
			focus = NTR_new_teachers
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_mining_technologies"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				uses = 2
				category = excavation_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_modernizing_communes
		icon = GFX_focus_focus_generic_industry_1
		
		relative_position_id = NTR_new_teachers
		x = 0
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_new_teachers
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modernizing_communes"
			
			swap_ideas = {
				remove_idea = communal_society
				add_idea = communal_society1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_we_are_very_similar
		icon = GFX_goal_stg_socialist_flagwave
		
		relative_position_id = NTR_new_teachers
		x = 2
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 50
		}
		
		prerequisite = {
			focus = NTR_new_teachers
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_we_are_very_similar"
			
			add_stability = 0.05
			add_war_support = 0.025
			
			542 = {
				add_core_of = ROOT
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 2nd cluster (end) ###

	shared_focus = {
		id = NTR_restore_the_scientific_base_of_skynavia
		icon = GFX_focus_generic_socialist_science
		
		relative_position_id = NTR_modernizing_communes
		x = -1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_modernizing_communes
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_restore_the_scientific_base_of_skynavia"
			
			if = {
				limit = {
					amount_research_slots < 4
				}
				
				add_research_slot = 1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_industry_development
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_modernizing_communes
		x = 1
		y = 1
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_modernizing_communes
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_industry_development"
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = SRS
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				if = {
					limit = {
						infrastructure < 10
					}
					
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					
					add_extra_state_shared_building_slots = 1
				}
				
				else = {
					add_extra_state_shared_building_slots = 2
				}
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				
				if = {
					limit = {
						infrastructure < 10
					}
					
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					
					add_extra_state_shared_building_slots = 1
				}
				
				else = {
					add_extra_state_shared_building_slots = 2
				}
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_expand_the_domestic_powers_of_autonomy
		icon = GFX_goal_griffon_com_books
		
		relative_position_id = NTR_restore_the_scientific_base_of_skynavia
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_restore_the_scientific_base_of_skynavia
		}
		
		prerequisite = {
			focus = NTR_industry_development
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_expand_the_domestic_powers_of_autonomy"
			
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = NTR_SAC
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd cluster (Polystate) ###

	shared_focus = {
		id = NTR_polystate
		icon = GFX_focus_chi_one_china_policy
		
		relative_position_id = NTR_the_rising_darkness
		x = 0
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_country_flag = NTR_great_northern_communes_branch
		}
		
		ai_will_do = {
			base = 100
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_polystate"
			
			add_political_power = -100
			add_war_support = -0.1
			
			swap_ideas = {
				remove_idea = NTR_the_great_thing
				add_idea = NTR_lack_of_central_authority_polystate
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_allow_commuications_through_ports_of_skynavia
		icon = GFX_focus_generic_treaty
		
		relative_position_id = NTR_polystate
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_polystate
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_allow_commuications_through_ports_of_skynavia"
			
			add_political_power = -50
			add_war_support = -0.025
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			add_ideas = big_science_base
			
			hidden_effect = {
				set_country_flag = big_science_base_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_reform_foreign_trade_policy
		icon = GFX_goal_generic_positive_trade_relations
		
		relative_position_id = NTR_allow_commuications_through_ports_of_skynavia
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_allow_commuications_through_ports_of_skynavia
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_reform_foreign_trade_policy"
			
			add_political_power = -75
			add_stability = -0.05
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			swap_ideas = {
				remove_idea = closed_economy
				add_idea = limited_exports
			}
			
			swap_ideas = {
				remove_idea = NTR_fierce_isolationism
				add_idea = NTR_isolationism
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_synthesis_of_societies
		icon = GFX_goal_red_star_gold_wreath
		
		relative_position_id = NTR_polystate
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_polystate
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_synthesis_of_societies"
			
			add_political_power = -75
			
			swap_ideas = {
				remove_idea = NTR_perfected_old_practices
				add_idea = NTR_perfected_old_practices_polystate
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_capacity_development
		icon = GFX_goal_generic_construct_civilian
		
		relative_position_id = NTR_synthesis_of_societies
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_synthesis_of_societies
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_capacity_development"
			
			add_political_power = -75
			add_war_support = -0.05
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = SRS
					
					industrial_complex > 0
					
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				
				if = {
					limit = {
						infrastructure < 10
					}
					
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					
					add_extra_state_shared_building_slots = 2
				}
				
				else = {
					add_extra_state_shared_building_slots = 3
				}
				
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			
			ROOT = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = SRS
						
						NOT = { state = PREV.PREV }
						
						industrial_complex > 0
						
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					
					if = {
						limit = {
							infrastructure < 10
						}
						
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						
						add_extra_state_shared_building_slots = 1
					}
					
					else = {
						add_extra_state_shared_building_slots = 2
					}
					
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th cluster ###

	shared_focus = {
		id = NTR_to_a_great_future
		icon = GFX_goal_document
		
		relative_position_id = NTR_polystate
		x = 0
		y = 3
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_allow_commuications_through_ports_of_skynavia
		}
		
		prerequisite = {
			focus = NTR_capacity_development
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_to_a_great_future"
			
			custom_effect_tooltip = NTR_pre_industrial_tooltip
			
			hidden_effect = {
				country_event = Ntribes.309
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_external_links
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_to_a_great_future
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_to_a_great_future
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_external_links"
			
			add_political_power = -75
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			swap_ideas = {
				remove_idea = NTR_isolationism
				add_idea = NTR_weakening_isolationism
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_tradition_is_not_everything
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_to_a_great_future
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_to_a_great_future
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_tradition_is_not_everything"
			
			add_political_power = -75
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			swap_ideas = {
				remove_idea = NTR_the_old_ways_are_standing_firm
				add_idea = NTR_the_past_is_past
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_council_reform
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_to_a_great_future
		x = 1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_to_a_great_future
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_council_reform"
			
			country_event = Ntribes.312
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_universities
		icon = GFX_goal_generic_scientific_exchange_pony_griffon
		
		relative_position_id = NTR_external_links
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_external_links
		}
		
		bypass = {
			hidden_trigger = {
				amount_research_slots > 3
			}
		}
		
		available = {
			is_subject = no
			
			hidden_trigger = {
				OR = {
					has_government = communism
					has_government = neutrality
				}
				
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_universities"
			
			add_political_power = -100
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			decrease_illiteracy = yes
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_differential_education
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_establish_universities
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_establish_universities
		}
		
		available = {
			is_subject = no
			
			hidden_trigger = {
				has_government = communism
				
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_differential_education"
			
			if = {
				limit = {
					amount_research_slots < 4
				}
				
				add_research_slot = 1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_will_to_fair_competition
		icon = GFX_goal_arms_export
		
		relative_position_id = NTR_tradition_is_not_everything
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_tradition_is_not_everything
		}
		
		available = {
			is_subject = no
			
			hidden_trigger = {
				OR = {
					has_government = communism
					has_government = neutrality
				}
				
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_will_to_fair_competition"
			
			add_political_power = -100
			
			add_popularity = {
				ideology = neutrality
				popularity = -0.05
			}
			
			swap_ideas = {
				remove_idea = NTR_weakening_isolationism
				add_idea = NTR_insignificant_isolationism
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_duty
		icon = GFX_goal_forest_spirit
		
		relative_position_id = NTR_will_to_fair_competition
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_will_to_fair_competition
		}
		
		available = {
			is_subject = no
			
			hidden_trigger = {
				has_government = communism
				
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_duty"
			
			swap_ideas = {
				remove_idea = NTR_a_military_of_tribal_warriors
				add_idea = NTR_a_military_of_tribal_warriors_polystate #???
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_safety_line
		icon = GFX_goal_constitutional_guarantees
		
		relative_position_id = NTR_council_reform
		x = 0
		y = 2
		
		cost = 7
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_differential_education
		}
		
		prerequisite = {
			focus = NTR_new_duty
		}
		
		available = {
			is_subject = no
			
			hidden_trigger = {
				has_government = communism
				
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_safety_line"
			
			unlock_decision_category_tooltip = NTR_LG_polystate_category
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th cluster (left) ###

	shared_focus = {
		id = NTR_black_gold
		icon = GFX_goal_generic_oil_refinery
		
		relative_position_id = NTR_expand_the_domestic_powers_of_autonomy
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		available = {
			has_completed_focus = NTR_to_a_great_future
			
			custom_trigger_tooltip = {
				tooltip = has_pre_industrial_society_tt
				
				check_variable = {
					var = EaW_society_development_var
					compare = greater_than_or_equals
					value = 4
				}
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_black_gold"
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.75
				uses = 2
				category = synth_resources
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_oil_prospecting_programs
		icon = GFX_goal_further_oil
		
		relative_position_id = NTR_black_gold
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_black_gold
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_oil_prospecting_programs"
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				add_political_power = 150
				
				custom_effect_tooltip = NTR_oil_fields_development_tooltip
			}
			
			else = {
				add_resource = {
					type = oil
					amount = 12
					state = 563
				}
				
				add_resource = {
					type = oil
					amount = 12
					state = 522
				}
				
				add_resource = {
					type = oil
					amount = 8
					state = 562
				}
				
				hidden_effect = {
					563 = {
						set_state_flag = vastmush_oil_developed
					}
					
					522 = {
						set_state_flag = srs_ntr_oil_work_developed
					}
					
					562 = {
						set_state_flag = liftauf_oil_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_dry_docks
		icon = GFX_goal_generic_construct_naval_dockyard
		
		relative_position_id = NTR_oil_prospecting_programs
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_oil_prospecting_programs
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_dry_docks"
			
			if = {
				limit = {
					has_country_flag = NTR_great_northern_communes_branch
				}
				
				562 = {
					add_extra_state_shared_building_slots = 2
					
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			
			else = {
				522 = {
					add_extra_state_shared_building_slots = 2
					
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th cluster (right) ###

	shared_focus = {
		id = NTR_new_era_machines
		icon = GFX_goal_stg_socialist_construction
		
		relative_position_id = NTR_expand_the_domestic_powers_of_autonomy
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 100
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_era_machines"
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				add_political_power = 100
				
				custom_effect_tooltip = Cubtria_mines_development_tooltip
			}
			
			else = {
				add_resource = {
					type = aluminium
					amount = 8
					state = 567
				}
				
				add_resource = {
					type = tungsten
					amount = 7
					state = 567
				}
				
				hidden_effect = {
					567 = {
						set_state_flag = Cubtria_aluminium_developed
						set_state_flag = Cubtria_tungsten_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_mining_expeditions
		icon = GFX_goal_construction_engineering
		
		relative_position_id = NTR_new_era_machines
		x = 0
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_new_era_machines
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_mining_expeditions"
			
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				
				add_political_power = 150
				
				custom_effect_tooltip = Littlegriff_mines_development_tooltip
			}
			
			else = {
				add_resource = {
					type = crystals
					amount = 10
					state = 585
				}
				
				add_resource = {
					type = steel
					amount = 6
					state = 585
				}
				
				add_resource = {
					type = aluminium
					amount = 6
					state = 585
				}
				
				hidden_effect = {
					585 = {
						set_state_flag = srs_ntr_crystal_work_developed
						set_state_flag = srs_ntr_steel_work_developed
						set_state_flag = srs_ntr_aluminium_work_developed
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_industry_near_resources
		icon = GFX_goal_generic_construction
		
		relative_position_id = NTR_mining_expeditions
		x = 0
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_mining_expeditions
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_industry_near_resources"
			
			if = {
				limit = {
					has_country_flag = NTR_great_northern_communes_branch
				}
				
				585 = {
					add_extra_state_shared_building_slots = 2
					
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			else = {
				602 = {
					add_extra_state_shared_building_slots = 2
					
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_existence_requires_change
		icon = GFX_focus_generic_industry_3
		
		relative_position_id = NTR_expand_the_domestic_powers_of_autonomy
		x = 0
		y = 4
		
		cost = 10
		
		ai_will_do = {
			base = 100
		}
		
		prerequisite = {
			focus = NTR_dry_docks
		}
		
		prerequisite = {
			focus = NTR_mining_expeditions
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_existence_requires_change"
			
			custom_effect_tooltip = NTR_outdated_tooltip
			
			hidden_effect = {
				country_event = Ntribes.21
				
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd cluster (The Great Mistake) ###

	shared_focus = {
		id = NTR_the_great_mistake
		icon = GFX_goal_generic_political_pressure
		
		relative_position_id = NTR_the_rising_darkness
		x = 0
		y = 1
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_great_northern_communes_branch
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_the_great_mistake"
			
			add_political_power = -25
			
			swap_ideas = {
				remove_idea = NTR_the_great_thing
				add_idea = NTR_lack_of_central_authority_mistake
			}
		}
	}
	
	shared_focus = {
		id = NTR_selective_education_system
		icon = GFX_goal_tfv_generic_tech_sharing
		
		relative_position_id = NTR_the_great_mistake
		x = -1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_great_mistake
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_selective_education_system"
			
			add_political_power = -50
			
			add_ideas = NTR_neutral_research_bonus_mistake
		}
	}
	
	shared_focus = {
		id = NTR_move_productions_centers
		icon = GFX_goal_generic_construct_civ_factory
		
		relative_position_id = NTR_the_great_mistake
		x = 1
		y = 1
		
		cost = 6
		
		prerequisite = {
			focus = NTR_the_great_mistake
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_move_productions_centers"
			
			add_political_power = -50
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = SRS
					industrial_complex > 0
				}
				
				add_building_construction = {
					type = industrial_complex
					level = -1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = -1
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = SRS
					industrial_complex > 0
				}
				
				add_building_construction = {
					type = industrial_complex
					level = -1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = -1
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = SRS
					arms_factory > 0
				}
				
				add_building_construction = {
					type = arms_factory
					level = -1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = -1
			}
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					NOT = { is_core_of = SRS }
					
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
				add_extra_state_shared_building_slots = 1
				
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_limit_the_number_of_SRS_representatives
		icon = GFX_goal_anti_comintern_pact
		
		relative_position_id = NTR_the_great_mistake
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_selective_education_system
		}
		
		prerequisite = {
			focus = NTR_move_productions_centers
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_limit_the_number_of_SRS_representatives"
			
			add_political_power = -75
			
			swap_ruler_traits = {
				remove = NTR_tribal_council_commie
				add = NTR_tribal_council_non_commie
			}
		}
	}
	
	shared_focus = {
		id = NTR_quotas_for_self_defense_detachments
		icon = GFX_goal_split_helmet
		
		relative_position_id = NTR_selective_education_system
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_selective_education_system
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_quotas_for_self_defense_detachments"
			
			add_political_power = -100
			
			hidden_effect = {
				division_template = {
					name = "Garrison Division"
					division_names_group = SRS_MILITIA_06 #???
					
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
				}
			}
			
			522 = {
				create_unit = {
					division = "name = \"Skynavian Garrison\" division_template = \"Garrison Division\" start_experience_factor = 0.2"
					prioritize_location = 6502
					owner = ROOT
				}
			}
			
			561 = {
				create_unit = {
					division = "name = \"Ostfloy Garrison\" division_template = \"Garrison Division\" start_experience_factor = 0.2"
					prioritize_location = 9549
					owner = ROOT
				}
			}
			
			585 = {
				create_unit = {
					division = "name = \"Littlegriff Garrison\" division_template = \"Garrison Division\" start_experience_factor = 0.2"
					prioritize_location = 6196
					owner = ROOT
				}
			}
			
			601 = {
				create_unit = {
					division = "name = \"Braunles Garrison\" division_template = \"Garrison Division\" start_experience_factor = 0.2"
					prioritize_location = 12864
					owner = ROOT
				}
			}
			
			542 = {
				create_unit = {
					division = "name = \"Hail Forest Garrison\" division_template = \"Garrison Division\" start_experience_factor = 0.2"
					prioritize_location = 1808
					owner = ROOT
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_prohibit_connection_with_the_world
		icon = GFX_focus_indy_unequal_treaties
		
		relative_position_id = NTR_move_productions_centers
		x = 0
		y = 2
		
		cost = 6
		
		prerequisite = {
			focus = NTR_move_productions_centers
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_prohibit_connection_with_the_world"
			
			add_political_power = -75
			
			swap_ideas = {
				remove_idea = NTR_the_old_ways_are_standing_firm
				add_idea = NTR_internal_priority # switch to fasc #???
			}
		}
	}
	
	shared_focus = {
		id = NTR_sent_troops_to_autonomy
		icon = GFX_goal_generic_war_with_comintern
		
		relative_position_id = NTR_limit_the_number_of_SRS_representatives
		x = 0
		y = 2
		
		cost = 4
		
		prerequisite = {
			focus = NTR_limit_the_number_of_SRS_representatives
		}
		
		prerequisite = {
			focus = NTR_quotas_for_self_defense_detachments
		}
		
		prerequisite = {
			focus = NTR_prohibit_connection_with_the_world
		}
		
		available = {
			has_government = neutrality
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		select_effect = {
			hidden_effect = {
				country_event = {
					id = Ntribes.315
					days = 7
					random = 168
				}
			}
		}
		
		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sent_troops_to_autonomy"
			
			add_political_power = -100
			add_stability = -0.075
			
			country_event = Ntribes.316
		}
	}

#################################################
############## Military branch (N) ##############
#################################################

### Core ###

	shared_focus = {
		id = NTR_convene_tribal_militia
		icon = GFX_goal_riv_army
		
		x = 33
		y = 0
		
		cost = 6
		
		bypass = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_convene_tribal_militia"
			
			hidden_effect = {
				division_template = {
					name = "Tribal Militia"
					division_names_group = SRS_MILITIA_06 #???
					
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
					}
				}
			}
			
			562 = { # divide to states #???
				create_unit = {
					division = "name = \"'Tribal' Brigade\" division_template = \"Tribal Militia\" start_experience_factor = 0.2"
					prioritize_location = 1307
				}
				
				create_unit = {
					division = "name = \"'Tribal' Brigade\" division_template = \"Tribal Militia\" start_experience_factor = 0.2"
					prioritize_location = 1307
				}
				
				create_unit = {
					division = "name = \"'Tribal' Brigade\" division_template = \"Tribal Militia\" start_experience_factor = 0.2"
					prioritize_location = 1307
				}
				
				create_unit = {
					division = "name = \"'Tribal' Brigade\" division_template = \"Tribal Militia\" start_experience_factor = 0.2"
					prioritize_location = 1307
				}
				
				create_unit = {
					division = "name = \"'Tribal' Brigade\" division_template = \"Tribal Militia\" start_experience_factor = 0.2"
					prioritize_location = 1307
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
	}
	
	shared_focus = {
		id = NTR_our_game
		#icon = GFX_
		
		x = 35
		y = 0
		
		cost = 6
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_game"
			
			add_ideas = NTR_our_game_idea
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { country_exists = SRS }
			}
		}
	}
	
	shared_focus = {
		id = NTR_equipment_capture_groups
		icon = GFX_goal_break_rifle
		
		x = 37
		y = 0
		
		cost = 7
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_equipment_capture_groups"
			
			set_technology = {
				NTR_equipment_capture_groups_technology = 1 #todelete via on_actions #???
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { country_exists = SRS }
			}
		}
	}
	
	shared_focus = {
		id = NTR_preparations_for_total_war
		icon = GFX_goal_GEA_guerilla_warfare
		
		x = 39
		y = 0
		
		cost = 7
		
		bypass = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		available = {
			has_country_flag = NTR_reintegration_half_completed_flag
		}
		
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_preparations_for_total_war"
			
			add_ideas = NTR_melee_equipment_production_optimization
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_war_production_AI_factor
				
				has_variable = NTR_war_production_AI_factor
			}
			
			modifier = {
				factor = 0.2
				
				SRS = {
					surrender_progress > 0.25
				}
			}
			
			modifier = {
				factor = 0.1
				
				SRS = {
					surrender_progress > 0.5
				}
			}
		}
	}

# Post-war cluster #

	shared_focus = {
		id = NTR_new_designs
		icon = GFX_goal_generic_small_arms
		
		relative_position_id = NTR_our_game
		x = -1
		y = 1
		
		cost = 7
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_traditionalism_branch
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_our_game
		}
		
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_designs"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1.5
					category = infantry_weapons
				}
			}
			
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					category = infantry_weapons
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_experience_of_the_past_centuries }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_large_calibers
		icon = GFX_goal_artillery
		
		relative_position_id = NTR_equipment_capture_groups
		x = 1
		y = 1
		
		cost = 7
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_traditionalism_branch
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		prerequisite = {
			focus = NTR_our_game
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_large_calibers"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = arty_bonus
					bonus = 1
					category = artillery
				}
			}
			
			else = {
				add_tech_bonus = {
					name = arty_bonus
					bonus = 0.75
					category = artillery
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_new_designs }
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_experience_of_the_past_centuries }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}
	
	shared_focus = {
		id = NTR_modern_tactics
		icon = GFX_goal_generic_more_territorial_claims
		
		relative_position_id = NTR_our_game
		x = 0
		y = 1
		
		cost = 7
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_traditionalism_branch
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_our_game
		}
		
		prerequisite = {
			focus = NTR_equipment_capture_groups
		}
		
		available = {
			has_country_flag = NTR_owns_SRS_cores_flag
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_modern_tactics"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					category = support_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 0.75
					category = support_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_new_designs }
			}
			
			modifier = {
				factor = 0
				
				OR = {
					NOT = { has_completed_focus = NTR_experience_of_the_past_centuries }
					NOT = { has_completed_focus = NTR_refining_the_old_practices }
				}
			}
		}
	}

### 2nd level ###

	shared_focus = {
		id = NTR_standardize_rifle_design
		icon = GFX_goal_national_arsenal
		
		relative_position_id = NTR_new_designs
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
		
		prerequisite = {
			focus = NTR_new_designs
		}
		
		prerequisite = {
			focus = NTR_modern_tactics
		}
		
		mutually_exclusive = {
			focus = NTR_upgrade_artillery_design
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_standardize_rifle_design"
			
			add_ideas = NTR_rifles_production_opimization
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_upgrade_artillery_design
		icon = GFX_goal_national_artillery
		
		relative_position_id = NTR_large_calibers
		x = -1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
		
		prerequisite = {
			focus = NTR_large_calibers
		}
		
		prerequisite = {
			focus = NTR_modern_tactics
		}
		
		mutually_exclusive = {
			focus = NTR_standardize_rifle_design
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = yes
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_upgrade_artillery_design"
			
			add_ideas = NTR_support_equipment_and_artillery_production_opimization
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_create_production_chains
		icon = GFX_goal_chn_red_military_factories
		
		relative_position_id = NTR_modern_tactics
		x = 0
		y = 2
		
		cost = 10
		
		ai_will_do = {
			base = 75
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
		
		prerequisite = {
			focus = NTR_standardize_rifle_design
			focus = NTR_upgrade_artillery_design
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_create_production_chains"
			
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				
				add_extra_state_shared_building_slots = 2
				
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 3rd level ###

	shared_focus = {
		id = NTR_magic_in_the_guns
		icon = GFX_goal_magical_weapon_focus
		
		relative_position_id = NTR_create_production_chains
		x = -2
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0
				
				NOT = { has_completed_focus = NTR_warchiefs_of_the_new_millennium }
			}
		}
		
		prerequisite = {
			focus = NTR_create_production_chains
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_magic_in_the_guns"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = magical_bonus
					bonus = 1
					category = magical_tech
				}
			}
			
			else = {
				add_tech_bonus = {
					name = magical_bonus
					bonus = 0.75
					category = magical_tech
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_warchiefs_of_the_new_millennium
		icon = GFX_goal_military_mission_pony
		
		relative_position_id = NTR_create_production_chains
		x = 0
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_create_production_chains
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_warchiefs_of_the_new_millennium"
			
			# NOTE: no field marshals before completion of this focus (promote_cost_factor = 1000 hidden idea) #???
			
			random_unit_leader = {
				limit = {
					has_id = 13451
				}
				
				promote_leader = yes
				
				if = {
					limit = {
						skill > 2
					}
					
					# nothing
				}
				
				else_if = {
					limit = {
						skill > 1
					}
					
					add_skill_level = 1
					
					if = {
						limit = {
							ROOT = {
								has_country_flag = NTR_vedina_branch
							}
						}
						
						add_unit_leader_trait = offensive_doctrine
					}
					
					else = {
						add_unit_leader_trait = defensive_doctrine
					}
				}
			}
			
			create_corps_commander = { # griffon
				name = "Folki Haug"
				picture = "Governor.tga" # portrait #???
				id = 13452
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
				traits = { hill_fighter politically_connected }
			}
			
			create_corps_commander = { # pony
				name = "Leos Venture"
				picture = "Governor.tga" # portrait #???
				id = 13453
				skill = 2
				attack_skill = 1
				defense_skill = 1
				planning_skill = 3
				logistics_skill = 2
				traits = { winter_specialist old_guard }
			}
			
			create_corps_commander = { # griffon for purge
				name = "Federic Hoff"
				picture = "Dumb_griffon.tga"
				id = 13454
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
				traits = { imbecile }
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_how_does_it_move
		icon = GFX_goal_generic_army_motorized
		
		relative_position_id = NTR_create_production_chains
		x = 2
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 20
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
			
			modifier = {
				factor = 0.5
				
				NOT = { has_completed_focus = NTR_warchiefs_of_the_new_millennium }
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_traditionalism_branch
				has_completed_focus = NTR_cow_the_red_conquerors
			}
		}
		
		prerequisite = {
			focus = NTR_create_production_chains
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_how_does_it_move"
			
			if = {
				limit = {
					has_completed_focus = NTR_cow_the_red_conquerors
				}
				
				add_tech_bonus = {
					name = motorized_bonus
					bonus = 1
					category = motorized_equipment
				}
			}
			
			else = {
				add_tech_bonus = {
					name = motorized_bonus
					bonus = 0.75
					category = motorized_equipment
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th level ###

	shared_focus = {
		id = NTR_centralize_military_research_branches
		icon = GFX_focus_secret_rearmament
		
		relative_position_id = NTR_warchiefs_of_the_new_millennium
		x = -1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		prerequisite = {
			focus = NTR_warchiefs_of_the_new_millennium
		}
		
		available = {
			OR = {
				has_completed_focus = NTR_standardize_rifle_design
				has_completed_focus = NTR_upgrade_artillery_design
			}
			
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_centralize_military_research_branches"
			
			custom_effect_tooltip = available_designer
			
			if = {
				limit = {
					has_completed_focus = NTR_standardize_rifle_design
				}
				
				add_ideas = NTR_infantry_equipment_manufacturer
			}
			
			else_if = {
				limit = {
					has_completed_focus = NTR_upgrade_artillery_design
				}
				
				add_ideas = NTR_artillery_equipment_manufacturer
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_adapt_to_new_threads
		icon = GFX_goal_generic_occupy_states_ongoing_war
		
		relative_position_id = NTR_warchiefs_of_the_new_millennium
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		prerequisite = {
			focus = NTR_warchiefs_of_the_new_millennium
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_adapt_to_new_threads"
			
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = NTR_theorist_1
			show_ideas_tooltip = NTR_theorist_2
			show_ideas_tooltip = NTR_theorist_3
			
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.75
				uses = 3
				category = land_doctrine
			}
			
			hidden_effect = {
				set_country_flag = NTR_military_theorist_unlocked
				set_country_flag = NTR_naval_theorist_unlocked
				set_country_flag = NTR_air_warfare_theorist_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_past_battles_experience
		icon = GFX_focus_generic_combined_arms
		
		relative_position_id = NTR_centralize_military_research_branches
		x = -1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_centralize_military_research_branches
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_past_battles_experience"
			
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				if = {
					limit = {
						has_idea = NTR_infantry_equipment_manufacturer
					}
					
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 1
						category = infantry_weapons
					}
				}
				
				else = {
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 0.75
						category = infantry_weapons
					}
				}
				
				if = {
					limit = {
						has_idea = NTR_artillery_equipment_manufacturer
					}
					
					add_tech_bonus = {
						name = arty_bonus
						bonus = 1
						category = artillery
					}
				}
				
				else = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						category = artillery
					}
				}
			}
			
			else = {
				if = {
					limit = {
						has_idea = NTR_infantry_equipment_manufacturer
					}
					
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 0.75
						category = infantry_weapons
					}
				}
				
				else = {
					add_tech_bonus = {
						name = infantry_weapons_bonus
						bonus = 0.5
						category = infantry_weapons
					}
				}
				
				if = {
					limit = {
						has_idea = NTR_artillery_equipment_manufacturer
					}
					
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.75
						category = artillery
					}
				}
				
				else = {
					add_tech_bonus = {
						name = arty_bonus
						bonus = 0.5
						category = artillery
					}
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_revise_the_structure_of_units
		icon = GFX_goal_generic_military_sphere
		
		relative_position_id = NTR_adapt_to_new_threads
		x = 1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_adapt_to_new_threads
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_revise_the_structure_of_units"
			
			add_tech_bonus = {
				name = infantry_weapons
				bonus = 0.75
				uses = 2
				category = support_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_hierarcy_of_the_new_millenium
		icon = GFX_goal_generic_army_doctrines
		
		relative_position_id = NTR_warchiefs_of_the_new_millennium
		x = 0
		y = 2
		
		cost = 8
		
		ai_will_do = {
			base = 30
			
			modifier = {
				factor = var:NTR_army_AI_factor
				
				has_variable = NTR_army_AI_factor
			}
		}
		
		prerequisite = {
			focus = NTR_centralize_military_research_branches
		}
		
		prerequisite = {
			focus = NTR_adapt_to_new_threads
		}
		
		available = {
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_hierarcy_of_the_new_millenium"
			
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = NTR_chief_of_army_1
			show_ideas_tooltip = NTR_chief_of_army_2
			show_ideas_tooltip = NTR_chief_of_army_3
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_1
			show_ideas_tooltip = NTR_military_high_command_2
			show_ideas_tooltip = NTR_military_high_command_3
			
			hidden_effect = {
				set_country_flag = NTR_army_chiefs_and_high_command_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_new_legends
		icon = GFX_goal_generic_special_forces
		
		relative_position_id = NTR_past_battles_experience
		x = 1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_past_battles_experience
		}
		
		prerequisite = {
			focus = NTR_hierarcy_of_the_new_millenium
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_new_legends"
			
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 0.75
				uses = 2
				category = mountaineers_tech
				category = marine_tech
				category = para_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_our_greatest_weapon
		icon = GFX_goal_generic_major_alliance_pony
		
		relative_position_id = NTR_revise_the_structure_of_units
		x = -1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
		}
		
		prerequisite = {
			focus = NTR_revise_the_structure_of_units
		}
		
		prerequisite = {
			focus = NTR_hierarcy_of_the_new_millenium
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_our_greatest_weapon"
			
			add_tech_bonus = {
				name = pegasi_bonus
				bonus = 0.75
				category = pegasi_tech
			}
			
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.75
				category = unicorn_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th cluster (navy) ###

	shared_focus = {
		id = NTR_parsing_captured_instances
		icon = GFX_goal_generic_navy_anti_submarine
		
		relative_position_id = NTR_strange_boats
		x = -2
		y = 0
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				any_enemy_country = {
					any_state = {
						is_controlled_by = PREV
						is_coastal = yes
					}
				}
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		bypass = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				has_tech = early_ship_hull_light
			}
			
			else = {
				has_tech = early_destroyer
			}
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_parsing_captured_instances"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				set_technology = {
					early_ship_hull_light = 1
				}
			}
			
			else = {
				set_technology = {
					early_destroyer = 1
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_strange_boats
		icon = GFX_goal_generic_navy_submarine
		
		relative_position_id = NTR_adapt_to_new_threads
		x = -3
		y = 0
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				any_enemy_country = {
					any_state = {
						is_controlled_by = PREV
						is_coastal = yes
					}
				}
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		bypass = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = early_ship_hull_submarine
			}
			
			else = {
				has_tech = early_submarine
			}
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_strange_boats"
			
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				
				set_technology = {
					early_ship_hull_submarine = 1
				}
			}
			
			else = {
				set_technology = {
					early_submarine = 1
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_analyze_the_found_drawings
		icon = GFX_focus_generic_cruiser2
		
		relative_position_id = NTR_strange_boats
		x = -1
		y = 1
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				any_enemy_country = {
					any_state = {
						is_controlled_by = PREV
						is_coastal = yes
					}
				}
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0.25
				
				OR = {
					has_navy_size = {
						archetype = ship_hull_submarine
						size < 1
					}
					
					has_navy_size = {
						archetype = ship_hull_light
						size < 1
					}
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		prerequisite = {
			focus = NTR_parsing_captured_instances
		}
		
		prerequisite = {
			focus = NTR_strange_boats
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_analyze_the_found_drawings"
			
			add_tech_bonus = {
				name = cr_bonus
				bonus = 0.75
				category = cl_tech
			}
			
			add_tech_bonus = {
				name = bc_bonus
				bonus = 0.75
				category = ca_tech
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_sea_battle_tactics
		icon = GFX_goal_generic_navy_doctrines_tactics
		
		relative_position_id = NTR_analyze_the_found_drawings
		x = -1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				any_enemy_country = {
					any_state = {
						is_controlled_by = PREV
						is_coastal = yes
					}
				}
			}
			
			modifier = {
				factor = 0.2
				
				OR = {
					has_navy_size = {
						archetype = ship_hull_submarine
						size < 1
					}
					
					has_navy_size = {
						archetype = ship_hull_light
						size < 1
					}
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_great_northern_communes_branch
				has_country_flag = NTR_blizzard_branch
			}
		}
		
		prerequisite = {
			focus = NTR_analyze_the_found_drawings
		}
		
		available = {
			if = {
				limit = {
					has_government = fascism
				}
				
				has_country_flag = NTR_owns_SRS_VED_cores_flag
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_sea_battle_tactics"
			
			add_tech_bonus = {
				name = sub_op_bonus
				bonus = 0.75
				uses = 3
				category = cat_trade_interdiction
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_naval_command
		icon = GFX_goal_navy_hat_ships
		
		relative_position_id = NTR_analyze_the_found_drawings
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				any_enemy_country = {
					any_state = {
						is_controlled_by = PREV
						is_coastal = yes
					}
				}
			}
			
			modifier = {
				factor = 0.2
				
				OR = {
					has_navy_size = {
						archetype = ship_hull_submarine
						size < 1
					}
					
					has_navy_size = {
						archetype = ship_hull_light
						size < 1
					}
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_great_northern_communes_branch
				has_country_flag = NTR_blizzard_branch
			}
		}
		
		prerequisite = {
			focus = NTR_analyze_the_found_drawings
		}
		
		available = {
			if = {
				limit = {
					has_government = fascism
				}
				
				has_country_flag = NTR_owns_SRS_VED_cores_flag
			}
			
			hidden_trigger = {
				has_country_flag = NTR_owns_SRS_cores_flag
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_naval_command"
			
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = NTR_chief_of_navy_1
			show_ideas_tooltip = NTR_chief_of_navy_2
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_4
			
			hidden_effect = {
				set_country_flag = NTR_naval_chiefs_and_military_high_command_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 4th cluster (air) ###

	shared_focus = {
		id = NTR_copy_drawings
		icon = GFX_goal_generic_air_fighter
		
		relative_position_id = NTR_adapt_to_new_threads
		x = 3
		y = 0
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		bypass = {
			has_tech = early_fighter
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_copy_drawings"
			
			set_technology = {
				early_fighter = 1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_flying_mastodons
		icon = GFX_goal_generic_air_bomber
		
		relative_position_id = NTR_copy_drawings
		x = 2
		y = 0
		
		cost = 7
		
		ai_will_do = {
			base = 25
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_vedina_branch
				has_country_flag = NTR_great_northern_communes_branch
			}
		}
		
		bypass = {
			has_tech = early_bomber
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_flying_mastodons"
			
			set_technology = {
				early_bomber = 1
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_align_fields
		icon = GFX_goal_generic_air_production
		
		relative_position_id = NTR_copy_drawings
		x = 1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0
				
				any_enemy_country = {
					is_neighbor_of = ROOT
				}
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		prerequisite = {
			focus = NTR_copy_drawings
		}
		
		prerequisite = {
			focus = NTR_flying_mastodons
		}
		
		available = {
			if = {
				limit = {
					has_country_flag = NTR_vedina_branch
				}
				
				hidden_trigger = {
					430 = { is_owned_and_controlled_by = ROOT }
					483 = { is_owned_and_controlled_by = ROOT }
				}
			}
			
			else = {
				hidden_trigger = {
					has_country_flag = NTR_owns_SRS_cores_flag
				}
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_align_fields"
			
			562 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			
			563 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			
			522 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			
			483 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_establish_airforce_command
		icon = GFX_focus_eng_special_air_service
		
		relative_position_id = NTR_align_fields
		x = -1
		y = 1
		
		cost = 6
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
			
			modifier = {
				factor = 0.5
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
			
			modifier = {
				factor = 0.25
				
				OR = {
					has_deployed_air_force_size = {
						size < 100
						type = fighter
					}
					
					has_deployed_air_force_size = {
						size < 100
						type = tactical_bomber
					}
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_great_northern_communes_branch
				has_country_flag = NTR_blizzard_branch
			}
		}
		
		prerequisite = {
			focus = NTR_align_fields
		}
		
		available = {
			if = {
				limit = {
					has_government = neutrality
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else_if = {
				limit = {
					has_government = fascism
				}
				
				has_country_flag = NTR_owns_SRS_VED_cores_flag
			}
			
			else = {
				has_government = communism
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_establish_airforce_command"
			
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = NTR_chief_of_airforce_1
			show_ideas_tooltip = NTR_chief_of_airforce_2
			show_ideas_tooltip = NTR_chief_of_airforce_3
			
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = NTR_military_high_command_5
			
			hidden_effect = {
				set_country_flag = NTR_airforce_chiefs_and_military_high_command_unlocked
				
				calculate_military_ai_bahavior = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_air_combat_tactics
		icon = GFX_goal_generic_air_doctrine
		
		relative_position_id = NTR_align_fields
		x = 1
		y = 1
		
		cost = 8
		
		ai_will_do = {
			base = 50
			
			modifier = {
				factor = 2
				
				has_war = yes
			}
			
			modifier = {
				factor = 0.25
				
				OR = {
					has_deployed_air_force_size = {
						size < 100
						type = fighter
					}
					
					has_deployed_air_force_size = {
						size < 100
						type = tactical_bomber
					}
				}
			}
			
			modifier = {
				factor = 0
				
				NOT = {
					has_completed_focus = NTR_new_legends
					has_completed_focus = NTR_our_greatest_weapon
				}
			}
		}
		
		allow_branch = {
			OR = {
				has_country_flag = NTR_great_northern_communes_branch
				has_country_flag = NTR_blizzard_branch
			}
		}
		
		prerequisite = {
			focus = NTR_align_fields
		}
		
		available = {
			if = {
				limit = {
					has_government = neutrality
				}
				
				430 = { is_owned_and_controlled_by = ROOT }
				483 = { is_owned_and_controlled_by = ROOT }
			}
			
			else_if = {
				limit = {
					has_government = fascism
				}
				
				has_country_flag = NTR_owns_SRS_VED_cores_flag
			}
			
			else = {
				has_government = communism
			}
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_air_combat_tactics"
			
			add_tech_bonus = {
				name = air_doc_bonus
				bonus = 1
				uses = 2
				category = air_doctrine
			}
			
			hidden_effect = {
				calculate_military_ai_bahavior = yes
			}
		}
	}

### 5th cluster (army) ###

	shared_focus = {
		id = NTR_counter_tactics
		icon = GFX_goal_generic_secret_weapon
		
		relative_position_id = NTR_new_legends
		x = -1
		y = 1
		
		cost = 8
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_new_legends
		}
		
		available = {
			is_subject = no
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_counter_tactics"
			
			add_ideas = NTR_anti_griffons
			show_ideas_tooltip = NTR_anti_griffons
			
			every_enemy_country = {
				limit = {
					has_tech = griffon_race
				}
				
				add_ideas = Griffons_anti_griffon_idea
			}
			
			every_neighbor_country = {
				limit = {
					has_tech = griffon_race
					
					has_border_war_with = ROOT
				}
				
				add_ideas = Griffons_anti_griffon_idea
			}
		}
	}
	
	shared_focus = {
		id = NTR_clean_command_hierarcy
		icon = GFX_goal_officers
		
		relative_position_id = NTR_hierarcy_of_the_new_millenium
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_hierarcy_of_the_new_millenium
		}
		
		available = {
			is_subject = no
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_clean_command_hierarcy"
			
			add_war_support = 0.075
			
			create_corps_commander = { # pony
				name = "Dusan Chaser"
				picture = "Governor.tga"
				id = 13455
				skill = 3
				attack_skill = 4
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 2
				traits = { expert_improviser ranger harsh_leader }
			}
			
			create_corps_commander = { # pony
				name = "Izeibla Petal"
				picture = "Governor.tga"
				id = 13456
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 2
				traits = { skirmisher media_personality }
				female = yes
			}
		}
	}
	
	shared_focus = {
		id = NTR_against_griffons
		icon = GFX_goal_shadowbolts
		
		relative_position_id = NTR_our_greatest_weapon
		x = 1
		y = 1
		
		cost = 7
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_our_greatest_weapon
		}
		
		available = {
			is_subject = no
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_against_griffons"
			
			add_tech_bonus = {
				name = pegasi_bonus
				bonus = 0.75
				category = pegasi_tech
			}
			
			add_tech_bonus = {
				name = unicorn_bonus
				bonus = 0.75
				category = unicorn_tech
			}
		}
	}
	
	shared_focus = {
		id = NTR_born_in_blizzards
		icon = GFX_goal_forest_spirit # winter texture #???
		
		relative_position_id = NTR_clean_command_hierarcy
		x = 0
		y = 1
		
		cost = 7
		
		prerequisite = {
			focus = NTR_counter_tactics
		}
		
		prerequisite = {
			focus = NTR_clean_command_hierarcy
		}
		
		prerequisite = {
			focus = NTR_against_griffons
		}
		
		available = {
			is_subject = no
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_born_in_blizzards"
			
			add_tech_bonus = {
				name = race_bonus
				bonus = 1
				uses = 2
				technology = tech_pony_misc
				technology = tech_pony_misc2
				technology = tech_pony_misc3
				technology = tech_pony_misc_a
				technology = tech_pony_misc_a2
				technology = tech_pony_misc_b
				technology = tech_pony_misc_c
				technology = tech_pony_misc_c2
			}
		}
	}

### 5th cluster (navy and air) ###

	shared_focus = {
		id = NTR_protect_naval_border
		icon = GFX_goal_generic_navy_cruiser
		
		relative_position_id = NTR_analyze_the_found_drawings
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_sea_battle_tactics
		}
		
		prerequisite = {
			focus = NTR_establish_naval_command
		}
		
		available = {
			is_subject = no
			has_government = fascism
			
			has_tech = basic_naval_mines
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_protect_naval_border"
			
			custom_effect_tooltip = NTR_protect_naval_border_tooltip
		}
	}
	
	shared_focus = {
		id = NTR_create_the_ship_designer
		icon = GFX_goal_naval_effort
		
		relative_position_id = NTR_protect_naval_border
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_protect_naval_border
		}
		
		available = {
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_create_the_ship_designer"
			
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = NTR_naval_manufacturer #???
		}
	}
	
	shared_focus = {
		id = NTR_from_all_guns
		icon = GFX_goal_generic_air_naval_bomber
		
		relative_position_id = NTR_align_fields
		x = 0
		y = 2
		
		cost = 6
		
		allow_branch = {
			has_country_flag = NTR_blizzard_branch
		}
		
		prerequisite = {
			focus = NTR_establish_airforce_command
		}
		
		prerequisite = {
			focus = NTR_air_combat_tactics
		}
		
		available = {
			is_subject = no
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_from_all_guns"
			
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 0.75
				category = naval_bomber
			}
		}
	}
	
	shared_focus = {
		id = NTR_create_the_aircraft_designers
		icon = GFX_goal_generic_air_production
		
		relative_position_id = NTR_from_all_guns
		x = 0
		y = 1
		
		cost = 8
		
		prerequisite = {
			focus = NTR_from_all_guns
		}
		
		available = {
			has_government = fascism
		}
		
		cancel_if_invalid = yes
		available_if_capitulated = no
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus NTR_create_the_aircraft_designers"
			
			add_ideas = NTR_fuel_efficient_aircraft_manufacturer
		}
	}