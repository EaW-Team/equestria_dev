focus_tree = {
	id = Nimbusian_league_focus

	country = {
		factor = 0
		modifier = {
			add = 11
			tag = NIM
		}
	}

	default = no

	continuous_focus_position = { x = 2050 y = 1650 }

	shared_focus = RIV_dreams_of_a_federation

	shared_focus = NIM_choose_harmony
	shared_focus = NIM_choose_neutrality
	shared_focus = NIM_choose_fascism

	shared_focus = NIM_farmer_help
	shared_focus = NIM_merchants
	shared_focus = NIM_hillponies_controltowers

	shared_focus = NIM_millitary_begining

}

focus_tree = {
	id = Nimbusian_league_focus_neu

	country = {
		factor = 0
		modifier = {
			add = 12
			tag = NIM
			has_government = neutrality
		}
	}

	default = no

	continuous_focus_position = { x = 2050 y = 1650 }

	shared_focus = RIV_dreams_of_a_federation

	shared_focus = NIM_choose_harmony
	shared_focus = NIM_choose_neutrality
	shared_focus = NIM_choose_fascism

	shared_focus = NIM_farmer_help
	shared_focus = NIM_merchants
	shared_focus = NIM_hillponies_controltowers

	shared_focus = NIM_millitary_begining

	shared_focus = NIM_polity

	shared_focus = NIM_confrontation
	shared_focus = NIM_cautious_cooperation
	shared_focus = NIM_integration

}

focus_tree = {
	id = Nimbusian_league_focus_dem

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = NIM
			has_government = democratic
		}
	}

	default = no

	continuous_focus_position = { x = 2050 y = 1650 }

	shared_focus = RIV_dreams_of_a_federation

	shared_focus = NIM_choose_harmony
	shared_focus = NIM_choose_neutrality
	shared_focus = NIM_choose_fascism

	shared_focus = NIM_farmer_help
	shared_focus = NIM_merchants
	shared_focus = NIM_hillponies_controltowers

	shared_focus = NIM_millitary_begining

	shared_focus = NIM_harmonia

	shared_focus = NIM_confrontation
	shared_focus = NIM_cautious_cooperation
	shared_focus = NIM_integration

}

focus_tree = {
	id = Nimbusian_league_focus_fash

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = NIM
			has_government = fascism
		}
	}

	default = no

	continuous_focus_position = { x = 2050 y = 1650 }

	shared_focus = RIV_dreams_of_a_federation

	shared_focus = NIM_choose_harmony
	shared_focus = NIM_choose_neutrality
	shared_focus = NIM_choose_fascism

	shared_focus = NIM_farmer_help
	shared_focus = NIM_merchants
	shared_focus = NIM_hillponies_controltowers

	shared_focus = NIM_millitary_begining

	shared_focus = NIM_state_of_war

	shared_focus = NIM_confrontation
	shared_focus = NIM_cautious_cooperation
	shared_focus = NIM_integration

}

shared_focus = {
	id = NIM_choose_harmony
	icon = GFX_goal_nim_torch
	x = 1
	y = 0
	cost = 1

	ai_will_do = {
		factor = 4
		modifier = {
			factor = 0
			OR = {
				has_country_flag = NIM_AI_NEUTRALITY
				has_game_rule = {
					rule = NIM_ai_behavior
					option = NEUTRALITY
				}
				has_country_flag = NIM_AI_FASCIST
				has_game_rule = {
					rule = NIM_ai_behavior
					option = FASCISM
				}
			}
		}
	}

	mutually_exclusive = {
		focus = NIM_choose_neutrality
		focus = NIM_choose_fascism
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_choose_harmony"
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
	}
}

shared_focus = {
	id = NIM_choose_neutrality
	icon = GFX_goal_nim_scales
	x = 4
	y = 0
	cost = 1

	ai_will_do = {
		factor = 6
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_historical_focus_on = yes
					has_game_rule = {
						rule = NIM_ai_behavior
						option = DEFAULT
					}
				}
				has_country_flag = NIM_AI_DEMOCRATIC
				has_game_rule = {
					rule = NIM_ai_behavior
					option = DEMOCRATIC
				}
				has_country_flag = NIM_AI_FASCIST
				has_game_rule = {
					rule = NIM_ai_behavior
					option = FASCISM
				}
			}
		}
	}

	mutually_exclusive = {
		focus = NIM_choose_harmony
		focus = NIM_choose_fascism
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_choose_neutrality"
		add_popularity = {
			ideology = neutrality
			popularity = 0.03
		}
	}
}

shared_focus = {
	id = NIM_choose_fascism
	icon = GFX_goal_nim_flame
	x = 7
	y = 0
	cost = 1

	ai_will_do = {
		factor = 2
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_historical_focus_on = yes
					has_game_rule = {
						rule = NIM_ai_behavior
						option = DEFAULT
					}
				}
				has_country_flag = NIM_AI_DEMOCRATIC
				has_game_rule = {
					rule = NIM_ai_behavior
					option = DEMOCRATIC
				}
				has_country_flag = NIM_AI_NEUTRALITY
				has_game_rule = {
					rule = NIM_ai_behavior
					option = NEUTRALITY
				}
			}
		}
	}

	mutually_exclusive = {
		focus = NIM_choose_harmony
		focus = NIM_choose_neutrality
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_choose_fascism"
		add_popularity = {
			ideology = fascism
			popularity = 0.03
		}
	}
}

shared_focus = {
	id = NIM_boule_deliberates
	icon = GFX_goal_nim_government
	x = 4
	y = 1
	cost = 3

	prerequisite = {
		focus = NIM_choose_harmony
		focus = NIM_choose_neutrality
		focus = NIM_choose_fascism
	}

	ai_will_do = {
		factor = 15
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_boule_deliberates"
		add_political_power = 50
		hidden_effect = {
			country_event = { id = nimbusia.12 days = 7 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.13 days = 6 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.14 days = 8 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.15 days = 5 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.16 days = 9 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.17 days = 4 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.18 days = 3 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.19 days = 10 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.20 days = 5 random = 7200 }#days to hours applied
			country_event = { id = nimbusia.21 days = 1 random = 7200 }#days to hours applied
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_what_to_grow
	icon = GFX_goal_nim_agriculture
	relative_position_id = NIM_boule_deliberates
	x = -4
	y = 1
	cost = 3

	prerequisite = {
		focus = NIM_boule_deliberates
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0.5
			has_political_power < 20
		}
	}




	select_effect = {
		random_list = {
			1 = { set_variable = { NIM_debate = 1 } }
			1 = { set_variable = { NIM_debate = 2 } }
			1 = { set_variable = { NIM_debate = 3 } }
		}
		country_event = { id = nimbusia.7 days = 1 random = 480 }#days to hours applied
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_what_to_grow"
		custom_effect_tooltip = NIM_what_to_grow_tt
		hidden_effect = {
			country_event = nimbusia.1
		}
	}
}

shared_focus = {
	id = NIM_silver_mines
	icon = GFX_goal_nim_mining
	relative_position_id = NIM_boule_deliberates
	x = -2
	y = 1
	cost = 4

	prerequisite = {
		focus = NIM_boule_deliberates
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0.5
			has_political_power < 20
		}
	}




	select_effect = {
		random_list = {
			1 = { set_variable = { NIM_debate = 1 } }
			1 = { set_variable = { NIM_debate = 2 } }
			1 = { set_variable = { NIM_debate = 3 } }
		}
		country_event = { id = nimbusia.8 days = 1 random = 480 }#days to hours applied
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_silver_mines"
		custom_effect_tooltip = NIM_silver_mines_tt
		hidden_effect = {
			country_event = nimbusia.2
		}
	}
}

shared_focus = {
	id = NIM_city_culture
	icon = GFX_goal_nim_amphora
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 1
	cost = 3

	prerequisite = {
		focus = NIM_boule_deliberates
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0.5
			has_political_power < 20
		}
	}




	select_effect = {
		random_list = {
			1 = { set_variable = { NIM_debate = 1 } }
			1 = { set_variable = { NIM_debate = 2 } }
			1 = { set_variable = { NIM_debate = 3 } }
		}
		country_event = { id = nimbusia.9 days = 1 random = 480 }#days to hours applied
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_city_culture"
		custom_effect_tooltip = NIM_city_culture_tt
		hidden_effect = {
			country_event = nimbusia.3
		}
	}
}

shared_focus = {
	id = NIM_renovate_acropolis
	icon = GFX_goal_nim_pillar
	relative_position_id = NIM_boule_deliberates
	x = 2
	y = 1
	cost = 4

	prerequisite = {
		focus = NIM_boule_deliberates
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0.5
			has_political_power < 20
		}
	}




	select_effect = {
		random_list = {
			1 = { set_variable = { NIM_debate = 1 } }
			1 = { set_variable = { NIM_debate = 2 } }
			1 = { set_variable = { NIM_debate = 3 } }
		}
		country_event = { id = nimbusia.10 days = 1 random = 480 }#days to hours applied
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_renovate_acropolis"
		custom_effect_tooltip = NIM_renovate_acropolis_tt
		hidden_effect = {
			country_event = nimbusia.4
		}
	}
}

shared_focus = {
	id = NIM_slave_affair
	icon = GFX_goal_nim_slavery
	relative_position_id = NIM_boule_deliberates
	x = 4
	y = 1
	cost = 3

	prerequisite = {
		focus = NIM_boule_deliberates
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0.5
			has_political_power < 20
		}
	}




	select_effect = {
		random_list = {
			1 = { set_variable = { NIM_debate = 1 } }
			1 = { set_variable = { NIM_debate = 2 } }
			1 = { set_variable = { NIM_debate = 3 } }
		}
		country_event = { id = nimbusia.11 days = 1 random = 480 }#days to hours applied
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_slave_affair"
		custom_effect_tooltip = NIM_slave_affair_tt
		hidden_effect = {
			country_event = nimbusia.5
		}
	}
}

shared_focus = {
	id = NIM_censorship
	icon = GFX_goal_nim_censorship
	relative_position_id = NIM_boule_deliberates
	x = -3
	y = 2
	cost = 5

	prerequisite = {
		focus = NIM_what_to_grow
	}
	prerequisite = {
		focus = NIM_silver_mines
	}
	prerequisite = {
		focus = NIM_city_culture
	}
	prerequisite = {
		focus = NIM_renovate_acropolis
	}
	prerequisite = {
		focus = NIM_slave_affair
	}


	ai_will_do = {
		factor = 15
	}

	available = {

	}


	select_effect = {
		country_event = { id = nimbusia.22 days = 33 }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_censorship"
		custom_effect_tooltip = NIM_censorship_tt
	}
}

shared_focus = {
	id = NIM_guard
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 2
	cost = 5

	prerequisite = {
		focus = NIM_what_to_grow
	}
	prerequisite = {
		focus = NIM_silver_mines
	}
	prerequisite = {
		focus = NIM_city_culture
	}
	prerequisite = {
		focus = NIM_renovate_acropolis
	}
	prerequisite = {
		focus = NIM_slave_affair
	}


	ai_will_do = {
		factor = 15
	}

	available = {
		has_completed_focus = NIM_censorship
	}


	select_effect = {
		country_event = { id = nimbusia.26 days = 33 }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_guard"
		custom_effect_tooltip = NIM_guard_tt
	}
}

shared_focus = {
	id = NIM_education
	icon = GFX_goal_nim_education
	relative_position_id = NIM_boule_deliberates
	x = 3
	y = 2
	cost = 5

	prerequisite = {
		focus = NIM_what_to_grow
	}
	prerequisite = {
		focus = NIM_silver_mines
	}
	prerequisite = {
		focus = NIM_city_culture
	}
	prerequisite = {
		focus = NIM_renovate_acropolis
	}
	prerequisite = {
		focus = NIM_slave_affair
	}


	ai_will_do = {
		factor = 15
	}

	available = {
		has_completed_focus = NIM_guard
	}

	select_effect = {
		country_event = { id = nimbusia.30 days = 33 }
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_education"
		custom_effect_tooltip = NIM_education_tt
	}
}

shared_focus = {
	id = NIM_big_issue
	icon = GFX_goal_nim_griffon
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 3
	cost = 5

	prerequisite = {
		focus = NIM_censorship
	}
	prerequisite = {
		focus = NIM_guard
	}
	prerequisite = {
		focus = NIM_education
	}


	ai_will_do = {
		factor = 15
	}

	available = {

	}


	select_effect = {
		country_event = { id = nimbusia.35 days = 40 }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_big_issue"
		custom_effect_tooltip = NIM_big_issue_tt
	}
}

shared_focus = {
	id = NIM_appoint_new_commander
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 4
	cost = 5

	prerequisite = {
		focus = NIM_big_issue
	}

	ai_will_do = {
		factor = 15
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_appoint_new_commander"
		country_event = nimbusia.6
		custom_effect_tooltip = NIM_appoint_new_commander_tt
		hidden_effect = {
			if = {
				limit = { is_ai = yes has_global_flag = NIM_have_helots_rebel }
				set_stability = 0.40
			}
			country_event = { id = nimbusia.62 days = 4 random = 240 }
		}
	}
}

shared_focus = {
	id = NIM_the_law_of_freedom
	icon = GFX_goal_nim_break_chains
	relative_position_id = NIM_boule_deliberates
	x = -3
	y = 5
	cost = 5

	prerequisite = {
		focus = NIM_appoint_new_commander
	}

	mutually_exclusive = {
		focus = NIM_the_law_of_virtue
		focus = NIM_suspend_ostracism
	}

	ai_will_do = {
		factor = 15
	}

	available = {
		has_completed_focus = NIM_choose_harmony
		democratic > 0.5
		has_civil_war = no
	}


	select_effect = {
		#just a dummy thing to make it uncancellable
		set_temp_variable = { aaaaa = 1 }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_the_law_of_freedom"
		country_event = nimbusia.41
		custom_effect_tooltip = FEA_new_focus_tree_tp
	}
}

shared_focus = {
	id = NIM_the_law_of_virtue
	icon = GFX_goal_nim_scales
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 5
	cost = 5

	prerequisite = {
		focus = NIM_appoint_new_commander
	}

	mutually_exclusive = {
		focus = NIM_the_law_of_freedom
		focus = NIM_suspend_ostracism
	}

	select_effect = {
		#just a dummy thing to make it uncancellable
		set_temp_variable = { aaaaa = 1 }
	}

	ai_will_do = {
		factor = 15
	}

	available = {
		has_completed_focus = NIM_choose_neutrality
		neutrality > 0.5
		has_civil_war = no
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_the_law_of_virtue"
		country_event = nimbusia.42
		custom_effect_tooltip = FEA_new_focus_tree_tp
	}
}

shared_focus = {
	id = NIM_suspend_ostracism
	icon = GFX_goal_nim_swords
	relative_position_id = NIM_boule_deliberates
	x = 3
	y = 5
	cost = 5

	prerequisite = {
		focus = NIM_appoint_new_commander
	}

	mutually_exclusive = {
		focus = NIM_the_law_of_freedom
		focus = NIM_the_law_of_virtue
	}

	select_effect = {
		#just a dummy thing to make it uncancellable
		set_temp_variable = { aaaaa = 1 }
	}

	ai_will_do = {
		factor = 15
	}

	available = {
		has_completed_focus = NIM_choose_fascism
		fascism > 0.5
		has_civil_war = no
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_suspend_ostracism"
		country_event = nimbusia.44
		custom_effect_tooltip = FEA_new_focus_tree_tp
	}
}

############# Best Worst Path #########################

shared_focus = {
	id = NIM_state_of_war
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 6
	cost = 7


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_state_of_war"
		add_ideas = NIM_state_of_war_idea
		swap_ideas = {
			add_idea = NIM_caste_system_fascism
			remove_idea = NIM_caste_system
		}
		NIM_enable_army_chiefs = yes
		if = {
			limit = {
				has_character = NIM_javik
			}
			NIM_javik = { retire = yes }
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_keep_young
	icon = GFX_goal_nim_laurel
	relative_position_id = NIM_state_of_war
	x = -2
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_state_of_war
	}

	mutually_exclusive = {
		focus = NIM_get_old
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_keep_young"
		add_country_leader_trait = autokratessa
		hidden_effect = { country_event =  { id = nimbusia.36 days = 5 } }
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_get_old
	icon = GFX_goal_nim_crown
	relative_position_id = NIM_state_of_war
	x = 2
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_state_of_war
	}

	mutually_exclusive = {
		focus = NIM_keep_young
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_get_old"
		add_country_leader_role = {
			character = NIM_gylhippos
			promote_leader = yes

			country_leader = {
				desc = "NIM_glyhippos_desc"
				expire = "1965.1.1"
				ideology = stratocracy
				traits = { NIM_old autokrator }
			}
		}
		add_stability = 0.05
		custom_effect_tooltip = available_chief_of_army
		show_ideas_tooltip = NIM_fascism_army_chief_2
	}
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_fascism_focus_1
	icon = GFX_goal_nim_wing
	relative_position_id = NIM_state_of_war
	x = -3
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_keep_young
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_1"
		custom_effect_tooltip = NIM_fascism_focus_1_tt
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_fascism_focus_1_Tech = 1
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_fascism_focus_2
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_state_of_war
	x = -4
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_1
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_2"
		custom_effect_tooltip = NIM_fascism_focus_2_tt
		custom_effect_tooltip = SOL_Faith_Sacrifice_Worship_tp
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_fascism_focus_2_Tech = 1
				berserker_charge = 1
			}
		}
		hidden_effect = {
			set_rule = {
				can_use_kamikaze_pilots = yes
			}
			set_country_flag = kamikaze_flag
		}
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			custom_effect_tooltip = JAP_strengthen_the_divine_wind_effect_bba
			hidden_effect = { set_technology = { suicide_charge = 1 popup = no} }
		}
		custom_effect_tooltip = kamikaze_focus_tooltip
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_fascism_focus_3
	icon = GFX_goal_nim_education
	relative_position_id = NIM_state_of_war
	x = -2
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_keep_young
		focus = NIM_get_old
	}

	prerequisite = {
		focus = NIM_fascism_focus_4
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_3"
		add_ideas = NIM_fascism_focus_3_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_fascism_focus_4
	icon = GFX_goal_nim_government
	relative_position_id = NIM_state_of_war
	x = 0
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_keep_young
		focus = NIM_get_old
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_4"
		remove_ideas = NIM_boule
		add_stability = 0.1
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		hidden_effect = {
			every_country = {
				limit = { is_riverlands_country = yes }
				news_event = {
					id = nimbusia_news.1 hours = 6
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_fascism_focus_5
	icon = GFX_goal_nim_slavery
	relative_position_id = NIM_state_of_war
	x = 0
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_4
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_5"
		if = {
			limit = {
				has_dlc = "La Resistance"
			}
			add_ideas = NIM_fascism_focus_5_idea_lar
		}
		else = {
			add_ideas = NIM_fascism_focus_5_idea
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESISTANCE FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_fascism_focus_15
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_state_of_war
	x = 0
	y = 6
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_5
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_15"
		add_ideas = NIM_fascism_focus_15_idea
		custom_effect_tooltip = super_combat_abilities_tt
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_fascism_focus_6
	icon = GFX_goal_nim_shield
	relative_position_id = NIM_state_of_war
	x = 3
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_get_old
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_6"
		custom_effect_tooltip = NIM_fascism_focus_6_tt
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_fascism_focus_6_Tech = 1
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_fascism_focus_7
	icon = GFX_goal_nim_nimbusia
	relative_position_id = NIM_state_of_war
	x = 4
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_6
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_7"
		add_ideas = NIM_fascism_focus_7_idea
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = NIM_fascism_focus_8
	icon = GFX_goal_nim_bullets
	relative_position_id = NIM_state_of_war
	x = 2
	y = 3
	cost = 10


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_get_old
		focus = NIM_keep_young
	}

	prerequisite = {
		focus = NIM_fascism_focus_4
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_8"
		two_random_arms_factory = yes
		two_random_industrial_complex = yes
		add_ideas = closed_economy
		if = {
			limit = { has_idea = civilian_economy }
			add_ideas = low_economic_mobilisation
		}
		else_if = {
			limit = { has_idea = low_economic_mobilisation }
			add_ideas = partial_economic_mobilisation
		}
		else_if = {
			limit = { has_idea = partial_economic_mobilisation }
			add_ideas = war_economy
		}
		set_country_flag = trade_laws_blocked
		hidden_effect = {
			country_event = { id = nimbusia.37 days = 2 }
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_fascism_focus_9
	icon = GFX_goal_nim_griffon
	relative_position_id = NIM_state_of_war
	x = 2
	y = 4
	cost = 8


	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			has_completed_focus = NIM_keep_young
		}
	}

	prerequisite = {
		focus = NIM_fascism_focus_8
	}
	prerequisite = {
		focus = NIM_fascism_focus_5
	}
	mutually_exclusive = {
		focus = NIM_fascism_focus_10
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_9"
		add_ideas = NIM_fascism_focus_9_idea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = NIM_fascism_focus_11
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_state_of_war
	x = 1
	y = 5
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_9
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_11"
		swap_ideas = {
			add_idea = NIM_caste_system_fascism2
			remove_idea = NIM_caste_system_fascism
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_fascism_focus_12
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_state_of_war
	x = 3
	y = 5
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_9
	}

	available = {
		has_government = fascism
		any_owned_state = {
			is_controlled_by = ROOT
			free_building_slots = {
				building = arms_factory
				size > 0
				include_locked = yes
			}
		}
		any_owned_state = {
			is_controlled_by = ROOT
			state_population > 10000
			free_building_slots = {
				building = industrial_complex
				size > 1
				include_locked = yes
			}
		}
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_12"
		save_current_manpower = yes
		random_owned_controlled_state = {
			limit = {
				state_population > 20000
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			add_manpower = -20000
		}
		random_owned_controlled_state = {
			limit = {
				state_population > 10000
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_manpower = -10000
		}
		restore_previous_manpower = yes
		custom_effect_tooltip = NIM_riv_fed_tolerate
		hidden_effect = {
			RIV = {
				country_event = { id = nimbusia.55 days = 6 }
			}
			every_other_country = {
				limit = { is_river_fed_member = yes }
				add_opinion_modifier = { target = ROOT modifier = NIM_atrocities }
			}
			every_country = {
				limit = { is_riverlands_country = yes }
				news_event = {
					id = nimbusia_news.2 hours = 6
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_fascism_focus_10
	icon = GFX_goal_nim_swords
	relative_position_id = NIM_state_of_war
	x = -2
	y = 4
	cost = 8


	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			has_completed_focus = NIM_get_old
		}
	}

	prerequisite = {
		focus = NIM_fascism_focus_3
	}
	prerequisite = {
		focus = NIM_fascism_focus_5
	}

	mutually_exclusive = {
		focus = NIM_fascism_focus_9
	}

	available = {
		has_government = fascism
		any_owned_state = {
			state_population > 10000
		}
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_10"
		swap_ideas = {
			add_idea = NIM_caste_system_fascism3
			remove_idea = NIM_caste_system_fascism
		}
		save_current_manpower = yes
		random_owned_controlled_state = {
			limit = { state_population > 10000 }
			add_manpower = -5000
		}
		random_owned_controlled_state = {
			limit = { state_population > 10000 }
			add_manpower = -5000
		}
		random_owned_controlled_state = {
			limit = { state_population > 10000 }
			add_manpower = -5000
		}
		restore_previous_manpower = yes
		custom_effect_tooltip = NIM_riv_fed_tolerate
		hidden_effect = {
			RIV = {
				country_event = { id = nimbusia.55 days = 6 }
			}
			every_other_country = {
				limit = { is_river_fed_member = yes }
				add_opinion_modifier = { target = ROOT modifier = NIM_atrocities }
			}
			every_country = {
				limit = { is_riverlands_country = yes }
				news_event = {
					id = nimbusia_news.2 hours = 6
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_fascism_focus_13
	icon = GFX_goal_nim_break_chains
	relative_position_id = NIM_state_of_war
	x = -3
	y = 5
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_10
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_13"
		add_ideas = NIM_fascism_focus_13_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_fascism_focus_14
	icon = GFX_goal_nim_slavery
	relative_position_id = NIM_state_of_war
	x = -1
	y = 5
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_fascism_focus_10
	}

	available = {
		has_government = fascism
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_fascism_focus_14"
		add_political_power = 150
		add_ideas = NIM_fascism_focus_14_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

############# Boring old men #############################

shared_focus = {
	id = NIM_polity
	icon = GFX_goal_nim_government
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 6
	cost = 7


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_polity"
		add_ideas = NIM_polity_idea
		hidden_effect = {
			remove_ideas = {
				NIM_caste_system_neutrality
				NIM_caste_system_fascism
				NIM_caste_system_fascism2
				NIM_caste_system_fascism3
				NIM_caste_system_democratic
				NIM_caste_system_democratic2
				NIM_caste_system_democratic3
				NIM_caste_system_democratic4
			}
			set_technology = {
				popup = no
				NIM_fascism_focus_1_Tech = 0
				NIM_fascism_focus_2_Tech = 0
				NIM_fascism_focus_6_Tech = 0
				NIM_with_your_shield_tech = 0
				NIM_unicorn_corps_tech = 0
			}
			add_ideas = NIM_caste_system
			every_country = {
				limit = { is_riverlands_country = yes }
				news_event = {
					id = nimbusia_news.4 hours = 6
				}
			}
		}
		NIM_enable_army_chiefs = yes
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_honor_and_virtue
	icon = GFX_goal_nim_scales
	relative_position_id = NIM_polity
	x = -2
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_polity
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_honor_and_virtue"
		swap_ideas = {
			remove_idea = NIM_boule
			add_idea = NIM_boule2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_ostracise_purists
	icon = GFX_goal_nim_laurel
	relative_position_id = NIM_honor_and_virtue
	x = 1
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_honor_and_virtue
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_ostracise_purists"
		add_political_power = -30
		add_popularity = {
			ideology = fascism
			popularity = -0.2
		}
		hidden_effect = {
			FRE = {
				if = {
					limit = {
						exists = yes
						is_river_fed_member = yes
					}
					country_event = { id = nimbusia.57 days = 4 random = 240 }#days to hours applied
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_discipline_the_army
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_honor_and_virtue
	x = 1
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_ostracise_purists
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_discipline_the_army"
		add_political_power = -25
		add_manpower = -200
		add_ideas = NIM_discipline_the_army_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_marginalise_reformists
	icon = GFX_goal_nim_olives
	relative_position_id = NIM_honor_and_virtue
	x = -1
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_honor_and_virtue
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_marginalise_reformists"
		add_stability = 0.05
		add_popularity = {
			ideology = democratic
			popularity = -0.15
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_tax_non_citizens
	icon = GFX_goal_nim_amphora
	relative_position_id = NIM_honor_and_virtue
	x = -1
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_marginalise_reformists
	}

	available = {
		has_government = neutrality
		645 = {
			is_owned_and_controlled_by = ROOT
		}
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_tax_non_citizens"
		645 = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_experience_of_the_ages
	icon = GFX_goal_nim_pillar
	relative_position_id = NIM_polity
	x = 2
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_polity
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_experience_of_the_ages"
		swap_ideas = {
			remove_idea = NIM_caste_system
			add_idea = NIM_caste_system_neutrality
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_more_land_for_soldiers
	icon = GFX_goal_nim_agriculture
	relative_position_id = NIM_experience_of_the_ages
	x = 1
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_experience_of_the_ages
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_more_land_for_soldiers"
		add_ideas = NIM_more_land_for_soldiers_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = NIM_consult_the_oracle
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_experience_of_the_ages
	x = 1
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_more_land_for_soldiers
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_consult_the_oracle"
		unlock_decision_category_tooltip = NIM_oracle_decisions
	}
}

shared_focus = {
	id = NIM_honor_the_ancestors
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_experience_of_the_ages
	x = -1
	y = 1
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_experience_of_the_ages
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_honor_the_ancestors"
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
		add_ideas = NIM_honor_the_ancestors_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_tradition_of_sacrifice
	icon = GFX_goal_nim_bullets
	relative_position_id = NIM_experience_of_the_ages
	x = -1
	y = 2
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_honor_the_ancestors
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_tradition_of_sacrifice"
		add_ideas = NIM_tradition_of_sacrifice_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_wisdom_age
	icon = GFX_goal_nim_education
	relative_position_id = NIM_honor_and_virtue
	x = 0
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_discipline_the_army
		focus = NIM_tax_non_citizens
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_wisdom_age"
		increase_science_base = yes
		swap_ideas = {
			remove_idea = NIM_boule2
			add_idea = NIM_boule3
		}
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_with_your_shield
	icon = GFX_goal_nim_shield
	relative_position_id = NIM_polity
	x = 0
	y = 4
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_discipline_the_army
		focus = NIM_tradition_of_sacrifice
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_with_your_shield"
		add_ideas = NIM_with_your_shield_idea
		custom_effect_tooltip = NIM_with_your_shield_tt
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_with_your_shield_tech = 1
			}
		}
		custom_effect_tooltip = super_combat_abilities_tt
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_martial_culture
	icon = GFX_goal_nim_swords
	relative_position_id = NIM_experience_of_the_ages
	x = 0
	y = 3
	cost = 8


	ai_will_do = {
		factor = 15
	}

	prerequisite = {
		focus = NIM_consult_the_oracle
		focus = NIM_tradition_of_sacrifice
	}

	available = {
		has_government = neutrality
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_martial_culture"
		swap_ideas = {
			remove_idea = NIM_warrior_society
			add_idea = NIM_warrior_society2
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }
}

############# The nice guys #############################

shared_focus = {
	id = NIM_harmonia
	icon = GFX_goal_nim_olives
	relative_position_id = NIM_boule_deliberates
	x = 0
	y = 6
	cost = 7


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_harmonia"
		add_stability = 0.1
		add_political_power = 75
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		hidden_effect = {
			remove_ideas = {
				NIM_caste_system_neutrality
				NIM_caste_system_fascism
				NIM_caste_system_fascism2
				NIM_caste_system_fascism3
				NIM_caste_system_democratic
				NIM_caste_system_democratic2
				NIM_caste_system_democratic3
				NIM_caste_system_democratic4
			}
			set_technology = {
				popup = no
				NIM_fascism_focus_1_Tech = 0
				NIM_fascism_focus_2_Tech = 0
				NIM_fascism_focus_6_Tech = 0
				NIM_with_your_shield_tech = 0
				NIM_unicorn_corps_tech = 0
			}
			add_ideas = NIM_caste_system
			every_country = {
				limit = { is_riverlands_country = yes }
				news_event = {
					id = nimbusia_news.5 hours = 6
				}
			}
		}
		NIM_enable_army_chiefs = yes
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_free_mind
	icon = GFX_goal_nim_education
	relative_position_id = NIM_harmonia
	x = -2
	y = 1
	cost = 8
	prerequisite = { focus = NIM_harmonia }


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_free_mind"
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.65
			uses = 1
			category = electronics
		}
		if = {
			limit = { has_idea = NIM_warrior_society }
			swap_ideas = {
				add_idea = NIM_warrior_society3
				remove_idea = NIM_warrior_society
			}
		}
		else_if = {
			limit = { has_idea = NIM_warrior_society4 }
			swap_ideas = {
				add_idea = NIM_warrior_society5
				remove_idea = NIM_warrior_society4
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = NIM_industrial_grants
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_harmonia
	x = 0
	y = 1
	cost = 8
	prerequisite = { focus = NIM_harmonia }


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_industrial_grants"
		add_tech_bonus = {
			name = NIM_industry
			bonus = 0.65
			uses = 1
			category = industry
		}
		if = {
			limit = { has_idea = NIM_warrior_society }
			swap_ideas = {
				add_idea = NIM_warrior_society4
				remove_idea = NIM_warrior_society
			}
		}
		else_if = {
			limit = { has_idea = NIM_warrior_society3 }
			swap_ideas = {
				add_idea = NIM_warrior_society5
				remove_idea = NIM_warrior_society3
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = NIM_rein_in_the_military
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_harmonia
	x = 2
	y = 1
	cost = 8
	prerequisite = { focus = NIM_harmonia }


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_rein_in_the_military"
		add_political_power = -50
		add_stability = 0.05
		add_popularity = {
			ideology = fascism
			popularity = -0.1
		}
		hidden_effect = {
			FRE = {
				if = {
					limit = {
						exists = yes
						is_river_fed_member = yes
					}
					country_event = { id = nimbusia.57 days = 4 random = 240 }#days to hours applied
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_elections_for_the_boule
	icon = GFX_goal_nim_government
	relative_position_id = NIM_harmonia
	x = -1
	y = 2
	cost = 8
	prerequisite = { focus = NIM_free_mind }
	prerequisite = { focus = NIM_industrial_grants }
	prerequisite = { focus = NIM_rein_in_the_military }

	mutually_exclusive = {
		focus = NIM_power_to_the_ecclesia
	}


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_elections_for_the_boule"
		swap_ideas = {
			remove_idea = NIM_boule
			add_idea = NIM_boule4
		}
		hidden_effect = {
			country_event = {
				id = nimbusia.60 days = 30
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_power_to_the_ecclesia
	icon = GFX_goal_nim_torch
	relative_position_id = NIM_harmonia
	x = 1
	y = 2
	cost = 8
	prerequisite = { focus = NIM_free_mind }
	prerequisite = { focus = NIM_industrial_grants }
	prerequisite = { focus = NIM_rein_in_the_military }

	mutually_exclusive = {
		focus = NIM_elections_for_the_boule
	}


	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_power_to_the_ecclesia"
		add_political_power = 50
		swap_ideas = {
			remove_idea = NIM_boule
			add_idea = NIM_boule_rep
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_syntagma
	icon = GFX_goal_nim_pillar
	relative_position_id = NIM_harmonia
	x = -2
	y = 3
	cost = 8
	prerequisite = { focus = NIM_elections_for_the_boule }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_syntagma"
		add_ideas = NIM_syntagma_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_diversify_recruitment
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_harmonia
	x = 0
	y = 3
	cost = 8
	prerequisite = { focus = NIM_elections_for_the_boule focus = NIM_power_to_the_ecclesia }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_diversify_recruitment"
		swap_ideas = {
			add_idea = NIM_caste_system_democratic
			remove_idea = NIM_caste_system
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_nimbusianism
	icon = GFX_goal_nim_nimbusia
	relative_position_id = NIM_harmonia
	x = 2
	y = 3
	cost = 8
	prerequisite = { focus = NIM_power_to_the_ecclesia }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_nimbusianism"
		add_ideas = NIM_nimbusianism_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_citizenship_for_non_citizens
	icon = GFX_goal_nim_griffon
	relative_position_id = NIM_harmonia
	x = 0
	y = 4
	cost = 8
	prerequisite = { focus = NIM_diversify_recruitment }
	prerequisite = { focus = NIM_nimbusianism focus = NIM_syntagma }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_citizenship_for_non_citizens"
		swap_ideas = {
			add_idea = NIM_caste_system_democratic2
			remove_idea = NIM_caste_system_democratic
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_expand_the_curriculum
	icon = GFX_goal_nim_research
	relative_position_id = NIM_harmonia
	x = -2
	y = 5
	cost = 10
	prerequisite = { focus = NIM_citizenship_for_non_citizens }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_expand_the_curriculum"
		increase_science_base = yes
		swap_ideas = {
			add_idea = NIM_warrior_society6
			remove_idea = NIM_warrior_society5
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_strength_in_diversity
	icon = GFX_goal_nim_scales
	relative_position_id = NIM_harmonia
	x = 0
	y = 5
	cost = 8
	prerequisite = { focus = NIM_citizenship_for_non_citizens }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_strength_in_diversity"
		swap_ideas = {
			add_idea = NIM_caste_system_democratic3
			remove_idea = NIM_caste_system_democratic2
		}
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_protect_the_helots
	icon = GFX_goal_nim_shield
	relative_position_id = NIM_harmonia
	x = 2
	y = 5
	cost = 8
	prerequisite = { focus = NIM_citizenship_for_non_citizens }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_protect_the_helots"
		add_ideas = NIM_protect_the_helots_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_citizenship_for_auxilaries
	icon = GFX_goal_nim_break_chains
	relative_position_id = NIM_harmonia
	x = 1
	y = 6
	cost = 8
	prerequisite = { focus = NIM_strength_in_diversity }
	prerequisite = { focus = NIM_protect_the_helots }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_citizenship_for_auxilaries"
		add_manpower = 10000
		swap_ideas = {
			add_idea = NIM_caste_system_democratic4
			remove_idea = NIM_caste_system_democratic3
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = NIM_unicorn_corps
	icon = GFX_goal_nim_bolt
	relative_position_id = NIM_harmonia
	x = -1
	y = 6
	cost = 8
	prerequisite = { focus = NIM_strength_in_diversity }
	prerequisite = { focus = NIM_expand_the_curriculum }

	ai_will_do = {
		factor = 15
	}

	available = {
		has_government = democratic
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_unicorn_corps"
		add_tech_bonus = {
			name = unicorn_bonus
			bonus = 1.0
			uses = 2
			category = unicorn_tech
			category = magical_tech
		}
		custom_effect_tooltip = NIM_unicorn_corps_tt
		hidden_effect = {
			set_technology = {
				popup = no
				NIM_unicorn_corps_tech = 1
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

############# Industrie #############################

shared_focus = {
	id = NIM_farmer_help
	icon = GFX_goal_nim_agriculture
	x = 13
	y = 0
	cost = 6

	ai_will_do = {
		factor = 8
	}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_freedom
			has_completed_focus = NIM_the_law_of_virtue
			has_completed_focus = NIM_suspend_ostracism
		}
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_farmer_help"
		add_political_power = 125
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_give_farmers_new_jobs
	icon = GFX_goal_nim_gears
	relative_position_id = NIM_farmer_help
	x = 0
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_farmer_help

	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_give_farmers_new_jobs"
		add_ideas = NIM_farmes_on_the_road

	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_merchants
	icon = GFX_goal_nim_amphora
	#relative_position_id = NIM_farmer_help
	x = 15
	y = 0
	cost = 7

	ai_will_do = {
		factor = 8
	}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_freedom
			has_completed_focus = NIM_the_law_of_virtue
			has_completed_focus = NIM_suspend_ostracism
		}
	}

	prerequisite = {

	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_merchants"
		add_tech_bonus = {
			name = NIM_industry
			bonus = 1.0
			uses = 1
			category = industry
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_foreign_factory_tacticts
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_merchants
	x = 0
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_merchants
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_foreign_factory_tacticts"
		add_ideas = NIM_foreign_factory_strategy
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_hillponies_controltowers
	icon = GFX_goal_nim_mountains
	#relative_position_id = NIM_merchants
	x = 17
	y = 0
	cost = 7

	ai_will_do = {
		factor = 8
	}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_freedom
			has_completed_focus = NIM_the_law_of_virtue
			has_completed_focus = NIM_suspend_ostracism
		}
	}

	prerequisite = {

	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_hillponies_controltowers"
		every_owned_state = {
			limit = {
				is_in_array = {
					ROOT.original_cores = THIS #for nicer tooltip
				}
				is_controlled_by = ROOT
				free_building_slots = {
					building = air_base
					size > 1
				}
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_hillponies_resources
	icon = GFX_goal_nim_mining
	relative_position_id = NIM_hillponies_controltowers
	x = 0
	y = 1
	cost = 7

	ai_will_do = {
		factor = 9
	}

	available = {
		645 = { is_owned_and_controlled_by = ROOT }
		622 = { is_owned_and_controlled_by = ROOT }
	}

	prerequisite = {
		focus = NIM_hillponies_controltowers
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_hillponies_resources"
		645 = {

			add_resource = {
				type = aluminium
				amount = 18
			}

			add_resource = {
				type = steel
				amount = 10
			}
		}

		622 = {
			add_resource = {
				type = tungsten
				amount = 6
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_connect_the_land
	icon = GFX_goal_nim_rail
	relative_position_id = NIM_give_farmers_new_jobs
	x = -1
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_give_farmers_new_jobs
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_connect_the_land"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 0
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 0
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 1
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 1
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}

		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 1
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 1
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_farmers_in_factory
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_connect_the_land
	x = 0
	y = 1
	cost = 8

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_connect_the_land
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_farmers_in_factory"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}

		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 1
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_connect_more_land
	icon = GFX_goal_nim_rail
	relative_position_id = NIM_farmers_in_factory
	x = 0
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_farmers_in_factory
	}


	available = {
		645 = { is_owned_and_controlled_by = ROOT }
		587 = { is_owned_and_controlled_by = ROOT }
		622 = { is_owned_and_controlled_by = ROOT }
		452 = { is_owned_and_controlled_by = ROOT }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_connect_more_land"
		build_railway = {
			level = 2
			start_state = 645
			target_state = 587
			build_only_on_allied = yes
		}
		build_railway = {
			level = 2
			start_state = 645
			target_state = 452
			build_only_on_allied = yes
		}
		build_railway = {
			level = 2
			start_state = 645
			target_state = 622
			build_only_on_allied = yes
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_philosophy
	icon = GFX_goal_nim_research
	relative_position_id = NIM_give_farmers_new_jobs
	x = 1
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}



	prerequisite = {
		focus = NIM_give_farmers_new_jobs
	}

	prerequisite = {
		focus = NIM_foreign_factory_tacticts
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_philosophy"
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_schools_for_everpony
	icon = GFX_goal_nim_education
	relative_position_id = NIM_philosophy
	x = 0
	y = 1
	cost = 7
	dynamic = yes
	ai_will_do = {
		factor = 8
	}




	prerequisite = {
		focus = NIM_philosophy
	}


	bypass = {
		has_illiteracy = no
		OR = {
			has_idea = civilian_economy
			has_idea = low_economic_mobilisation
			has_idea = partial_economic_mobilisation
			has_idea = war_economy
			has_idea = tot_economic_mobilisation
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_schools_for_everpony"
		decrease_illiteracy = yes
		if = {
			limit = {
				has_idea = slavery_economy
			}
			swap_ideas = { 
				remove_idea = slavery_economy
				add_idea = civilian_economy 
			}
		}
	}
}

shared_focus = {
	id = NIM_back_in_business
	icon = GFX_goal_nim_market
	relative_position_id = NIM_schools_for_everpony
	x = 1
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}


	prerequisite = {
		focus = NIM_schools_for_everpony
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_back_in_business"
		add_ideas = NIM_business
		decrease_poverty = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_industry_might
	icon = GFX_goal_nim_gears
	relative_position_id = NIM_back_in_business
	x = -2
	y = 1
	cost = 10

	ai_will_do = {
		factor = 8
	}




	prerequisite = {
		focus = NIM_farmers_in_factory
	}

	prerequisite = {
		focus = NIM_back_in_business
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_industry_might"
		increase_society_development = yes
		increase_science_base = yes

	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_modern_industryies
	icon = GFX_goal_nim_bolt
	relative_position_id = NIM_back_in_business
	x = 0
	y = 1
	cost = 5

	ai_will_do = {
		factor = 8
	}






	prerequisite = {
		focus = NIM_back_in_business
	}

	bypass = {
		has_idea = modern_society
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_modern_industryies"
		increase_society_development = yes

	}
}

shared_focus = {
	id = NIM_theater
	icon = GFX_goal_nim_government
	relative_position_id = NIM_hillponies_resources
	x = -1
	y = 1
	cost = 7

	ai_will_do = {
		factor = 8
	}




	prerequisite = {
		focus = NIM_foreign_factory_tacticts
	}

	prerequisite = {
		focus = NIM_hillponies_resources
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_theater"
		add_ideas = NIM_theaters

	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = NIM_hillponies_in_factorys
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_hillponies_resources
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 8
	}

	available = {
		452 = { is_owned_and_controlled_by = ROOT }
		622 = { is_owned_and_controlled_by = ROOT }
	}


	prerequisite = {
		focus = NIM_hillponies_resources
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_hillponies_in_factorys"
		452 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

		622 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}

	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_mines
	icon = GFX_goal_nim_mining
	relative_position_id = NIM_theater
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 8
	}




	prerequisite = {
		focus = NIM_theater
	}

	prerequisite = {
		focus = NIM_hillponies_in_factorys
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_mines"
		add_ideas = NIM_hillponies_mining
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
############# Military of Nimbusia #############################

shared_focus = {
	id = NIM_millitary_begining
	icon = GFX_goal_nim_shield
	#relative_position_id = NIM_theater
	x = 23
	y = 0
	cost = 8

	ai_will_do = {
		factor = 8
	}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_freedom
			has_completed_focus = NIM_the_law_of_virtue
			has_completed_focus = NIM_suspend_ostracism
		}
	}


	prerequisite = {

	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_millitary_begining"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}

		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_look_into_the_army
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_millitary_begining
	x = -3
	y = 1
	cost = 6

	ai_will_do = {
		factor = 7
	}




	prerequisite = {
		focus = NIM_millitary_begining
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_look_into_the_army"
		army_experience = 30
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}


shared_focus = {
	id = NIM_new_guns
	icon = GFX_goal_nim_bullets
	relative_position_id = NIM_look_into_the_army
	x = 0
	y = 1
	cost = 10

	ai_will_do = {
		factor = 7
	}




	prerequisite = {
		focus = NIM_look_into_the_army
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_new_guns"
		add_tech_bonus = {
			name = NIM_infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = infantry_weapons
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_new_artillery
	icon = GFX_goal_nim_bomb
	relative_position_id = NIM_new_guns
	x = -1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_new_guns
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_new_artillery"
		add_tech_bonus = {
			name = NIM_artillery_weapons_bonus
			bonus = 1.0
			uses = 1
			category = artillery
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}


shared_focus = {
	id = NIM_new_battle_plans
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_new_guns
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_new_guns
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_new_battle_plans"
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_mountain_fighters
	icon = GFX_goal_nim_mountains
	relative_position_id = NIM_new_artillery
	x = -1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_new_artillery
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_mountain_fighters"
		custom_effect_tooltip = RAJ_revive_the_screw_guns_effect
		hidden_effect = { set_technology = { popup = no mountain_gun = 1 } }
	}
}

shared_focus = {
	id = NIM_improve_officers
	icon = GFX_goal_nim_swords
	relative_position_id = NIM_new_artillery
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_new_artillery
		focus = NIM_new_battle_plans
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_improve_officers"
		swap_ideas = {
			remove_idea = NIM_nimbusian_general_staff
			add_idea = NIM_nimbusian_general_staff2
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}


shared_focus = {
	id = NIM_glory_to_the_army
	icon = GFX_goal_nim_laurel
	relative_position_id = NIM_new_artillery
	x = 3
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_new_battle_plans
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_glory_to_the_army"
		add_ideas = NIM_glorreich
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}


shared_focus = {
	id = NIM_improve_spec_ops
	icon = GFX_goal_nim_wing
	relative_position_id = NIM_improve_officers
	x = 0
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_improve_officers
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_improve_spec_ops"
		swap_ideas = {
			remove_idea = NIM_trials_of_the_cyclone
			add_idea = NIM_trials_of_the_cyclone2
		}

		add_tech_bonus = {
			name = NIM_improve_spec_ops
			bonus = 1.0
			uses = 2
			category = special_forces_tech
		}

		add_tech_bonus = {
			name = NIM_improve_spec_ops
			bonus = 1.0
			uses = 2
			category = pegasi_tech
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_war_makes_smart
	icon = GFX_goal_nim_research
	relative_position_id = NIM_improve_spec_ops
	x = 0
	y = 1
	cost = 8

	ai_will_do = {
		factor = 8
	}




	prerequisite = {
		focus = NIM_improve_spec_ops
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_war_makes_smart"
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_more_factorys
	icon = GFX_goal_nim_mil_factory
	relative_position_id = NIM_millitary_begining
	x = 0
	y = 2
	cost = 8

	ai_will_do = {
		factor = 8
	}

	available = {
		any_owned_state = {
			is_controlled_by = ROOT
			free_building_slots = {
				building = arms_factory
				size > 2
				include_locked = yes
			}
		}
	}


	prerequisite = {
		focus = NIM_millitary_begining
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_more_factorys"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 2
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 2
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_air_force
	icon = GFX_goal_nim_cloud
	relative_position_id = NIM_millitary_begining
	x = 3
	y = 1
	cost = 8

	ai_will_do = {
		factor = 5
	}




	prerequisite = {
		focus = NIM_millitary_begining
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_air_force"
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = air_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_sky_hunters
	icon = GFX_goal_nim_wing
	relative_position_id = NIM_air_force
	x = 0
	y = 1
	cost = 10

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_air_force
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_sky_hunters"
		add_tech_bonus = {
			name = NIM_fighter_bonus
			bonus = 1.0
			uses = 2
			category = light_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_naval_force
	icon = GFX_goal_nim_ship
	relative_position_id = NIM_air_force
	x = 2
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_air_force
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_naval_force"
		navy_experience = 25
		add_doctrine_cost_reduction = {
			name = navdoc_bonus
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_bomber
	icon = GFX_goal_nim_bullets
	relative_position_id = NIM_sky_hunters
	x = -1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_sky_hunters
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_bomber"
		add_tech_bonus = {
			name = NIM_bomber_bonus
			bonus = 1.0
			uses = 1
			category = tactical_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_heavy_bomber
	icon = GFX_goal_nim_bomb
	relative_position_id = NIM_bomber
	x = -1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_bomber
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_heavy_bomber"
		add_tech_bonus = {
			name = NIM_heavy_bomber_bonus
			bonus = 1.0
			uses = 1
			category = cat_strategic_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_heavy_fighter
	icon = GFX_goal_nim_bolt
	relative_position_id = NIM_bomber
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_bomber
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_heavy_fighter"
		add_tech_bonus = {
			name = NIM_heavy_fighter_bonus
			bonus = 1.0
			uses = 1
			category = cat_heavy_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_more_hunters_in_the_sky
	icon = GFX_goal_nim_cloud
	relative_position_id = NIM_heavy_bomber
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_heavy_bomber
	}

	prerequisite = {
		focus = NIM_heavy_fighter
	}



	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_more_hunters_in_the_sky"
		add_ideas = NIM_fill_the_skies
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = NIM_jets_rocketo
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_more_hunters_in_the_sky
	x = 0
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_more_hunters_in_the_sky
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_jets_rocketo"
		add_tech_bonus = {
			name = NIM_rocket_jet_bonus
			ahead_reduction = 1
			bonus = 1.0
			uses = 2
			category = rocketry
			category = jet_technology
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_carries
	icon = GFX_goal_nim_wing
	relative_position_id = NIM_naval_force
	x = -1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_sky_hunters
	}

	prerequisite = {
		focus = NIM_naval_force
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_carries"
		add_tech_bonus = {
			name = NIM_carrier_bonus
			bonus = 1.0
			uses = 1
			category = cv_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_destroyers
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_naval_force
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}



	prerequisite = {
		focus = NIM_naval_force
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_destroyers"
		add_tech_bonus = {
			name = NIM_carrier_bonus
			bonus = 1.0
			uses = 1
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_dockyards
	icon = GFX_goal_nim_ship
	relative_position_id = NIM_naval_force
	x = 3
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}

	available = {
		any_owned_state = {
			is_controlled_by = ROOT
			free_building_slots = {
				building = dockyard
				size > 2
				include_locked = yes
			}
		}
	}

	prerequisite = {
		focus = NIM_naval_force
	}




	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_dockyards"
		random_owned_controlled_state = {
			limit = {
				is_coastal = yes
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = dockyard
									size > 2
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_carrier_planes
	icon = GFX_goal_nim_cloud
	relative_position_id = NIM_carries
	x = 0
	y = 2
	cost = 8

	ai_will_do = {
		factor = 6
	}



	prerequisite = {
		focus = NIM_heavy_fighter
	}

	prerequisite = {
		focus = NIM_carries
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_carrier_planes"
		add_tech_bonus = {
			name = NIM_carrier_planes_bonus
			bonus = 1.0
			uses = 1
			category = naval_air
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_oil_rigs
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_carries
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_carries
	}

	prerequisite = {
		focus = NIM_destroyers
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_oil_rigs"
		645 = {
			add_resource = {
				type = oil
				amount = 20
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = NIM_submarine
	icon = GFX_goal_nim_ship
	relative_position_id = NIM_destroyers
	x = 1
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_destroyers
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_submarine"
		add_tech_bonus = {
			name = NIM_submarine_bonus
			bonus = 1.0
			uses = 1
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_cruissers
	icon = GFX_goal_nim_ship
	relative_position_id = NIM_destroyers
	x = 0
	y = 2
	cost = 8

	ai_will_do = {
		factor = 6
	}




	prerequisite = {
		focus = NIM_destroyers
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_cruissers"
		add_tech_bonus = {
			name = NIM_cruiser_bonus
			bonus = 1.0
			uses = 1
			category = cl_tech
			category = ca_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_confrontation
	icon = GFX_goal_nim_swords
	x = 12
	y = 7
	cost = 6


	ai_will_do = {
		factor = 6
		modifier = {
			factor = 0.1
			has_government = neutrality
		}
	}

	mutually_exclusive = {
		focus = NIM_cautious_cooperation
		focus = NIM_integration
	}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_virtue
			has_completed_focus = NIM_suspend_ostracism
		}
		OR = {
			has_government = fascism
			has_government = neutrality
		}
	}


	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_confrontation"
		add_political_power = 50
		every_other_country = {
			limit = { is_river_fed_member = yes }
			add_opinion_modifier = { target = ROOT modifier = distrustful_relations }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_demand_tribute_from_RIV
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_confrontation
	x = 0
	y = 1
	cost = 8

	ai_will_do = {
		factor = 6
		modifier = {
			factor = 0.1
			has_government = neutrality
		}
	}

	prerequisite = {
		focus = NIM_confrontation
	}

	#mutually_exclusive = {
		#	focus = NIM_fascism_focus_10
		#}

	available = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		is_subject = no
	}

	bypass = {
		is_river_fed_member = no
	}

	select_effect = {
		if = {
			limit = { is_river_fed_member = yes }
			RIV_leave_fed = yes
			country_event = { id = nimbusia.65 days = 1 }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_demand_tribute_from_RIV"
		add_political_power = 50
		custom_effect_tooltip = NIM_riv_fed_tolerate
		RIV = {
			country_event = { id = nimbusia.38 days = 1 }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_quick_wargoals
	icon = GFX_goal_nim_nimbusia
	relative_position_id = NIM_confrontation
	x = 0
	y = 2
	cost = 8

	ai_will_do = {
		factor = 6
		modifier = {
			factor = 0.1
			has_government = neutrality
		}
	}

	prerequisite = {
		focus = NIM_demand_tribute_from_RIV
	}

	#mutually_exclusive = {
		#	focus = NIM_fascism_focus_10
		#}

	available = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		is_subject = no
	}

	bypass = {
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_quick_wargoals"
		add_ideas = NIM_quick_wargoals_idea
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = NIM_strike_at_fed
	icon = GFX_goal_nim_bomb
	relative_position_id = NIM_confrontation
	x = 0
	y = 5
	cost = 15
	will_lead_to_war_with = RCT
	will_lead_to_war_with = LCT
	will_lead_to_war_with = WIT
	will_lead_to_war_with = BAK
	will_lead_to_war_with = FRE
	will_lead_to_war_with = DMT

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 0
			has_government = neutrality
		}
		modifier = {
			factor = 0
			date < 1013.1.1
		}
	}

	prerequisite = {
		focus = NIM_quick_wargoals
	}

	#mutually_exclusive = {
		#	focus = NIM_fascism_focus_10
		#}

	available = {
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		is_subject = no
	}

	bypass = {
		RCT = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
		LCT = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
		WIT = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
		BAK = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
		FRE = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
		DMT = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	select_effect = {
		if = {
			limit = { is_river_fed_member = yes }
			RIV_leave_fed = yes
			country_event = { id = nimbusia.65 days = 1 }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_strike_at_fed"
		if = {
			limit = { is_river_fed_member = yes }
			custom_effect_tooltip = NIM_strike_at_fed_tt
		}
		if = {
			limit = {
				RCT = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = RCT
			}
		}
		if = {
			limit = {
				LCT = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = LCT
			}
		}
		if = {
			limit = {
				WIT = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = WIT
			}
		}
		if = {
			limit = {
				BAK = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = BAK
			}
		}
		if = {
			limit = {
				FRE = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = FRE
			}
		}
		if = {
			limit = {
				DMT = {
					exists = yes
					NOT = { has_war_with = ROOT }
				}
			}
			create_wargoal = {
				type = annex_everything
				target = DMT
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = NIM_strike_at_griffons
	icon = GFX_goal_nim_griffon
	relative_position_id = NIM_confrontation
	x = 4
	y = 5
	cost = 10
	will_lead_to_war_with = LNS
	will_lead_to_war_with = LSM
	will_lead_to_war_with = HLQ
	will_lead_to_war_with = GRY

	ai_will_do = {
		factor = 0
		modifier = {
			add = 1
			OR = {
				is_neighbor_of = GRY
				is_neighbor_of = HLQ
				is_neighbor_of = event_target:longsword
				any_allied_country = { is_neighbor_of = GRY }
				any_allied_country = { is_neighbor_of = HLQ }
				any_allied_country = { is_neighbor_of = event_target:longsword }
			}
			has_war = no
		}
		modifier = {
			factor = 0
			date < 1013.1.1
		}
	}

	prerequisite = {
		focus = NIM_quick_wargoals
		focus = NIM_border_defences
		focus = NIM_foreign_advisors
	}

	available = {
		is_subject = no
	}

	bypass = {
		GRY = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_in_faction_with = ROOT
				is_subject_of = ROOT
			}
		}
		HLQ = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_in_faction_with = ROOT
				is_subject_of = ROOT
			}
		}
		event_target:longsword = {
			OR = {
				exists = no
				has_war_with = ROOT
				is_in_faction_with = ROOT
				is_subject_of = ROOT
				is_pony_race = yes
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_strike_at_griffons"
		if = {
			limit = {
				GRY = {
					exists = yes
					NOT = { has_war_with = ROOT is_in_faction_with = ROOT is_subject_of = ROOT }
				}
			}
			create_wargoal = {
				target = GRY
				type = annex_everything
			}
		}
		if = {
			limit = {
				HLQ = {
					exists = yes
					NOT = { has_war_with = ROOT is_in_faction_with = ROOT is_subject_of = ROOT }
				}
			}
			create_wargoal = {
				target = HLQ
				type = annex_everything
			}
		}
		if = {
			limit = {
				event_target:longsword = {
					exists = yes
					is_pony_race = no
					NOT = { has_war_with = ROOT is_in_faction_with = ROOT is_subject_of = ROOT }
				}
			}
			create_wargoal = {
				target = event_target:longsword
				type = annex_everything
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = NIM_strike_at_ZES
	icon = GFX_goal_nim_break_chains
	relative_position_id = NIM_confrontation
	x = 2
	y = 3
	cost = 8
	will_lead_to_war_with = ZES
	will_lead_to_war_with = OLV

	ai_will_do = {
		factor = 3
		modifier = {
			factor = 0
			has_war = yes
		}
		modifier = {
			factor = 0
			date < 1011.6.1
		}
	}

	prerequisite = {
		focus = NIM_quick_wargoals
		focus = NIM_border_defences
		focus = NIM_foreign_advisors
	}

	#mutually_exclusive = {
		#	focus = NIM_fascism_focus_10
		#}

	available = {
		is_subject = no
	}

	bypass = {
		ZES = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		OLV = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_strike_at_ZES"
		if = {
			limit = {
				ZES = {
					exists = yes
					NOT = {
						is_subject_of = ROOT
						has_war_with = ROOT
					}
				}
			}
			create_wargoal = {
				type = annex_everything
				target = ZES
			}
		}
		413 = { add_claim_by = ROOT }
		578 = { add_claim_by = ROOT }
		558 = { add_claim_by = ROOT }
		680 = { add_claim_by = ROOT }
		if = {
			limit = {
				OLV = {
					exists = yes
					NOT = {
						is_subject_of = ROOT
						has_war_with = ROOT
					}
				}
			}
			create_wargoal = {
				type = annex_everything
				target = OLV
			}
		}
		412 = { add_claim_by = ROOT }
		579 = { add_claim_by = ROOT }
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = NIM_handle_ZES
	icon = GFX_goal_nim_nimbusia
	relative_position_id = NIM_strike_at_ZES
	x = -1
	y = 1
	cost = 5

	ai_will_do = {
		factor = 20
	}

	prerequisite = {
		focus = NIM_strike_at_ZES
	}

	available = {
		OR = {
			ZES = {
				exists = no
				is_subject_of = ROOT
			}
			any_owned_state = {
				is_core_of = ZES
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_handle_ZES"
		custom_effect_tooltip = NIM_handle_ZES_tt
	}
}

shared_focus = {
	id = NIM_handle_OLV
	icon = GFX_goal_nim_nimbusia
	relative_position_id = NIM_strike_at_ZES
	x = 1
	y = 1
	cost = 5

	ai_will_do = {
		factor = 20
	}

	prerequisite = {
		focus = NIM_strike_at_ZES
	}

	available = {
		OR = {
			OLV = {
				exists = no
				is_subject_of = ROOT
			}
			any_owned_state = {
				is_core_of = OLV
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_handle_OLV"
		custom_effect_tooltip = NIM_handle_OLV_tt
	}
}

shared_focus = {
	id = NIM_strike_at_BAR
	icon = GFX_goal_nim_research
	relative_position_id = NIM_confrontation
	x = 6
	y = 3
	cost = 8
	will_lead_to_war_with = BAR

	ai_will_do = {
		factor = 3
		modifier = {
			factor = 0
			has_war = yes
		}
		modifier = {
			factor = 0.5
			NOT = {
				is_neighbor_of = BAR
				any_allied_country = {
					is_neighbor_of = BAR
				}
			}
		}
		modifier = {
			factor = 0
			date < 1011.6.1
		}
	}

	prerequisite = {
		focus = NIM_quick_wargoals
		focus = NIM_border_defences
		focus = NIM_foreign_advisors
	}

	available = {
		is_subject = no
	}

	bypass = {
		BAR = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_strike_at_BAR"
		create_wargoal = {
			type = annex_everything
			target = BAR
		}
		625 = { add_claim_by = ROOT }
		626 = { add_claim_by = ROOT }
		624 = { add_claim_by = ROOT }
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = NIM_give_BAR_to_WIT
	icon = GFX_goal_nim_laurel
	relative_position_id = NIM_strike_at_BAR
	x = 1
	y = 1
	cost = 5

	ai_will_do = {
		factor = 20
	}

	mutually_exclusive = {
		focus = NIM_deal_with_BAR
	}

	prerequisite = {
		focus = NIM_strike_at_BAR
	}

	available = {
		is_subject = no
		NOT = { has_completed_focus = NIM_confrontation }
		is_in_faction_with = WIT
		625 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
		626 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
		624 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_give_BAR_to_WIT"
		WIT = {
			effect_tooltip = {
				transfer_state = 625
				transfer_state = 626
				transfer_state = 624
				add_opinion_modifier = { target = ROOT modifier = NIM_returned_territory }
			}
			625 = { remove_claim_by = ROOT }
			626 = { remove_claim_by = ROOT }
			624 = { remove_claim_by = ROOT }
			country_event = { id = nimbusia.63 days = 1 }
		}
	}
}

shared_focus = {
	id = NIM_deal_with_BAR
	icon = GFX_goal_nim_flame
	relative_position_id = NIM_strike_at_BAR
	x = -1
	y = 1
	cost = 3

	ai_will_do = {
		factor = 40
		modifier = {
			factor = 0
			has_completed_focus = NIM_integration
			is_in_faction_with = WIT
		}
		modifier = {
			factor = 0
			has_government = fascism
			is_river_fed_member = yes
		}
	}

	mutually_exclusive = {
		focus = NIM_give_BAR_to_WIT
	}

	prerequisite = {
		focus = NIM_strike_at_BAR
	}

	available = {
		BAR = {
			OR = {
				exists = no
				is_subject_of = ROOT
			}
		}
		625 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
		626 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
		624 = {
			owner = { OR = { tag = ROOT is_subject_of = ROOT } }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_deal_with_BAR"
		country_event = nimbusia.64
	}
}

shared_focus = {
	id = NIM_cautious_cooperation
	icon = GFX_goal_nim_government
	relative_position_id = NIM_confrontation
	x = 4
	y = 0
	cost = 6

	mutually_exclusive = {
		focus = NIM_confrontation
		focus = NIM_integration
	}

	ai_will_do = {
		factor = 7
		modifier = {
			factor = 0.5
			has_government = democratic
		}
	}

	#mutually_exclusive = {
		#	focus = NIM_fascism_focus_10
		#}

	available = {
		OR = {
			has_completed_focus = NIM_the_law_of_freedom
			has_completed_focus = NIM_the_law_of_virtue
		}
		OR = {
			has_government = democratic
			has_government = neutrality
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_cautious_cooperation"
		add_political_power = 25
		if = {
			limit = { has_government = neutrality }
			add_popularity = {
				ideology = neutrality
				popularity = 0.07
			}
		}
		else = {
			add_popularity = {
				ideology = democratic
				popularity = 0.07
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = NIM_industry_research
	icon = GFX_goal_nim_gears
	relative_position_id = NIM_confrontation
	x = 4
	y = 1
	cost = 8


	ai_will_do = {
		factor = 6
	}

	prerequisite = {
		focus = NIM_cautious_cooperation
	}

	available = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_industry_research"
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 1.0
			uses = 1
			category = industry
		}
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.65
			uses = 1
			category = electronics
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_border_defences
	icon = GFX_goal_nim_shield
	relative_position_id = NIM_confrontation
	x = 4
	y = 2
	cost = 8


	ai_will_do = {
		factor = 6
	}

	prerequisite = {
		focus = NIM_industry_research
	}

	available = {
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		622 = {
			is_owned_by = ROOT
			is_fully_controlled_by = ROOT
		}
		645 = {
			is_owned_by = ROOT
			is_fully_controlled_by = ROOT
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_border_defences"
		622 = {
			set_building_level = {
				type = bunker
				level = 1
				province = {
					all_provinces = yes
					limit_to_border = yes
					level < 1
				}
			}
		}
		645 = {
			set_building_level = {
				type = bunker
				level = 1
				province = {
					all_provinces = yes
					limit_to_border = yes
					level < 1
				}
			}
		}
	}
}

shared_focus = {
	id = NIM_integration
	icon = GFX_goal_nim_scales
	relative_position_id = NIM_confrontation
	x = 8
	y = 0
	cost = 6

	mutually_exclusive = {
		focus = NIM_confrontation
		focus = NIM_cautious_cooperation
	}

	ai_will_do = {
		factor = 150
	}

	available = {
		has_completed_focus = NIM_the_law_of_freedom
		has_government = democratic
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_integration"
		every_other_country = {
			limit = { is_river_fed_member = yes }
			add_opinion_modifier = { target = ROOT modifier = common_cause }
		}
	}
}

shared_focus = {
	id = NIM_increase_trade
	icon = GFX_goal_nim_market
	relative_position_id = NIM_confrontation
	x = 6
	y = 1
	cost = 8

	prerequisite = {
		focus = NIM_integration
		focus = NIM_cautious_cooperation
	}

	ai_will_do = {
		factor = 6
	}

	available = {
		any_allied_country = {
			NOT = { tag = ROOT }
			is_river_fed_member = yes
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_increase_trade"
		every_other_country = {
			limit = { is_river_fed_member = yes }
			add_opinion_modifier = { target = ROOT modifier = trading }
			reverse_add_opinion_modifier = { target = ROOT modifier = trading }
		}
	}
}

shared_focus = {
	id = NIM_joint_exercises
	icon = GFX_goal_nim_warrior
	relative_position_id = NIM_confrontation
	x = 6
	y = 2
	cost = 8

	prerequisite = {
		focus = NIM_increase_trade
	}

	ai_will_do = {
		factor = 6
	}

	available = {
		any_allied_country = {
			NOT = { tag = ROOT }
			is_river_fed_member = yes
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_joint_exercises"
		army_experience = 10
		air_experience = 10
		navy_experience = 5
		every_other_country = {
			limit = { is_river_fed_member = yes }
			army_experience = 10
			air_experience = 10
			navy_experience = 5
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_NAVY_BONUS }
}

shared_focus = {
	id = NIM_licences
	icon = GFX_goal_nim_bullets
	relative_position_id = NIM_confrontation
	x = 8
	y = 1
	cost = 5

	prerequisite = {
		focus = NIM_integration
	}

	ai_will_do = {
		factor = 6
	}

	available = {
		if = {
			limit = { NOT = { has_country_flag = river_federation_founder } }
			is_river_fed_member = yes
			any_allied_country = {
				NOT = { tag = ROOT }
				is_river_fed_member = yes
			}
		}
		else = {
			has_country_flag = river_federation_founder
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_licences"
		if = {
			limit = { has_dlc = "Death or Dishonor" }
			add_ideas = NIM_licences_idea
		}
		else = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 2.0
				uses = 1
				category = light_fighter
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 2
				uses = 1
				category = armor
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = NIM_foreign_advisors
	icon = GFX_goal_nim_helmet
	relative_position_id = NIM_confrontation
	x = 8
	y = 2
	cost = 13

	prerequisite = {
		focus = NIM_licences
	}

	ai_will_do = {
		factor = 6
	}

	available = {
		if = {
			limit = { NOT = { has_country_flag = river_federation_founder } }
			is_river_fed_member = yes
			any_allied_country = {
				NOT = { tag = ROOT }
				is_river_fed_member = yes
			}
		}
		else = {
			has_country_flag = river_federation_founder
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus NIM_foreign_advisors"
		add_ideas = NIM_foreign_experience
		every_other_country = {
			limit = { is_river_fed_member = yes }
			add_ideas = NIM_attache_idea
		}
		RIV_add_to_fed_race = yes
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RIVER_FED_RACE }
}
