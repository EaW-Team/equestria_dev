focus_tree = {
	id = starlight_village
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = STL
		}
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain

}
focus_tree = {
	id = stl_feather_bangs
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_feather_bangs_wins
}
focus_tree = {
	id = stl_party_favor
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_party_favor_wins
}
focus_tree = {
	id = stl_double_diamond
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_double_diamond_wins
}
focus_tree = {
	id = stl_double_diamond_expanded
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_double_diamond_wins
	shared_focus = STL_an_equalist_in_stalliongrad
}
focus_tree = {
	id = stl_double_diamond_expanded_more
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_double_diamond_wins
	shared_focus = STL_an_equalist_in_stalliongrad
	shared_focus = STL_save_equestria
	shared_focus = STL_war_plan_equality
	shared_focus = STL_the_new_living_organism
	shared_focus = STL_a_new_constitution
}
focus_tree = {
	id = stl_night_glider
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_night_glider_wins
}
focus_tree = {
	id = stl_night_glider_expanded
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_night_glider_wins
	shared_focus = STL_utopian_in_stalliongrad
}
focus_tree = {
	id = stl_night_glider_expanded_again
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_night_glider_wins
	shared_focus = STL_utopian_in_stalliongrad
	shared_focus = STL_utopian_in_equestria
}

focus_tree = {
	id = stl_night_glider_expanded_final
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_night_glider_wins
	shared_focus = STL_utopian_in_stalliongrad
	shared_focus = STL_utopian_in_equestria
	shared_focus = STL_first_steps_ng
}

focus_tree = {
	id = stl_sugar_belle
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_sugar_belle_wins
	shared_focus = STL_sugar_belle_stg_foreign_policy
	shared_focus = STL_sugar_belle_eqs_foreign_policy
	shared_focus = STL_sugar_belle_misc_foreign_policy
}
focus_tree = {
	id = stl_burlap
	country = {
		factor = 0
	}
	default = no
	continuous_focus_position = { x = -1500 y = 10 }
	shared_focus = STL_our_future_uncertain
	shared_focus = STL_a_new_millenium
	shared_focus = STL_our_own_military
	shared_focus = STL_burlap_coup
}


shared_focus = {
	id = STL_our_future_uncertain
	icon = GFX_equalist
	cost = 3.00
	x = 4
	y = 0
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_our_future_uncertain"
		country_event = {
			id = starlight.1 days = 1
		}
		add_political_power = 150
		set_power_balance = {
			id = STL_leftist_bop
			set_default = yes
		}
	}
}
shared_focus = {
	id = STL_ally_griffons
	icon = GFX_goal_stg_grf
	cost = 3.00
	x = -3
	y = 1
	relative_position_id = STL_our_future_uncertain
	prerequisite = {
		focus = STL_our_future_uncertain
	}
	mutually_exclusive = {
		focus = STL_ally_eqs
		focus = STL_ally_stg
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_ally_griffons"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = 0.1
		}
		add_opinion_modifier = {
			target = GRF
			modifier = made_friends
		}
		add_opinion_modifier = {
			target = GFF
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = GRF
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = GFF
			modifier = made_friends
		}
	}
}

shared_focus = {
	id = STL_ally_stg
	icon = GFX_goal_stg_stl
	cost = 3.00
	x = 0
	y = 1
	relative_position_id = STL_our_future_uncertain
	prerequisite = {
		focus = STL_our_future_uncertain
	}
	mutually_exclusive = {
		focus = STL_ally_eqs
		focus = STL_ally_griffons
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_ally_stg"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = -0.1
		}
		add_opinion_modifier = {
			target = STG
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = STG
			modifier = made_friends
		}
	}
}

shared_focus = {
	id = STL_ally_eqs
	icon = GFX_goal_stg_eqs_friendship
	cost = 3.00
	x = 3
	y = 1
	relative_position_id = STL_our_future_uncertain
	prerequisite = {
		focus = STL_our_future_uncertain
	}
	mutually_exclusive = {
		focus = STL_ally_griffons
		focus = STL_ally_stg
	}
	completion_reward = {
		add_power_balance_value = {
			id = STL_leftist_bop
			value = 0.1
		}
		log = "[GetDateText]: [Root.GetName]: Focus STL_ally_eqs"
		add_opinion_modifier = {
			target = EQS
			modifier = made_friends
		}
		add_opinion_modifier = {
			target = CRY
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = EQS
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = CRY
			modifier = made_friends
		}
	}
}

shared_focus = {
	id = STL_feather_bangs_leads
	icon = GFX_goal_stg_worst_case
	cost = 3.00
	x = -1
	y = 1
	relative_position_id = STL_ally_griffons
	mutually_exclusive = {
		focus = STL_party_favor_leads
		focus = STL_double_diamond_leads
		focus = STL_night_glider_leads
		focus = STL_sugar_belle_leads
	}
	prerequisite = {
		focus = STL_ally_griffons
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_feather_bangs_leads"
		country_event = {
			id = starlight.2
			days = 1
		}
	}
}
shared_focus = {
	id = STL_party_favor_leads
	icon = GFX_goal_socialist_union
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_ally_griffons
	mutually_exclusive = {
		focus = STL_feather_bangs_leads
		focus = STL_double_diamond_leads
		focus = STL_night_glider_leads
		focus = STL_sugar_belle_leads
	}
	prerequisite = {
		focus = STL_ally_griffons
		focus = STL_ally_stg
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_party_favor_leads"
		country_event = {
			id = starlight.3
			days = 1
		}
	}
}
shared_focus = {
	id = STL_double_diamond_leads
	icon = GFX_focus_eqc_memories_of_our_town
	cost = 3.00
	x = 0
	y = 1
	relative_position_id = STL_ally_stg
	mutually_exclusive = {
		focus = STL_party_favor_leads
		focus = STL_feather_bangs_leads
		focus = STL_night_glider_leads
		focus = STL_sugar_belle_leads
	}
	prerequisite = {
		focus = STL_ally_stg
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_double_diamond_leads"
		country_event = {
			id = starlight.4
			days = 1
		}
	}
}

shared_focus = {
	id = STL_night_glider_leads
	icon = GFX_goal_compromise
	cost = 3.00
	x = 2
	y = 1
	relative_position_id = STL_ally_stg
	mutually_exclusive = {
		focus = STL_party_favor_leads
		focus = STL_double_diamond_leads
		focus = STL_feather_bangs_leads
		focus = STL_sugar_belle_leads
	}
	prerequisite = {
		focus = STL_ally_stg
		focus = STL_ally_eqs
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_night_glider_leads"
		country_event = {
			id = starlight.5
			days = 1
		}
	}
}	
shared_focus = {
	id = STL_sugar_belle_leads
	icon = GFX_goal_stg_celestia
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_ally_eqs
	mutually_exclusive = {
		focus = STL_party_favor_leads
		focus = STL_double_diamond_leads
		focus = STL_night_glider_leads
		focus = STL_feather_bangs_leads
	}
	prerequisite = {
		focus = STL_ally_eqs
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_night_glider_leads"
		country_event = {
			id = starlight.6
			days = 1
		}
	}
}	


shared_focus = {
	id = STL_one_leader
	icon = GFX_goal_stg_socialist_progress
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_feather_bangs_leads
	mutually_exclusive = {
		focus = STL_centralized_state
		focus = STL_confederalist_state
		focus = STL_equestrian_model
	}
	prerequisite = {
		focus = STL_feather_bangs_leads
		focus = STL_party_favor_leads
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_one_leader"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = -0.1
		}
		custom_effect_tooltip = STL_resolved_political_matters
		custom_effect_tooltip = STL_dictator
	}
}	
shared_focus = {
	id = STL_centralized_state
	icon = GFX_goal_conditions
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_party_favor_leads
	mutually_exclusive = {
		focus = STL_one_leader
		focus = STL_confederalist_state
		focus = STL_equestrian_model
	}
	prerequisite = {
		focus = STL_feather_bangs_leads
		focus = STL_party_favor_leads
		focus = STL_double_diamond_leads
		focus = STL_night_glider_leads
		focus = STL_sugar_belle_leads
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_centralized_state"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = -0.05
		}
		custom_effect_tooltip = STL_resolved_political_matters
		custom_effect_tooltip = STL_centralized
	}
}	

shared_focus = {
	id = STL_confederalist_state
	icon = GFX_goal_stg_socialist_cooperation
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_double_diamond_leads
	mutually_exclusive = {
		focus = STL_centralized_state
		focus = STL_one_leader
		focus = STL_equestrian_model
	}
	prerequisite = {
		focus = STL_feather_bangs_leads
		focus = STL_party_favor_leads
		focus = STL_double_diamond_leads
		focus = STL_night_glider_leads
		focus = STL_sugar_belle_leads
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_confederalist_state"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = 0.05
		}
		custom_effect_tooltip = STL_resolved_political_matters
		custom_effect_tooltip = STL_confederalist
	}
}	

shared_focus = {
	id = STL_equestrian_model
	icon = GFX_goal_stg_eqs
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_night_glider_leads
	mutually_exclusive = {
		focus = STL_centralized_state
		focus = STL_confederalist_state
		focus = STL_one_leader
	}
	prerequisite = {
		focus = STL_sugar_belle_leads
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_equestrian_model"
		add_power_balance_value = {
			id = STL_leftist_bop
			value = 0.1
		}
		custom_effect_tooltip = STL_resolved_political_matters
		custom_effect_tooltip = STL_equestrian_leader
	}
}	

shared_focus = {
	id = STL_equal_footing
	icon = GFX_goal_stg_socialist_justice
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_one_leader
	mutually_exclusive = {
		focus = STL_powerful_friend
		focus = STL_accept_our_reality
	}
	prerequisite = {
		focus = STL_one_leader
		focus = STL_centralized_state
		focus = STL_confederalist_state
		focus = STL_equestrian_model
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_equal_footing"
		if = {
			limit = {
				has_completed_focus = STL_ally_eqs
			}
			EQS = {
				country_event = starlight.7
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_stg
			}
			STG = {
				country_event = starlight.7
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_griffons
			}
			GRF = {
				country_event = starlight.7
			}
		}
		else = {
			custom_effect_tooltip = STL_ally_someone
		}
	}
}	

shared_focus = {
	id = STL_powerful_friend
	icon = GFX_goal_stg_socialist_expansion
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_centralized_state
	mutually_exclusive = {
		focus = STL_equal_footing
		focus = STL_accept_our_reality
	}
	prerequisite = {
		focus = STL_one_leader
		focus = STL_centralized_state
		focus = STL_confederalist_state
		focus = STL_equestrian_model
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_powerful_friend"
		if = {
			limit = {
				has_completed_focus = STL_ally_eqs
			}
			EQS = {
				country_event = starlight.8
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_stg
			}
			STG = {
				country_event = starlight.8
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_griffons
			}
			GRF = {
				country_event = starlight.8
			}
		}
		else = {
			custom_effect_tooltip = STL_protected_by_someone
		}
	}
}	

shared_focus = {
	id = STL_accept_our_reality
	icon = GFX_goal_stg_socialist_flagwave
	cost = 3.00
	x = 1
	y = 1
	relative_position_id = STL_confederalist_state
	mutually_exclusive = {
		focus = STL_powerful_friend
		focus = STL_equal_footing
	}
	prerequisite = {
		focus = STL_one_leader
		focus = STL_centralized_state
		focus = STL_confederalist_state
		focus = STL_equestrian_model
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_powerful_friend"
		if = {
			limit = {
				has_completed_focus = STL_ally_eqs
			}
			EQS = {
				country_event = starlight.9
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_stg
			}
			STG = {
				country_event = starlight.9
			}
		}
		else_if = {
			limit = {
				has_completed_focus = STL_ally_griffons
			}
			GRF = {
				country_event = starlight.9
			}
		}
		else = {
			custom_effect_tooltip = STL_puppeted_by_someone
		}
	}
}	
shared_focus = {
	id = STL_our_future_secured
	icon = GFX_goal_elections
	cost = 3.00
	x = 0
	y = 1
	relative_position_id = STL_powerful_friend
	prerequisite = {
		focus = STL_equal_footing
		focus = STL_powerful_friend
		focus = STL_accept_our_reality
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_our_future_secured"
		remove_ideas = STL_collapsing_coalition
		remove_country_leader_trait = cabinet_crisis
		if = {
			limit = {
				has_power_balance_modifier = {
					id = STL_leftist_bop
					modifier = STL_equalist_influence
				}
			}
			remove_power_balance_modifier = {
				id = STL_leftist_bop
				modifier = STL_equalist_influence	
			}
		}
		else_if = {
			limit = { 
				has_power_balance_modifier = {
					id = STL_leftist_bop
					modifier = STL_reformist_influence
					}
				}
			remove_power_balance_modifier = {
				id = STL_leftist_bop
				modifier = STL_reformist_influence	
			}
		}
		country_event = starlight.10
		# event announcing the winner of the new elections
	}
}	
### PARTY FAVOR TREE ###

shared_focus = {
	id = STL_feather_bangs_wins
	icon = GFX_focus_TUR_the_sun_language_theory
	cost = 5
	x = 0
	y = 7

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_feather_bangs_wins"
		if = {
			limit = {
				has_completed_focus = STL_one_leader
			}
			add_country_leader_trait = dictator	
			add_stability = -0.1
		}
		else_if = {
			limit = {
				has_completed_focus = STL_centralized_state
			}	
			add_ideas = STL_centralized_govt
		}
		else_if = {
			limit = {
				has_completed_focus = STL_confederalist_state
			}
			add_ideas = STL_confederalist_govt
		}
		else = {
			add_country_leader_trait = incompetent_leader
			add_stability = 0.3
		}
		hidden_effect = {
			country_event = feather_bangs.1
		} 
	}
}
### PARTY FAVOR TREE ###

shared_focus = {
	id = STL_party_favor_wins
	icon = GFX_focus_generic_join_comintern
	cost = 5
	x = 2
	y = 7

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_party_favor_wins"
		if = {
			limit = {
				has_completed_focus = STL_one_leader
			}
			add_country_leader_trait = dictator	
			add_stability = -0.1
		}
		else_if = {
			limit = {
				has_completed_focus = STL_centralized_state
			}	
			add_ideas = STL_centralized_govt
		}
		else_if = {
			limit = {
				has_completed_focus = STL_confederalist_state
			}
			add_ideas = STL_confederalist_govt
		}
		else = {
			add_country_leader_trait = incompetent_leader
			add_stability = 0.3
		}
	}
}
### DOUBLE DIAMOND TREE ###

shared_focus = {
	id = STL_double_diamond_wins
	icon = GFX_equalist # placeholder
	cost = 5
	x = 4
	y = 7

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_double_diamond_wins"
		if = {
			limit = {
				has_completed_focus = STL_one_leader
			}
			add_country_leader_trait = dictator	
			add_stability = -0.1
		}
		else_if = {
			limit = {
				has_completed_focus = STL_centralized_state
			}	
			add_ideas = STL_centralized_govt
		}
		else_if = {
			limit = {
				has_completed_focus = STL_confederalist_state
			}
			add_ideas = STL_confederalist_govt
		}
		else = {
			add_country_leader_trait = incompetent_leader
			add_stability = 0.3
		}
	}
}
shared_focus = {
	id = STL_denounce_old_excesses
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_double_diamond_wins
	x = -2
	y = 1
	prerequisite = {
		focus = STL_double_diamond_wins
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		remove_ideas = STL_equality_past
	}
}
shared_focus = {
	id = STL_benevolent_social_engineering
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_denounce_old_excesses
	x = 1
	y = 1
	prerequisite = {
		focus = STL_denounce_old_excesses
	}
	prerequisite = {
		focus = STL_promise_a_future
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_benevolent_social_engineering"
		unlock_decision_category_tooltip = STL_double_diamond_social_engineering
		set_variable = { STL_social_engineering_stability_factor = 0 }
		set_variable = { STL_social_engineering_war_support_factor = 0 }
		set_variable = { STL_social_engineering_resistance_growth = 0 }
		set_variable = { STL_social_engineering_compliance_growth = 0 }
		set_variable = { STL_social_engineering_experience_gain_mechanized_combat_factor = 0 }
		set_variable = { STL_social_engineering_unit_mechanized_design_cost_factor = 0 }
		set_variable = { STL_social_engineering_grant_medal_cost_factor = 0 }
		set_variable = { STL_social_engineering_field_officer_promotion_penalty = 0 }
		set_variable = { STL_social_engineering_army_org_factor = 0 }
		set_variable = { STL_social_engineering_army_org_regain = 0 }
		set_variable = { STL_social_engineering_production_factory_max_efficiency_factor = 0 }
		set_variable = { STL_social_engineering_army_core_defence_factor = 0 }
		set_variable = { STL_social_engineering_research_speed_factor = 0 }
		set_variable = { STL_social_engineering_out_of_supply_factor = 0 }
		set_variable = { STL_social_engineering_weekly_casualties_war_support = 0 }
		set_variable = { STL_social_engineering_local_building_slots_factor = 0 }

		add_dynamic_modifier = {
			modifier = STL_social_engineering_good
		}
	}
}
shared_focus = {
	id = STL_promise_a_future
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_double_diamond_wins
	x = 0
	y = 1
	prerequisite = {
		focus = STL_double_diamond_wins
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		add_ideas = STL_new_hope_for_future
	}
}
shared_focus = {
	id = STL_different_yet_equal
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_promise_a_future
	x = 1
	y = 1
	prerequisite = {
		focus = STL_promise_a_future
	}
	prerequisite = {
		focus = STL_appoint_new_ministers
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		swap_ideas = {
			remove_idea = STL_new_hope_for_future
			add_idea = STL_new_hope_for_future_2
		}
	}
}
shared_focus = {
	id = STL_accelerate_revolutionary_changes
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_benevolent_social_engineering
	x = -1
	y = 1
	prerequisite = {
		focus = STL_benevolent_social_engineering
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		custom_effect_tooltip = STL_decisions_faster
		add_to_variable = {
			var = STL_social_engineering_time
			value = -30
		}
	}
}

shared_focus = {
	id = STL_appoint_new_ministers
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_double_diamond_wins
	x = 2
	y = 1
	prerequisite = {
		focus = STL_double_diamond_wins
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		add_political_power = 150
		STL_enable_firing_advisors = yes
	}
}
shared_focus = {
	id = STL_the_turning_point
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_benevolent_social_engineering
	x = 1
	y = 1
	prerequisite = {
		focus = STL_different_yet_equal
	}
	prerequisite = {
		focus = STL_benevolent_social_engineering
	}
	available = {
		custom_trigger_tooltip = {
			tooltip = STL_five_dd_decisions
			count_triggers = {
				amount = 5 #at least 5 triggers are true
				has_country_flag = STL_dd_decision_1
				has_country_flag = STL_dd_decision_2
				has_country_flag = STL_dd_decision_3
				has_country_flag = STL_dd_decision_4
				has_country_flag = STL_dd_decision_5
				has_country_flag = STL_dd_decision_6
				has_country_flag = STL_dd_decision_7
				has_country_flag = STL_dd_decision_8
				has_country_flag = STL_dd_decision_9
				has_country_flag = STL_dd_decision_10
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_denounce_old_excesses"
		57 = {
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 3335
			}
		}
		effect_tooltip = { # make the player think it's going well
			country_event = double_diamond.12
		} 
		hidden_effect = {
			if = {
				limit = { # too slow
					has_stability > 0.7
				}
				country_event = double_diamond.11
			}
			else_if = { # just right
				limit = {
					has_stability > 0.5
				}
				country_event = double_diamond.12
			}
			else = { # too fast
				country_event = double_diamond.13
			}
		}

	}
}
shared_focus = {
	id = STL_gearing_up_for_a_vision
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_turning_point
	x = 0
	y = 1
	prerequisite = {
		focus = STL_the_turning_point
	}
	prerequisite = {
		focus = STL_accelerate_revolutionary_changes
		focus = STL_equal_volunteers
	}
	will_lead_to_war_with = STG
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_gearing_up_for_a_vision"
		country_event = double_diamond.14
	}
}
shared_focus = {
	id = STL_equal_volunteers
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_different_yet_equal
	x = 1
	y = 1
	prerequisite = {
		focus = STL_different_yet_equal
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_equal_volunteers"
		add_manpower = 10000
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			army_experience = 55				
		}
		else = {
			add_ideas = STL_emergency_reserves
		}
	}
}
shared_focus = {
	id = STL_an_equalist_in_stalliongrad
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_gearing_up_for_a_vision
	x = 0
	y = 2
	available = {
		has_country_flag = formed_stg_stl
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_gearing_up_for_a_vision"
		swap_ideas = {
			remove_idea = STL_the_home_of_equality
			add_idea = STL_the_home_of_equality_2
		}
		country_event = double_diamond.16
	}
}
shared_focus = {
	id = STL_meet_with_the_left
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_an_equalist_in_stalliongrad
	x = -4
	y = 3
	prerequisite = {
		focus = STL_an_equalist_in_stalliongrad
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.17
	}
}
shared_focus = {
	id = STL_new_proletarian_culture
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_left
	x = -1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_left
	}
	mutually_exclusive = {
		focus = STL_accept_severyanian_distinctions
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_new_proletarian_culture"
		add_ideas = STL_synthetic_culture
	}
}
shared_focus = {
	id = STL_accept_severyanian_distinctions
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_left
	x = 1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_left
	}
	mutually_exclusive = {
		focus = STL_new_proletarian_culture
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_accept_severyanian_distinctions"
		add_ideas = STL_real_culture
	}
}
shared_focus = {
	id = STL_our_sacred_war
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_left
	x = 0
	y = 2
	prerequisite = {
		focus = STL_new_proletarian_culture
		focus = STL_accept_severyanian_distinctions
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_our_sacred_war"
		add_ideas = STL_equal_conscription
	}
}
shared_focus = {
	id = STL_meet_with_the_center
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_an_equalist_in_stalliongrad
	x = 0
	y = 1
	prerequisite = {
		focus = STL_an_equalist_in_stalliongrad
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.18
	}
}
shared_focus = {
	id = STL_equalize_factory_work
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = -1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_center
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		153 = {
			improve_state_category = yes
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
			add_building_construction = {
				type = arms_factory
				level = 1
			}
		}
	}
}
shared_focus = {
	id = STL_establish_direct_democracy
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = 1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_center
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		add_ideas = STL_direct_democracy
	}
}
shared_focus = {
	id = STL_tour_the_nation
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = -2
	y = 2
	prerequisite = {
		focus = STL_equalize_factory_work
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.28
		every_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = STL_new_equal_friends
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = -1
	y = 3
	prerequisite = {
		focus = STL_equalize_factory_work
	}
	prerequisite = {
		focus = STL_end_of_the_mayorship
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		unlock_decision_category_tooltip = STL_bring_equality
	}
}

shared_focus = {
	id = STL_end_of_the_mayorship
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = 0
	y = 2
	prerequisite = {
		focus = STL_equalize_factory_work
	}
	prerequisite = {
		focus = STL_establish_direct_democracy
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.20
	}
}
shared_focus = {
	id = STL_our_nuclear_program
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = 2
	y = 2
	prerequisite = {
		focus = STL_establish_direct_democracy
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		add_tech_bonus = {
			name = secret_bonus
			bonus = 2.0
			uses = 1
			category = nuclear
		}
		add_tech_bonus = {
			name = secret_bonus
			bonus = 2.0
			uses = 1
			ahead_reduction = 1
			category = nuclear
		}
	}
}
shared_focus = {
	id = STL_bring_the_yaks_into_the_fold
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = 1
	y = 3
	prerequisite = {
		focus = STL_establish_direct_democracy
	}
	prerequisite = {
		focus = STL_end_of_the_mayorship
	}
	will_lead_to_war_with = YAK
	will_lead_to_war_with = JAK
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		# no diplomacy - commie yaks are too tyrannical
		create_wargoal = {
			target = YAK
			type = annex_everything
		}
		create_wargoal = {
			target = JAK
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STL_unitary_but_diverse
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_center
	x = 0
	y = 4
	prerequisite = {
		focus = STL_tour_the_nation
	}
	prerequisite = {
		focus = STL_new_equal_friends
	}
	prerequisite = {
		focus = STL_bring_the_yaks_into_the_fold
	}
	prerequisite = {
		focus = STL_our_nuclear_program
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.21
	}
}
shared_focus = {
	id = STL_meet_with_the_right
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_an_equalist_in_stalliongrad
	x = 4
	y = 3
	prerequisite = {
		focus = STL_an_equalist_in_stalliongrad
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_meet_with_the_left"
		country_event = double_diamond.19
	}
}
shared_focus = {
	id = STL_invade_nova
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_right
	x = -1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_right
	}
	bypass = {
		GRF = {
			OR = {
				exists = no
				has_war_with = ROOT
			}
		}
	}
	available = {
		GRF = {
			NOT = {
				has_government = communism
			}
		}
	}
	mutually_exclusive = {
		focus = STL_invite_nova
	}
	will_lead_to_war_with = GRF
	will_lead_to_war_with = GFF
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_invade_nova"
		create_wargoal = {
			target = GRF
			type = annex_everything
		}
		create_wargoal = {
			target = GFF
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STL_invite_nova
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_right
	x = 1
	y = 1
	prerequisite = {
		focus = STL_meet_with_the_right
	}
	bypass = {
		GRF = {
			OR = {
				exists = no
				has_war_with = ROOT
			}
		}
	}
	available = {
		GRF = {
			has_government = communism
		}
	}
	mutually_exclusive = {
		focus = STL_invade_nova
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_invite_nova"
		
	}
}
shared_focus = {
	id = STL_strike_the_penguins
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_meet_with_the_right
	x = 0
	y = 2
	prerequisite = {
		focus = STL_invade_nova
		focus = STL_invite_nova
	}
	will_lead_to_war_with = PNG
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_strike_the_penguins"
		if = {
			limit = {
				PNG = {
					has_government = communism
				}
			}
			PNG = {
				country_event = generic.5
			}
		}
		create_wargoal = {
			target = PNG
			type = annex_everything
		}
	}
}
shared_focus = {
	id = STL_the_speech
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_unitary_but_diverse
	x = 0
	y = 1
	prerequisite = {
		focus = STL_our_sacred_war
	}
	prerequisite = {
		focus = STL_unitary_but_diverse
	}
	prerequisite = {
		focus = STL_strike_the_penguins
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_speech"
		country_event = double_diamond.22
	}
}
shared_focus = {
	id = STL_the_new_living_organism
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_gearing_up_for_a_vision
	x = -8
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_new_living_organism"
		country_event = double_diamond.29
	}
}
shared_focus = {
	id = STL_begin_true_friendship_experiments
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_new_living_organism
	x = 1
	y = 1
	prerequisite = {
		focus = STL_the_new_living_organism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_begin_true_friendship_experiments"
		country_event = double_diamond.33
	}
}
shared_focus = {
	id = STL_design_a_new_religion
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_new_living_organism
	x = -1
	y = 1
	prerequisite = {
		focus = STL_the_new_living_organism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_design_a_new_religion"
		country_event = double_diamond.32
	}
}
shared_focus = {
	id = STL_glorify_labor
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_new_living_organism
	x = 0
	y = 2
	prerequisite = {
		focus = STL_the_new_living_organism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_glorify_labor"
		country_event = double_diamond.35
	}
}
shared_focus = {
	id = STL_agrarian_kindness
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_new_living_organism
	x = -2
	y = 2
	prerequisite = {
		focus = STL_the_new_living_organism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_new_living_organism"
		every_controlled_state = {
			limit = {
				OR = {
					has_state_category = pastoral
					has_state_category = rural
				}
			}
			improve_state_category = yes
		}
	}
}
shared_focus = {
	id = STL_from_each_according_to_his_ability
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_new_living_organism
	x = 2
	y = 2
	prerequisite = {
		focus = STL_the_new_living_organism
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_from_each_according_to_his_ability"
		army_experience = 25
		air_experience = 25
		navy_experience = 25
		add_doctrine_cost_reduction = {
			name = land_doctrine
			cost_reduction = 0.15
			uses = 1
			category = land_doctrine
		}
		add_doctrine_cost_reduction = {
			name = air_doctrine
			cost_reduction = 0.15
			uses = 1
			category = air_doctrine
		}
		add_doctrine_cost_reduction = {
			name = naval_doctrine
			cost_reduction = 0.15
			uses = 1
			category = naval_doctrine
		}
		
	}
}
shared_focus = {
	id = STL_a_new_constitution
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_gearing_up_for_a_vision
	x = 8
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		country_event = double_diamond.30
	}
}
shared_focus = {
	id = STL_guarantee_a_good_life
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_a_new_constitution
	x = -2
	y = 2
	prerequisite = {
		focus = STL_a_new_constitution
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		every_controlled_state = {
			limit = {
				NOT = {
					is_core_of = ROOT
				}
			}
			add_compliance = 10
			add_resistance = -10
		}
	}
}

shared_focus = {
	id = STL_elections_thrice_a_year
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_a_new_constitution
	x = -1
	y = 1
	prerequisite = {
		focus = STL_a_new_constitution
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		if = {
			limit = {
				has_idea = STL_new_constitution_1
			}
			swap_ideas = {
				remove_idea = STL_new_constitution_1
				add_idea = STL_new_constitution_2
			}
		}
		else = {
			swap_ideas = {
				remove_idea = STL_new_constitution_1_stab
				add_idea = STL_new_constitution_2_stab
			}
		}
	}
}

shared_focus = {
	id = STL_the_new_coalition
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_a_new_constitution
	x = 0
	y = 2
	prerequisite = {
		focus = STL_a_new_constitution
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		country_event = double_diamond.36
	}
}
shared_focus = {
	id = STL_truly_fair_voting
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_a_new_constitution
	x = 1
	y = 1
	prerequisite = {
		focus = STL_a_new_constitution
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		add_stability = -0.1
		add_political_power = 500
	}
}
shared_focus = {
	id = STL_with_justice_for_all
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_a_new_constitution
	x = 2
	y = 2
	prerequisite = {
		focus = STL_a_new_constitution
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_constitution"
		# something cool about rehabilitating prisoners
	}
}
shared_focus = {
	id = STL_save_equestria
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_speech
	x = -5
	y = 1
	mutually_exclusive = {
		focus = STL_war_plan_equality
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		EQS = {
			country_event = double_diamond.25
		}
	}
}
shared_focus = {
	id = STL_chrysalis_in_our_crosshairs
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_save_equestria
	x = -2
	y = 1
	prerequisite = {
		focus = STL_save_equestria
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		add_timed_idea = {
			idea = STL_war_plan_hivefall_idea
			days = 365
		}
	}
}
shared_focus = {
	id = STL_salvage_our_international_reputation
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_save_equestria
	x = 0
	y = 1
	prerequisite = {
		focus = STL_save_equestria
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		add_threat = -15
	}
}
shared_focus = {
	id = STL_friends_again
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_save_equestria
	x = 2
	y = 1
	prerequisite = {
		focus = STL_save_equestria
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		add_opinion_modifier = {
			target = EQS
			modifier = made_friends
		}
		reverse_add_opinion_modifier = {
			target = EQS
			modifier = made_friends
		}
	}
}
shared_focus = {
	id = STL_it_is_time
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_save_equestria
	x = 0
	y = 2
	prerequisite = {
		focus = STL_chrysalis_in_our_crosshairs
	}
	prerequisite = {
		focus = STL_salvage_our_international_reputation
	}
	prerequisite = {
		focus = STL_friends_again
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		EQS = {
			army_experience = 50
			air_experience = 50
			navy_experience = 50
		}
		army_experience = 50
		air_experience = 50
		navy_experience = 50
	}
}
shared_focus = {
	id = STL_war_plan_equality
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_the_speech
	x = 5
	y = 1
	mutually_exclusive = {
		focus = STL_save_equestria
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_war_plan_equality"
		add_timed_idea = {
			idea = STL_war_plan_equality_idea
			days = 365
		}
	}
}
shared_focus = {
	id = STL_ultra_industrialization
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_war_plan_equality
	x = -2
	y = 1
	prerequisite = {
		focus = STL_war_plan_equality
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_ultra_industrialization"
		one_random_arms_factory = yes
		one_random_arms_factory = yes
		one_random_arms_factory = yes
		one_random_arms_factory = yes
	}
}
shared_focus = {
	id = STL_lockstep_legions_of_equality
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_war_plan_equality
	x = 0
	y = 1
	prerequisite = {
		focus = STL_war_plan_equality
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_ultra_industrialization"
		swap_ideas = {
			remove_idea = STL_equal_conscription
			add_idea = STL_equal_conscription_2
		}
	}
}
shared_focus = {
	id = STL_the_final_steps
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_war_plan_equality
	x = 2
	y = 1
	prerequisite = {
		focus = STL_war_plan_equality
	}
	available = {
		has_tech = mechanised_infantry
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_final_steps"
		add_equipment_to_stockpile = {
			type = mechanized_equipment
			amount = 750
		}
		add_equipment_to_stockpile = {
			type = motorized_equipment
			amount = 1500
		}
	}
}
shared_focus = {
	id = STL_blast_sacred_war_on_repeat
	icon = GFX_equalist # placeholder
	cost = 5
	relative_position_id = STL_war_plan_equality
	x = 0
	y = 2
	prerequisite = {
		focus = STL_ultra_industrialization
	}
	prerequisite = {
		focus = STL_lockstep_legions_of_equality
	}
	prerequisite = {
		focus = STL_the_final_steps
	}
	will_lead_to_war_with = EQS
	will_lead_to_war_with = NLR
	will_lead_to_war_with = CHN
	will_lead_to_war_with = CRY
	will_lead_to_war_with = VAN
	will_lead_to_war_with = SCS
	will_lead_to_war_with = BAL
	will_lead_to_war_with = CES
	will_lead_to_war_with = JUN
	will_lead_to_war_with = NMS
	will_lead_to_war_with = TEM
	will_lead_to_war_with = LSP
	will_lead_to_war_with = BUF
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_save_equestria"
		country_event = double_diamond.31
	}
}

### NIGHT GLIDER TREE ###

shared_focus = {
	id = STL_night_glider_wins
	icon = GFX_goal_Night_Glider_wins
	cost = 5
	x = 6
	y = 7

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_night_glider_wins"
		if = {
			limit = {
				has_completed_focus = STL_one_leader
			}
			add_country_leader_trait = dictator	
			add_stability = -0.1
		}
		else_if = {
			limit = {
				has_completed_focus = STL_centralized_state
			}	
			add_ideas = STL_centralized_govt
		}
		else_if = {
			limit = {
				has_completed_focus = STL_confederalist_state
			}
			add_ideas = STL_confederalist_govt
		}
		else = {
			add_country_leader_trait = incompetent_leader
			add_stability = 0.3
		}
	}
}
shared_focus = {
	id = STL_glider_agenda
	icon = GFX_goal_The_Glider_Agenda
	cost = 4
	x = -3
	y = 1
	relative_position_id = STL_night_glider_wins
    prerequisite = {
		focus = STL_night_glider_wins
	}
	completion_reward = {
		add_political_power = 100
		country_event = night_glider.1
		remove_power_balance = {
			id = STL_leftist_bop
		}
	}
}
shared_focus = {
	id = STL_charity_ng
	icon = GFX_goal_Enshrine_Charity_le_fumo
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_glider_agenda
    prerequisite = {
		focus = STL_glider_agenda
	}
	completion_reward = {
		add_ideas = stl_ng_charity_v1
	}
}
shared_focus = {
	id = STL_open_town_ng
	icon = GFX_goal_open_town_policy
	cost = 5

	x = 0
	y = 1
	relative_position_id = STL_glider_agenda
    prerequisite = {
		focus = STL_glider_agenda
	}
	completion_reward = {
		remove_ideas = STL_city_state
		add_ideas = ng_open_borders
		swap_ideas = {
			remove_idea = uncontrolled_exports
			add_idea = free_trade
		}
		country_event = night_glider.2
	}
}
shared_focus = {
	id = STL_free_oposition
	icon = GFX_goal_Unshackle_the_Opposition
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_glider_agenda
    prerequisite = {
		focus = STL_glider_agenda
	}
	completion_reward = {
		add_manpower = 500
		add_ideas = system_for_all_v1
	}
}
shared_focus = {
	id = STL_communal_farming_ng
	icon = GFX_goal_communal_farming
	cost = 5
	relative_position_id = STL_charity_ng
	x = 1
	y = 1
    prerequisite = {
		focus = STL_charity_ng
	}
	prerequisite = {
		focus = STL_open_town_ng
	}
	completion_reward = {
		add_ideas = town_farming_ng
		random_core_state = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
			add_extra_state_shared_building_slots = 2
		}
	}
}
shared_focus = {
	id = STL_not_samey
	icon = GFX_goal_Architectural_Diversity
	cost = 5
	relative_position_id = STL_communal_farming_ng
	x = 0
	y = 1
    prerequisite = {
		focus = STL_communal_farming_ng
	}
	completion_reward = {
		random_core_state = {
			add_extra_state_shared_building_slots = 1
		}
		swap_ideas = {
			remove_idea = town_farming_ng
			add_idea = town_farming_ng_2
		}
		country_event = night_glider.3
	}
}
shared_focus = {
	id = STL_same_level
	icon = GFX_goal_All_the_Same_Level
	cost = 5
	relative_position_id = STL_open_town_ng
	x = 1
	y = 1
    prerequisite = {
		focus = STL_free_oposition
	}
	prerequisite = {
		focus = STL_open_town_ng
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = system_for_all_v1
			add_idea = system_for_all_v2
		}
	}
}
shared_focus = {
	id = STL_new_documents
	icon = GFX_goal_Rewriting_the_Documents
	cost = 5
	relative_position_id = STL_same_level
	x = 0
	y = 1
    prerequisite = {
		focus = STL_same_level
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = system_for_all_v2
			add_idea = system_for_all_v3
		}
		country_event = night_glider.4
	}
}
shared_focus = {
	id = STL_council_economy
	icon = GFX_goal_Council-Based_Economy
	cost = 5
	relative_position_id = STL_not_samey
	x = -1
	y = 1
    prerequisite = {
		focus = STL_not_samey
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = town_farming_ng_2
			add_idea = town_farming_ng_3
		}
		random_core_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
	}
}
shared_focus = {
	id = STL_hyperculture
	icon = GFX_goal_Euphony_of_Culture
	cost = 5
	relative_position_id = STL_not_samey
	x = 1
	y = 1
    prerequisite = {
		focus = STL_not_samey
	}
	prerequisite = {
		focus = STL_new_documents
	}
	completion_reward = {
		add_ideas = town_hyperculture
		remove_ideas = STL_equality_past
		country_event = night_glider.5
	}
}
shared_focus = {
	id = STL_public_discussions
	icon = GFX_goal_Our_public_assembly
	cost = 5
	relative_position_id = STL_new_documents
	x = 1
	y = 1
	prerequisite = {
		focus = STL_new_documents
	}
	completion_reward = {
		add_political_power = 50
		country_event = night_glider.6
	}
}
shared_focus = {
	id = STL_free_housing
	icon = GFX_goal_Town_provided_housing
	cost = 5
	relative_position_id = STL_council_economy
	x = 1
	y = 1
    prerequisite = {
		focus = STL_hyperculture
	}
	prerequisite = {
		focus = STL_council_economy
	}
	completion_reward = {
		random_core_state = {
			add_extra_state_shared_building_slots = 3
		}
		add_manpower = 7000
		swap_ideas = {
			remove_idea = stl_ng_charity_v1
			add_idea = stl_ng_charity_v2
		}
	}
}
shared_focus = {
	id = STL_free_healthcare_ng
	icon = GFX_goal_Full_Healthcare_Coverage
	cost = 5
	relative_position_id = STL_free_housing
	x = 0
	y = 1
    prerequisite = {
		focus = STL_free_housing
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = stl_ng_charity_v2
			add_idea = stl_ng_charity_v3
		}
	}
}
shared_focus = {
	id = STL_socialist_harmonism
	icon = GFX_goal_Socialism_with_Harmonic_Characteristics
	cost = 5
	relative_position_id = STL_hyperculture
	x = 1
	y = 1
    prerequisite = {
		focus = STL_hyperculture
	}
	prerequisite = {
		focus = STL_public_discussions
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = STL_the_home_of_equality
			add_idea = STL_the_home_of_equality_ng
		}
	}
}
shared_focus = {
	id = STL_research_thing
	icon = GFX_goal_Found_the_Research_Bureau
	cost = 5
	relative_position_id = STL_socialist_harmonism
	x = 0
	y = 1
    prerequisite = {
		focus = STL_socialist_harmonism
	}
	completion_reward = {
		add_ideas = stl_ng_science
	}
}
shared_focus = {
	id = STL_the_dream
	icon = GFX_goal_Believing_the_Dream
	cost = 5
	relative_position_id = STL_free_healthcare_ng
	x = 1
	y = 1
    prerequisite = {
		focus = STL_research_thing
	}
	prerequisite = {
		focus = STL_free_healthcare_ng
	}
	completion_reward = {
		country_event = night_glider.7
		custom_effect_tooltip = ng_all_in_one
		hidden_effect = {
			add_ideas = STL_ng_all_things
			remove_ideas = STL_the_home_of_equality_ng
			remove_ideas = stl_ng_charity_v3
			remove_ideas = town_hyperculture
			remove_ideas = town_farming_ng_3
			remove_ideas = system_for_all_v3
			remove_ideas = ng_open_borders
			remove_ideas = stl_ng_science
		}
	}
}

shared_focus = {
	id = STL_foreign_office
	icon = GFX_goal_Foreign_Affairs_Office
	cost = 4
	relative_position_id = STL_night_glider_wins
	x = 4
	y = 1
    prerequisite = {
		focus = STL_night_glider_wins
	}
	available = {
		not = {
			has_idea = STL_city_state
		}
	}
	completion_reward = {
		add_political_power = 100
		add_ideas = STL_ng_volunteer_corps
		unlock_decision_category_tooltip = STL_ng_interventions
		country_event = night_glider.8
	}
}
shared_focus = {
	id = STL_equestrian_diplo_ng
	icon = GFX_goal_Equestrian_Embassy
	cost = 5
	relative_position_id = STL_foreign_office
	x = -2
	y = 1
    prerequisite = {
		focus = STL_foreign_office
	}
	available = {
		not = {
			has_war_with = EQS
			EQS = {
			    has_government = fascism
		    } 
		}
		country_exists = EQS
		if = {
			limit = {
			  is_ai = no
			}
			EQS= {
				has_opinion = {
					target = STL
					value > 29
				}
			}
	    }
	}
	completion_reward = {
		STL = {
			add_opinion_modifier = { target = EQS modifier = STL_embassy }
		}
		EQS = {
			add_opinion_modifier = { target = STL modifier = STL_embassy }
		}
		country_event = night_glider.9
	}
}
shared_focus = {
	id = STL_equestrian_research_exc
	icon = GFX_goal_Research_Exchange_Program
	cost = 5
	relative_position_id = STL_equestrian_diplo_ng
	x = 0
	y = 1
    prerequisite = {
		focus = STL_equestrian_diplo_ng
	}
	available = {
		not = {
			has_war_with = EQS
			EQS = {
			    has_government = fascism
		    } 
		}
		country_exists = EQS
		if = {
			limit = {
			  is_ai = no
			}
			EQS= {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			add_to_tech_sharing_group = equestrian_research
		}
		else = {
			add_tech_bonus = {
				name = infantry_weapons_bonus
				bonus = 1.0
				uses = 3
				category = artillery
				category = infantry_weapons
			}
			add_tech_bonus = {
				name = race_tech_bonus
				bonus = 1.5
				uses = 1
				category = race_tech
			}
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 3
				category = electronics
			}
		}
	}
}
shared_focus = {
	id = STL_limited_capitalism
	icon = GFX_goal_Allow_Limited_Business
	cost = 5
	relative_position_id = STL_equestrian_diplo_ng
	x = -2
	y = 1
    prerequisite = {
		focus = STL_equestrian_diplo_ng
	}
	available = {
		not = {
			has_war_with = EQS
			EQS = {
			    has_government = fascism
		    } 
		}
		country_exists = EQS
		if = {
			limit = {
			  is_ai = no
			}
			EQS= {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		add_ideas = STL_ng_equestria_stuff
	}
}
shared_focus = {
	id = STL_help_equestria_ng
	icon = GFX_goal_Join_the_All-Ponies_Front
	cost = 3
	relative_position_id = STL_limited_capitalism
	x = 1
	y = 1
    prerequisite = {
		focus = STL_limited_capitalism
	}
	prerequisite = {
		focus = STL_equestrian_research_exc
	}
	available = {
		not = {
			has_war_with = EQS
			EQS = {
			    has_government = fascism
		    } 
		}
		country_exists = EQS
		EQS = {
			is_in_faction = yes
			has_war = yes
		} 
		has_war = no
		if = {
			limit = {
			  is_ai = no
			}
			EQS= {
				has_opinion = {
					target = STL
					value > 59
				}
			}
	    }
	}
	completion_reward = {
		EQS = {
			add_to_faction = STL
		}
	}
}
shared_focus = {
	id = STL_stg_diplomacy_ng
	icon = GFX_goal_Stalliongrad_Embassy
	cost = 5
	relative_position_id = STL_foreign_office
	x = 0
	y = 1
    prerequisite = {
		focus = STL_foreign_office
	}
	available = {
		not = {
			has_war_with = STG
			STG = {
			    has_country_leader = {
				    character = STG_sinister_serov
				    ruling_only = yes
			    }
		    }
			STG = {
				has_country_leader = {
					character = STG_masha_norushkina
					ruling_only = yes
				}
		    }
		}
		country_exists = STG
		if = {
			limit = {
			  is_ai = no
			}
			STG = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		STL = {
			add_opinion_modifier = { target = STG modifier = STL_embassy }
		}
		STG = {
			add_opinion_modifier = { target = STL modifier = STL_embassy }
		}
		STG = { give_military_access = STL }
		country_event = night_glider.10
	}
}
shared_focus = {
	id = STL_stg_military_ng
	icon = GFX_goal_Stalliongradian_military_aid
	cost = 5
	relative_position_id = STL_stg_diplomacy_ng
	x = 0
	y = 1
    prerequisite = {
		focus = STL_stg_diplomacy_ng
	}
	available = {
		not = {
			has_war_with = STG
			STG = {
			    has_country_leader = {
				    character = STG_sinister_serov
				    ruling_only = yes
			    }
		    }
			STG = {
				has_country_leader = {
					character = STG_masha_norushkina
					ruling_only = yes
				}
		    }
		}
		country_exists = STG
		if = {
			limit = {
			  is_ai = no
			}
			STG = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
		}
		army_experience = 25
		add_ideas = STL_ng_stg_army_stuff
	}
}
shared_focus = {
	id = STL_stg_efficiency_ng
	icon = GFX_goal_Stalliongradian_Efficiency
	cost = 5
	relative_position_id = STL_stg_military_ng
	x = 0
	y = 1
    prerequisite = {
		focus = STL_stg_military_ng
	}
	available = {
		not = {
			has_war_with = STG
			STG = {
			    has_country_leader = {
				    character = STG_sinister_serov
				    ruling_only = yes
			    }
		    }
			STG = {
				has_country_leader = {
					character = STG_masha_norushkina
					ruling_only = yes
				}
		    }
		}
		country_exists = STG
		if = {
			limit = {
			  is_ai = no
			}
			STG = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		add_ideas = STL_ng_stg_civilian_stuff
	}
}
shared_focus = {
	id = STL_nova_diplomacy
	icon = GFX_goal_Nova_Griffonia_Embassy
	cost = 5
	relative_position_id = STL_foreign_office
	x = 2
	y = 1
    prerequisite = {
		focus = STL_foreign_office
	}
	available = {
		not = {
			has_war_with = GRF
		}
		GRF = {
			OR = {
				has_government = democratic
				has_government = communism
		    }
		}
		country_exists = GRF
		if = {
			limit = {
			  is_ai = no
			}
			GRF = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		STL = {
			add_opinion_modifier = { target = GRF modifier = STL_embassy }
		}
		GRF = {
			add_opinion_modifier = { target = STL modifier = STL_embassy }
		}
		country_event = night_glider.11
	}
}
shared_focus = {
	id = STL_farming_tech_ng
	icon = GFX_goal_Griffonian_Farming_Techniques
	cost = 5
	relative_position_id = STL_nova_diplomacy
	x = 0
	y = 1
    prerequisite = {
		focus = STL_nova_diplomacy
	}
	available = {
		not = {
			has_war_with = GRF
		}
		GRF = {
			OR = {
				has_government = democratic
				has_government = communism
		    }
		}
		country_exists = GRF
		if = {
			limit = {
			  is_ai = no
			}
			GRF = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		random_core_state = {
			add_building_construction = {
				type = infrastructure  
				level = 1
			}
			add_extra_state_shared_building_slots = 1
		}
		add_manpower = 2000
	}
}
shared_focus = {
	id = STL_land_management_ng
	icon = GFX_goal_Griffonian_Land_Management
	cost = 5
	relative_position_id = STL_farming_tech_ng
	x = 0
	y = 1
    prerequisite = {
		focus = STL_farming_tech_ng
	}
	available = {
		not = {
			has_war_with = GRF
		}
		GRF = {
			OR = {
				has_government = democratic
				has_government = communism
		    }
		}
		country_exists = GRF
		if = {
			limit = {
			  is_ai = no
			}
			GRF = {
				has_opinion = {
					target = STL
					value > 39
				}
			}
	    }
	}
	completion_reward = {
		add_ideas = STL_ng_land_management
		add_manpower = 1000
		random_core_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
}
shared_focus = {
	id = STL_town_protection_ng
	icon = GFX_goal_Town_defense_plan
	cost = 5
	relative_position_id = STL_foreign_office
	x = 5
	y = 1
    prerequisite = {
		focus = STL_foreign_office
	}
	available = {
        NOT = {
			custom_trigger_tooltip = {
				tooltip = STL_own_more_than_one_state
				check_variable = {
					owned_states^num > 1
				}
			}
	    }
	}
	completion_reward = {
		country_event = night_glider.12
	}
}
shared_focus = {
	id = STL_anti_air_stuff
	icon = GFX_goal_Anti-Air_Emplacements
	cost = 5
	relative_position_id = STL_town_protection_ng
	x = -1
	y = 1
    prerequisite = {
		focus = STL_town_protection_ng
	}
	available = {
        NOT = {
			custom_trigger_tooltip = {
				tooltip = STL_own_more_than_one_state
				check_variable = {
					owned_states^num > 1
				}
			}
	    }
	}
	completion_reward = {

	}
}
shared_focus = {
	id = STL_bunker_ng
	icon = GFX_goal_Fortifying_the_Town
	cost = 5
	relative_position_id = STL_town_protection_ng
	x = 1
	y = 1
    prerequisite = {
		focus = STL_town_protection_ng
	}
	available = {
        NOT = {
			custom_trigger_tooltip = {
				tooltip = STL_own_more_than_one_state
				check_variable = {
					owned_states^num > 1
				}
			}
	    }
	}
	completion_reward = {
		57 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3335
			}
		}
	}
}

shared_focus = {
	id = STL_utopian_in_stalliongrad
	icon = GFX_goal_First_speech_of_the_nation
	cost = 3
	x = -4
	y = 8

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_utopian_in_stalliongrad"
		# todo stuff about Night Glider setting up a new republic
		country_event = night_glider.stl.1
		add_stability = 0.05
	}
}
shared_focus = {
	id = STL_stg_ng_trial  #gives 0.05 stability to dynamic modifier
	icon = GFX_goal_Trial_of_the_red_supremacists
	cost = 5
	relative_position_id = STL_utopian_in_stalliongrad
	x = -1
	y = 1
    prerequisite = {
		focus = STL_utopian_in_stalliongrad
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.2
	}
}
shared_focus = {
	id = STL_stg_sepo_hunt
	icon = GFX_goal_Hunt_the_SePo_renmants
	cost = 5
	relative_position_id = STL_utopian_in_stalliongrad
	x = 1
	y = 1
    prerequisite = {
		focus = STL_utopian_in_stalliongrad
	}
	available = {
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_sepo_tooltip
		add_to_variable = {
			var = ng_stg_var_stability_factor 
			value = 0.05
		}
		add_to_variable = {
			var = ng_stg_var_war_support_factor 
			value = 0.05
		}
	}
}
shared_focus = {
	id = STL_stg_untagling # gives 0.05 stability, 1 industrial capacity and 0.05 political power to dynamic modifier
	icon = GFX_goal_Untangling_the_Bureaucratic_Mess
	cost = 5
	relative_position_id = STL_stg_sepo_hunt
	x = 1
	y = 1
    prerequisite = {
		focus = STL_stg_sepo_hunt
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.3
	}
}
shared_focus = {
	id = STL_stg_ng_tour # gives 1 war support and 0.05 conscription factor to dynamic modifier
	icon = GFX_goal_Touring_the_Nation
	cost = 5
	relative_position_id = STL_stg_sepo_hunt
	x = -1
	y = 1
    prerequisite = {
		focus = STL_stg_sepo_hunt
	}
	prerequisite = {
		focus = STL_stg_ng_trial
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.4
	}
}
shared_focus = {
	id = STL_stg_ng_right_center # gives 0.05 stability and political power factor to dynamic modifier
	icon = GFX_goal_meet_with_the_right_and_center
	cost = 5
	relative_position_id = STL_stg_ng_trial
	x = -1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_trial
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.5
	}
}
shared_focus = {
	id = STL_stg_ng_sideline_left
	icon = GFX_goal_sideline_the_left
	cost = 5
	relative_position_id = STL_stg_ng_right_center
	x = -1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_right_center
	}
	available = {
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_sideline_tooltip
		add_to_variable = {
			var = ng_stg_var_conscription_factor 
			value = 0.05
		}
		subtract_from_variable = {
			var = ng_stg_var_consumer_goods_factor 
			value = 0.05
		}
	}
}
shared_focus = {
	id = STL_stg_ng_eqs_relations
	icon = GFX_goal_Normalize_Equestrian_Relations
	cost = 5
	relative_position_id = STL_stg_ng_right_center
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_right_center
	}
	prerequisite = {
		focus = STL_stg_ng_tour
	}
	available = {
	}
	bypass = {
		has_war_with = EQS
		NOT = {
			country_exists = EQS
		}
		EQS = {
			has_government = fascism
		} 
	}
	completion_reward = {
		country_event = night_glider.stl.6
		custom_effect_tooltip = STL_ng_eqsrelations_tooltip
		random_core_state = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		random_core_state = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		random_core_state = {
			add_building_construction = {
				type = industrial_complex
				level = 1
			}
		}
		subtract_from_variable = {
			var = ng_stg_var_consumer_goods_factor 
			value = 0.05
		}
	}
}
shared_focus = {
	id = STL_stg_ng_political_prisoners # gives -0.05 consumer goods, 0.05 political power gain and 0.5 stablity factor
	icon = GFX_goal_Free_Political_Prisoners
	cost = 5
	relative_position_id = STL_stg_ng_tour
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_untagling
	}
	prerequisite = {
		focus = STL_stg_ng_tour
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.7
	}
}
shared_focus = {
	id = STL_stg_ng_bill_rights
	icon = GFX_goal_Bill_of_Immutable_Rights
	cost = 5
	relative_position_id = STL_stg_untagling
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_untagling
	}
	available = {
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_billrights_tooltip
		add_to_variable = {
			var = ng_stg_var_conscription_factor 
			value = 0.1
		}
		add_to_variable = {
			var = ng_stg_var_stability_factor 
			value = 0.05
		}
	}
}
shared_focus = {
	id = STL_stg_ng_party_worship
	icon = GFX_goal_End_Party_Worship
	cost = 5
	relative_position_id = STL_stg_ng_sideline_left
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_sideline_left
	}
	prerequisite = {
		focus = STL_stg_ng_eqs_relations
	}
	available = {
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_partyworshi_tooltip
		subtract_from_variable = {
			var = ng_stg_var_consumer_goods_factor 
			value = 0.05
		}
		add_to_variable = {
			var = ng_stg_var_political_power_gain 
			value = 0.05
		}
	}
}
shared_focus = {
	id = STL_stg_ng_depots
	icon = GFX_goal_Empty_the_depots
	cost = 5
	relative_position_id = STL_stg_ng_eqs_relations
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_political_prisoners
	}
	prerequisite = {
		focus = STL_stg_ng_eqs_relations
	}
	available = {
	}
	completion_reward = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 3000
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 500
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 300
		}
	}
}
shared_focus = {
	id = STL_stg_ng_southern
	icon = GFX_goal_Southern_defense
	cost = 7
	relative_position_id = STL_stg_ng_political_prisoners
	x = 1
	y = 1
	prerequisite = {
		focus = STL_stg_ng_political_prisoners
	}
	prerequisite = {
		focus = STL_stg_ng_bill_rights
	}
	available = {
	}
	bypass = {
		is_in_faction_with = EQS
	}
	completion_reward = {
		237 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6458
			}
		}
		163 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3403
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 409
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6451
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3396
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 7377
			}
		}
		161 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3359
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 337
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3379
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3329
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 11293
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 303
			}
		}
		168 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3342
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6268
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 9297
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6270
			}
		}
		166 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6221
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 7239
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 3274
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 6363
			}
		}
	}
}
shared_focus = {
	id = STL_stg_republic_secured
	icon = GFX_goal_Our_Republic_Secured
	cost = 5
	relative_position_id = STL_stg_ng_depots
	x = 0
	y = 1
	prerequisite = {
		focus = STL_stg_ng_southern
	}
	prerequisite = {
		focus = STL_stg_ng_depots
	}
	prerequisite = {
		focus = STL_stg_ng_party_worship
	}
	available = {
	}
	completion_reward = {
		country_event = night_glider.stl.8
		custom_effect_tooltip = STL_ng_secured_tooltip
		add_political_power = 100
		add_stability = 0.1
		add_war_support = 0.1
	}
}



shared_focus = {
	id = STL_utopian_in_equestria
	icon = GFX_goal_Victory
	cost = 1
	x = 15
	y = 12

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_utopian_in_equestria"
		add_war_support = 0.1
		add_stability = 0.1
		add_political_power = 100
		country_event = night_glider.eqs.1
	}
}

shared_focus = {
	id = STL_at_a_cost
	icon = GFX_goal_At_a_cost
	cost = 1
	relative_position_id = STL_utopian_in_equestria
	x = 0
	y = 1
    
	prerequisite = {
		focus = STL_utopian_in_equestria
	}
	completion_reward = {
		country_event = night_glider.eqs.2
	}
}

shared_focus = {
	id = STL_keep_calm
	icon = GFX_goal_Every_creature_keep_calm
	cost = 1
	relative_position_id = STL_at_a_cost
	x = 0
	y = 1
    
	prerequisite = {
		focus = STL_at_a_cost
	}
	completion_reward = {
		country_event = night_glider.eqs.3
	}
}

shared_focus = {
	id = STL_amend_system
	icon = GFX_goal_Try_Amending_the_System
	cost = 1
	relative_position_id = STL_at_a_cost
	x = 2
	y = 1
    
	prerequisite = {
		focus = STL_at_a_cost
	}
	completion_reward = {
		country_event = night_glider.eqs.4
	}
}

shared_focus = {
	id = STL_emergency_powers
	icon = GFX_goal_Enact_Emergency_Powers
	cost = 1
	relative_position_id = STL_at_a_cost
	x = -2
	y = 1
    
	prerequisite = {
		focus = STL_at_a_cost
	}
	completion_reward = {
		country_event = night_glider.eqs.5
	}
}

shared_focus = {
	id = STL_keep_together
	icon = GFX_goal_Keeping_it_Together
	cost = 1
	relative_position_id = STL_keep_calm
	x = 0
	y = 1
    
	prerequisite = {
		focus = STL_emergency_powers
	}
	prerequisite = {
		focus = STL_amend_system
	}
	prerequisite = {
		focus = STL_keep_calm
	}
	completion_reward = {
		country_event = night_glider.eqs.6
	}
}

shared_focus = {
	id = STL_not_enough
	icon = GFX_goal_Im_not_Enough
	cost = 1
	relative_position_id = STL_keep_together
	x = 0
	y = 1
    
	prerequisite = {
		focus = STL_keep_together
	}
	completion_reward = {
		country_event = night_glider.eqs.7
	}
}

shared_focus = {
	id = STL_a_step_back
	icon = GFX_goal_Taking_a_Step_Back
	cost = 1
	relative_position_id = STL_not_enough
	x = 0
	y = 1
    
	prerequisite = {
		focus = STL_not_enough
	}
	completion_reward = {
		country_event = night_glider.eqs.8
	}
}


shared_focus = {
	id = STL_first_steps_ng
	icon = GFX_goal_ELF_equestria
	cost = 1
	x = 8
	y = 15

	completion_reward = {
		country_event = night_glider.eqs.9
	}
}
shared_focus = {  ## will increase conscription by 0.1 and surrender limit by 0.1 of the husk of a dream spirit
	id = STL_thestral_citizen_ng
	icon = GFX_goal_bat
	cost = 3
	relative_position_id = STL_first_steps_ng
	x = -3
	y = 1
	

    prerequisite = {
		focus = STL_first_steps_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.10
	}
}
shared_focus = {
	id = STL_contact_likeminded ## Improves stability by 0.1% in the husk of a dream spirit
	icon = GFX_goal_CTL_h_contacts
	cost = 3
	relative_position_id = STL_first_steps_ng
	x = -1
	y = 1

    prerequisite = {
		focus = STL_first_steps_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.11
	}
}
shared_focus = {
	id = STL_capital_question_ng ## Improves political power gain by 0.1% in husk of a dream spirit
	icon = GFX_goal_WNG_COM_capital
	cost = 3
	relative_position_id = STL_first_steps_ng
	x = 1
	y = 1

    prerequisite = {
		focus = STL_first_steps_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.12
		custom_effect_tooltip = STL_ng_newcapital
		add_to_variable = {
			var = ng_eqs_var_political_power_gain
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_food_distribution_ng ## removes negative monthly population from Ruined Infrastructure spirit
	icon = GFX_HIE_food
	cost = 3
	relative_position_id = STL_first_steps_ng
	x = 3
	y = 1

    prerequisite = {
		focus = STL_first_steps_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_morefood
		add_to_variable = {
			var = ng_eqs_var_monthly_population
			value = 0.2
		}
	}
}
shared_focus = {
	id = STL_perfecting_utopia_ng
	icon = GFX_goal_CVA_a_more_perfect_union
	cost = 1
	relative_position_id = STL_first_steps_ng
	x = 0
	y = 2

    prerequisite = {
		focus = STL_food_distribution_ng
	}
	prerequisite = {
		focus = STL_capital_question_ng
	}
	prerequisite = {
		focus = STL_contact_likeminded
	}
	prerequisite = {
		focus = STL_thestral_citizen_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.13
	}
}
shared_focus = {
	id = STL_magic_of_friendship_ng
	icon = GFX_goal_ELF_friendship
	cost = 1
	relative_position_id = STL_perfecting_utopia_ng
	x = 5
	y = 1

    prerequisite = {
		focus = STL_perfecting_utopia_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.14
	}
}
shared_focus = {
	id = STL_feather_bangs_ng
	icon = GFX_goal_day_of_knowledge
	cost = 1
	relative_position_id = STL_magic_of_friendship_ng
	x = -3
	y = 1

    prerequisite = {
		focus = STL_magic_of_friendship_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.15
	}
}
shared_focus = {
	id = STL_sugar_belle_ng
	icon = GFX_goal_stg_celestia
	cost = 1
	relative_position_id = STL_magic_of_friendship_ng
	x = -1
	y = 1

    prerequisite = {
		focus = STL_magic_of_friendship_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.16
	}
}
shared_focus = {
	id = STL_double_diamond_ng
	icon = GFX_focus_eqc_memories_of_our_town
	cost = 1
	relative_position_id = STL_magic_of_friendship_ng
	x = 1
	y = 1

    prerequisite = {
		focus = STL_magic_of_friendship_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.17
	}
}
shared_focus = {
	id = STL_party_favor_ng
	icon = GFX_goal_stg_stl
	cost = 1
	relative_position_id = STL_magic_of_friendship_ng
	x = 3
	y = 1

    prerequisite = {
		focus = STL_magic_of_friendship_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.18
	}
}
shared_focus = {
	id = STL_supervised_corporations_ng
	icon = GFX_goal_industry_stg
	relative_position_id = STL_feather_bangs_ng
	cost = 1
	x = 0
	y = 1

    prerequisite = {
		focus = STL_feather_bangs_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_suprevised
		subtract_from_variable = {
			var = ng_eqs_var_consumer_goods_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_industrial_capacity_factory
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_production_speed_buildings_factor
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_approaching_populace
	icon = GFX_goal_stg_eqs_friendship
	cost = 3
	relative_position_id = STL_sugar_belle_ng
	x = 0
	y = 1

    prerequisite = {
		focus = STL_sugar_belle_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_approach
		add_to_variable = {
			var = ng_eqs_var_surrender_limit
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_conscription_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_stability_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_political_power_gain
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_modest_equality
	icon = GFX_equalist
	cost = 3
	relative_position_id = STL_double_diamond_ng
	x = 0
	y = 1

    prerequisite = {
		focus = STL_double_diamond_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_modestnewequality
		add_to_variable = {
			var = ng_eqs_var_political_power_gain
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_stability_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_war_support_factor
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_union_integration_ng
	icon = GFX_goal_JER_bring_the_unions_into_politics
	cost = 3
	relative_position_id = STL_party_favor_ng
	x = 0
	y = 1

    prerequisite = {
		focus = STL_party_favor_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_unionitegrat
		subtract_from_variable = {
			var = ng_eqs_var_consumer_goods_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_production_speed_buildings_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_industrial_capacity_factory
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_amending_system
	icon = GFX_goal_HIP_SIR_SNA_expand_systems
	cost = 3
	relative_position_id = STL_supervised_corporations_ng
	x = 1
	y = 1

    prerequisite = {
		focus = STL_supervised_corporations_ng
	}
	prerequisite = {
		focus = STL_approaching_populace
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_amending
		add_to_variable = {
			var = ng_eqs_var_political_power_gain
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_war_support_factor
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_calming_chaos
	icon = GFX_goal_tone_down_revanchist_rhetoric
	cost = 3
	relative_position_id = STL_approaching_populace
	x = 1
	y = 1

    prerequisite = {
		focus = STL_modest_equality
	}
	prerequisite = {
		focus = STL_approaching_populace
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_chaosnomore
		add_to_variable = {
			var = ng_eqs_var_war_support_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_stability_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_eqs_var_conscription_factor
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_limited_collecting
	icon = GFX_goal_cry_com_union
	cost = 3
	relative_position_id = STL_modest_equality
	x = 1
	y = 1


    prerequisite = {
		focus = STL_modest_equality
	}
	prerequisite = {
		focus = STL_union_integration_ng
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_collecting
		subtract_from_variable = {
			var = ng_eqs_var_consumer_goods_factor
			value = 0.2
		}
		add_to_variable = {
			var = ng_eqs_var_industry_repair_factor
			value = 0.3
		}
	}
}
shared_focus = {
	id = STL_final_tour
	icon = GFX_goal_ces_future
	cost = 1
	relative_position_id = STL_perfecting_utopia_ng
	x = -5
	y = 1

    prerequisite = {
		focus = STL_perfecting_utopia_ng
	}
	completion_reward = {
		country_event = night_glider.eqs.19
	}
}
shared_focus = {
	id = STL_manehattan_trip ##Improves factory output of the ruined infrasctructure spirit by 10%
	icon = GFX_goal_cry_manehattan
	cost = 1
	relative_position_id = STL_final_tour
	x = -4
	y = 1

    prerequisite = {
		focus = STL_final_tour
	}
	completion_reward = {
		country_event = night_glider.eqs.20
	}
}
shared_focus = {
	id = STL_rockville_trip ##removes resource extraction debuff from ruined infrastructure
	icon = GFX_goal_KIR_administration
	cost = 1
	relative_position_id = STL_final_tour
	x = -2
	y = 1

    prerequisite = {
		focus = STL_final_tour
	}
	completion_reward = {
		country_event = night_glider.eqs.21
	}
}
shared_focus = { ## Improves building speed and industrial output in ruined infrastructure by 0.1%
	id = STL_canterlot_trip
	icon = GFX_PLB_HY_CANTERLOT
	cost = 1
	relative_position_id = STL_final_tour
	x = 0
	y = 1

    prerequisite = {
		focus = STL_final_tour
	}
	completion_reward = {
		country_event = night_glider.eqs.22
	}
}
shared_focus = {
	id = STL_las_pegasus_trip ## Improves building speed in ruined infrastructure by 0.1%
	icon = GFX_goal_gambling
	cost = 1
	relative_position_id = STL_final_tour
	x = 2
	y = 1

    prerequisite = {
		focus = STL_final_tour
	}
	completion_reward = {
		country_event = night_glider.eqs.23
	}
}
shared_focus = {
	id = STL_filly_trip ## Improves building speed in ruined infrastructure by 0.1%
	icon = GFX_goal_eqs_fillydelphia_cars
	cost = 1
	relative_position_id = STL_final_tour
	x = 4
	y = 1

    prerequisite = {
		focus = STL_final_tour
	}
	completion_reward = {
		country_event = night_glider.eqs.24
	}
}
shared_focus = {
	id = STL_integrate_industry
	icon = GFX_goal_stg_socialist_industry
	cost = 3
	relative_position_id = STL_manehattan_trip
	x = 0
	y = 1

    prerequisite = {
		focus = STL_manehattan_trip
	}
	available = {
		NOT = {
			has_completed_focus = STL_eqs_recovery_plan
		}
	}
	completion_reward = {
		custom_effect_tooltip = STL_warning
		country_event = night_glider.eqs.25
	}
}
shared_focus = {
	id = STL_resource_expo_ng
	icon = GFX_goal_KIR_resources
	cost = 3
	relative_position_id = STL_rockville_trip
	x = 0
	y = 1

    prerequisite = {
		focus = STL_rockville_trip
	}
	available = {
		NOT = {
			has_completed_focus = STL_eqs_recovery_plan
		}
	}
	completion_reward = {
		custom_effect_tooltip = STL_warning
		country_event = night_glider.eqs.26
	}
}
shared_focus = {
	id = STL_final_stop
	icon = GFX_goal_NLR_ponyville
	cost = 3
	relative_position_id = STL_canterlot_trip
	x = 0
	y = 1

    prerequisite = {
		focus = STL_filly_trip
	}
	prerequisite = {
		focus = STL_las_pegasus_trip
	}
	prerequisite = {
		focus = STL_canterlot_trip
	}
	prerequisite = {
		focus = STL_rockville_trip
	}
	prerequisite = {
		focus = STL_manehattan_trip
	}
	completion_reward = {
		country_event = night_glider.eqs.27
	}
}
shared_focus = {
	id = STL_gambling_issue
	icon = GFX_focus_gambling
	cost = 3
	relative_position_id = STL_las_pegasus_trip
	x = 0
	y = 1

	prerequisite = {
		focus = STL_las_pegasus_trip
	}
	available = {
		NOT = {
			has_completed_focus = STL_eqs_recovery_plan
		}
	}
	completion_reward = {
		custom_effect_tooltip = STL_warning
		country_event = night_glider.eqs.28
	}
}
shared_focus = {
	id = STL_new_republicanism
	icon = GFX_goal_equestria_divide
	cost = 3
	relative_position_id = STL_filly_trip
	x = 0
	y = 1

	prerequisite = {
		focus = STL_filly_trip
	}
	available = {
		NOT = {
			has_completed_focus = STL_eqs_recovery_plan
		}
	}
	completion_reward = {
		custom_effect_tooltip = STL_warning
		add_stability = 0.1
		set_political_power = 100
		12 = {
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_eqs_recovery_plan
	icon = GFX_PLB_HY_sign
	cost = 3
	relative_position_id = STL_final_stop
	x = 0
	y = 1

    prerequisite = {
		focus = STL_final_stop
	}
	completion_reward = {
		add_to_variable = {
			var = ng_eqs_var_production_speed_buildings_factor
			value = 0.2
		}
		add_to_variable = {
			var = ng_recovery_var_consumer_goods_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_recovery_var_industry_repair_factor
			value = 0.3
		}
		add_to_variable = {
			var = ng_recovery_var_monthly_population
			value = 0.3
		}
		add_to_variable = {
			var = ng_recovery_var_stability_factor
			value = 0.1
		}
		if = {
			limit = {
				has_completed_focus = STL_integrate_industry
			}
			add_to_variable = {
				var = ng_recovery_var_industrial_capacity_factory
				value = 0.2
			}
			add_to_variable = {
				var = ng_recovery_var_production_speed_buildings_factor
				value = 0.1
			}
		}
		if = {
			limit = {
				has_completed_focus = STL_resource_expo_ng
			}
			add_to_variable = {
				var = ng_recovery_var_local_resources
				value = 0.3
			}
		}
		if = {
			limit = {
				has_completed_focus = STL_gambling_issue
			}
			add_to_variable = {
				var = ng_recovery_var_stability_factor
				value = 0.1
			}
			add_to_variable = {
				var = ng_recovery_var_monthly_population
				value = 0.2
			}
		}
		if = {
			limit = {
				has_completed_focus = STL_new_republicanism
			}
			add_to_variable = {
				var = ng_recovery_var_stability_factor
				value = 0.1
			}
			add_to_variable = {
				var = ng_recovery_var_production_speed_buildings_factor
				value = 0.1
			}
			add_to_variable = {
				var = ng_recovery_var_production_speed_buildings_factor
				value = 0.2
			}
		}
	    add_dynamic_modifier = {
			modifier = STL_nightglider_recovery_plan
		}
	}
}
shared_focus = {
	id = STL_the_journal
	icon = GFX_goal_cry_book
	cost = 3
	relative_position_id = STL_perfecting_utopia_ng
	x = 0
	y = 5

    prerequisite = {
		focus = STL_eqs_recovery_plan
	}
	prerequisite = {
		focus = STL_amending_system
	}
	prerequisite = {
		focus = STL_calming_chaos
	}
	prerequisite = {
		focus = STL_limited_collecting
	}
	completion_reward = {
		country_event = night_glider.eqs.29
	}
}
shared_focus = {
	id = STL_new_constituent
	icon = GFX_goal_BAT_Ratify_The_Constitution
	cost = 3
	relative_position_id = STL_the_journal
	x = -1
	y = 1

    prerequisite = {
		focus = STL_the_journal
	}
	completion_reward = {
		custom_effect_tooltip = STL_ng_constituent_stuff
		add_to_variable = {
			var = ng_utopic_var_stability_factor
			value = 0.1
		}
		add_to_variable = {
			var = ng_utopic_var_war_support_factor
			value = 0.1
		}
	}
}
shared_focus = {
	id = STL_elements_of_utopia
	icon = GFX_goal_the_elements_of_harmony_revisited
	cost = 3
	relative_position_id = STL_the_journal
	x = 1
	y = 1

    prerequisite = {
		focus = STL_the_journal
	}
	completion_reward = {
		country_event = night_glider.eqs.30
	}
}
shared_focus = {
	id = STL_symbol_new_equestria
	icon = GFX_goal_ELF_twilight
	cost = 3
	relative_position_id = STL_the_journal
	x = 0
	y = 2

    prerequisite = {
		focus = STL_elements_of_utopia
	}
	prerequisite = {
		focus = STL_new_constituent
	}
	completion_reward = {
		if = {
            limit = {
                has_global_flag = SOL_twilight_converted
            }
            country_event = night_glider.eqs.31
        }
        else = {
            country_event = night_glider.eqs.32
        }
	}
}



### SUGAR BELLE TREE ###

shared_focus = {
	id = STL_sugar_belle_stg_foreign_policy
	icon = GFX_goal_PLB_ICEBEAR_stallionism
	cost = 5
	x = -5
	y = 24
	
    prerequisite = {
		
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_friendly
	icon = GFX_goal_PLB_ICEBEAR_stalliongrad
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_foreign_policy
	allow_branch = {
		has_country_flag = STL_friendly_STG
	}

    prerequisite = {
		focus = STL_sugar_belle_stg_foreign_policy
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_joint_army
	icon = GFX_goal_stg_socialist_revolution_pony
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_stg_friendly

    prerequisite = {
		focus = STL_sugar_belle_stg_friendly
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_research_program
	icon = GFX_goal_stg_socialist_atom
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_stg_joint_army

    prerequisite = {
		focus = STL_sugar_belle_stg_joint_army
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_secure_equip
	icon = GFX_goal_stg_socialist_industry
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_sugar_belle_stg_friendly

    prerequisite = {
		focus = STL_sugar_belle_stg_friendly
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_industry_help
	icon = GFX_goal_stg_nourishing_the_revolution
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_stg_friendly

    prerequisite = {
		focus = STL_sugar_belle_stg_friendly
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_cheap
	icon = GFX_goal_stg_socialist_construction
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_stg_industry_help

    prerequisite = {
		focus = STL_sugar_belle_stg_industry_help
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_evil
	icon = GFX_goal_solar_break_stg
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_foreign_policy
	allow_branch = {
		has_country_flag = STL_not_friendly_STG
	}

    prerequisite = {
		focus = STL_sugar_belle_stg_foreign_policy
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_liberation_prep
	icon = GFX_goal_generic_liberty_statue
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_sugar_belle_stg_evil

    prerequisite = {
		focus = STL_sugar_belle_stg_evil
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_prop_department
	icon = GFX_goal_stg_radio
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_liberation_prep

    prerequisite = {
		focus = STL_sugar_belle_stg_liberation_prep
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_equestria_plan
	icon = GFX_goal_eqs_canterlot
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_evil

    prerequisite = {
		focus = STL_sugar_belle_stg_evil
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_barrel
	icon = GFX_goal_generic_military_equipment
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_equestria_plan

    prerequisite = {
		focus = STL_sugar_belle_stg_equestria_plan
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_redfall
	icon = GFX_goal_stg_worst_case
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_barrel

    prerequisite = {
		focus = STL_sugar_belle_stg_barrel
	}
	prerequisite = {
		focus = STL_sugar_belle_stg_learn
	}
	prerequisite = {
		focus = STL_sugar_belle_stg_prop_department
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_exiles
	icon = GFX_goal_JER_pony_settlements
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_sugar_belle_stg_evil

    prerequisite = {
		focus = STL_sugar_belle_stg_evil
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_stg_learn
	icon = GFX_goal_JER_tactical_bomber_developments
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_stg_exiles

    prerequisite = {
		focus = STL_sugar_belle_stg_exiles
	}
	completion_reward = {
		
	}
}

#SB pol EQS
shared_focus = {
	id = STL_sugar_belle_eqs_foreign_policy
	icon = GFX_goal_end_of_eqs_civil_war
	cost = 5
	x = -5
	y = 29
	
	available = {
		OR = {
			EQS = {
				exists = yes
			}
			NLR = {
				exists = yes
			}
		}
	}
    prerequisite = {
		
	}
	completion_reward = {
		add_political_power = 50
		country_event = sugar_belle.8
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_aid
	icon = GFX_goal_agricultural_aid_2
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_foreign_policy
	available = {
		EQS = {
			has_war = yes
		}
	}
	bypass = {
		is_in_faction_with = EQS
	}
	allow_branch = {
		EQS = {
			has_government = democratic
			exists = yes
		}
	}
    prerequisite = {
		focus = STL_sugar_belle_eqs_foreign_policy
	}
	completion_reward = {
		add_ideas = STL_sb_aid_eqs
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_bad_news
	icon = GFX_goal_solar_unite_equestria
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_eqs_foreign_policy
	#I replaced the flag check since I couldn't find anywhere the flag was being set, plus the other branch didn't look at it so I was having overlapping branches in testing - Foxbox
	allow_branch = {
		OR = {
			EQS = {
				has_government = fascism
				exists = yes
			}
			NLR = {
				exists = yes
			}
		}
	}
    prerequisite = {
		focus = STL_sugar_belle_eqs_foreign_policy
	}
	completion_reward = {
		add_ideas = STL_sb_evil_princess1
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_welcome_refugees
	icon = GFX_goal_solar_maternal_guidance
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_bad_news

    prerequisite = {
		focus = STL_sugar_belle_eqs_bad_news
	}
	completion_reward = {
		add_ideas = STL_sb_eqs_refugees
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_emergency_housing
	icon = GFX_HIE_house1
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_bad_news

    prerequisite = {
		focus = STL_sugar_belle_eqs_bad_news
	}
	completion_reward = {
		57 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_brigade
	icon = GFX_goal_ELF_ponykind
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_emergency_housing

    prerequisite = {
		focus = STL_sugar_belle_eqs_emergency_housing
	}
	prerequisite = {
		focus = STL_sugar_belle_eqs_welcome_refugees
	}
	completion_reward = {
		custom_effect_tooltip = STL_sb_spawn_onhooves
		hidden_effect = {
			division_template = {
				name = "Onhooves Division"			#Infantry Division
				division_names_group = EQS_INF_01

				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 0 y = 3 }
				}

				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			random_owned_controlled_state = {
				create_unit = { division = "name = \"Harmony Corps 1st Division 'Sun'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
				create_unit = { division = "name = \"Harmony Corps 2nd Division 'Moon'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
				create_unit = { division = "name = \"Harmony Corps 3rd Division 'Love'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
				create_unit = { division = "name = \"Harmony Corps 4th Division 'Magic'\" division_template = \"Onhooves Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
			}
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_hope
	icon = GFX_goal_generic_pony_unicorn
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_eqs_brigade

    prerequisite = {
		focus = STL_sugar_belle_eqs_brigade
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = STL_sb_evil_princess1
			add_idea = STL_sb_evil_princess2
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_approach
	icon = GFX_goal_generic_major_alliance_pony
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_foreign_policy

    prerequisite = {
		focus = STL_sugar_belle_eqs_foreign_policy
	}
	allow_branch = {
		EQS = {
			has_government = democratic
			exists = yes
		}
	}
	completion_reward = {
		EQS = {
			add_opinion_modifier = { target = STL modifier = besties }
		}
		add_opinion_modifier = { target = EQS modifier = besties }
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_industry
	icon = GFX_goal_eqs_star_energy
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_sugar_belle_eqs_approach

    prerequisite = {
		focus = STL_sugar_belle_eqs_approach
	}
	completion_reward = {
		12 = {
			add_building_construction = {
				type = arms_factory
				level = 2
			}
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_pegasi_help
	icon = GFX_goal_derpy_conscription_eqs
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_approach

    prerequisite = {
		focus = STL_sugar_belle_eqs_approach
	}
	completion_reward = {
		custom_effect_tooltip = STL_sb_spawn_pegasi
		hidden_effect = {
			division_template = {
				name = "Pegasi Division"
				division_names_group = EQS_PEG_01
				regiments = {
					pegasi = { x = 0 y = 0 }
					pegasi = { x = 0 y = 1 }
					pegasi = { x = 0 y = 2 }
					pegasi = { x = 0 y = 3 }
					pegasi = { x = 1 y = 0 }
					pegasi = { x = 1 y = 1 }
					pegasi = { x = 1 y = 2 }
					pegasi = { x = 1 y = 3 }
				}

				support = {
					recon = { x = 0 y = 0 }
				}
			}
			random_owned_controlled_state = {
				create_unit = { division = "name = \"1st Pegasi Division\" division_template = \"Pegasi Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
				create_unit = { division = "name = \"2nd Pegasi Division\" division_template = \"Pegasi Division\" start_experience_factor = 0.2 start_equipment_factor = 0.6" owner = STL }
			}
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_rockville_miners
	icon = GFX_goal_generic_coal_mining
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_pegasi_help

    prerequisite = {
		focus = STL_sugar_belle_eqs_pegasi_help
	}
	completion_reward = {
		add_tech_bonus = {
			bonus = 1
			uses = 2
			category = excavation_tech
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_research
	icon = GFX_goal_cry_eqs_tech_share
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_approach

    prerequisite = {
		focus = STL_sugar_belle_eqs_approach
	}
	completion_reward = {
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			STL = { add_to_tech_sharing_group = equestrian_research }
		}
		else = {
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = race_tech
			}
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_magic_studies
	icon = GFX_goal_eqs_magic_horn
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_sugar_belle_eqs_research

    prerequisite = {
		focus = STL_sugar_belle_eqs_research
	}
	completion_reward = {
		add_ideas = magical_trainingidea
		add_tech_bonus = {
			name = magical_tech_bonus
			bonus = 1.0
			uses = 1
			technology = magical_weapons
			technology = magical_weapons1
		}
		add_tech_bonus = {
			name = magical_tech_bonus2
			bonus = 1.0
			uses = 1
			technology = tech_pony_magical_infantry
			technology = tech_pony_magical_infantry2
			technology = tech_pony_magical_infantry3
			technology = tech_pony_magical_infantry4
			technology = tech_pony_magical_infantry5
		}
		add_tech_bonus = {
			name = magical_tech_bonus2
			bonus = 1
			uses = 2
			technology = tech_pony_unicorns
			technology = tech_pony_unicorns2
			technology = tech_pony_unicorns3
			technology = tech_pony_unicorns4
			technology = tech_pony_unicorns5
		}
	}
}
shared_focus = {
	id = STL_sugar_belle_eqs_expected_alliance
	icon = GFX_goal_united_ponies_alliance
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_eqs_industry
    prerequisite = {
		focus = STL_sugar_belle_eqs_magic_studies
		focus = STL_sugar_belle_eqs_rockville_miners
		focus = STL_sugar_belle_eqs_industry
		
	}
	available = {
		OR = {
			has_completed_focus = STL_sugar_belle_stg_redfall
			has_completed_focus = STL_sugar_belle_stg_friendly
		}
		has_war = no
	}
	completion_reward = {
		EQS = { add_to_faction = STL }
	}
}

shared_focus = {
	id = STL_sugar_belle_misc_foreign_policy
	icon = GFX_goal_improve_relations_pony_pony
	cost = 5
	x = -5
	y = 34
	
    prerequisite = {
		
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_friend
	icon = GFX_goal_crystal_empire_symbol_flowers
	cost = 5
	x = -3
	y = 1
	relative_position_id = STL_sugar_belle_misc_foreign_policy

    prerequisite = {
		focus = STL_sugar_belle_misc_foreign_policy
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_magic_equip
	icon = GFX_goal_magic_cry
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_sugar_belle_misc_crystal_friend

    prerequisite = {
		focus = STL_sugar_belle_misc_crystal_friend
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_aid
	icon = GFX_goal_cry_miamore
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_misc_crystal_friend
	allow_branch = {
		has_country_flag = STL_civil_war_CRY
	}
    prerequisite = {
		focus = STL_sugar_belle_misc_crystal_friend
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_resource
	icon = GFX_zebra_crystal
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_sugar_belle_misc_crystal_friend

    prerequisite = {
		focus = STL_sugar_belle_misc_crystal_friend
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_denounce_regime
	icon = GFX_goal_solar_break_cry
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_misc_crystal_aid
	available = {
		CRY = {
			has_civil_war = no
			NOT = {
				has_government = democratic
			}
		}
	}
    prerequisite = {
		focus = STL_sugar_belle_misc_crystal_aid
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_crystal_brigade
	icon = GFX_goal_cry_military
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_misc_crystal_denounce_regime

    prerequisite = {
		focus = STL_sugar_belle_misc_crystal_denounce_regime
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_north
	icon = GFX_goal_improve_relations_pony_griffon
	cost = 5
	x = 3
	y = 1
	relative_position_id = STL_sugar_belle_misc_foreign_policy

    prerequisite = {
		focus = STL_sugar_belle_misc_foreign_policy
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_north_friends
	icon = GFX_goal_generic_intelligence_exchange_pony_griffon
	cost = 5
	x = -1
	y = 1
	mutually_exclusive = { focus = STL_sugar_belle_misc_north_tyrant }
	relative_position_id = STL_sugar_belle_misc_north

    prerequisite = {
		focus = STL_sugar_belle_misc_north
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_north_tyrant
	icon = GFX_ironclaw_post_civil_war
	cost = 5
	x = 1
	y = 1
	mutually_exclusive = { focus = STL_sugar_belle_misc_north_friends }
	relative_position_id = STL_sugar_belle_misc_north

    prerequisite = {
		focus = STL_sugar_belle_misc_north
	}
	completion_reward = {
		
	}
}
shared_focus = {
	id = STL_sugar_belle_misc_north_aid
	icon = GFX_goal_generic_military_deal_pony_griffon
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_sugar_belle_misc_north

    prerequisite = {
		focus = STL_sugar_belle_misc_north
	}
	completion_reward = {
		
	}
}

shared_focus = {
	id = STL_sugar_belle_wins  ##The Equestrian Frontier
	icon = GFX_goal_generic_equestria
	cost = 5
	x = 10
	y = 24

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_sugar_belle_wins"
		add_political_power = 200
		country_event = sugar_belle.6
		if = {
			limit = {
				has_completed_focus = STL_one_leader
			}
			add_country_leader_trait = dictator	
			add_stability = -0.1
		}
		else_if = {
			limit = {
				has_completed_focus = STL_centralized_state
			}	
			add_ideas = STL_centralized_govt
		}
		else_if = {
			limit = {
				has_completed_focus = STL_confederalist_state
			}
			add_ideas = STL_confederalist_govt
		}
		else = {
			add_country_leader_trait = incompetent_leader
			add_stability = 0.3
		}
	}
}
#SB econ
shared_focus = {
	id = STL_ti_board
	icon = GFX_goal_TBK_sevglobal
	cost = 5
	x = -4
	y = 2
	relative_position_id = STL_sugar_belle_wins


    prerequisite = {
		focus = STL_sugar_belle_wins
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = uncontrolled_exports
			add_idea = free_trade
		}
		remove_ideas = STL_city_state
		STG = {
			add_opinion_modifier = { target = STL modifier = trading }
		}
		EQS = {
			add_opinion_modifier = { target = STL modifier = trading }
		}
		STG = {
			add_opinion_modifier = { target = STL modifier = STL_open_trade }
		}
		EQS = {
			add_opinion_modifier = { target = STL modifier = STL_open_trade }
		}
		GRF = {
			add_opinion_modifier = { target = STL modifier = STL_open_trade }
		}
		
	}
}
shared_focus = {
	id = STL_apple_contact
	icon = GFX_goal_ELF_applejack_mark
	cost = 5

	x = 0
	y = 1
	relative_position_id = STL_ti_board


    prerequisite = {
		focus = STL_ti_board
	}
	completion_reward = {
		add_offsite_building = { 
		    type = industrial_complex 
			level = 2
		}
	}
}
shared_focus = {
	id = STL_new_settlers
	icon = GFX_goal_eqs_buffalo2
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_apple_contact

    prerequisite = {
		focus = STL_apple_contact
	}
	completion_reward = {
		add_ideas = STL_settlers_idea
	}
}
shared_focus = {
	id = STL_sb_equestrian_invest
	icon = GFX_goal_PLB_eqs_trade
	cost = 5
	bypass = {
		EQS = {
			OR = {
				exists = no
				NOT = {
					has_government = democratic
				}
			}
		}
	}
	
	x = -2
	y = 1
	relative_position_id = STL_ti_board
    prerequisite = {
		focus = STL_ti_board
	}
	completion_reward = {
		add_ideas = STL_EQS_invest_idea
	}
}
shared_focus = {
	id = STL_corporate_obli
	icon = GFX_goal_HIP_SIR_SNA_combine_corporations
	cost = 5
	bypass = {
		EQS = {
			OR = {
				exists = no
				NOT = {
					has_government = democratic
				}
			}
		}
	}
	
	x = -1
	y = 1
	relative_position_id = STL_sb_equestrian_invest

    prerequisite = {
		focus = STL_sb_equestrian_invest
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = STL_EQS_invest_idea
			add_idea = STL_EQS_invest_idea_2
		}
	}
}
shared_focus = {
	id = STL_sb_investments
	icon = GFX_goal_invest_in_allies
	cost = 5
	x = -1
	y = 2
	relative_position_id = STL_ti_board

    prerequisite = {
		focus = STL_ti_board
	}
	completion_reward = {
		add_offsite_building = { 
		    type = industrial_complex 
			level = 1
		}
		add_stability = 0.05
	}
}
shared_focus = {
	id = STL_sb_housing_expand
	icon = GFX_goal_generic_build_housing
	cost = 5
	x = 1
	y = 2
	relative_position_id = STL_ti_board

    prerequisite = {
		focus = STL_ti_board
	}
	completion_reward = {
		add_ideas = STL_housing_idea
	}
}
shared_focus = {
	id = STL_sb_immigration
	icon = GFX_goal_GRF_immigration
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_ti_board

    prerequisite = {
		focus = STL_ti_board
	}
	completion_reward = {
		add_ideas = STL_immigration_idea
	}
}
shared_focus = {
	id = STL_sb_promises
	icon = GFX_goal_griffon_money_growth
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_sb_immigration

    prerequisite = {
		focus = STL_sb_immigration
	}
	completion_reward = {
		add_ideas = STL_promises_idea
	}
}
#SB defense
shared_focus = {
	id = STL_sb_anti_air
	icon = GFX_goal_Anti_Air_Guns
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_sugar_belle_wins


    prerequisite = {
		focus = STL_sugar_belle_wins
	}
	completion_reward = {
		57 = {
			add_building_construction = {
				type = anti_air_building 
				level = 3
				instant_build = yes
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 1.0
			uses = 1
			technology = interwar_antiair
			technology = antiair1
			technology = antiair2
			technology = antiair3
			technology = antiair4
			technology = antiair5
			technology = antiair_a
			technology = antiair_b
			technology = antiair_c
			technology = antiair_d
			technology = antiair_e
		}
	}
}
shared_focus = {
	id = STL_sb_right_arms
	icon = GFX_goal_support_equestria
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sugar_belle_wins

    prerequisite = {
		focus = STL_sugar_belle_wins
	}
	completion_reward = {
		add_ideas = STL_bear_arms
	}
}
shared_focus = {
	id = STL_sb_forts
	icon = GFX_fortification_gen
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_sugar_belle_wins

    prerequisite = {
		focus = STL_sugar_belle_wins
	}
	completion_reward = {
		57 = {
			add_building_construction = {
				type = bunker
				level = 3
				province = 3335
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_sb_castle_doctrine
	icon = GFX_focus_castle_at_night
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_right_arms

    prerequisite = {
		focus = STL_sb_forts
	}
	prerequisite = {
		focus = STL_sb_right_arms
	}
	prerequisite = {
		focus = STL_sb_anti_air
	}
	completion_reward = {
		add_ideas = STL_castle
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 1
			category = cat_grand_battle_plan
		}
	}
}
#SB pol (domestic)
shared_focus = {
	id = STL_sb_town_transform
	icon = GFX_goal_BAT_COM_transparency
	cost = 5
	x = 4
	y = 2
	relative_position_id = STL_sugar_belle_wins


    prerequisite = {
		focus = STL_sugar_belle_wins
	}
	completion_reward = {
		remove_power_balance = {
			id = STL_leftist_bop
		}
		add_political_power = 50
		add_timed_idea = {
			idea = STL_town_transformation
			days = 730
		}
	}
}
shared_focus = {
	id = STL_sb_limited_dereg
	icon = GFX_goal_HIP_f_first_deal_with_corpo
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_town_transform

    prerequisite = {
		focus = STL_sb_town_transform
	}
	completion_reward = {
		add_ideas = STL_limited_dereg
	}
}
shared_focus = {
	id = STL_sb_equestrian_economy
	icon = GFX_goal_PLB_eqs_ties
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_limited_dereg

    prerequisite = {
		focus = STL_sb_limited_dereg
	}
	completion_reward = {
		swap_ideas = {
			remove_idea = STL_limited_dereg
			add_idea = STL_eqs_econ
		}
	}
}
shared_focus = {
	id = STL_sb_big_stick
	icon = GFX_goal_NLR_tree_of_harmony
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_equestrian_economy


    prerequisite = {
		focus = STL_sb_equestrian_economy
	}
	completion_reward = {
		add_ideas = STL_big_stick
	}
}
shared_focus = {
	id = STL_were_equestrians
	icon = GFX_goal_generic_equestria
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_sb_town_transform

    prerequisite = {
		focus = STL_sb_town_transform
	}
	completion_reward = {
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 1.0
			uses = 1
			category = race_tech
		}
		if = {
			limit = {
				EQS = {
					exists = yes
					has_government = democratic
				}
			}
			EQS = {
				add_opinion_modifier = { target = STL modifier = common_cause }
			}
			add_opinion_modifier = { target = EQS modifier = common_cause }
		}
		add_ideas = STL_equestrians
	}
}
shared_focus = {
	id = STL_sb_sideline_stg
	icon = GFX_goal_solar_break_stg
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_were_equestrians


    prerequisite = {
		focus = STL_were_equestrians
	}
	completion_reward = {
		if = {
			limit = {
				STL = {
					exists = yes
					has_government = communism
				}
			}
			STG = {
				add_opinion_modifier = { target = STL modifier = STL_sideline }
			}
			add_opinion_modifier = { target = STG modifier = STL_sideline }
		}
		add_ideas = STL_sideline_commies
	}
}
shared_focus = {
	id = STL_sb_ideals_friendship
	icon = GFX_goal_ELF_friendship
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_sideline_stg

    prerequisite = {
		focus = STL_sb_sideline_stg
	}
	completion_reward = {
		add_ideas = STL_friendship_ideals
	}
}
shared_focus = {
	id = STL_sb_town_constitution
	icon = GFX_goal_constitutional_guarantees
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_sb_town_transform

    prerequisite = {
		focus = STL_sb_town_transform
	}
	completion_reward = {
		add_ideas = STL_sb_constitution
	}
}
shared_focus = {
	id = STL_sb_grand_society
	icon = GFX_goal_cry_free_trade
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_town_constitution

    prerequisite = {
		focus = STL_sb_town_constitution
	}
	completion_reward = {
		add_ideas = STL_grand_society
	}
}
shared_focus = {
	id = STL_sb_safeguard
	icon = GFX_goal_PLB_protector_of_faith
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_grand_society

    prerequisite = {
		focus = STL_sb_grand_society
	}
	completion_reward = {
		add_ideas = STL_safeguard_freedoms
		EAW_raise_conscription_law = yes
	}
}
shared_focus = {
	id = STL_sb_life_liberty
	icon = GFX_goal_generic_liberty_statue
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_big_stick

    prerequisite = {
		focus = STL_sb_safeguard
	}
	prerequisite = {
		focus = STL_sb_big_stick
	}
	prerequisite = {
		focus = STL_sb_ideals_friendship
	}
	completion_reward = {
		add_ideas = STL_life_liberty
		remove_ideas = STL_equality_past
	}
}
shared_focus = {
	id = STL_sb_strong_insti
	icon = GFX_goal_solar_strong_government
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_sb_life_liberty

    prerequisite = {
		focus = STL_sb_life_liberty
	}
	completion_reward = {
		add_ideas = {
			STL_strengthen_institutions
			free_trade
		}
		set_country_flag = trade_laws_blocked
	}
}
shared_focus = {
	id = STL_sb_remove_extremists
	icon = GFX_goal_WNG_antiextreme
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_life_liberty

    prerequisite = {
		focus = STL_sb_life_liberty
	}
	completion_reward = {
		add_ideas = STL_remove_extremists
	}
}
shared_focus = {
	id = STL_sb_party_planning
	icon = GFX_goal_ELF_pinkie
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_sb_life_liberty

    prerequisite = {
		focus = STL_sb_life_liberty
	}
	completion_reward = {
		add_ideas = STL_party_planning
	}
}
shared_focus = {
	id = STL_sb_oasis
	icon = GFX_paradisepos
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_sb_remove_extremists

    prerequisite = {
		focus = STL_sb_remove_extremists
	}
	prerequisite = {
		focus = STL_sb_party_planning
	}
	prerequisite = {
		focus = STL_sb_strong_insti
	}
	completion_reward = {
		country_event = sugar_belle.7
		custom_effect_tooltip = ng_all_in_one
		hidden_effect = {
			add_ideas = STL_mountain_oasis_idea
			remove_ideas = STL_party_planning
			remove_ideas = STL_remove_extremists
			remove_ideas = STL_strengthen_institutions
			remove_ideas = STL_life_liberty
			remove_ideas = STL_safeguard_freedoms
			remove_ideas = STL_grand_society
			remove_ideas = STL_sb_constitution
			remove_ideas = STL_friendship_ideals
			remove_ideas = STL_sideline_commies
			remove_ideas = STL_equestrians
			remove_ideas = STL_big_stick
			remove_ideas = STL_eqs_econ
			remove_ideas = STL_town_transformation
		}
	}
}

### SEKRIT TREE ###
shared_focus = {
	id = STL_burlap_coup
	icon = GFX_equalist
	cost = 5
	x = 15
	y = 8

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_burlap_coup"
		add_country_leader_trait = dictator
		add_country_leader_trait = incompetent_leader
	}
}

### MILITARY TREE ###
shared_focus = {
	id = STL_our_own_military
	icon = GFX_focus_SOV_military_purge
	cost = 5
	x = -6
	y = 0

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_our_own_military"
		add_to_variable = {
			STL_army_command_power_gain_mult = 0.35
		}
		custom_effect_tooltip = STL_our_own_military_tt
		army_experience = 50
		add_doctrine_cost_reduction = {
			name = land_doctrine
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = STL_night_gliders_experiment
	icon = GFX_goal_generic_air_CAS_new
	cost = 5
	x = -3
	y = 1
	relative_position_id = STL_our_own_military
	prerequisite = {
		focus = STL_our_own_military
	}
	available = {
		OR = {
			STL_night_glider = {
				is_air_chief = yes
			}
			has_country_leader = {
				character = STL_night_glider
				ruling_only = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_air_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_night_gliders_experiment_tt
		air_experience = 15
		add_doctrine_cost_reduction = {
			name = air_doctrine
			cost_reduction = 0.25
			uses = 1
			category = air_doctrine
		}
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			add_tech_bonus = {
				name = rocketry
				bonus = 0.75
				uses = 1
				category = rocketry
			}
			add_tech_bonus = {
				name = cat_anti_tank
				bonus = 0.75
				uses = 1
				category = cat_anti_tank
			}
		}
		else = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = cas_bomber
			}
		}
	}
}
shared_focus = {
	id = STL_the_horizontal_lines
	icon = GFX_focus_jap_zero
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_night_gliders_experiment
	prerequisite = {
		focus = STL_night_gliders_experiment
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_air_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_night_gliders_experiment_tt

		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			add_tech_bonus = {
				name = HIP_escort_fighters
				bonus = 0.75
				ahead_reduction = 1
				uses = 2
				category = medium_air
			}
			add_tech_bonus = {
				name = cat_air_guns
				bonus = 0.75
				ahead_reduction = 1
				uses = 1
				category = cat_air_guns
			}
		}
		else = {
			add_tech_bonus = {
				name = HIP_escort_fighters
				bonus = 1.0
				ahead_reduction = 1
				uses = 2
				category = cat_heavy_fighter
			}
		}
	}
}
shared_focus = {
	id = STL_strike_the_hives
	icon = GFX_goal_generic_air_strategic_bomber_new
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_night_gliders_experiment
	prerequisite = {
		focus = STL_night_gliders_experiment
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_air_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_night_gliders_experiment_tt
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			add_tech_bonus = {
				name = HIP_strategic_obliteration_doctraine
				bonus = 1.0
				uses = 2
				category = heavy_air
			}
		}
		else = {
			add_tech_bonus = {
				name = HIP_strategic_obliteration_doctraine
				bonus = 1.0
				uses = 2
				category = cat_strategic_bomber
			}
		}
	}
}
shared_focus = {
	id = STL_air_superiority_fighters
	icon = GFX_goal_generic_air_fighter2_new
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_night_gliders_experiment
	prerequisite = {
		focus = STL_the_horizontal_lines
	}
	prerequisite = {
		focus = STL_strike_the_hives
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_enemy_army_bonus_air_superiority_factor = -0.25
		}
		custom_effect_tooltip = STL_air_superiority_fighters_tt
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			add_tech_bonus = {
				name = HIP_fighter_working_group
				bonus = 1.0
				uses = 2
				category = light_air
			}
		}
		else = {
			add_tech_bonus = {
				name = HIP_fighter_working_group
				bonus = 1.0
				uses = 2
				category = light_fighter
			}
		}
	}
}
shared_focus = {
	id = STL_the_centerpiece_of_the_army
	icon = GFX_goal_eqs_military_cooperation
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_our_own_military
	prerequisite = {
		focus = STL_our_own_military
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_org_loss_when_moving = -0.05
		}
		custom_effect_tooltip = STL_the_centerpiece_of_the_army_tt
		add_ideas = STL_rebuilt_army_1
	}
}
shared_focus = {
	id = STL_the_rifle_of_our_nation
	icon = GFX_goal_van_rifles
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_our_own_military
	prerequisite = {
		focus = STL_our_own_military
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_org_loss_when_moving = -0.05
		}
		custom_effect_tooltip = STL_the_rifle_of_our_nation_tt
		add_manpower = 10000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
		}
	}
}
shared_focus = {
	id = STL_stableins_gambit
	icon = GFX_goal_UESR_TNO_that_was_easy
	cost = 5
	x = 3
	y = 1
	relative_position_id = STL_our_own_military
	prerequisite = {
		focus = STL_our_own_military
	}
	available = {
		any_controlled_state = {
			is_coastal = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_naval_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_stableins_gambit_tt
		navy_experience = 15
		add_doctrine_cost_reduction = {
			name = naval_doctrine
			cost_reduction = 0.25
			uses = 1
			category = naval_doctrine
		}
		add_tech_bonus = {
			name = navy_bonus
			bonus = 1.0
			uses = 2
			category = ss_tech
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			add_tech_bonus = {
				name = navy_bonus
				bonus = 1.0
				uses = 2
				category = naval_mines
			}
		}
	}
}
shared_focus = {
	id = STL_freedom_convoys
	icon = GFX_focus_generic_destroyer
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_stableins_gambit
	prerequisite = {
		focus = STL_stableins_gambit
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_naval_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_stableins_gambit_tt
		add_tech_bonus = {
			name = HIP_expand_the_escort_fleet
			bonus = 1
			uses = 2
			category = dd_tech
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			add_tech_bonus = {
				name = naval_bonus
				bonus = 1.0
				uses = 2
				category = asw_tech
			}
		}
	}
}
shared_focus = {
	id = STL_workhorse_of_fleet
	icon = GFX_focus_generic_cruiser2
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_stableins_gambit
	prerequisite = {
		focus = STL_stableins_gambit
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_naval_doctrine_cost_factor = -0.2
		}
		custom_effect_tooltip = STL_stableins_gambit_tt
		add_tech_bonus = {
			name = navy_bonus
			bonus = 1.0
			uses = 2
			category = cl_tech
			category = ca_tech
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			add_tech_bonus = {
				name = navy_bonus
				bonus = 1.0
				uses = 2
				category = cat_ship_medium_battery
			}
		}
	}
}
shared_focus = {
	id = STL_big_ships
	icon = GFX_focus_generic_navy_battleship2
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_stableins_gambit
	prerequisite = {
		focus = STL_freedom_convoys
	}

	prerequisite = {
		focus = STL_workhorse_of_fleet
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_to_variable = {
			STL_army_naval_doctrine_cost_factor = -0.25
		}
		custom_effect_tooltip = STL_big_ships_tt
		add_tech_bonus = {
			name = navy_bonus
			bonus = 1.0
			uses = 2
			category = bc_tech
			category = bb_tech
			category = shbb_tech
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			add_tech_bonus = {
				name = naval_bonus
				bonus = 1.0
				uses = 2
				category = naval_armor
			}
		}
	}
}
shared_focus = {
	id = STL_training_and_logistics
	icon = GFX_focus_generic_truck
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_the_centerpiece_of_the_army
	prerequisite = {
		focus = STL_the_centerpiece_of_the_army
	}
	prerequisite = {
		focus = STL_the_rifle_of_our_nation
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_the_centerpiece_of_the_army"
		add_equipment_to_stockpile = {
			type = motorized_equipment
			amount = 500
		}
		swap_ideas = {
			remove_idea = STL_rebuilt_army_1
			add_idea = STL_rebuilt_army_2
		}
	}
}
shared_focus = {
	id = STL_new_weaponry
	icon = GFX_goal_Anti_Air_Guns
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_training_and_logistics
	prerequisite = {
		focus = STL_training_and_logistics
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_new_weaponry"
		add_to_variable = {
			STL_army_minimum_training_level = -0.05
		}
		custom_effect_tooltip = STL_new_weaponry_tt
		add_tech_bonus = {
			name = infantry_weapons
			bonus = 0.75
			uses = 2
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = artillery
			bonus = 0.75
			uses = 1
			category = artillery
		}
	}
}

shared_focus = {
	id = STL_increase_discipline
	icon = GFX_goal_AST_state_of_army
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_training_and_logistics
	prerequisite = {
		focus = STL_training_and_logistics
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_increase_discipline"
		swap_ideas = {
			remove_idea = STL_rebuilt_army_2
			add_idea = STL_rebuilt_army_3
		}
	}
}
shared_focus = {
	id = STL_the_red_army_stands_over_all
	icon = GFX_focus_NORDIC_com_materiel
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_new_weaponry
	prerequisite = {
		focus = STL_air_superiority_fighters
	}
	prerequisite = {
		focus = STL_new_weaponry
	}
	prerequisite = {
		focus = STL_increase_discipline
	}
	prerequisite = {
		focus = STL_big_ships
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_increase_discipline"
		swap_ideas = {
			remove_idea = STL_rebuilt_army_3
			add_idea = STL_rebuilt_army_4
		}
	}
}

### INDUSTRY TREE ###
shared_focus = {
	id = STL_a_new_millenium
	icon = GFX_goal_Industrial_Supremacy
	cost = 5
	x = 15
	y = 0

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_a_new_millenium"
		57 = {
			set_state_category = city
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_industrial_sector
	icon = GFX_goal_generic_takeover_industries
	cost = 5
	x = -3
	y = 1
	relative_position_id = STL_a_new_millenium
	prerequisite = {
		focus = STL_a_new_millenium
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_industrial_sector"
		add_tech_bonus = {
			name = industry_bonus
			bonus = 0.75
			uses = 2
			category = industry
		}
	}
}
shared_focus = {
	id = STL_electronics_sector
	icon = GFX_goal_stg_electricity
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_a_new_millenium
	prerequisite = {
		focus = STL_a_new_millenium
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_electronics_sector"
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.75
			uses = 2
			category = electronics
		}
	}
}
shared_focus = {
	id = STL_heavy_industry
	icon = GFX_goal_socialist_industry
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_a_new_millenium
	prerequisite = {
		focus = STL_a_new_millenium
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_heavy_industry"
		57 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_bunker_down
	icon = GFX_goal_nested_fortifications
	cost = 5
	x = 3
	y = 1
	relative_position_id = STL_a_new_millenium
	prerequisite = {
		focus = STL_a_new_millenium
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_bunker_down"
		add_to_variable = {
			STL_army_land_bunker_effectiveness_factor = 0.1
		}
		custom_effect_tooltip = STL_bunker_down_tt
		57 = {
			add_dynamic_modifier = {
				modifier = SWI_alpine_redoubt_dynamic_modifier
			}
		}
	}
}
shared_focus = {
	id = STL_new_research_methods
	icon = GFX_goal_double_research
	cost = 5
	x = 0
	y = 2
	relative_position_id = STL_a_new_millenium
	prerequisite = {
		focus = STL_electronics_sector
	}
	prerequisite = {
		focus = STL_heavy_industry
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_new_research_methods"
		add_research_slot = 1
	}
}
shared_focus = {
	id = STL_closed_no_longer
	icon = GFX_focus_prc_agrarian_socialism
	cost = 5
	x = -2
	y = 1
	relative_position_id = STL_new_research_methods
	
	available = {
		custom_trigger_tooltip = {
			tooltip = STL_own_more_than_one_state
			check_variable = {
				owned_states^num > 1
			}
		}
	}
	bypass = {
		NOT = {
			has_idea = STL_city_state
			has_idea = uncontrolled_exports
		}
	}
	prerequisite = {
		focus = STL_industrial_sector
	}
	prerequisite = {
		focus = STL_new_research_methods
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_new_research_methods"
		remove_ideas = STL_city_state
		
		swap_ideas = {
			remove_idea = uncontrolled_exports
			add_idea = free_trade
		}
	}
}
shared_focus = {
	id = STL_acquire_rubber
	icon = GFX_focus_generic_rubber
	cost = 5
	x = 2
	y = 1
	relative_position_id = STL_new_research_methods
	prerequisite = {
		focus = STL_new_research_methods
	}
	
	prerequisite = {
		focus = STL_bunker_down
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_acquire_rubber"
		if = {
			limit = {
				NOT = {
					has_tech = synth_oil_experiments
				}
			}
			set_technology = {
				synth_oil_experiments = 1
			}
		}
		else = {
			add_tech_bonus = {
				name = synth_resources_research
				bonus = 3
				uses = 1
				category = synth_resources
			}
		}
		57 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_more_factories
	icon = GFX_goal_cry_com_industry
	cost = 5
	x = 0
	y = 1
	relative_position_id = STL_new_research_methods
	prerequisite = {
		focus = STL_new_research_methods
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_more_factories"
		57 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = STL_rich_city
	icon = GFX_goal_strasser_industry
	cost = 5
	x = -1
	y = 2
	relative_position_id = STL_new_research_methods
	prerequisite = {
		focus = STL_closed_no_longer
		focus = STL_more_factories
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_rich_city"
		57 = {
			set_state_category = large_city
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = STL_fortress_city
	icon = GFX_goal_strasserist_conscription
	cost = 5
	x = 1
	y = 2
	relative_position_id = STL_new_research_methods
	prerequisite = {
		focus = STL_more_factories
		focus = STL_acquire_rubber
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_rich_city"
		add_to_variable = {
			STL_army_land_bunker_effectiveness_factor = 0.15
		}
		custom_effect_tooltip = STL_fortress_city_tt
		57 = {
			add_building_construction = {
				type = bunker
				level = 4
				instant_build = yes
				province = 3335
			}
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
		}
	}
}


shared_focus = {
	id = STL_extract_the_mountain
	icon = GFX_All_resource
	cost = 5
	x = -1
	y = 1
	relative_position_id = STL_rich_city
	prerequisite = {
		focus = STL_rich_city
	}
	available = {
		OR = {
			has_dlc = "Waking the Tiger"
			AND = {
				has_tech = excavation1
				has_tech = excavation2
				has_tech = excavation3
			}
		}
	}
	prerequisite = {
		focus = STL_fortress_city
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_science_of_future"
		if = {
			limit = {
				has_dlc = "Waking the Tiger"
			}
			unlock_decision_category_tooltip = prospect_for_resources
		}
		else = {
			add_resource = {
				type = steel
				amount = 12
				state = 57
			}
			add_resource = {
				type = aluminium
				amount = 4
				state = 57
			}
			add_resource = {
				type = chromium
				amount = 4
				state = 57
			}
		}
	}
}


shared_focus = {
	id = STL_science_of_future
	icon = GFX_focus_generic_socialist_science
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_rich_city
	prerequisite = {
		focus = STL_rich_city
	}
	prerequisite = {
		focus = STL_fortress_city
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_science_of_future"
		add_research_slot = 1
	}
}

shared_focus = {
	id = STL_expand_military_production
	icon = GFX_focus_NOR_moscows_education_centers
	cost = 5
	x = 1
	y = 1
	relative_position_id = STL_fortress_city
	prerequisite = {
		focus = STL_fortress_city
	}
	prerequisite = {
		focus = STL_fortress_city
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STL_science_of_future"
		if = {
			limit = {
				has_dlc = "Arms Against Tyranny"
			}
			every_military_industrial_organization = {
				add_mio_funds = 1000
			}
		}
		else = {
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
		}
	}
}