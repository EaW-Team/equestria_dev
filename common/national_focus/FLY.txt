focus_tree = {
    id = FLY_wartime_tree
    country = {
        factor = 0
        modifier = {
            add = 10
            has_country_flag = FLY_filldelphia
        }
    }
    default = no
    continuous_focus_position = { x = 1000 y = 1000 }
    shared_focus = FLY_birth_of_republic
}

###########################
### STARTING FOCUS TREE ###
###########################

shared_focus = {
    id = FLY_birth_of_republic
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 10
    y = 0

    ai_will_do = {
        factor = 10
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_birth_of_republic"
        country_event = fillydelphia.3
    }
}

shared_focus = {
    id = FLY_build_actual_army
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = -4
    y = 1
    relative_position_id = FLY_birth_of_republic

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_birth_of_republic
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_build_actual_army"
        add_manpower = 50000
    }
}

shared_focus = {
    id = FLY_soldiers_against_tyranny
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = -2
    y = 1
    relative_position_id = FLY_build_actual_army

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_build_actual_army
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_soldiers_against_tyranny"
        #OOB for soldiers
        custom_effect_tooltip = FLY_legitimacy_down_5
        subtract_from_variable = {
            var = FLY_legitimacy
            value = 5
        }
    }
}

shared_focus = {
    id = FLY_heroes_of_republic
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 0
    y = 1
    relative_position_id = FLY_build_actual_army

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_build_actual_army
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_heroes_of_republic"
        #increase stats of generals
    }
}

shared_focus = {
    id = FLY_coltifoalnia_gambit
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = -1
    y = 1
    relative_position_id = FLY_heroes_of_republic

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_heroes_of_republic
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_coltifoalnia_gambit"
        #uprising in Coltifoalnia with goal of taking Tall Tale, losing Coltifoalnia is big hit to legitimacy
    }
}

shared_focus = {
    id = FLY_friends_in_west
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = -1
    y = 1
    relative_position_id = FLY_coltifoalnia_gambit

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_coltifoalnia_gambit
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_friends_in_west"
        #core Tall Tale and Vanhoover region
    }
}

shared_focus = {
    id = FLY_unity_under_leader
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 0
    y = 1
    relative_position_id = FLY_birth_of_republic

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_birth_of_republic
    }

    available = {
        custom_trigger_tooltip = {
		    tooltip = FLY_15_legitimacy_req
		    check_variable = { FLY_legitimacy > 14 }
	    }
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_unity_under_leader"
        country_event = fillydelphia.4
    }
}

shared_focus = {
    id = FLY_all_work_for_freedom
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = -2
    y = 1
    relative_position_id = FLY_unity_under_leader

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_unity_under_leader
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_all_work_for_freedom"
        custom_effect_tooltip = FLY_legitimacy_down_5
        subtract_from_variable = {
            var = FLY_legitimacy
            value = 5
        }
    }
}

shared_focus = {
    id = FLY_keep_the_fire_bright
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 2
    y = 1
    relative_position_id = FLY_unity_under_leader

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_unity_under_leader
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_keep_the_fire_bright"
        custom_effect_tooltip = FLY_legitimacy_down_5
        subtract_from_variable = {
            var = FLY_legitimacy
            value = 5
        }
    }
}

shared_focus = {
    id = FLY_together_against_sisters
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 0
    y = 1
    relative_position_id = FLY_unity_under_leader

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_unity_under_leader
    }

    available = {
        custom_trigger_tooltip = {
		    tooltip = FLY_30_legitimacy_req
		    check_variable = { FLY_legitimacy > 29 }
	    }
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_together_against_sisters"
        #Claim on all EQS territories
        #progress cosmetic tag
    }
}

shared_focus = {
    id = FLY_beg_for_help
    icon = GFX_goal_generic_dangerous_deal_pony_griffon
    cost = 3
    x = 2
    y = 1
    relative_position_id = FLY_birth_of_republic

    ai_will_do = {
        factor = 5
    }

    prerequisite = {
        focus = FLY_birth_of_republic
    }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus FLY_beg_for_help"
    }
}