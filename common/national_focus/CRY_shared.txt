shared_focus = { #Military training (Manpower+, Discipline+)
	id = CRY_military
	icon = GFX_goal_cry_military
	cost = 10
	x = 24
	y = 1
	ai_will_do = {
		factor = 5
	}
	offset = {
		trigger = { has_focus_tree = crystalempire_sombra }
		x = 4
		y = 0
	}
	offset = {
		trigger = { has_focus_tree = crystal_empire_solar_focus }
		x = -4
		y = 0
	}
	completion_reward = {
		add_manpower = 8000
		add_timed_idea = { idea = army_morale days = 720}
		army_experience = 40
	}
}
shared_focus = { ## some bonus or more factories i guesss
	id = CRY_strength
	icon = GFX_goal_cry_factory
	cost = 10
	prerequisite = {
		focus = CRY_grandfestival
		focus = CRY_crystalfaire
		focus = CRY_wintersun
		focus = CRY_crystallinganniversary
		focus = CRY_SOL_new_management
		focus = CRY_oldking
	}
	ai_will_do = {
		factor = 9
	}
	offset = {
		trigger = { has_focus_tree = crystalempire_sombra }
		x = 4
		y = 0
	}
	offset = {
		trigger = { has_focus_tree = crystal_empire_solar_focus }
		x = -4
		y = 0
	}
	x = 19
	y = 2
	completion_reward = {
		345 = { add_extra_state_shared_building_slots = 3
			add_building_construction = { type = industrial_complex
				level = 3
				instant_build = yes }
		}
	}
}
shared_focus = { ## bonus there
	id = CRY_innovations
	icon = GFX_goal_cry_innovation
	cost = 10
	prerequisite = {
		focus = CRY_strength
	}
	ai_will_do = {
		factor = 9
	}
	relative_position_id = CRY_strength
	x = 0
	y = 1
	completion_reward = {
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 0.50
			uses = 1
			category = industry
		}
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.50
			uses = 1
			category = electronics
		}
	}
}
shared_focus = { # open material designers
	id = CRY_concerns
	icon = GFX_goal_cry_list
	cost = 10
	prerequisite = {
		focus = CRY_innovations
	}
	ai_will_do = {
		factor = 9
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_innovations
	x = 0
	y = 1
	available = {
		has_government = democratic
	}
	completion_reward = {
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 0.6
			uses = 1
			category = infantry_weapons
		}
	}
}
shared_focus = { ## resear
	id = CRY_rndinstitute
	icon = GFX_goal_cryacademy
	cost = 10
	prerequisite = {
		focus = CRY_innovations
	}
	ai_will_do = {
		factor = 9
	}
	relative_position_id = CRY_innovations
	x = 2
	y = 2
	offset = {
		trigger = { has_focus_tree = crystal_empire_solar_focus }
		x = 0
		y = -1
	}
	completion_reward = {
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
		custom_effect_tooltip = available_industrial_concern
		show_ideas_tooltip = amethyst_university
	}
}
shared_focus = {
	id = CRY_magicalconceptions
	icon = GFX_goal_magical_conception
	cost = 7
	prerequisite = {
		focus = CRY_rndinstitute
	}
	ai_will_do = {
		factor = 9
	}
	relative_position_id = CRY_rndinstitute
	x = -2
	y = 1
	completion_reward = {
		add_tech_bonus = {
			name = unicorn_bonus
			bonus = 0.5
			uses = 2
			category = unicorn_tech
		}
		add_tech_bonus = {
			name = unicorn_bonus2
			bonus = 0.5
			ahead_reduction = 1
			category = magical_tech
		}
	}
}
shared_focus = {
	id = CRY_magicalsource
	icon = GFX_goal_magic_cry
	cost = 10
	prerequisite = {
		focus = CRY_magicalconceptions
	}
	ai_will_do = {
		factor = 9
	}
	relative_position_id = CRY_rndinstitute
	x = -2
	y = 2
	completion_reward = {
		country_event = {
			id = crystalemp.18 days = 1
		}
		effect_tooltip = {
			add_ideas = magical_power
		}
	}
}
shared_focus = {
	id = CRY_mining
	icon = GFX_goal_pickaxe
	cost = 10
	prerequisite = {
		focus = CRY_steel_factories_in_crystal_city
	}
	ai_will_do = {
		factor = 9
	}
	relative_position_id = CRY_innovations
	x = -2
	y = 2
	completion_reward = {
		add_resource = {
			type = oil
			amount = 15
			state = 53
		}
		add_resource = {
			type = rubber
			amount = 20
			state = 53
		}
	}
}
shared_focus = {
	id = CRY_steel_factories_in_crystal_city
	icon = GFX_goal_cry_factory
	cost = 10
	prerequisite = {
		focus = CRY_innovations
	}
	ai_will_do = {
		factor = 9
	}
	available = {
		345 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_innovations
	x = -2
	y = 1
	completion_reward = {
		add_resource = {
			type = steel
			amount = 25
			state = 345
		}
	}
}
shared_focus = {
	id = CRY_industry_f
	icon = GFX_goal_cry_factory
	cost = 10
	prerequisite = {
		focus = CRY_military
	}
	available = {

	}
	ai_will_do = {
		factor = 20
	}
	relative_position_id = CRY_military
	x = 0
	y = 2
	completion_reward ={
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = CRY_crystals
	icon = GFX_goal_cry_harm_crystals
	cost = 10
	prerequisite = {
		focus = CRY_rndinstitute
	}
	ai_will_do = {
		factor = 15
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_rndinstitute
	x = 0
	y = 1
	available = {
		has_government = democratic
	}
	completion_reward = {
		add_ideas = CRY_harmony_crystals
	}
}
shared_focus = {
	id = CRY_heavytanks
	icon = GFX_goal_cry_heavy_tanks
	cost = 10
	prerequisite = {
		focus = CRY_industry_f
		focus = CRY_crystals
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_government = democratic
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_industry_f
	x = 0
	y = 4
	completion_reward = {
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 2
			category = cat_heavy_armor
		}
	}
}
shared_focus = {
	id = CRY_newpowersource
	icon = GFX_goal_magic_cry
	cost = 10
	prerequisite = {
		focus = CRY_crystals
	}
	ai_will_do = {
		factor = 15
	}
	relative_position_id = CRY_rndinstitute
	x = 0
	y = 2
	available = {
		has_government = democratic
	}
	completion_reward = {
		add_political_power = 50
		add_tech_bonus = {
			name = secret_bonus
			bonus = 0.8
			uses = 1
			category = nuclear
		}
		add_tech_bonus = {
			name = secret_bonus33
			ahead_reduction = 0.7
			uses = 2
			category = nuclear
		}
	}
}
shared_focus = {
	id = CRY_sciencerevolution
	icon = GFX_goal_cry_sciencerevolution
	cost = 10
	prerequisite = {
		focus = CRY_newpowersource
		focus = CRY_magicalsource
	}
	ai_will_do = {
		factor = 15
	}
	available = { has_government = democratic }
	relative_position_id = CRY_rndinstitute
	x = -2
	y = 3
	completion_reward = {
		add_ideas = CRY_science
		add_tech_bonus = {
			name = jet_bonus
			bonus = 0.5
			uses = 1
			category = jet_technology
		}
	}
}
shared_focus = {
	id = CRY_fortifications
	icon = GFX_goal_cry_forts
	cost = 10
	prerequisite = {
		focus = CRY_military
	}
	relative_position_id = CRY_military
	x = 1
	y = 1
	completion_reward = {
		add_timed_idea = { idea = CRY_fortifications_bonus days = 350 }
	}
}
shared_focus = {
	id = CRY_gunfactories
	icon = GFX_goal_cry_gunfactories
	cost = 10
	prerequisite = {
		focus = CRY_industry_f
	}
	available = {
		has_war = yes
	}
	relative_position_id = CRY_industry_f
	x = 2
	y = 1
	completion_reward = {
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = CRY_machinisation
	icon = GFX_goal_cry_mechanization
	cost = 10
	prerequisite = {
		focus = CRY_rndinstitute
		focus = CRY_industry_f
	}
	relative_position_id = CRY_rndinstitute
	x = 2
	y = 1
	completion_reward = {
		add_tech_bonus = {
			name = motorized_bonus
			bonus = 0.5
			uses = 2
			category = motorized_equipment
			category = cat_mechanized_equipment
		}
	}
}
shared_focus = {
	id = CRY_aviation
	icon = GFX_goal_cry_aviation
	cost = 10
	prerequisite = {
		focus = CRY_magicalsource
		focus = CRY_newpowersource
	}
	relative_position_id = CRY_rndinstitute
	x = 0
	y = 3
	completion_reward = {
		add_tech_bonus = {
			name = aircraft_bonus
			bonus = 0.5
			uses = 2
			category = light_air
		}
	}
}
shared_focus = {
	id = CRY_rocketengineering
	icon = GFX_goal_cry_rocketry
	cost = 10
	prerequisite = {
		focus = CRY_aviation
		focus = CRY_sciencerevolution
	}
	relative_position_id = CRY_rndinstitute
	x = -1
	y = 4
	completion_reward = {
		add_tech_bonus = {
			name = flocke_von_schnee
			bonus = 0.5
			uses = 1
			category = rocketry
		}
	}
}
shared_focus = {
	id = CRY_wintersun #Winter Sun Celebration (PP buff)
	icon = GFX_goal_winter_sun
	cost = 7
	x = 4
	y = 0
	ai_will_do = {
		factor = 5
	}
	bypass = {
		date > 1007.11.3
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_wintersun"#Auto-logging
		country_event = { id = cryscr.1 days = 1 }
	}
}
shared_focus = { #Flurry Heart kek (NU buff)
	id = CRY_crystallinganniversary
	icon = GFX_goal_crystalling
	cost = 7
	x = 8
	y = 0
	ai_will_do = {
		factor = 5
	}
	available = {
		has_government = democratic
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_crystallinganniversary"#Auto-logging
		country_event = { id = cryscr.2 days = 2 }
		effect_tooltip = {
			add_political_power = 10
			add_popularity = { ideology = fascism popularity = 0.03 }
			add_popularity = { ideology = communism popularity = 0.05 }
			swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
		}
	}
}
shared_focus = { #Equestria Games (PP Buff)
	id = CRY_equestriagames
	icon = GFX_goal_equestria_games
	cost = 5
	x = 6
	y = 0
	ai_will_do = {
		factor = 10
	}
	bypass = {
		has_global_flag  = friendship_games_flag
	}
	available = {
		has_government = democratic
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_equestriagames"#Auto-logging
		country_event = {
			id = cryscr.4 days = 1
		}
	}
}

shared_focus = { #Grand crystal festival (PP Buff, NU buff, something else buffed)
	id = CRY_grandfestival
	icon = GFX_goal_cry_festival
	cost = 10
	x = 5
	y = 1
	ai_will_do = {
		factor = 5
	}
	available = {
		NOT = {
			has_government = fascism
		}
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_grandfestival"#Auto-logging
		country_event = { id = cryscr.10 days = 1 }
		add_timed_idea = { idea = grand_festival days = 30}
	}
}
shared_focus = { #Crystal Faire
	id = CRY_crystalfaire
	icon = GFX_goal_crystal_heart_cry
	cost = 7
	x = 7
	y = 1
	ai_will_do = {
		factor = 5
	}
	available = {
		NOT = {
			has_government = fascism
		}
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_crystalfaire"#Auto-logging
		country_event = {
			id = cryscr.5 days  = 1
		}
	}

}
#shared_focus = {
#	id = CRY_umbruminitial ## Underground meeting
#	icon = GFX_goal_tea_cry
#	cost = 3
#	x = 12
#	y = 2
#	ai_will_do = {
#		factor = 10
#	}
#	available = {
#		has_country_flag = invitation_to_join_the_club
#		NOT = { has_country_flag = CRY_solar_governorship }
#		NOT = { has_completed_focus = CRY_communistideas }
#	}
#	bypass = {
#		has_country_flag = dark_heart_is_ready
#	}
#	completion_reward = {
#		log = "[Root.GetName]: Focus CRY_umbruminitial"#Auto-logging
#		country_event = { id = cryscr.15 days = 1 }
#	}
#}
#shared_focus = { #
#	id = CRY_librarywork
#	icon = GFX_goal_cry_book
#	cost = 5
#	x = 12
#	y = 3
#	ai_will_do = {
#		factor = 20
#	}
#	prerequisite = {
#		focus = CRY_umbruminitial
#	}
#	bypass = {
#		has_country_flag = dark_heart_is_ready
#	}
#	available = {
#		has_country_flag = joined_the_club
#		NOT = { has_country_flag = CRY_solar_governorship }
#	}
#	completion_reward = {
#		log = "[Root.GetName]: Focus { has_completed_focus"#Auto-logging
#		country_event = { id = cryscr.23 days = 1 }
#	}
#
#}
#shared_focus = { #
#	id = CRY_search_for_the_artifact
#	icon = GFX_goal_dark_heart
#	cost = 6
#	prerequisite = {
#		focus = CRY_librarywork
#	}
#	ai_will_do = {
#		factor = 20
#	}
#	bypass = {
#		has_country_flag = dark_heart_is_ready
#	}
#	available = {
#		has_country_flag = learned_about_the_crystals
#		NOT = { has_country_flag = CRY_solar_governorship }
#	}
#	x = 11
#	y = 4
#	completion_reward = {
#		log = "[Root.GetName]: Focus CRY_librarywork"#Auto-logging
#		country_event = {
#			id = cryscr.30 days = 1
#		}
#		set_country_flag = dark_heart_in_progress
#	}
#
#}
#shared_focus = { #
#	id = CRY_active_crystals
#	icon = GFX_goal_crystals_cry
#	cost = 10
#	x = 13
#	y = 4
#	prerequisite = {
#		focus = CRY_librarywork
#	}
#	ai_will_do = {
#		factor = 20
#	}
#	available = {
#		has_country_flag = learned_about_the_crystals
#		NOT = { has_country_flag = dark_heart_in_progress }
#		NOT = { has_country_flag = CRY_solar_governorship }
#	}
#	bypass = {
#		has_country_flag = dark_heart_is_ready
#	}
#	completion_reward = {
#		log = "[Root.GetName]: Focus CRY_search_for_the_artifact"#Auto-logging
#		country_event = {
#			id = cryscr.48 days = 5
#		}
#	}
#}
shared_focus = {
	id = CRY_fame
	icon = GFX_goal_crystal_empire_symbol_cry
	cost = 10
	prerequisite = {
		focus = CRY_grandfestival
	}
	ai_will_do = {
		factor = 10
	}
	prerequisite = {
		focus = CRY_crystalfaire
	}
	x = 6
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_active_crystals"#Auto-logging
		add_popularity = { ideology = democratic popularity = 0.08 }
		add_popularity = { ideology = neutrality popularity = 0.08 }
		add_popularity = { ideology = communism popularity = 0.03 }
	}

}
shared_focus = {
	id = CRY_oldorder
	icon = GFX_goal_crystal_empire_symbol_flowers
	cost = 10
	prerequisite = {
		focus = CRY_fame
	}
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 1.5
			is_subject = yes
			overlord = {
				has_completed_focus = increase_presense_inCRY
			}
		}
	}
	mutually_exclusive = {
		focus = CRY_neworder
	}
	bypass = { has_country_flag = CRY_solar_governorship }
	relative_position_id = CRY_fame
	x = -4
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_fame"#Auto-logging
		add_popularity = { ideology = democratic popularity = 0.05 }
		add_political_power = 50
	}
}
shared_focus = {
	id = CRY_neworder
	icon = GFX_goal_crystal_empire_symbol_cry
	cost = 10
	prerequisite = {
		focus = CRY_fame
	}
	ai_will_do = {
		factor = 10
	}
	mutually_exclusive = {
		focus = CRY_oldorder
	}
	available = {
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_fame
	x = 4
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_oldorder"#Auto-logging
		add_popularity = { ideology = democratic popularity = -0.03 }
		add_popularity = { ideology = fascism popularity = 0.05 }
		add_popularity = { ideology = neutrality popularity = 0.08 }
		add_popularity = { ideology = communism popularity = 0.08 }
		hidden_effect = { country_event = { id = crycom.10 days = 15 random = 720 } }#days to hours applied
	}
}
#####################################################################
########### SOMBRA FINALS / TAKES POWER #############################
#####################################################################
#shared_focus = {
#	id = CRY_crystalheartstolen
#	icon = GFX_goal_sombra_return
#	cost = 6
#	prerequisite = {
#		focus = CRY_active_crystals
#		focus = CRY_search_for_the_artifact
#	}
#	ai_will_do = {
#		factor = 10
#	}
#	available = {
#		has_country_flag = dark_heart_is_ready
#		NOT = { has_country_flag = CRY_solar_governorship }
#	}
#	x = 12
#	y = 10
#	completion_reward = {
#		log = "[Root.GetName]: Focus CRY_neworder"#Auto-logging
#		custom_effect_tooltip = sombra_return_tt
#	}
#}
shared_focus = {
	id = CRY_oldking
	icon = GFX_goal_crystal_palace
	cost = 2
	#prerequisite = {
	#	focus = CRY_crystalheartstolen
	#}
	ai_will_do = {
		factor = 100
	}
	x = 10
	y = 0
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_crystalheartstolen"#Auto-logging
		add_political_power = 150
		add_country_leader_trait = sombra_leader
		if = {
			limit = { has_country_flag = larger_civil_war }
			unlock_decision_tooltip = CRY_miamorefate_d
		}
		hidden_effect = {
			if = {
				limit = { is_ai = yes }
				random_list = {
					50 = {}
					50 = { set_country_flag = marry_radiant }
				}
			}
		}
	}
}
shared_focus = {
	id = CRY_militarisation
	icon = GFX_goal_sombra_defense
	cost = 3
	prerequisite = {
		focus = CRY_oldking
	}
	ai_will_do = {
		factor = 10
	}
	available = {
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_oldking
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_oldking"#Auto-logging
		add_timed_idea = { idea = sombra_military_effort days = 400 }
		country_event = { id = crysom.14 days = 1 }
	}
}
shared_focus = {
	id = CRY_umbrumarmy
	icon = GFX_goal_sombarmy
	cost = 5
	prerequisite = {
		focus = CRY_militarisation
	}
	available = {
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 100
			OR = {
				has_war_with = EQS
				has_civil_war = yes
			}
		}
	}
	relative_position_id = CRY_militarisation
	x = 6
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_militarisation"#Auto-logging
		army_experience = 50
		air_experience = 50
		add_timed_idea = { idea = umbarmiya days = 360 }
		country_event = { id = crysom.15 days = 1 }
		add_tech_bonus = {
			name = doctrine_bonus
			bonus = 0.5
			uses = 2
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = CRY_conquest
	icon = GFX_goal_som_equestria
	cost = 10
	prerequisite = {
		focus = CRY_militarisation
	}
	will_lead_to_war_with = EQS
	ai_will_do = {
		factor = 5
	}
	available = {
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	bypass = {
		OR = {
			has_war_with = EQS
			EQS = { exists = no }
		}
	}
	available = { NOT = { has_civil_war = yes } }
	relative_position_id = CRY_militarisation
	x = -8
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_umbrumarmy"#Auto-logging
		country_event = {
			id = crysom.19 days = 1
		}
	}
}
shared_focus = {
	id = CRY_somammocomplex
	icon = GFX_goal_sombra_factory
	cost = 10
	prerequisite = {
		focus = CRY_umbrumarmy
	}
	available = {
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	ai_will_do = {
		factor = 10
	}
	relative_position_id = CRY_umbrumarmy
	x = -1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_conquest"#Auto-logging
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = sombra_arms
		three_random_arms_factory = yes
	}
}
shared_focus = {
	id = CRY_somarmory
	icon = GFX_goal_somtanks
	cost = 10
	prerequisite = {
		focus = CRY_somammocomplex
	}
	prerequisite = {
		focus = CRY_somtechconcerns
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	ai_will_do = {
		factor = 10
	}
	relative_position_id = CRY_umbrumarmy
	x = 0
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somammocomplex"#Auto-logging
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 2
			category = armor
		}
	}
}
shared_focus = {
	id = CRY_somequipment
	icon = GFX_goal_CRY_somequipment
	cost = 10
	prerequisite = {
		focus = CRY_somarmory
	}
	ai_will_do = {
		factor = 10
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_umbrumarmy
	x = -1
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somarmory"#Auto-logging
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 0.5
			uses = 2
			category = infantry_weapons
			category = artillery
		}
	}
}
shared_focus = {
	id = CRY_somtories
	icon = GFX_goal_sombra_factory
	cost = 10
	prerequisite = {
		focus = CRY_somindustry
	}
	ai_will_do = {
		factor = 10
	}
	relative_position_id = CRY_somindustry
	x = 0
	y = 1
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somequipment"#Auto-logging
		two_random_arms_factory = yes
		two_random_industrial_complex = yes
	}
}
shared_focus = {
	id = CRY_consumergoods
	icon = GFX_goal_cry_factory
	cost = 3
	prerequisite = {
		focus = CRY_industry_f
	}
	ai_will_do = {
		factor = 20
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_industry_f
	x = -2
	y = 1
	available = {
		has_war = yes
		has_government = democratic
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somtories"#Auto-logging
		add_ideas = CRY_austerity_measures
	}
}
shared_focus = {
	id = CRY_medicine_focus
	icon = GFX_goal_cry_medicine
	cost = 13
	prerequisite = {
		focus = CRY_rndinstitute
		focus = CRY_industry_f
	}
	available = {
		has_government = democratic
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_rndinstitute
	x = 4
	y = 1
	completion_reward = {
		add_tech_bonus = {
			name = hospital_tech_bonus
			bonus = 0.4
			uses = 2
			category = hospital_tech
		}
		add_ideas = CRY_medicine
	}
}
shared_focus = {
	id = CRY_somlogistics
	icon = GFX_goal_som_railway
	cost = 7
	prerequisite = {
		focus = CRY_somindustry
	}
	ai_will_do = {
		factor = 6
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_somindustry
	x = 2
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_consumergoods"#Auto-logging
		152 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		151 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		53 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		345 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		344 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		144 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		147 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		146 = {	add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = CRY_sominstitute
	icon = GFX_goal_institute_CRY
	cost = 6
	prerequisite = {
		focus = CRY_somtories
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	bypass = {
		NOT = { amount_research_slots < 5 }
	}
	ai_will_do = {
		factor = 20
	}
	relative_position_id = CRY_somindustry
	x = 0
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somlogistics"#Auto-logging
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
	}
}
shared_focus = {
	id = CRY_somdarkcrystals
	icon = GFX_goal_crystals_cry
	cost = 15
	prerequisite = {
		focus = CRY_sominstitute
	}
	ai_will_do = {
		factor = 15
	}
	relative_position_id = CRY_sominstitute
	x = 1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_sominstitute"#Auto-logging
		add_timed_idea = {
			idea = crystal_buff days = 450
		}
	}
}
shared_focus = {
	id = CRY_somdarkmagic
	icon = GFX_goal_cry_dark_magic
	cost = 5
	prerequisite = {
		focus = CRY_sominstitute
	}
	ai_will_do = {
		factor = 20
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = -1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somdarkcrystals"#Auto-logging
		add_ideas = sombra_dark_magic
	}
}
shared_focus = {
	id = CRY_fearwar
	icon = GFX_goal_cry_fearwar
	cost = 8
	prerequisite = {
		focus = CRY_somdarkmagic
	}
	ai_will_do = {
		factor = 20
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = -1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somdarkmagic"#Auto-logging
		army_experience = 20
		air_experience = 20
		swap_ideas = { add_idea = sombra_dark_magic1 remove_idea = sombra_dark_magic }
	}
}
shared_focus = {
	id = CRY_mind_controlling
	icon = GFX_goal_cry_mind_controlling
	cost = 10
	prerequisite = {
		focus = CRY_evilgenius
	}
	ai_will_do = {
		factor = 20
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = -1
	y = 4
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_fearwar"#Auto-logging
		swap_ideas = { add_idea = sombra_dark_magic2 remove_idea = sombra_dark_magic1 }
	}
}
shared_focus = {
	id = CRY_darkar
	icon = GFX_goal_darkar
	cost = 10
	prerequisite = {
		focus = CRY_somdarkcrystals
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = 1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_mind_controlling"#Auto-logging
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = darkar_design
	}

}
shared_focus = {
	id = CRY_evilgenius
	icon = GFX_goal_cry_evil_genius
	cost = 10
	prerequisite = {
		focus = CRY_darkar
		focus = CRY_fearwar
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = 0
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_darkar"#Auto-logging
		add_ideas = evil_genius
	}
}
shared_focus = {
	id = CRY_evilgenius2
	icon = GFX_goal_sombra_magic
	cost = 12
	prerequisite = {
		focus = CRY_evilgenius
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_sominstitute
	x = 1
	y = 4
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_evilgenius"#Auto-logging
		swap_ideas = { remove_idea = evil_genius add_idea = evil_genius2 }

	}
}
shared_focus = {
	id = CRY_somdustrial_concerns
	icon = GFX_goal_som_concerns
	cost = 10
	prerequisite = {
		focus = CRY_somindustry
	}
	ai_will_do = {
		factor = 10
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_somindustry
	x = -2
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_evilgenius2"#Auto-logging
		two_random_industrial_complex = yes
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = citrum
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = nyx
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = ventus
	}
}
shared_focus = {
	id = CRY_nuke
	icon = GFX_goal_som_destroyer_of_worlds
	cost = 10
	prerequisite = {
		focus = CRY_mind_controlling
		focus = CRY_evilgenius2
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	ai_will_do = {
		factor = 10
	}
	relative_position_id = CRY_sominstitute
	x = 0
	y = 5
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somdustrial_concerns"#Auto-logging
		add_tech_bonus = {
			name = secret_bonus
			bonus = 0.5
			uses = 2
			category = nuclear
		}
	}
}
#shared_focus = {
#	id = CRY_miamorefate
#	icon = GFX_goal_miamorefate
#	cost = 2
#	prerequisite = {
#		focus = CRY_oldking
#		focus = CRY_comrevolution
#	}
#	ai_will_do = {
#		factor = 10
#	}
#	available = {
#		has_country_flag = larger_civil_war
#		NOT = { has_country_flag = CRY_solar_governorship }
#	}
#	x = 14
#	y = 13
#	completion_reward = {
#		log = "[Root.GetName]: Focus CRY_nuke"#Auto-logging
#		country_event = {
#			id = crysom.42 days = 1
#		}
#	}
#}
shared_focus = {
	id = CRY_somtechconcerns
	icon = GFX_goal_som_technology
	cost = 10
	prerequisite = {
		focus = CRY_umbrumarmy
	}
	ai_will_do = {
		factor = 10
	}
	relative_position_id = CRY_umbrumarmy
	x = 1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_miamorefate"#Auto-logging
		add_tech_bonus = {
			name = support_bonus
			bonus = 0.5
			uses = 2
			category = support_tech
		}
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.5
			uses = 2
			category = electronics
		}
	}
}
shared_focus = {
	id = CRY_somviation
	icon = GFX_goal_somaviation
	cost = 10
	prerequisite = {
		focus = CRY_somarmory
	}
	ai_will_do = {
		factor = 5
	}
	relative_position_id = CRY_umbrumarmy
	x = 1
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somtechconcerns"#Auto-logging
		add_tech_bonus = {
			name = aviation_bonus
			bonus = 0.5
			uses = 1
			category = air_equipment
		}
	}
}

shared_focus = {
	id = CRY_stgadvisory
	icon = GFX_goal_cry_stalliongrad
	cost = 10
	prerequisite = {
		focus = CRY_comrevolution
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_government = communism
	}
	bypass = {
		STG = {
			OR = {
				has_country_flag = darkwing_elected
				NOT = { has_government = communism }
				exists = no
			}
		}
	}
	relative_position_id = CRY_comrevolution
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_steel_factories_in_crystal_city"#Auto-logging
		country_event = {
			id = crycom.4 days = 1
		}
		if = {
			limit = { has_country_flag = larger_civil_war }
			unlock_decision_tooltip = CRY_miamorefate_d
		}
	}
}
shared_focus = {
	id = CRY_risingstorm
	icon = GFX_goal_cry_rising_storm
	cost = 10
	prerequisite = {
		focus = CRY_military
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		any_enemy_country = {
			is_major = yes
		}
		has_government = democratic
	}
	allow_branch = {
		has_government = democratic
	}
	relative_position_id = CRY_military
	x = -1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_proletary"#Auto-logging
		custom_effect_tooltip = rising_storm_troops_will_appear
		hidden_effect = {
			load_oob = "CRY_rising_storm"
		}
		add_war_support = 0.1
	}
}
shared_focus = {
	id = CRY_miamore
	icon = GFX_goal_miamore
	cost = 10
	prerequisite = {
		focus = CRY_oldorder
	}
	bypass = {
		has_country_flag = CRY_solar_governorship
	}
	relative_position_id = CRY_oldorder
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_rocketengineering"#Auto-logging
		add_political_power = 40
		add_popularity = { ideology = democratic popularity = 0.1 }
		country_event = {
			id = cryscr.9 days = 1
		}
		effect_tooltip = {
			if = {
				limit = { has_idea = royal_family2 }
				swap_ideas = { remove_idea = royal_family2 add_idea = royal_family3 }
			}
			else = {
				swap_ideas = { remove_idea = royal_family add_idea = royal_family2 }
			}
		}
		unlock_decision_tooltip = CRY_get_rid_of_sombra
	}
}
shared_focus = {
	id = CRY_subordination
	icon = GFX_goal_cry_subordination
	cost = 10
	prerequisite = {
		focus = CRY_miamore
	}
	mutually_exclusive = {
		focus = CRY_independence_referendum
	}
	available = {
		is_subject = yes
		has_government = democratic
		overlord = { has_government = democratic original_tag = EQS }
		has_war = no
	}
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 2
			is_subject = yes
			overlord = {
				has_completed_focus = increase_presense_inCRY
			}
		}
	}
	relative_position_id = CRY_miamore
	x = -2
	y = 4
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_miamore"#Auto-logging
		if = {
			limit = { has_idea = equestrian_overlord }
			swap_ideas = { remove_idea = equestrian_overlord add_idea = equestrian_overlord2 }
		}
		if = {
			limit = { has_idea = equestrian_overlord2 }
			swap_ideas = { remove_idea = equestrian_overlord2 add_idea = equestrian_overlord3 }
		}
		country_event = {
			id = crystalemp.21 days = 1
		}
	}
}
shared_focus = {
	id = CRY_independence_referendum
	icon = GFX_goal_cry_referendum
	cost = 10
	mutually_exclusive = { focus = CRY_subordination }
	prerequisite = {
		focus = CRY_miamore
	}
	ai_will_do = {
		factor = 20
	}
	available = {
		OR = {
			AND = {
				has_government = democratic
				is_subject = yes
				overlord = { has_government = democratic original_tag = EQS }
				has_war = no
			}
			is_subject = no
		}
	}
	bypass = {
		is_subject = no
	}
	relative_position_id = CRY_miamore
	x = 2
	y = 4
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_subordination"#Auto-logging
		if = {
			limit = { has_idea = equestrian_overlord }
			swap_ideas = { remove_idea = equestrian_overlord add_idea = equestrian_overlord2 }
		}
		if = {
			limit = { has_idea = equestrian_overlord2 }
			remove_ideas = equestrian_overlord2
		}
		country_event = {
			id = crystalemp.20 days = 1
		}
	}
}
shared_focus = {
	id = CRY_eqs_tech_share
	icon = GFX_goal_cry_eqs_tech_share
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = 0
	y = 5
	prerequisite = {
		focus = CRY_eqsfactories
	}
	prerequisite = {
		focus = CRY_subordination
		focus = CRY_independence_referendum
	}
	available = {
		any_country = {
			original_tag = EQS
			OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
		}
	}
	completion_reward = {
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
		else_if = {
			limit = { has_dlc = "Together for Victory" }
			add_ideas = CRY_EQS_techshare
		}
		else = {
			add_ideas = CRY_EQS_techshare_no_tfv
		}
	}
}
shared_focus = {
	id = CRY_eqs_strengthen_ties
	icon = GFX_goal_cry_strengthen_ties
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = -2
	y = 6
	prerequisite = {
		focus = CRY_subordination
	}
	available = {
		any_other_country = {
			original_tag = EQS
			OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
		}
	}
	completion_reward = {
		add_ideas = CRY_eqs_strengthen_ties_idea
		two_random_industrial_complex = yes
		random_other_country = {
			limit = {
				original_tag = EQS
				OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
			}
			one_random_industrial_complex = yes
		}
	}
}
shared_focus = {
	id = CRY_deep_integration
	icon = GFX_goal_cry_deep_integration
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = -1
	y = 8
	prerequisite = {
		focus = CRY_eqs_strengthen_ties
	}
	prerequisite = {
		focus = CRY_eqs_crystalcity_to_canterlot
	}
	available = {
		any_other_country = {
			original_tag = EQS
			OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
		}
	}
	completion_reward = {
		swap_ideas = { add_idea = CRY_eqs_strengthen_ties_idea1 remove_idea = CRY_eqs_strengthen_ties_idea }
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 0.5
			uses = 1
			category = industry
		}
	}
}
shared_focus = {
	id = CRY_eqs_crystalcity_to_canterlot
	icon = GFX_goal_cry_train
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = 0
	y = 7
	prerequisite = {
		focus = CRY_eqs_tech_share
	}
	cancel_if_invalid = yes
	available = {
		NOT = { AND = {
			any_state = {
				OR = {
					state = 3
					state = 104
					state = 74
					state = 177
					state = 176
					state = 56
					state = 145
					state = 53
					state = 345
				}
				controller = {
					NOT = {
						OR = {
							tag = ROOT
							AND = {
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
				}
			}
		} }
	}
	completion_reward = {
		3 = {
			if = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		104 = {
			if = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		74 = {
			if = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		177 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		176 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		56 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		145 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		53 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		345 = {
			if = {
				limit = {
					controller = {
						OR = {
							tag = ROOT
							AND = {
								original_tag = EQS
								OR = { ROOT = { is_subject_of = PREV } is_in_faction_with = ROOT }
							}
						}
					}
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = CRY_free_trade
	icon = GFX_goal_cry_free_trade
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = 2
	y = 6
	prerequisite = {
		focus = CRY_independence_referendum
	}
	completion_reward = {
		add_ideas = CRY_free_trade_idea
	}
}
shared_focus = {
	id = CRY_world_metropolis
	icon = GFX_goal_cry_world_metropolis
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = 1
	y = 8
	prerequisite = {
		focus = CRY_free_trade
	}
	prerequisite = {
		focus = CRY_eqs_crystalcity_to_canterlot
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
	}
	completion_reward = {
		344 = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
			if = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
		345 = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			if = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}
}
shared_focus = {
	id = CRY_miamore_forever
	icon = GFX_goal_cry_miamore
	cost = 10
	ai_will_do = { factor = 30 }
	relative_position_id = CRY_miamore
	x = 0
	y = 9
	prerequisite = {
		focus = CRY_world_metropolis
		focus = CRY_deep_integration
	}
	available = {
		OR = {
			has_country_leader = { ruling_only = yes name = "Princess Mi Amore Cadenza" }
			has_country_leader = { ruling_only = yes name = "Princess Flurry Heart" }
		}
		NOT = {
			has_idea = sombra_threat
			has_idea = sombra_threat2
			has_idea = sombra_threat_reported
		}
		if = {
			limit = {
				country_exists = event_target:solar_empire
			}
			NOT = {
				has_idea = flurryheart_imprisioned
				has_idea = flurryheart_imprisioned1
			}
		}
	}
	completion_reward = {
		add_country_leader_trait = princess_of_ponies
		add_popularity = {
			ideology = democratic
			popularity = 0.15
		}
		if = {
			limit = {
				NOT = {
					has_idea = royal_family
					has_idea = royal_family2
					has_idea = royal_family3
				}
			}
			add_ideas = royal_family3
		}
	}
}
shared_focus = {
	id = CRY_eqsadvisors
	icon = GFX_goal_cry_eqs_hat
	cost = 10
	prerequisite = {
		focus = CRY_eqsforces
	}
	available = {
		OR = {
			is_subject_of = EQS
			is_in_faction_with = EQS
		}
	}
	relative_position_id = CRY_miamore
	x = 1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_independence_referendum"#Auto-logging
		add_ideas = equestrian_advisors
		add_tech_bonus = {
			name = land_doc_bonus
			bonus = 0.5
			uses = 2
			category = land_doctrine
		}
	}
}
shared_focus = {
	id = CRY_eqsforces
	icon = GFX_goal_cry_celestia
	cost = 10
	prerequisite = {
		focus = CRY_miamore
	}
	available = {
		OR = {
			is_subject_of = EQS
			is_in_faction_with = EQS
		}
	}
	relative_position_id = CRY_miamore
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_eqsadvisors"#Auto-logging
		custom_effect_tooltip = harmony_advisors_cry
		hidden_effect = {
			load_oob = "CRY_equestrian_help"
		}
	}
}
shared_focus = {
	id = CRY_eqsengineers
	icon = GFX_goal_cry_engineering
	cost = 10
	prerequisite = {
		focus = CRY_eqsforces
	}
	available = {
		OR = {
			is_subject_of = EQS
			is_in_faction_with = EQS
		}
	}
	relative_position_id = CRY_miamore
	x = -1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_eqsforces"#Auto-logging
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 0.30
			uses = 2
			category = industry
			category = electronics
		}
		if = {
			limit = { has_idea = equestrian_overlord }
			swap_ideas = {
				remove_idea = equestrian_overlord add_idea = equestrian_overlord2
			}
		}
		else_if = {
			limit = { has_idea = equestrian_overlord2 has_completed_focus = CRY_subordination }
			swap_ideas = {
				remove_idea = equestrian_overlord2 add_idea = equestrian_overlord3
			}
		}
		else_if = {
			limit = { has_idea = equestrian_overlord2 has_completed_focus = CRY_independence_referendum }
			remove_ideas = equestrian_overlord2
		}
	}
}
shared_focus = {
	id = CRY_eqsfactories
	icon = GFX_goal_cry_factory_cel
	cost = 10
	prerequisite = {
		focus = CRY_eqsengineers
		focus = CRY_eqsadvisors
	}
	available = {
		OR = {
			is_subject_of = EQS
			is_in_faction_with = EQS
		}
	}
	relative_position_id = CRY_miamore
	x = 0
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_eqsengineers"#Auto-logging
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = CRY_somindustry
	icon = GFX_goal_sombra_factory
	cost = 6
	prerequisite = {
		focus = CRY_militarisation
	}
	available = {
		
		NOT = { has_country_flag = CRY_solar_governorship }
	}
	relative_position_id = CRY_militarisation
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_medicine_focus"#Auto-logging
		three_random_industrial_complex = yes
	}
}
shared_focus = {
	id = CRY_chgalliance
	icon = GFX_goal_som_chrysalis
	cost = 3
	prerequisite = {
		focus = CRY_conquest
	}
	mutually_exclusive = {
		focus = CRY_chgconquest
	}
	available = {
		country_exists = CHN
		NOT = { has_war_with = CHN }
		CHN = { NOT = { is_subject = yes } }
		has_country_leader = { ruling_only = yes name = "King Sombra" }
	}
	relative_position_id = CRY_conquest
	x = -3
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_somindustry"#Auto-logging
		country_event = {
			id = crysom.25 days = 1
		}
	}
}
shared_focus = {
	id = CRY_chgconquest
	icon = GFX_goal_som_changeling
	cost = 9
	will_lead_to_war_with = CHN
	will_lead_to_war_with = CCN
	prerequisite = {
		focus = CRY_conquest
	}
	mutually_exclusive = {
		focus = CRY_chgalliance
	}
	bypass = {
		CHN = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		CCN = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}
	available = { 
		OR = { country_exists = CHN country_exists = CCN }
	}
	relative_position_id = CRY_conquest
	x = -1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_chgalliance"#Auto-logging
		country_event = {
			id = crysom.23 days = 1
		}
	}
}
shared_focus = {
	id = CRY_nlrconquest
	icon = GFX_goal_som_nlr
	cost = 10
	will_lead_to_war_with = NLR
	prerequisite = {
		focus = CRY_conquest
	}
	mutually_exclusive = {
		focus = CRY_nlralliance
	}
	bypass = {
		NLR = {
			OR = {
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}
	available = {
		country_exists = NLR
	}
	relative_position_id = CRY_conquest
	x = 1
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_chgconquest"#Auto-logging
		country_event = {
			id = crysom.29 days = 1
		}
	}
}
shared_focus = {
	id = CRY_stgconquest
	icon = GFX_goal_som_stalliongrad
	will_lead_to_war_with = STG
	cost = 8
	prerequisite = {
		focus = CRY_conquest
	}
	mutually_exclusive = {
		focus = CRY_stgcompromise
	}
	available = {
		country_exists = STG
		
	}
	bypass = {
		STG = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}
	relative_position_id = CRY_conquest
	x = 2
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_nlrconquest"#Auto-logging
		country_event = {
			id = crysom.30 days = 1
		}
	}
}
shared_focus = {
	id = CRY_nlralliance
	icon = GFX_goal_som_nightmaremoon
	cost = 5
	prerequisite = {
		focus = CRY_conquest
	}
	mutually_exclusive = {
		focus = CRY_nlrconquest
	}
	available = {
		country_exists = NLR
		NOT = { has_war_with = NLR }
		NLR = { NOT = { is_subject = yes } }
		has_country_leader = { ruling_only = yes name = "King Sombra" }
	}
	relative_position_id = CRY_conquest
	x = 3
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_stgconquest"#Auto-logging
		country_event = {
			id = crysom.31 days = 1
		}
	}
}
shared_focus = {
	id = CRY_stgcompromise
	icon = GFX_goal_som_sinister
	cost = 5
	prerequisite = {
		focus = CRY_conquest
	}
	available = {
		STG = {
			exists = yes
			has_country_flag = sinister_elected
			is_subject = no
			NOT = { has_war_with = ROOT }
		}
		
	}

	mutually_exclusive = {
		focus = CRY_stgconquest
	}
	relative_position_id = CRY_conquest
	x = -2
	y = 3
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_nlralliance"#Auto-logging
		country_event = {
			id = crysom.33 days = 1
		}
	}
}
shared_focus = {
	id = CRY_grayponepact
	icon = GFX_goal_gray_pact
	cost = 7
	prerequisite = {
		focus = CRY_chgalliance
		focus = CRY_nlralliance
		focus = CRY_stgcompromise
	}
	relative_position_id = CRY_conquest
	x = 0
	y = 4
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_stgcompromise"#Auto-logging
		set_rule = { can_create_factions = yes }
		create_faction = "Gray_Pact"
		country_event = {
			id = crysom.28 days = 1
		}
		add_political_power = 50
	}
}
shared_focus = {
	id = CRY_fiendship
	icon = GFX_goal_fiendship
	cost = 10
	prerequisite = {
		focus = CRY_grayponepact
	}
	relative_position_id = CRY_conquest
	x = 0
	y = 5
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_grayponepact"#Auto-logging
		country_event = {
			id = crysom.22 days = 1
		}
	}
}
shared_focus = {
	id = CRY_royal_marriage_CNH
	icon = GFX_goal_som_marry_chrysalis
	cost = 10
	mutually_exclusive = {
		focus = CRY_royal_marriage_NLR
		focus = CRY_royal_marriage_radiant
	}
	prerequisite = {
		focus = CRY_chgalliance
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		CHN = { 
			exists = yes
			is_subject = no
			has_country_leader = { ruling_only = yes name = "Queen Chrysalis" } 
		}
		NOT = { has_country_flag = sombra_is_married }
	}
	relative_position_id = CRY_conquest
	x = -3
	y = 6
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 0
			has_country_flag = marry_radiant
		}
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_fiendship"#Auto-logging
		country_event = {
			id = crysom.37 days = 1
		}
	}
}
shared_focus = {
	id = CRY_royal_marriage_radiant
	icon = GFX_goal_som_marry_radiant
	cost = 10
	mutually_exclusive = {
		focus = CRY_royal_marriage_NLR
		focus = CRY_royal_marriage_CNH
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		has_completed_focus = CRY_oldking
		NOT = { has_country_flag = sombra_is_married }
	}
	relative_position_id = CRY_conquest
	x = 0
	y = 6
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 0
			NOT = { has_country_flag = marry_radiant }
		}
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_royal_marriage_radiant"#Auto-logging
		add_ideas = CRY_radiant_hope_idea
		news_event = { id = news.cry.2 hours = 12 }
		set_country_flag = sombra_is_married
	}
}
shared_focus = {
	id = CRY_royal_marriage_NLR
	icon = GFX_goal_cry_som_marry_luna
	cost = 10
	mutually_exclusive = {
		focus = CRY_royal_marriage_CNH
		focus = CRY_royal_marriage_radiant
	}
	prerequisite = {
		focus = CRY_nlralliance
	}
	available = {
		has_country_leader = { ruling_only = yes name = "King Sombra" }
		NOT = { has_country_flag = sombra_is_married }
		NLR = { 
			exists = yes
			is_subject = no
			has_country_leader = { ruling_only = yes name = "Nightmare Moon" } 
		}
	}
	relative_position_id = CRY_conquest
	x = 3
	y = 6
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 0
			has_country_flag = marry_radiant
		}
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_royal_marriage_CNH"#Auto-logging
		country_event = {
			id = crysom.35 days = 1
		}
	}
}
shared_focus = {
	id = CRY_claimoldterritories
	icon = GFX_goal_cry_som_flag
	cost = 10
	prerequisite = {
		focus = CRY_conquest
	}
	available = {
		custom_trigger_tooltip = {
			tooltip = CRY_claimoldterritories_tt
			NOT = {
				AND = {
					any_state = {
						OR = {
							state = 137
							state = 138
							state = 174
							state = 136
							state = 131
							state = 175
							state = 172
							state = 173
							state = 14
							state = 73
							state = 72
							state = 59
							state = 60
							state = 61
							state = 132
							state = 170
							state = 169
							state = 180
							state = 181
							state = 174
							state = 134
							state = 135
							state = 178
							state = 74
							state = 104
							state = 183
							state = 177
							state = 182
							state = 155
							state = 154
							state = 102
							state = 157
							state = 326
							state = 160
							state = 164
							state = 237
							state = 235
							state = 163
							state = 161
							state = 153
							state = 334
							state = 240
							state = 165
							state = 225
							state = 168
							state = 167
							state = 166
							state = 332
							state = 234
							state = 57
							state = 268
							state = 267
							state = 11
							state = 317
							state = 255
							state = 273
							state = 270
							state = 346
							state = 256
							state = 274
							state = 269
							state = 253
							state = 224
							state = 56
							state = 156
							state = 70
							state = 54
							state = 133
							state = 45
							state = 233
							state = 678
							state = 176
							state = 254
						}
						NOT = { is_owned_and_controlled_by = ROOT }
					}
				}
			}
		}
	}
	relative_position_id = CRY_conquest
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_royal_marriage_NLR"#Auto-logging
		add_political_power = 40
		custom_effect_tooltip = sombra_cores
		hidden_effect = {
			country_event = {
				id = crysom.21 hours = 1
			}
		}
	}
}
#	focus = {
	#		id = CRY_olealliance
	#		icon = GFX_goal_unknown
	#		cost = 10
	#		prerequisite = {
		#			focus = CRY_conquest
		#		}
	#		x = 6
	#		y = 19
	#	}
shared_focus = {
	id = CRY_communistideas
	icon = GFX_goal_crystal_commies
	cost = 10
	prerequisite = {
		focus = CRY_neworder
	}
	available = {
		NOT = { has_government = fascism }
		NOT = { has_country_flag = CRY_solar_governorship }
		#NOT = { has_completed_focus = CRY_umbruminitial }
	}
	bypass = {
		has_government = communism
	}
	relative_position_id = CRY_neworder
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_claimoldterritories"#Auto-logging
		country_event = {
			id = crycom.1 days = 2
		}
		add_popularity = { ideology = communism popularity = 0.08}
	}
}
shared_focus = {
	id = CRY_comrevolution
	icon = GFX_goal_cry_democratic
	cost = 10
	prerequisite = {
		focus = CRY_communistideas
	}
	available = {
		NOT = { has_government = fascism }
		NOT = { has_country_flag = CRY_solar_governorship }
		has_war = no
	}
	bypass = {
		has_government = communism
	}
	relative_position_id = CRY_communistideas
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_communistideas"#Auto-logging
		country_event = {
			id = crycom.2 days = 1
		}
	}
}
shared_focus = {
	id = CRY_stgindustry
	icon = GFX_goal_cry_com_industry
	cost = 10
	prerequisite = {
		focus = CRY_stgadvisory
	}
	relative_position_id = CRY_stgadvisory
	x = 2
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_comrevolution"#Auto-logging
		add_ideas = trade_relations_with_stalliongrad
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = infrastructure
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = infrastructure
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = CRY_researchagreement
	icon = GFX_goal_cry_com_atom
	cost = 10
	prerequisite = {
		focus = CRY_stgadvisory
	}
	ai_will_do = {
		factor = 15
	}
	relative_position_id = CRY_stgadvisory
	x = 4
	y = 1
	available = {
		has_country_flag = STG_agreed_cooperation
		has_government = communism
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_risingstorm"#Auto-logging
		country_event = {
			id = crycom.7 days = 1
		}
		STG = {
			country_event = {
				id = stalliongrad.101 days = 1 }
		}
	}
}
shared_focus = {
	id = CRY_synchrophasetron
	icon = GFX_goal_cry_com_sync
	cost = 10
	prerequisite = {
		focus = CRY_researchagreement
	}
	prerequisite = {
		focus = CRY_stgindustry
	}
	ai_will_do = {
		factor = 20
	}
	relative_position_id = CRY_stgadvisory
	x = 4
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_researchagreement"#Auto-logging
		add_ideas = CRY_synchrophasetron_bonus
	}
}
shared_focus = {
	id = CRY_magic_of_proletariat
	icon = GFX_goal_cry_com_magic
	cost = 10
	prerequisite = {
		focus = CRY_synchrophasetron
	}
	available = {
		has_government = communism
	}
	ai_will_do = {
		factor = 20
	}
	relative_position_id = CRY_synchrophasetron
	x = -1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_synchrophasetron"#Auto-logging
		add_ideas = magic_of_proletariat
	}
}
shared_focus = {
	id = CRY_research_commie
	icon = GFX_goal_cry_com_atom
	cost = 12
	prerequisite = {
		focus = CRY_magic_of_proletariat
	}
	prerequisite = {
		focus = CRY_altersource
	}
	available = {
		has_government = communism
	}
	ai_will_do = {
		factor = 20
	}
	bypass = {
		NOT = { amount_research_slots < 5 }
	}
	relative_position_id = CRY_synchrophasetron
	x = 0
	y = 2
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_synchrophasetron"#Auto-logging
		if = {
			limit = {
				amount_research_slots < 5
			}
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
	}
}
shared_focus = {
	id = CRY_crystalscom
	icon = GFX_goal_cry_com_crystals
	cost = 10
	prerequisite = {
		focus = CRY_researchagreement
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_synchrophasetron
	x = 2
	y = 0
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_machinisation"#Auto-logging
		add_ideas = CRY_communist_crystals
	}
}
shared_focus = {
	id = CRY_altersource
	icon = GFX_goal_altersource
	cost = 10
	prerequisite = {
		focus = CRY_crystalscom
	}
	prerequisite = {
		focus = CRY_synchrophasetron
	}
	relative_position_id = CRY_synchrophasetron
	x = 1
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_crystalscom"#Auto-logging
		swap_ideas = { add_idea = CRY_synchrophasetron_bonus1 remove_idea = CRY_synchrophasetron_bonus }
	}
}
shared_focus = {
	id = CRY_destroy_sombra_soup
	icon = GFX_goal_cry_sombra_threat_destroyed
	cost = 10
	prerequisite = {
		focus = CRY_stgadvisory
	}
	relative_position_id = CRY_stgadvisory
	x = -4
	y = 1
	bypass = {
		NOT = {
			has_idea = sombra_threat
			has_idea = sombra_threat2
			has_idea = sombra_threat_reported
		}
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_communistideas"#Auto-logging
		effect_tooltip = {
			add_political_power = -200
			remove_ideas = sombra_threat
		}
		country_event = {
			id = crycom.8 days = 20
		}
	}
}
shared_focus = {
	id = CRY_collectivisation
	icon = GFX_goal_cry_com_agriculture
	cost = 10
	prerequisite = {
		focus = CRY_stgadvisory
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_stgadvisory
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_stgindustry"#Auto-logging
		add_timed_idea = { idea = collectivization_effort3 days = 800 }
	}
}
shared_focus = {
	id = CRY_welfare
	icon = GFX_goal_cry_welfare
	cost = 10
	prerequisite = {
		focus = CRY_collectivisation
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_collectivisation
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_destroy_sombra_soup"#Auto-logging
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = ponies_act
	}
}
shared_focus = {
	id = CRY_pyatiletka
	icon = GFX_goal_cry_five_year_plan
	cost = 10
	prerequisite = {
		focus = CRY_stgindustry
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_stgindustry
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus sombra_threat"#Auto-logging
		add_timed_idea = { idea = CRY_five_year_plan days = 1800 }
	}
}
shared_focus = {
	id = CRY_ministry
	icon = GFX_goal_cry_com_ministry
	cost = 10
	prerequisite = {
		focus = CRY_stgadvisory
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_stgadvisory
	x = -2
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_stgadvisory"#Auto-logging
		add_ideas = ministry_of_defense
	}
}
shared_focus = {
	id = CRY_proletary
	icon = GFX_goal_cry_star
	cost = 10
	prerequisite = {
		focus = CRY_ministry
	}
	ai_will_do = {
		factor = 15
	}
	available = {
		has_government = communism
	}
	relative_position_id = CRY_ministry
	x = 0
	y = 1
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_ministry"#Auto-logging
		swap_ideas = {
			remove_idea = CRY_inexperienced_officers add_idea = CRY_military_school
		}
		hidden_effect = {
			remove_ideas = communist_influence
		}
		add_ideas = CRY_ponies_army
	}
}
shared_focus = {
	id = CRY_socialist_union
	icon = GFX_goal_cry_socialist_union
	cost = 10
	prerequisite = {
		focus = CRY_pyatiletka
	}
	prerequisite = {
		focus = CRY_welfare
	}
	prerequisite = {
		focus = CRY_proletary
	}
	available = {
		has_government = communism
	}
	bypass = {
		has_government = communism
		is_in_faction_with = STG
		STG = { has_government = communism }
	}
	relative_position_id = CRY_stgadvisory
	x = 0
	y = 4
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_collectivisation"#Auto-logging
		set_rule = { can_create_factions = yes }
		create_faction = "Socialist_Union"
	}
}
shared_focus = {
	id = CRY_union
	icon = GFX_goal_cry_com_union
	cost = 10
	prerequisite = {
		focus = CRY_socialist_union
	}
	relative_position_id = CRY_stgadvisory
	x = 0
	y = 5
	available = {
		has_government = communism
		EQS = {
			has_government = communism
		}
		hidden_trigger =  {
			any_country = {
				original_tag = EQS
				has_government = communism
			}
		}
	}
	completion_reward = {
		log = "[Root.GetName]: Focus CRY_welfare"#Auto-logging
		country_event = crycom.14
	}

}