focus_tree = {
	id = TBK_AF_jaddars_arrival
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 2400 y = 850 }

	shared_focus = TBK_AF_herald_arrives
}

focus_tree = {
	id = TBK_AF_jadd_empire
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 2400 y = 850 }
	shared_focus = TBK_AF_time_to_transform_country
	shared_focus = TBK_AF_mil_intro
	shared_focus = TBK_AF_modern_mercantile_knowledge
}

focus_tree = {
	id = TBK_AF_jadd_empire_beastbane_war
	country = {
		factor = 0
		modifier = {
			add = 10
			original_tag = TBK
		}
	}
	default = no
	continuous_focus_position = { x = 2400 y = 850 }
	shared_focus = TBK_AF_time_to_transform_country
	shared_focus = TBK_AF_mil_intro
	shared_focus = TBK_AF_modern_mercantile_knowledge
	shared_focus = TBK_AF_war_against_darkness
}

### Arrival tree ###

	shared_focus = {
		id = TBK_AF_herald_arrives
		icon = GFX_goal_TBK_AF_herald_arrives
		cost = 1
		x = 0
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_herald_arrives"
			country_event = { id = TBK_AF_event_start.3 }
		}
	}

	shared_focus = {
		id = TBK_AF_his_task
		icon = GFX_goal_TBK_AF_his_task
		cost = 3
		relative_position_id = TBK_AF_herald_arrives
		prerequisite = { focus = TBK_AF_herald_arrives }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_his_task"
			country_event = { id = TBK_AF_event_start.7 }
		}
	}

	shared_focus = {
		id = TBK_AF_i_am_jaddar
		icon = GFX_goal_TBK_AF_i_am_jaddar
		cost = 4
		relative_position_id = TBK_AF_his_task
		prerequisite = { focus = TBK_AF_his_task }
		x = 0
		y = 2

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_i_am_jaddar"
			country_event = { id = TBK_AF_event_start.10 }
		}
	}

### Jaddar Empire tree ###

	shared_focus = {
		id = TBK_AF_time_to_transform_country
		icon = GFX_goal_TBK_AF_time_to_transform_country
		cost = 3
		x = 16
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_time_to_transform_country"
			add_political_power = 300
			add_timed_idea = {
				idea = TBK_AF_jubilant_celebrations
				days = 365
			}
		}
	}

	shared_focus = {
		id = TBK_AF_empire_administration
		icon = GFX_goal_TBK_AF_empire_administration
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = -2
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_empire_administration"
			swap_ideas = {
				remove_idea = TBK_fake_republic
				add_idea = TBK_AF_divine_administration_1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_cult_of_sun
		icon = GFX_goal_TBK_AF_cult_of_sun
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = -3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_cult_of_sun"
			add_ideas = TBK_AF_jadd_faith_1
		}
	}

	shared_focus = {
		id = TBK_AF_lightbringers_order
		icon = GFX_goal_TBK_AF_lightbringers_order
		cost = 3
		relative_position_id = TBK_AF_cult_of_sun
		prerequisite = { focus = TBK_AF_cult_of_sun }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lightbringers_order"
			set_country_flag = TBK_AF_lightbringers_order
			hidden_effect = {
				add_dynamic_modifier = {
					modifier = TBK_AF_lightbringers_cost_modifier
					scope = ROOT
				}
			}
			custom_effect_tooltip = TBK_AF_unlock_lightbringers_tp
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = {
						name = "The Lightbringers"
						icon = "GFX_intelligence_agency_logo_lightbringers"
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = tech_military_police
					}
				}
				set_technology = {
					tech_military_police = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 1
					category = military_police_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 2
					category = military_police_tech
				}
			}
			custom_effect_tooltip = TBK_AF_light_bringer_stats_tp
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = TBK_AF_light_bringer
			hidden_effect = {
				#country_event = { id = TBK_AF_event_general.5 days = 15 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_kindful_rays
		icon = GFX_goal_TBK_AF_kindful_rays
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = -1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_kindful_rays"
			swap_ideas = {
				remove_idea = poverty4
				add_idea = no_poverty
			}
			### Jaddar zealot experience
		}
	}
	
	shared_focus = {
		id = TBK_AF_tobuck_grand_temple
		icon = GFX_goal_TBK_AF_tobuck_grand_temple
		cost = 3
		relative_position_id = TBK_AF_lightbringers_order
		prerequisite = { focus = TBK_AF_lightbringers_order }
		prerequisite = { focus = TBK_AF_kindful_rays }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_grand_temple"
			728 = {
				add_building_construction = {
					type = landmark_tbk_af_eduz_tobuck
					level = 1
					instant_build = yes
					province = 18510
				}
			}
			custom_effect_tooltip = {
				localization_key = magical_facility_construction_tt
				temp_facility_state_loc = "[728.GetName]"
				temp_facility_province_loc = "[728.GetCapitalVictoryPointName]"
			}
			hidden_effect = {
				if = {
					limit = { 
						728 = {
							is_fully_controlled_by = ROOT
							can_construct_building = magical_facility
						}
					}
					728 = {
						add_building_construction = {
							type = magical_facility
							level = 1
							instant_build = yes
							province = 18510
						}
					}
				}
			}
			custom_effect_tooltip = {
				localization_key = available_scientist_one_line_tt
				CHARACTER = TBK_AF_frieren
			}
			add_breakthrough_points = {
				specialization = specialization_magical
				value = 3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_able_advisors
		icon = GFX_goal_TBK_AF_able_advisors
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_able_advisors"
			custom_effect_tooltip = available_political_advisor
			set_portraits = {
				character = TBK_pea_shooter
				civilian = {
					small = "gfx/interface/ideas/Advisors/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
					large = "gfx/leaders/TBK_AF/TBK_AF_Pea_Shooter_alternative_1.tga"
				}
			}
			TBK_pea_shooter = {
				add_advisor_role = {
					advisor = {
						slot = political_advisor
						idea_token = TBK_pea_shooter
						cost = 150
						traits = { TBK_AF_arms_trader }
						desc = pea_shooter_desc ### need to make a modified desc
						can_be_fired = no
					}
				}
			}
			hidden_effect = {
				add_ideas = TBK_pea_shooter
			}
			hidden_effect = {  
				country_event = { id = TBK_AF_event_general.1 days = 100 }
			}
			TBK_AF_jahorse = {
				add_advisor_role = {
					advisor = { 
						slot = army_chief
						idea_token = TBK_AF_jahorse
						cost = 200
						traits = { army_chief_offensive_3 }
						desc = TBK_AF_jahorse_desc
					}
				}
			}
			hidden_effect = {
				add_ideas = TBK_AF_jahorse
			}
			TBK_wallnut_drive = {
				add_attack = 2
				add_defense = 2
				add_planning = 2
				add_logistics = 2
			}
			TBK_baragzen = {
				add_attack = 2
				add_defense = 2
				add_planning = 2
				add_logistics = 2
			}
			TBK_alesia = {
				add_attack = 2
				add_defense = 2
				add_planning = 2
				add_logistics = 2
			}
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = TBK_AF_vasile_mio_guns
				mio:TBK_AF_vasile_mio_guns = {
					add_mio_size = 2
					add_mio_funds = 750
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = TBK_AF_vasile_mio_tanks
				mio:TBK_AF_vasile_mio_tanks = {
					add_mio_size = 2
					add_mio_funds = 750
				}
				custom_effect_tooltip = available_mio_tt
				show_mio_tooltip = TBK_AF_vasile_mio_motorized
				mio:TBK_AF_vasile_mio_motorized = {
					add_mio_size = 2
					add_mio_funds = 750
				}
			}
			else = {
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = TBK_AF_vasile_guns
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = TBK_AF_vasile_tanks
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = TBK_AF_vasile_motorized
			}
			### Jaddar sovereign experience
		}
	}

	shared_focus = {
		id = TBK_AF_holy_texts
		icon = GFX_goal_TBK_AF_holy_texts
		cost = 3
		relative_position_id = TBK_AF_kindful_rays
		prerequisite = { focus = TBK_AF_kindful_rays focus = TBK_AF_able_advisors }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_texts"
			decrease_illiteracy = yes
		}
	}

	shared_focus = {
		id = TBK_AF_holy_cause
		icon = GFX_goal_TBK_AF_holy_cause
		cost = 3
		relative_position_id = TBK_AF_empire_administration
		prerequisite = { focus = TBK_AF_empire_administration }
		x = 3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			custom_effect_tooltip = TBK_AF_unlock_fp_abilities_tp
			set_country_flag = TBK_AF_abilities_flag
			custom_effect_tooltip = SOL_Faith_Sacrifice_Worship_tp
			custom_effect_tooltip = super_combat_abilities_tt
			hidden_effect = {
				set_technology = {
					popup = no
					berserker_charge = 1
				}
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
				set_country_flag = kamikaze_flag
			}
			add_ideas = TBK_AF_holy_war_doctrine_1
			custom_effect_tooltip = TBK_AF_necorin_stats_tp
		}
	}

	shared_focus = {
		id = TBK_AF_dutiful_faitful
		icon = GFX_goal_TBK_AF_dutiful_faitful
		cost = 3
		relative_position_id = TBK_AF_holy_cause
		prerequisite = { focus = TBK_AF_holy_cause }
		x = -1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			add_research_slot = 1
		}
	}

	shared_focus = {
		id = TBK_AF_laws_of_the_empire
		icon = GFX_goal_TBK_AF_laws_of_the_empire
		cost = 3
		relative_position_id = TBK_AF_able_advisors
		prerequisite = { focus = TBK_AF_able_advisors }
		prerequisite = { focus = TBK_AF_dutiful_faitful }
		x = 0
		y = 2
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			swap_ideas = {
				remove_idea = TBK_AF_divine_administration_1
				add_idea = TBK_AF_divine_administration_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_herald_of_surael
		icon = GFX_goal_TBK_AF_herald_of_surael
		cost = 3
		relative_position_id = TBK_AF_tobuck_grand_temple
		prerequisite = { focus = TBK_AF_tobuck_grand_temple }
		prerequisite = { focus = TBK_AF_holy_texts }
		prerequisite = { focus = TBK_AF_laws_of_the_empire }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_holy_cause"
			remove_ideas = zebrica_legacy_of_storm3
			TBK_AF_jaddar_jexiszuir = {
				add_country_leader_trait = TK_AF_herald_of_surael
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_spread_message
		icon = GFX_goal_TBK_AF_zarantia_spread_message
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			if = {
				limit = {
					ZAR = {
						exists = yes
					}
				}
				ZAR = {
					every_owned_state = {
						limit = {
							is_core_of = ZAR
						}
						set_variable = {
							TBK_AF_state_view_enabled = 1
						}
						add_to_variable = {
							var = TBK_AF_state_view_jadd_progress
							value = 25
							tooltip = TBK_AF_conversion_effect_tt
						}
					}
				}
			}
			else = {
				TBK = {
					every_owned_state = {
						limit = {
							is_core_of = ZAR
						}
						set_variable = {
							TBK_AF_state_view_enabled = 1
						}
						add_to_variable = {
							var = TBK_AF_state_view_jadd_progress
							value = 25
							tooltip = TBK_AF_conversion_effect_tt
						}
					}
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_war
		icon = GFX_goal_TBK_AF_zarantia_war
		cost = 3
		relative_position_id = TBK_AF_time_to_transform_country
		prerequisite = { focus = TBK_AF_time_to_transform_country }
		x = 4
		y = 1
		ai_will_do = {
			factor = 10
		}
		available = {
			ZAR = {
				exists = yes
				NOT = {
					is_puppet_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}
		bypass = {
			ZAR = {
				exists = no
			}
		}
		will_lead_to_war_with = ZAR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			hidden_effect = {
				create_wargoal = {
					target = ZAR
					type = annex_everything
				}
			}
			declare_war_on = {
				target = ZAR
				type = annex_everything
			}
		}
	}

	shared_focus = {
		id = TBK_AF_zarantia_integration
		icon = GFX_goal_TBK_AF_zarantia_integration
		cost = 3
		relative_position_id = TBK_AF_zarantia_spread_message
		prerequisite = { focus = TBK_AF_zarantia_spread_message focus = TBK_AF_zarantia_war  }
		x = 1
		y = 1
		available = {
			ZAR = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			ZAR = {
				ZAR_umalez = {
					set_nationality = ROOT
				}
				hidden_effect = {
					remove_advisor_role = {
						slot = political_advisor
						character = ZAR_umalez
					}
					ZAR_umalez = {
						add_advisor_role = {
							advisor = {
								slot = political_advisor
								idea_token = ZAR_cultural_writer
								cost = 150
								traits = { ZAR_cultural_writer }
							}
						}
					}
					
				}
				ZAR_general_6 = {
					set_nationality = ROOT
				}
				ZAR_general_5 = {
					set_nationality = ROOT
				}
			}
			remove_ideas = TBK_zarantian_loyalism
			ZAR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_for_the_faith
		icon = GFX_goal_TBK_AF_for_the_faith
		cost = 3
		relative_position_id = TBK_AF_holy_cause
		prerequisite = { focus = TBK_AF_holy_cause }
		prerequisite = { focus = TBK_AF_zarantia_integration }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_for_the_faith"
			add_war_support = 0.15
			EAW_raise_conscription_law = yes
		}
	}

	shared_focus = {
		id = TBK_AF_sun_pegasi
		icon = GFX_goal_TBK_AF_sun_pegasi
		cost = 3
		relative_position_id = TBK_AF_for_the_faith
		prerequisite = { focus = TBK_AF_for_the_faith }
		x = -1
		y = 1
		available = {
			has_tech = motorised_infantry
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_sun_pegasi"
			if = {
				limit = {
					NOT = {
						has_tech = tech_recon
					}
				}
				set_technology = {
					tech_recon = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 1
					category = recon_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1.5
					uses = 2
					category = recon_tech
				}
			}
			custom_effect_tooltip = TBK_AF_sun_pegasi_tp
			hidden_effect = {
				load_oob = "TBK_AF_sun_pegasi"
			}
		}
	}

	shared_focus = {
		id = TBK_AF_operation_redoubt
		icon = GFX_goal_TBK_AF_operation_redoubt
		cost = 3
		relative_position_id = TBK_AF_for_the_faith
		prerequisite = { focus = TBK_AF_for_the_faith }
		available = {
			hidden_trigger = {
				TBK = {
					is_ai = no
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_land_of_light"
			728 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18510
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes 
					province = 18510
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18512
				}
			}
			745 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18521
				}
			}
			746 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18541
				}
			}
			747 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes 
					province = 18564
				}
			}
			729 = {
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes 
					province = 18485
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_faithful_dunes
		icon = GFX_goal_TBK_AF_faithful_dunes
		cost = 3
		relative_position_id = TBK_AF_zarantia_integration
		prerequisite = { focus = TBK_AF_zarantia_integration }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_faithful_dunes"
			every_controlled_state = {
				limit = {
					is_core_of = ZAR
					has_active_resistance = yes
				}
				add_compliance = 30
				add_resistance_target = {
					amount = -15
					days = 180
				}
			}
			random_controlled_state = {
				limit = {
					is_core_of = ZAR
					NOT = {
						is_core_of = TBK
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_controlled_state = {
				limit = {
					is_core_of = ZAR
					NOT = {
						is_core_of = TBK
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_stability = 0.1
		}
	}

	shared_focus = {
		id = TBK_AF_zebrahas_finest_warriors
		icon = GFX_goal_TBK_AF_zebrahas_finest_warriors
		cost = 3
		relative_position_id = TBK_AF_faithful_dunes
		prerequisite = { focus = TBK_AF_faithful_dunes }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zebrahas_finest_warriors"
			custom_effect_tooltip = TBK_AF_imazeeb_warriors_tp
			hidden_effect = {
				load_oob = "TBK_AF_imazeeb_warriors"
			}
		}
	}
	
	shared_focus = {
		id = TBK_AF_stand_against_darkness
		icon = GFX_goal_TBK_AF_stand_against_darkness
		cost = 3
		relative_position_id = TBK_AF_sun_pegasi
		prerequisite = { focus = TBK_AF_sun_pegasi }
		prerequisite = { focus = TBK_AF_zebrahas_finest_warriors }
		x = 2
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_stand_against_darkness"
			swap_ideas = {
				remove_idea = TBK_AF_holy_war_doctrine_1
				add_idea = TBK_AF_holy_war_doctrine_2
			}
		}
	}
	
	shared_focus = {
		id = TBK_AF_war_against_chiropterra
		icon = GFX_goal_TBK_AF_war_against_chiropterra
		cost = 5
		relative_position_id = TBK_AF_herald_of_surael
		prerequisite = { focus = TBK_AF_herald_of_surael }
		prerequisite = { focus = TBK_AF_stand_against_darkness }
		x = 2
		y = 1
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = BAT
		bypass = {
			AND = {
				BAT = {
					OR = {
						exists = no
						is_puppet_of = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_zebrahas_finest_warriors"
			if = {
				limit = {
					NOT = {
						has_war_with = BAT
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = BAT
						type = annex_everything
					}
				}
				declare_war_on = {
					target = BAT
					type = annex_everything
				}
			}
			add_ideas = TBK_AF_BAT_war_idea
		}
	}
		
	shared_focus = {
		id = TBK_AF_offer_redemption_to_chiropterrans
		icon = GFX_goal_TBK_AF_offer_redemption_to_chiropterrans
		cost = 3
		relative_position_id = TBK_AF_war_against_chiropterra
		prerequisite = { focus = TBK_AF_war_against_chiropterra }
		available = {
			BAT = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_offer_redemption_to_chiropterrans"
			country_event = { id = TBK_AF_event_general.7 }
			every_owned_state = {
				limit = {
					is_core_of = BAT
					has_active_resistance = yes
				}
				add_resistance_target = -0.20
			}
		}
	}

	shared_focus = {
		id = TBK_AF_free_chiropterran_slaves
		icon = GFX_goal_TBK_AF_free_chiropterran_slaves
		cost = 3
		relative_position_id = TBK_AF_war_against_chiropterra
		prerequisite = { focus = TBK_AF_war_against_chiropterra }
		available = {
			BAT = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_free_chiropterran_slaves"
			add_manpower = 45000
			every_owned_state = {
				limit = {
					is_core_of = BAT
					has_active_resistance = yes
				}
				add_compliance = 30
			}
		}
	}

	shared_focus = {
		id = TBK_AF_celebrate_chiropterra_victory
		icon = GFX_goal_TBK_AF_celebrate_chiropterra_victory
		cost = 3
		relative_position_id = TBK_AF_offer_redemption_to_chiropterrans
		prerequisite = { focus = TBK_AF_offer_redemption_to_chiropterrans }
		prerequisite = { focus = TBK_AF_free_chiropterran_slaves }
		x = 1
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_celebrate_chiropterra_victory"
			country_event = { id = TBK_AF_event_general.8 }
			add_stability = 0.1
			BAT = { add_to_ROOT_potential_cores = yes }
			TBK_AF_jaddar_jexiszuir = {
				swap_country_leader_traits = {
					remove = TK_AF_herald_of_surael
					add = TK_AF_herald_of_surael_expanded
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_desert_conquests
		icon = GFX_goal_TBK_AF_desert_conquests
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -3
		y = 1
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = ZAI
		will_lead_to_war_with = CZR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_conquests"
			if = {
				limit = {
					is_ai = yes
				}
				if = {
					limit = {
						ZAI = {
							exists = yes
						}
						NOT = {
							has_war_with = ZAI
						}
					}
					annex_country = {
						target = ZAI
						transfer_troops = no
					}
					build_railway = {
						level = 1
						start_province = 18508
						target_province = 19276
					}
					build_railway = {
						level = 1
						start_province = 19276
						target_province = 19999
					}
					build_railway = {
						level = 1
						start_province = 19999
						target_province = 19826
					}
					build_railway = {
						level = 1
						start_province = 19999
						target_province = 20167
					}
					878 = {
						add_building_construction = {
							level = 1
							type = supply_node
							instant_build = yes
							province = 19999
						}	
					}
					879 = {
						add_building_construction = {
							level = 1
							type = supply_node
							instant_build = yes
							province = 20167
						}	
					}
				}
				if = {
					limit = {
						CZR = {
							exists = yes
						}
						NOT = {
							has_war_with = CZR
						}
					}
					annex_country = {
						target = CZR
						transfer_troops = no
					}
				}
			}
			if = {
				limit = {
					ZAI = {
						exists = yes
					}
					NOT = {
						has_war_with = ZAI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ZAI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ZAI
					type = annex_everything
				}
			}
			ZAI = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CZR = {
						exists = yes
					}
					NOT = {
						has_war_with = CZR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CZR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CZR
					type = annex_everything
				}
			}
			CZR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_maregyptian_conquest
		icon = GFX_goal_TBK_AF_maregyptian_conquest
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -5
		y = 1
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = MGY
		will_lead_to_war_with = MDL
		will_lead_to_war_with = MKS
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_maregyptian_conquest"
			if = {
				limit = {
					MGY = {
						exists = yes
					}
					NOT = {
						has_war_with = MGY
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MGY
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MGY
					type = annex_everything
				}
			}
			MGY = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MDL = {
						exists = yes
					}
					NOT = {
						has_war_with = MDL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MDL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MDL
					type = annex_everything
				}
			}
			MDL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MKS = {
						exists = yes
					}
					NOT = {
						has_war_with = MKS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MKS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MKS
					type = annex_everything
				}
			}
			MKS = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_abyssinia_conquest
		icon = GFX_goal_TBK_AF_abyssinia_conquest
		cost = 3
		relative_position_id = TBK_AF_maregyptian_conquest
		prerequisite = { focus = TBK_AF_maregyptian_conquest }
		x = -1
		y = 1
		available = {
			AND = {
				has_war = no
				MGY = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				MKS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = ABY
		will_lead_to_war_with = WNG
		will_lead_to_war_with = KLG
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_abyssinia_conquest"
			if = {
				limit = {
					ABY = {
						exists = yes
					}
					NOT = {
						has_war_with = ABY
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ABY
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ABY
					type = annex_everything
				}
			}
			ABY = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ABY = {
						any_core_state = {
							NOT = {
								state = 784
								state = 1200
							}
							is_owned_by = WNG
						}
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = WNG
						type = take_state
						generator = ABY.core_states
					}
				}
				declare_war_on = {
					target = WNG
					type = take_state
					generator = ABY.core_states
				}
			}
			else_if = {
				limit = {
					OR = {
						741 = {
							is_owned_by = WNG
						}
						764 = {
							is_owned_by = WNG
						}

					}
				}
				hidden_effect = {
					create_wargoal = {
						target = WNG
						type = take_state
						generator = {
							741 764
						}
					}
				}
				declare_war_on = {
					target = WNG
					type = take_state
					generator = {
						741 764
					}
				}
			}
			custom_effect_tooltip = TBK_AF_gain_decision_for_aby_wng_land
			if = {
				limit = {
					KLG = {
						exists = yes
					}
					NOT = {
						has_war_with = KLG
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = KLG
						type = annex_everything
					}
				}
				declare_war_on = {
					target = KLG
					type = annex_everything
				}
			}
			KLG = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_donkey_conquest
		icon = GFX_goal_TBK_AF_donkey_conquest
		cost = 3
		relative_position_id = TBK_AF_abyssinia_conquest
		prerequisite = { focus = TBK_AF_abyssinia_conquest }
		x = -1
		y = 1
		available = {
			AND = {
				has_war = no
				ABY = {
					all_core_state = {
						if = {
							limit = {
								OR = {
									state = 784
									state = 1200
								}
							}
							OR = {
								owner = {
									tag = WNG
								}
								owner = {
									tag = ROOT
								}
							}
						}
						else = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
				KLG = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = ASS
		will_lead_to_war_with = ANS
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_donkey_conquest"
			if = {
				limit = {
					ASS = {
						exists = yes
					}
					NOT = {
						has_war_with = ASS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ASS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ASS
					type = annex_everything
				}
			}
			ASS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					ANS = {
						exists = yes
					}
					NOT = {
						has_war_with = ANS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = ANS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = ANS
					type = annex_everything
				}
			}
			ANS = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_saddle_arabia_conquest
		icon = GFX_goal_TBK_AF_saddle_arabia_conquest
		cost = 3
		relative_position_id = TBK_AF_donkey_conquest
		prerequisite = { focus = TBK_AF_donkey_conquest }
		x = 1
		y = 1
		available = {
			AND = {
				has_war = no
				ASS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				801 = {
					owner = {
						tag = ROOT
					}
				}
				790 = {
					owner = {
						tag = ROOT
					}
				}
				792 = {
					owner = {
						tag = ROOT
					}
				}
				795 = {
					owner = {
						tag = ROOT
					}
				}
				799 = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = SDL
		will_lead_to_war_with = SDC
		will_lead_to_war_with = SDS
		will_lead_to_war_with = SDF
		will_lead_to_war_with = EMR
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_saddle_arabia_conquest"
			if = {
				limit = {
					SDL = {
						exists = yes
					}
					NOT = {
						has_war_with = SDL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDL
					type = annex_everything
				}
			}
			SDL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDC = {
						exists = yes
					}
					NOT = {
						has_war_with = SDC
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDC
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDC
					type = annex_everything
				}
			}
			SDC = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDS = {
						exists = yes
					}
					NOT = {
						has_war_with = SDS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDS
					type = annex_everything
				}
			}
			SDS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SDF = {
						exists = yes
					}
					NOT = {
						has_war_with = SDF
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SDF
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SDF
					type = annex_everything
				}
			}
			SDF = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					EMR = {
						exists = yes
					}
					NOT = {
						has_war_with = EMR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = EMR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = EMR
					type = annex_everything
				}
			}
			EMR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_great_lakes_conquest
		icon = GFX_goal_TBK_AF_great_lakes_conquest
		cost = 3
		relative_position_id = TBK_AF_maregyptian_conquest
		prerequisite = { focus = TBK_AF_maregyptian_conquest focus = TBK_AF_desert_conquests }
		x = 1
		y = 1
		available = {
			has_war = no
			OR = {
				MGY = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				MKS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				AND = {
					891 = { #Azir, Because impassables stupid.
						owner = {
							tag = ROOT
						}
					}
					900 = { #Kamane, Because impassables stupid.
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = ALO
		will_lead_to_war_with = TIM
		will_lead_to_war_with = CZR
		will_lead_to_war_with = SON
		will_lead_to_war_with = MSH
		will_lead_to_war_with = MAZ
		will_lead_to_war_with = MSS
		will_lead_to_war_with = ZWA
		will_lead_to_war_with = ZUG
		will_lead_to_war_with = ZEL
		will_lead_to_war_with = HAY
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_great_lakes_conquest"
			custom_effect_tooltip = TBK_AF_conquer_great_lakes_tp
			hidden_effect = {
				if = {
					limit = {
						ALO = {
							exists = yes
						}
						NOT = {
							has_war_with = ALO
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = ALO
							type = annex_everything
						}
					}
					declare_war_on = {
						target = ALO
						type = annex_everything
					}
				}
				ALO = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						TIM = {
							exists = yes
						}
						NOT = {
							has_war_with = TIM
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = TIM
							type = annex_everything
						}
					}
					declare_war_on = {
						target = TIM
						type = annex_everything
					}
				}
				TIM = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						CZR = {
							exists = yes
						}
						NOT = {
							has_war_with = CZR
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = CZR
							type = annex_everything
						}
					}
					declare_war_on = {
						target = CZR
						type = annex_everything
					}
				}
				CZR = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						SON = {
							exists = yes
						}
						NOT = {
							has_war_with = SON
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = SON
							type = annex_everything
						}
					}
					declare_war_on = {
						target = SON
						type = annex_everything
					}
				}
				SON = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						MSH = {
							exists = yes
						}
						NOT = {
							has_war_with = MSH
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = MSH
							type = annex_everything
						}
					}
					declare_war_on = {
						target = MSH
						type = annex_everything
					}
				}
				MSH = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						MAZ = {
							exists = yes
						}
						NOT = {
							has_war_with = MAZ
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = MAZ
							type = annex_everything
						}
					}
					declare_war_on = {
						target = MAZ
						type = annex_everything
					}
				}
				MAZ = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						MSS = {
							exists = yes
						}
						NOT = {
							has_war_with = MSS
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = MSS
							type = annex_everything
						}
					}
					declare_war_on = {
						target = MSS
						type = annex_everything
					}
				}
				MSS = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						ZWA = {
							exists = yes
						}
						NOT = {
							has_war_with = ZWA
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = ZWA
							type = annex_everything
						}
					}
					declare_war_on = {
						target = ZWA
						type = annex_everything
					}
				}
				ZWA = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						ZUG = {
							exists = yes
						}
						NOT = {
							has_war_with = ZUG
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = ZUG
							type = annex_everything
						}
					}
					declare_war_on = {
						target = ZUG
						type = annex_everything
					}
				}
				ZUG = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						ZEL = {
							exists = yes
						}
						NOT = {
							has_war_with = ZEL
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = ZEL
							type = annex_everything
						}
					}
					declare_war_on = {
						target = ZEL
						type = annex_everything
					}
				}
				ZEL = { add_to_ROOT_potential_cores = yes }
				if = {
					limit = {
						HAY = {
							exists = yes
						}
						NOT = {
							has_war_with = HAY
						}
					}
					hidden_effect = {
						create_wargoal = {
							target = HAY
							type = annex_everything
						}
					}
					declare_war_on = {
						target = HAY
						type = annex_everything
					}
				}
				HAY = { add_to_ROOT_potential_cores = yes }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_lakes_fortifications
		icon = GFX_goal_TBK_AF_lakes_fortifications
		cost = 3
		relative_position_id = TBK_AF_great_lakes_conquest
		prerequisite = { focus = TBK_AF_great_lakes_conquest }
		available = {
			is_neighbor_of = DEL
			ALO = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			TIM = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			SON = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MSH = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MAZ = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			MSS = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZWA = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZUG = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			ZEL = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			HAY = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lakes_fortifications"
			custom_effect_tooltip = TBK_AF_fortifications_lakes_tp
			hidden_effect = {
				hidden_effect = {
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = ALO
								is_core_of = TIM
								is_core_of = CZR
								is_core_of = SON
								is_core_of = MSH
								is_core_of = MAZ
								is_core_of = MSS
								is_core_of = ZWA
								is_core_of = ZUG
								is_core_of = ZEL
								is_core_of = HAY
							}
							impassable = no
							is_controlled_by_ROOT_or_ally = yes
							any_neighbor_state = {
								is_controlled_by = DEL
							}
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_border_country = DEL
							}
						}
					}
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_riseia_conquest
		icon = GFX_goal_TBK_AF_riseia_conquest
		cost = 3
		relative_position_id = TBK_AF_abyssinia_conquest
		prerequisite = { focus = TBK_AF_abyssinia_conquest focus = TBK_AF_great_lakes_conquest }
		x = 1
		y = 1
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = YMN
		will_lead_to_war_with = HMR
		will_lead_to_war_with = OSQ
		will_lead_to_war_with = MTA
		will_lead_to_war_with = REE
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_riseia_conquest"
			if = {
				limit = {
					YMN = {
						exists = yes
					}
					NOT = {
						has_war_with = YMN
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = YMN
						type = annex_everything
					}
				}
				declare_war_on = {
					target = YMN
					type = annex_everything
				}
			}
			YMN = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HMR = {
						exists = yes
					}
					NOT = {
						has_war_with = HMR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HMR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HMR
					type = annex_everything
				}
			}
			HMR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					OSQ = {
						exists = yes
					}
					NOT = {
						has_war_with = OSQ
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = OSQ
						type = annex_everything
					}
				}
				declare_war_on = {
					target = OSQ
					type = annex_everything
				}
			}
			OSQ = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MTA = {
						exists = yes
					}
					NOT = {
						has_war_with = MTA
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MTA
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MTA
					type = annex_everything
				}
			}
			MTA = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					REE = {
						exists = yes
					}
					NOT = {
						has_war_with = REE
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = REE
						type = annex_everything
					}
				}
				declare_war_on = {
					target = REE
					type = annex_everything
				}
			}
			REE = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hestraya_conquest
		icon = GFX_goal_TBK_AF_hestraya_conquest
		cost = 3
		relative_position_id = TBK_AF_saddle_arabia_conquest
		prerequisite = { focus = TBK_AF_saddle_arabia_conquest focus = TBK_AF_riseia_conquest }
		x = 1
		y = 1
		available = {
			has_war = no
			OR = {
				AND = {
					SDL = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDC = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDS = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					SDF = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					EMR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
				AND = {
					YMN = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					HMR = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					OSQ = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					MTA = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
					REE = {
						all_core_state = {
							owner = {
								tag = ROOT
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = KAR
		will_lead_to_war_with = MTO
		will_lead_to_war_with = AES
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_conquests"
			if = {
				limit = {
					KAR = {
						exists = yes
					}
					NOT = {
						has_war_with = KAR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = KAR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = KAR
					type = annex_everything
				}
			}
			KAR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					MTO = {
						exists = yes
					}
					NOT = {
						has_war_with = MTO
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = MTO
						type = annex_everything
					}
				}
				declare_war_on = {
					target = MTO
					type = annex_everything
				}
			}
			MTO = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					AES = {
						exists = yes
					}
					NOT = {
						has_war_with = AES
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = AES
						type = annex_everything
					}
				}
				declare_war_on = {
					target = AES
					type = annex_everything
				}
			}
			AES = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_frontier_fortifications
		icon = GFX_goal_TBK_AF_frontier_fortifications
		cost = 3
		relative_position_id = TBK_AF_desert_conquests
		prerequisite = { focus = TBK_AF_desert_conquests }
		available = {
			is_neighbor_of = DEL
			ZAI = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
			CZR = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_secrets_of_the_dunes"
			custom_effect_tooltip = TBK_AF_fortifications_dunes_tp
			hidden_effect = {
				hidden_effect = {
					every_owned_state = {
						limit = {
							OR = {
								is_core_of = ZAI
								is_core_of = CZR
								is_core_of = CGI
							} 
							impassable = no
							is_controlled_by_ROOT_or_ally = yes
							any_neighbor_state = {
								is_controlled_by = DEL
							}
						}
						add_building_construction = {
							type = bunker
							level = 2
							instant_build = yes
							province = {
								all_provinces = yes
								limit_to_border_country = DEL
							}
						}
					}
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_organised_priesthood
		icon = GFX_goal_TBK_AF_organised_priesthood
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_organised_priesthood"
			swap_ideas = {
				remove_idea = TBK_AF_jadd_faith_1
				add_idea = TBK_AF_jadd_faith_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_lightbringers_spearhead
		icon = GFX_goal_TBK_AF_lightbringers_spearhead
		cost = 3
		relative_position_id = TBK_AF_organised_priesthood
		prerequisite = { focus = TBK_AF_organised_priesthood }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_lightbringers_spearhead"
			custom_override_tooltip = {
				tooltip = {
					localization_key = RESEARCH_UNLOCKS_EQUIPMENT_HEADER
					EQUIPMENTS = TBK_AF_lightbringers_spearhead_tech
				}
			}
			custom_effect_tooltip = tech_effect|TBK_AF_lightbringers_spearhead_tech
			hidden_effect = {
				set_technology = {
					TBK_AF_lightbringers_spearhead_tech = 1
					popup = no
				}
			}
			
			if = {
				limit = {
					has_intelligence_agency = yes
				}
				gain_random_agency_upgrade = yes
				gain_random_agency_upgrade = yes
			}
		}
	}

	shared_focus = {
		id = TBK_AF_universal_message_of_hope
		icon = GFX_goal_TBK_AF_universal_message_of_hope
		cost = 3
		relative_position_id = TBK_AF_organised_priesthood
		prerequisite = { focus = TBK_AF_organised_priesthood }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_universal_message_of_hope"
			custom_effect_tooltip = TBK_AF_15_increase_conversion_speed_tp
			TBK = {
				add_to_variable = {
					var = TBK_AF_state_view_jadd_progress_daily_coef_bonus_global
					value = 0.15
				}
			}
			add_popularity = { ideology = neutrality popularity = 0.1 }
		}
	}
	
	shared_focus = {
		id = TBK_AF_eternal_war_against_evil
		icon = GFX_goal_TBK_AF_eternal_war_against_evil
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_eternal_war_against_evil"
			unlock_decision_tooltip = TBK_AF_zealot_volunteers
			division_template = {
				name = "Zealot Volunteers"
				is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
					infantry = { x = 3 y = 0 }
					infantry = { x = 3 y = 1 }
					infantry = { x = 3 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
			swap_ideas = {
				remove_idea = TBK_AF_holy_war_doctrine_2
				add_idea = TBK_AF_holy_war_doctrine_3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_burgeoning_administration
		icon = GFX_goal_TBK_AF_burgeoning_administration
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_burgeoning_administration"
			swap_ideas = {
				remove_idea = TBK_AF_divine_administration_2
				add_idea = TBK_AF_divine_administration_3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_brilliance_of_education
		icon = GFX_goal_TBK_AF_brilliance_of_education
		cost = 3
		relative_position_id = TBK_AF_burgeoning_administration
		prerequisite = { focus = TBK_AF_burgeoning_administration }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_jaher_academy"
			if = {
				limit = {
					NOT = {
						has_idea = proper_science_base
					}
				}
				increase_science_base = yes
			}
			decrease_illiteracy = yes
		}
	}

	shared_focus = {
		id = TBK_AF_bulwark_of_light
		icon = GFX_goal_TBK_AF_bulwark_of_light
		cost = 3
		relative_position_id = TBK_AF_universal_message_of_hope
		prerequisite = { focus = TBK_AF_universal_message_of_hope }
		prerequisite = { focus = TBK_AF_eternal_war_against_evil }
		prerequisite = { focus = TBK_AF_brilliance_of_education }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_bulwark_of_light"
			TBK_AF_jaddar_jexiszuir = {
				swap_country_leader_traits = {
					remove = TK_AF_herald_of_surael_expanded
					add = TK_AF_herald_of_surael_final
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_theocratic_inclusivity
		icon = GFX_goal_TBK_AF_theocratic_inclusivity
		cost = 3
		relative_position_id = TBK_AF_burgeoning_administration
		prerequisite = { focus = TBK_AF_burgeoning_administration }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_burgeoning_administration"
			custom_effect_tooltip = TBK_AF_theocratic_inclusivity_tp
			hidden_effect = {
				every_owned_state = {
					limit = {
						has_active_resistance = yes
					}
					add_compliance = 25
					add_resistance_target = {
						amount = -35
						days = 365
					}
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_warzena_zumidia_question
		icon = GFX_goal_TBK_AF_warzenia_zumidia_question
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 3
		y = 1
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = WAR
		will_lead_to_war_with = ZUM
		will_lead_to_war_with = HIP
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_warzena_zumidia_question"
			custom_effect_tooltip = TBK_AF_peace_decision_hip_unlock
			HIP = { country_event = TBK_AF_event_general.15 }
			if = {
				limit = {
					ZUM = {
						is_subject = no
						exists = yes
					}
				}
				create_wargoal = {
					target = ZUM
					type = annex_everything
				}
			}
			ZUM = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					WAR = {
						is_subject = no
						exists = yes
					}
				}
				create_wargoal = {
					target = WAR
					type = annex_everything
				}
			}
			WAR = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_submit_to_light
		icon = GFX_goal_TBK_AF_hippogriffia_submit_to_light
		cost = 3
		relative_position_id = TBK_AF_warzena_zumidia_question
		prerequisite = { focus = TBK_AF_warzena_zumidia_question }
		x = 1
		y = 1
		available = {
			OR = {
				HIP = {
					all_core_state = {
						custom_trigger_tooltip = {
							tooltip = TBK_AF_hippogriffia_submit_to_light_tp
							check_variable = {
								var = TBK_AF_state_view_jadd_progress
								value = 50
								compare = greater_than_or_equals
							}
						}
					}
				}
				HIP = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_warzena_zumidia_question"
			HIP = {
				custom_effect_tooltip = TBK_AF_hip_mil_leaders_join_tbk
				hidden_effect = {
					every_character = {
						limit = {
							OR = {
								is_high_command = yes
								is_unit_leader = yes
							}
						}
						set_nationality = TBK
					}					
				}
				transfer_navy = {
					target = TBK
				}
			}
			annex_country = {
				target = HIP
				transfer_troops = yes
			}
			HIP = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_aviation_expertise
		icon = GFX_goal_TBK_AF_hippogriffia_aviation_expertise
		cost = 3
		relative_position_id = TBK_AF_hippogriffia_submit_to_light
		prerequisite = { focus = TBK_AF_hippogriffia_submit_to_light }
		x = -1
		y = 1
		available = {
			HIP = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hippogriffia_aviation_expertise"
			add_ideas = TBK_AF_air_buff
			hidden_effect = { 
				country_event = { id = TBK_AF_event_general.22 days = 3 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_hippogriffia_naval_expertise
		icon = GFX_goal_TBK_AF_hippogriffia_naval_expertise
		cost = 3
		relative_position_id = TBK_AF_hippogriffia_submit_to_light
		prerequisite = { focus = TBK_AF_hippogriffia_submit_to_light }
		x = 0
		y = 2
		available = {
			HIP = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hippogriffia_naval_expertise"
			add_ideas = TBK_AF_navy_buff
		}
	}

	shared_focus = {
		id = TBK_AF_colthage_conquest
		icon = GFX_goal_TBK_AF_colthage_conquest
		cost = 3
		relative_position_id = TBK_AF_celebrate_chiropterra_victory
		prerequisite = { focus = TBK_AF_celebrate_chiropterra_victory }
		x = 5
		y = 1
		available = {
			has_war = no
		}
		ai_will_do = {
			factor = 10
		}
		will_lead_to_war_with = CTH
		will_lead_to_war_with = CVA
		will_lead_to_war_with = HIE
		will_lead_to_war_with = TRO
		will_lead_to_war_with = CDR
		will_lead_to_war_with = CGI
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_colthage_conquest"
			if = {
				limit = {
					CTH = {
						exists = yes
					}
					NOT = {
						has_war_with = CTH
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CTH
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CTH
					type = annex_everything
				}
			}
			CTH = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CVA = {
						exists = yes
					}
					NOT = {
						has_war_with = CVA
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CVA
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CVA
					type = annex_everything
				}
			}
			CVA = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HIE = {
						exists = yes
					}
					NOT = {
						has_war_with = HIE
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HIE
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HIE
					type = annex_everything
				}
			}
			HIE = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					TRO = {
						exists = yes
					}
					NOT = {
						has_war_with = TRO
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = TRO
						type = annex_everything
					}
				}
				declare_war_on = {
					target = TRO
					type = annex_everything
				}
			}
			TRO = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CDR = {
						exists = yes
					}
					NOT = {
						has_war_with = CDR
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CDR
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CDR
					type = annex_everything
				}
			}
			CDR = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CGI = {
						exists = yes
					}
					NOT = {
						has_war_with = CGI
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CGI
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CGI
					type = annex_everything
				}
			}
			CGI = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_hindia_conquest
		icon = GFX_goal_TBK_AF_hindia_conquest
		cost = 3
		relative_position_id = TBK_AF_colthage_conquest
		prerequisite = { focus = TBK_AF_colthage_conquest }
		available = {
			AND = {
				has_war = no
				CTH = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				933 = {
					owner = {
						tag = ROOT
					}
				}
				1094 = {
					owner = {
						tag = ROOT
					}
				}
				1093 = {
					owner = {
						tag = ROOT
					}
				}
				1095 = {
					owner = {
						tag = ROOT
					}
				}
				#1092 = {
				#	owner = {
				#		tag = ROOT
				#	}
				#}
				HIE = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				TRO = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CDR = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CGI = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 10
		}
		x = 0
		y = 2
		will_lead_to_war_with = LMB
		will_lead_to_war_with = SPL
		will_lead_to_war_with = HIN
		will_lead_to_war_with = SAM
		will_lead_to_war_with = BRS
		will_lead_to_war_with = HRV
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hindia_conquest"
			hidden_effect = { 
				country_event = { id = TBK_AF_event_general.21 days = 3 }
			}
			if = {
				limit = {
					LMB = {
						exists = yes
					}
					NOT = {
						has_war_with = LMB
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = LMB
						type = annex_everything
					}
				}
				declare_war_on = {
					target = LMB
					type = annex_everything
				}
			}
			LMB = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SPL = {
						exists = yes
					}
					NOT = {
						has_war_with = SPL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SPL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SPL
					type = annex_everything
				}
			}
			SPL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HIN = {
						exists = yes
					}
					NOT = {
						has_war_with = HIN
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HIN
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HIN
					type = annex_everything
				}
			}
			HIN = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					CTL = {
						exists = yes
					}
					NOT = {
						has_war_with = CTL
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = CTL
						type = annex_everything
					}
				}
				declare_war_on = {
					target = CTL
					type = annex_everything
				}
			}
			CTL = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					SAM = {
						exists = yes
					}
					NOT = {
						has_war_with = SAM
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = SAM
						type = annex_everything
					}
				}
				declare_war_on = {
					target = SAM
					type = annex_everything
				}
			}
			SAM = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					BRS = {
						exists = yes
					}
					NOT = {
						has_war_with = BRS
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = BRS
						type = annex_everything
					}
				}
				declare_war_on = {
					target = BRS
					type = annex_everything
				}
			}
			BRS = { add_to_ROOT_potential_cores = yes }
			if = {
				limit = {
					HRV = {
						AND = {
							exists = yes
							is_puppet = no
							NOT = {
								is_in_faction_with = MCW
								is_guaranteed_by = MCW
							}
						}
					}
				}
				hidden_effect = {
					create_wargoal = {
						target = HRV
						type = annex_everything
					}
				}
				declare_war_on = {
					target = HRV
					type = annex_everything
				}
				HRV = { add_to_ROOT_potential_cores = yes }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_eastern_fortifications
		icon = GFX_goal_TBK_AF_eastern_fortifications
		cost = 3
		relative_position_id = TBK_AF_hindia_conquest
		prerequisite = { focus = TBK_AF_hindia_conquest }
		available = {
			is_neighbor_of = DEL
			AND = {
				LMB = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SPL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIN = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CTL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SAM = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				BRS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_eastern_fortifications"
			custom_effect_tooltip = TBK_AF_fortifications_eastern_tp
			hidden_effect = {
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = BRS
							is_core_of = SPL
							is_core_of = CGI
						} 
						impassable = no
						is_controlled_by_ROOT_or_ally = yes
						any_neighbor_state = {
							is_controlled_by = DEL
						}
					}
					add_building_construction = {
						type = bunker
						level = 2
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_border_country = DEL
						}
					}
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_hindia_resources
		icon = GFX_goal_TBK_AF_hindia_resources
		cost = 3
		relative_position_id = TBK_AF_hindia_conquest
		prerequisite = { focus = TBK_AF_hindia_conquest }
		available = {
			AND = {
				LMB = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SPL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				HIN = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				CTL = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				SAM = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
				BRS = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_hindia_resources"
			random_owned_state = {
				limit = {
					OR = {
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_state = {
				limit = {
					OR = {
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_macawia_submit_to_light
		icon = GFX_goal_TBK_AF_macawia_submit_to_light
		cost = 3
		relative_position_id = TBK_AF_colthage_conquest
		prerequisite = { focus = TBK_AF_colthage_conquest }
		x = 1
		y = 1
		available = {
			OR = {
				MCW = {
					all_core_state = {
						custom_trigger_tooltip = {
							tooltip = TBK_AF_macawia_submit_to_light_tp
							check_variable = {
								var = TBK_AF_state_view_jadd_progress
								value = 50
								compare = greater_than_or_equals
							}
						}
					}
				}
				MCW = {
					all_core_state = {
						owner = {
							tag = ROOT
						}
					}
				}
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_macawia_submit_to_light"
			if = {
				limit = {
					HRV = {
						is_puppet_of = MCW
					}
				}
				annex_country = {
					target = HRV
					transfer_troops = yes
				}
				HRV = { add_to_ROOT_potential_cores = yes }
			}
			MCW = {
				custom_effect_tooltip = TBK_AF_mcw_mil_leaders_join_tbk
				hidden_effect = {
					every_character = {
						limit = {
							OR = {
								is_high_command = yes
								is_unit_leader = yes
							}
						}
						set_nationality = TBK
					}					
				}
				transfer_navy = {
					target = TBK
				}
			}
			annex_country = {
				target = MCW
				transfer_troops = yes
			}
			MCW = { add_to_ROOT_potential_cores = yes }
		}
	}

	shared_focus = {
		id = TBK_AF_harpy_riches
		icon = GFX_goal_TBK_AF_harpy_riches
		cost = 3
		relative_position_id = TBK_AF_macawia_submit_to_light
		prerequisite = { focus = TBK_AF_macawia_submit_to_light }
		available = {
			MCW = {
				all_core_state = {
					owner = {
						tag = ROOT
					}
				}
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_harpy_riches"
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 3
				category = industry
			}
			add_tech_bonus = {
				name = electronics_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 3
				category = electronics
			}
		}
	}

	#### War Against Beastbane tree

	shared_focus = {
		id = TBK_AF_war_against_darkness
		icon = GFX_goal_TBK_AF_war_against_darkness
		cost = 1
		x = 16
		y = 14
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_war_against_darkness"
			set_rule = { can_create_factions = yes }
			create_faction = TBK_AF_alliance
			hidden_effect = {
				country_event = { id = TBK_AF_event_beastbane_war.7 days = 15 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_declare_holy_war
		icon = GFX_goal_TBK_AF_declare_holy_war
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -3
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_declare_holy_war"
			add_ideas = TBK_AF_holy_war_1
		}
	}

	shared_focus = {
		id = TBK_AF_anti_undead_warfare
		icon = GFX_goal_TBK_AF_anti_undead_warfare
		cost = 5
		relative_position_id = TBK_AF_declare_holy_war
		prerequisite = { focus = TBK_AF_declare_holy_war }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_anti_undead_warfare"
			unlock_decision_tooltip = TBK_AF_beastbane_war_railroad_battery_decision
			add_tech_bonus = {
				name = land_fort_bonus
				bonus = 1
				uses = 3
				category = cat_fortification
			}
		}
	}

	shared_focus = {
		id = TBK_AF_purging_flames
		icon = GFX_goal_TBK_AF_purging_flames
		cost = 5
		relative_position_id = TBK_AF_anti_undead_warfare
		prerequisite = { focus = TBK_AF_anti_undead_warfare }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_purging_flames"
			custom_effect_tooltip = ZAR_desert_tunnels_tt
			set_technology = {
				ZAR_digger_tech = 1
				popup = no
			}
			add_tech_bonus = {
				name = support_bonus
				bonus = 1.5
				uses = 2
				ahead_reduction = 3
				category = engineers_tech
			}
			hidden_effect = {
				country_event = { id = TBK_AF_event_beastbane_war.9 days = 3 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_total_devotion
		icon = GFX_goal_TBK_AF_total_devotion
		cost = 5
		relative_position_id = TBK_AF_declare_holy_war
		prerequisite = { focus = TBK_AF_declare_holy_war }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_total_devotion"
			custom_effect_tooltip = TBK_AF_total_devotion_tech_tp
			hidden_effect = {
				set_technology = {
					popup = no
					TBK_AF_total_devotion_tech = 1
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_offer_absolution
		icon = GFX_goal_TBK_AF_offer_absolution
		cost = 5
		relative_position_id = TBK_AF_total_devotion
		prerequisite = { focus = TBK_AF_total_devotion }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_offer_absolution"
			unlock_decision_tooltip = TBK_AF_penal_warriors
			division_template = {
				name = "Penal Warriors"
				is_locked = yes
				regiments = {
					penal_battalion = { x = 0 y = 0 }
					penal_battalion = { x = 0 y = 1 }
					penal_battalion = { x = 0 y = 2 }
					penal_battalion = { x = 1 y = 0 }
					penal_battalion = { x = 1 y = 1 }
					penal_battalion = { x = 1 y = 2 }
					penal_battalion = { x = 2 y = 0 }
					penal_battalion = { x = 2 y = 1 }
					penal_battalion = { x = 2 y = 2 }
					penal_battalion = { x = 3 y = 0 }
					penal_battalion = { x = 3 y = 1 }
					penal_battalion = { x = 3 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_fight_the_blight
		icon = GFX_goal_TBK_AF_fight_the_blight
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_fight_the_blight"
			unlock_decision_tooltip = TBK_AF_beastbane_war_blight_purge_descision
			hidden_effect = {
				country_event = { id = TBK_AF_event_beastbane_war.8 days = 3 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_together_against_darkness
		icon = GFX_goal_TBK_AF_together_against_darkness
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 0
		y = 2

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_together_against_darkness"
			### add proper event requesting help from Equus and Griffonia countries later
			custom_effect_tooltip = TBK_AF_overseas_volunteers_tp
			hidden_effect = {
				division_template = {
					name = "Overseas Volunteers"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
					}
				}
				capital_scope = { 
					create_unit = {
						division = "division_template = \"Overseas Volunteers\" start_experience_factor = 0.0"
						count = 14
						owner = ROOT
					}
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					has_active_resistance = yes
				}
				add_compliance = 40
			}
		}
	}

	shared_focus = {
		id = TBK_AF_everycreature_in_arms
		icon = GFX_goal_TBK_AF_everycreature_in_arms
		cost = 5
		relative_position_id = TBK_AF_total_devotion
		prerequisite = { focus = TBK_AF_total_devotion }
		prerequisite = { focus = TBK_AF_together_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_everycreature_in_arms"
			custom_effect_tooltip = TBK_AF_ardent_militia_tp
			hidden_effect = {
				division_template = {
	                name = "Ardent Militia"
	                is_locked = yes
	                    regiments = {
		                    militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 0 y = 2 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
							militia = { x = 1 y = 2 }
							militia = { x = 2 y = 0 }
							militia = { x = 2 y = 1 }
							militia = { x = 2 y = 2 }
							militia = { x = 3 y = 0 }
							militia = { x = 3 y = 1 }
							militia = { x = 3 y = 2 }
	                    }
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							military_police = { x = 0 y = 2 }
						}
                    }
			}
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					check_variable = {
						var = TBK_AF_state_view_jadd_progress
						value = 50
						compare = greater_than_or_equals
					}
				}
				create_unit = {
					division = "division_template = \"Ardent Militia\" start_experience_factor = 0.0"
					allow_spawning_on_enemy_provs = no
					owner = ROOT
				}
			}
			hidden_effect = {
				country_event = { id = TBK_AF_event_beastbane_war.10 days = 3 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_spear_and_shield_of_surael
		icon = GFX_goal_TBK_AF_spear_and_shield_of_surael
		cost = 5
		relative_position_id = TBK_AF_purging_flames
		prerequisite = { focus = TBK_AF_purging_flames }
		prerequisite = { focus = TBK_AF_everycreature_in_arms }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 2
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_spear_and_shield_of_surael"
			swap_ideas = {
				remove_idea = TBK_AF_holy_war_1
				add_idea = TBK_AF_holy_war_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_body_and_soul_for_surael
		icon = GFX_goal_TBK_AF_body_and_soul_for_surael
		cost = 5
		relative_position_id = TBK_AF_together_against_darkness
		prerequisite = { focus = TBK_AF_together_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 0
		y = 2

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_appeal_past_the_shores"
			custom_effect_tooltip = TBK_AF_buff_fp_abilities_tp
			set_country_flag = TBK_AF_super_abilities_flag
			add_to_variable = {
				var = TBK_AF_FP_daily_coef_bonus
				tooltip = TBK_AF_FP_daily_coef_bonus_tt
				value = 0.15
			}
			hidden_effect = {
				country_event = { id = TBK_AF_event_beastbane_war.11 days = 3 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_mass_evacuation_plan
		icon = GFX_goal_TBK_AF_mass_evacuation_plan
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mass_evacuation_plan"
			unlock_decision_tooltip = TBK_AF_beastbane_war_evacuation_decision
		}
	}

	shared_focus = {
		id = TBK_AF_state_of_emergency
		icon = GFX_goal_TBK_AF_state_of_emergency
		cost = 5
		relative_position_id = TBK_AF_war_against_darkness
		prerequisite = { focus = TBK_AF_war_against_darkness }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 3
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_state_of_emergency"
			add_ideas = TBK_AF_holy_war_economy_1
		}
	}

	shared_focus = {
		id = TBK_AF_cogs_in_machine
		icon = GFX_goal_TBK_AF_cogs_in_machine
		cost = 5
		relative_position_id = TBK_AF_state_of_emergency
		prerequisite = { focus = TBK_AF_state_of_emergency }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_cogs_in_machine"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 75000
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 5000
			}
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 5000
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 2500
			}
		}
	}

	shared_focus = {
		id = TBK_AF_everycreature_at_work
		icon = GFX_goal_TBK_AF_everycreature_at_work
		cost = 5
		relative_position_id = TBK_AF_together_against_darkness
		prerequisite = { focus = TBK_AF_together_against_darkness }
		prerequisite = { focus = TBK_AF_cogs_in_machine }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_everycreature_at_work"
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
			two_random_arms_factory = yes
		}
	}

	shared_focus = {
		id = TBK_AF_supplies_to_the_front
		icon = GFX_goal_TBK_AF_supplies_to_the_front
		cost = 5
		relative_position_id = TBK_AF_state_of_emergency
		prerequisite = { focus = TBK_AF_state_of_emergency }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_supplies_to_the_front"
			unlock_decision_tooltip = TBK_AF_beastbane_war_stockpile_supplies_decision
			add_tech_bonus = {
				name = support_bonus
				bonus = 1
				uses = 1
				category = logistics_tech
			}
			add_tech_bonus = {
				name = train_tech_bonus
				bonus = 1
				uses = 1
				category = train_tech
			}
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 1
				uses = 1
				category = motorized_equipment
			}
		}
	}

	shared_focus = {
		id = TBK_AF_protect_train_networks
		icon = GFX_goal_TBK_AF_protect_train_networks
		cost = 5
		relative_position_id = TBK_AF_supplies_to_the_front
		prerequisite = { focus = TBK_AF_supplies_to_the_front }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = -1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_protect_train_networks"
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				set_technology = {
					armored_train = 1
					railway_gun = 1
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = "Jaher"
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = "Jaerel"
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = "Jexis"
					location = 18510
				}
				create_railway_gun = {
					equipment = railway_gun_equipment_1
					name = "Jaddar"
					location = 18510
				}
			}
			else = {
				unlock_decision_tooltip = TBK_AF_beastbane_war_railroad_battery_decision
			}
		}
	}

	shared_focus = {
		id = TBK_AF_fires_of_industries
		icon = GFX_goal_TBK_AF_fires_of_industries
		cost = 5
		relative_position_id = TBK_AF_supplies_to_the_front
		prerequisite = { focus = TBK_AF_supplies_to_the_front }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 1
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_fires_of_industries"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 2
				category = cat_production
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				ahead_reduction = 2
				category = construction_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_hammer_and_lathe_of_surael
		icon = GFX_goal_TBK_AF_hammer_and_lathe_of_surael
		cost = 5
		relative_position_id = TBK_AF_everycreature_at_work
		prerequisite = { focus = TBK_AF_everycreature_at_work }
		prerequisite = { focus = TBK_AF_fires_of_industries }
		available = {
			has_war_with = DEL
			DEL = {
				has_country_leader = {
					character = DEL_AF_castan_ii_beastbane
					ruling_only = yes
				}
			}
		}
		x = 2
		y = 1

		ai_will_do = {
			base = 20
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_supplies_to_the_front"
			swap_ideas = {
				remove_idea = TBK_AF_holy_war_economy_1
				add_idea = TBK_AF_holy_war_economy_2
			}
		}
	}

	#### Economy tree

	shared_focus = {
		id = TBK_AF_modern_mercantile_knowledge
		icon = GFX_goal_TBK_AF_modern_mercantile_knowledge
		cost = 2
		x = 33
		y = 1

		ai_will_do = {
			base = 0 
			modifier = {
				add = 40
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_modern_mercantile_knowledge"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 3
				category = industry
		 	}
		}
	}

	shared_focus = {
		id = TBK_AF_golden_highway
		icon = GFX_goal_TBK_AF_golden_highway
		cost = 4
		relative_position_id = TBK_AF_modern_mercantile_knowledge
		prerequisite = { focus = TBK_AF_modern_mercantile_knowledge }
		x = -5
		y = 1

		ai_will_do = {
			base = 0 
			modifier = {
				add = 40
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_golden_highway"
			custom_effect_tooltip = TBK_AF_unlock_golden_highway_tp
		}
	}

	shared_focus = {
		id = TBK_AF_develop_saddle_arabia_and_hestraya
		icon = GFX_goal_TBK_AF_develop_saddle_arabia_and_hestraya
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
			has_country_flag = TBK_AF_completed_arabia
			has_country_flag = TBK_AF_completed_hestraya
	    }
		x = -4
		y = 2
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 10
				has_country_flag = TBK_AF_completed_arabia
				has_country_flag = TBK_AF_completed_hestraya
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_saddle_arabia_and_hestraya"
			add_ideas = TBK_AF_rich_fields
			843 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			846 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			872 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			858 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			1005 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			796 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_great_lake_and_riesia
		icon = GFX_goal_TBK_AF_develop_great_lake_and_riesia
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
		   has_country_flag = TBK_AF_completed_riseian
		   has_country_flag = TBK_AF_completed_great_lake
	    }
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_great_lake_and_riesia"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = ALO
						is_core_of = TIM
						is_core_of = CZR
						is_core_of = SON
						is_core_of = MSH
						is_core_of = MAZ
						is_core_of = MSS
						is_core_of = ZWA
						is_core_of = ZUG
						is_core_of = ZEL
						is_core_of = HAY
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = ALO
						is_core_of = TIM
						is_core_of = CZR
						is_core_of = SON
						is_core_of = MSH
						is_core_of = MAZ
						is_core_of = MSS
						is_core_of = ZWA
						is_core_of = ZUG
						is_core_of = ZEL
						is_core_of = HAY
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = ALO
						is_core_of = TIM
						is_core_of = CZR
						is_core_of = SON
						is_core_of = MSH
						is_core_of = MAZ
						is_core_of = MSS
						is_core_of = ZWA
						is_core_of = ZUG
						is_core_of = ZEL
						is_core_of = HAY
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = ALO
						is_core_of = TIM
						is_core_of = CZR
						is_core_of = SON
						is_core_of = MSH
						is_core_of = MAZ
						is_core_of = MSS
						is_core_of = ZWA
						is_core_of = ZUG
						is_core_of = ZEL
						is_core_of = HAY
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = ALO
						is_core_of = TIM
						is_core_of = CZR
						is_core_of = SON
						is_core_of = MSH
						is_core_of = MAZ
						is_core_of = MSS
						is_core_of = ZWA
						is_core_of = ZUG
						is_core_of = ZEL
						is_core_of = HAY
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_abyssinia_and_donkey
		icon = GFX_goal_TBK_AF_develop_abyssinia_and_donkey
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = {
		   has_country_flag = TBK_AF_completed_abyssinia
		   has_country_flag = TBK_AF_completed_donkeys
	    }
		x = -2
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_abyssinia_and_donkey"
			1208 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			790 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			808= {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_hazrumenia_interior
		icon = GFX_goal_TBK_AF_develop_hazrumenia_interior
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { 
			has_country_flag = TBK_AF_completed_hazrumenia_interior 
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_hazrumenia_interior"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = TBK
						is_core_of = ZAR
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = TBK
						is_core_of = ZAR
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = TBK
						is_core_of = ZAR
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = TBK
						is_core_of = ZAR
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_hazrumenia_exterior
		icon = GFX_goal_TBK_AF_develop_hazrumenia_exterior
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { 
			has_country_flag = TBK_AF_completed_hazrumenia_exterior 
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_hazrumenia_exterior"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = BAT
						is_core_of = WAR
						is_core_of = ZUM
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = BAT
						is_core_of = WAR
						is_core_of = ZUM
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = BAT
						is_core_of = WAR
						is_core_of = ZUM
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = BAT
						is_core_of = WAR
						is_core_of = ZUM
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_maregypt
		icon = GFX_goal_TBK_AF_develop_maregypt
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_maregypt }
		x = 2
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_maregypt"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = MDL
						is_core_of = MKS
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = MDL
						is_core_of = MKS
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = MDL
						is_core_of = MKS
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = MGY
						is_core_of = MDL
						is_core_of = MKS
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_desert
		icon = GFX_goal_TBK_AF_develop_desert
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_desert }
		x = 0
		y = 2
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 20
				has_country_flag = TBK_AF_completed_desert
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_desert"
			every_owned_state = {
				limit = {
					OR = {
						is_in_array = {
							state_original_cores = ZAI
						}
						is_in_array = {
							state_original_cores = CZR
						}
					}
					impassable = no
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			891 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			900 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			# ZAI Capital 891 - 19826
			# CZR Capital 900 - 19714
		}
	}
		
	shared_focus = {
		id = TBK_AF_develop_colthage_and_quaggatai
		icon = GFX_goal_TBK_AF_develop_colthage_and_quaggatai
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_colthage_and_quaggatai }
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_colthage_and_quaggatai"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = CTH
						is_core_of = CVA
						is_core_of = CGI
						is_core_of = CDR
						is_core_of = BKH
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_develop_hindia
		icon = GFX_goal_TBK_AF_develop_hindia
		cost = 2
		relative_position_id = TBK_AF_golden_highway
		prerequisite = { focus = TBK_AF_golden_highway }
		available = { has_country_flag = TBK_AF_completed_hindia }
		x = 4
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_develop_hindia"
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						is_core_of = LMB
						is_core_of = SPL
						is_core_of = HIN
						is_core_of = SAM
						is_core_of = BRS
						is_core_of = CTL
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_jadd_industry
		icon = GFX_goal_TBK_AF_jadd_industry
		cost = 5
		relative_position_id = TBK_AF_modern_mercantile_knowledge
		prerequisite = { focus = TBK_AF_modern_mercantile_knowledge }
		x = 5
		y = 1
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 10
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jadd_industry"
			add_ideas = TBK_AF_holy_industry_1
		}
	}

	shared_focus = {
		id = TBK_AF_jaddari_agriculture
		icon = GFX_goal_TBK_AF_jaddari_agriculture
		cost = 5
		relative_position_id = TBK_AF_jadd_industry
		prerequisite = { focus = TBK_AF_jadd_industry }
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jaddari_agriculture"
			two_random_industrial_complex = yes
			every_owned_state = {
				limit = {
					is_in_array = {
						state_original_cores = TBK
					}
				}
				add_extra_state_shared_building_slots = 1
				add_manpower = 65000
			}
			hidden_effect = {
				country_event = { id = TBK_AF_event_general.24 days = 80 }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_to_feed_the_empire
		icon = GFX_goal_TBK_AF_to_feed_the_empire
		cost = 5
		relative_position_id = 	TBK_AF_jaddari_agriculture
		prerequisite = { focus = TBK_AF_jaddari_agriculture }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_to_feed_the_empire"
			add_ideas = TBK_AF_holy_agriculture_1
		}
	}

	shared_focus = {
		id = TBK_AF_cultivate_luxuries
		icon = GFX_goal_TBK_AF_cultivate_luxuries
		cost = 5
		relative_position_id = 	TBK_AF_to_feed_the_empire
		prerequisite = { focus = TBK_AF_to_feed_the_empire }
		mutually_exclusive = { focus = TBK_AF_feed_everycreature }
		available = {
			has_modern_society = yes
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_to_feed_the_empire"
			swap_ideas = {
				remove_idea = TBK_AF_holy_agriculture_1
				add_idea = TBK_AF_holy_agriculture_2a
			}
		}
	}

	shared_focus = {
		id = TBK_AF_feed_everycreature
		icon = GFX_goal_TBK_AF_feed_everycreature
		cost = 5
		relative_position_id = 	TBK_AF_to_feed_the_empire
		prerequisite = { focus = TBK_AF_to_feed_the_empire }
		mutually_exclusive = { focus = TBK_AF_cultivate_luxuries }
		available = {
			has_modern_society = yes
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_to_feed_the_empire"
			swap_ideas = {
				remove_idea = TBK_AF_holy_agriculture_1
				add_idea = TBK_AF_holy_agriculture_2b
			}
		}
	}

	shared_focus = {
		id = TBK_AF_encourage_development
		icon = GFX_goal_TBK_AF_encourage_development
		cost = 5
		relative_position_id = 	TBK_AF_jaddari_agriculture
		prerequisite = { focus = TBK_AF_jaddari_agriculture }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_encourage_development"
			increase_society_development_gradual = yes
			every_owned_state = {
				limit = {
					is_in_array = {
						state_original_cores = TBK
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_manerba_mines
		icon = GFX_goal_TBK_AF_manerba_mines
		cost = 5
		relative_position_id = TBK_AF_encourage_development
		prerequisite = { focus = TBK_AF_encourage_development }
		available = {
			692 = {
				is_owned_and_controlled_by = ROOT
			}
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_manerba_mines"
			692 = {
				add_resource = {
				    type = aluminium
				    amount = 14
			   }
				add_resource = {
				    type = tungsten
				    amount = 8
			   }
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.5
				uses = 2
				category = excavation_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_settle_wastelands
		icon = GFX_goal_TBK_AF_settle_wastelands
		cost = 5
		relative_position_id = TBK_AF_encourage_development
		prerequisite = { focus = TBK_AF_encourage_development }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_settle_wastelands"
			every_owned_state = {
				limit = {
					OR = {
						is_in_array = {
							state_original_cores = TBK
						}
						is_in_array = {
							state_original_cores = ZAR
						}
						is_in_array = {
							state_original_cores = BAT
						}
					}
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_industrial_innovations
		icon = GFX_goal_TBK_AF_industrial_innovations
		cost = 5
		relative_position_id = TBK_AF_jadd_industry
		prerequisite = { focus = TBK_AF_jadd_industry }
		x = -1
		y = 1
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 10
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_imperial_corporations"
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1
				uses = 1
				ahead_reduction = 3
				category = cat_production
			}
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1
				uses = 1
				ahead_reduction = 3
				category = concentrated_industry_category
				category = dispersed_industry_category
			}
			add_tech_bonus = {
				name = industry_bonus
				bonus = 1
				uses = 1
				ahead_reduction = 3
				category = construction_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_imperial_corporations
		icon = GFX_goal_TBK_AF_imperial_corporations
		cost = 5
		relative_position_id = TBK_AF_jadd_industry
		prerequisite = { focus = TBK_AF_jadd_industry }
		x = 1
		y = 1
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 10
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_imperial_corporations"
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = TBK_AF_tobuckian_jaddari_industry
			if = {
				limit = {
					NOT = {
						has_tech = fuel_silos
					}
				}
				set_technology = {
					fuel_silos = 1
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 3
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = fuel_silo
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = synth_oil_experiments
					}
				}
				set_technology = {
					synth_oil_experiments = 1
				}
				728 = {
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = synthetic_refinery
						level = 3
						instant_build = yes
					}
				}
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.5
					uses = 2
					category = synth_resources
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 3
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = synthetic_refinery
						level = 3
						instant_build = yes
					}
				}
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.5
					uses = 3
					category = synth_resources
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_tobuck_polytechnic
		icon = GFX_goal_TBK_AF_tobuck_polytechnic
		cost = 5
		relative_position_id = TBK_AF_industrial_innovations
		prerequisite = { focus = TBK_AF_industrial_innovations }
		prerequisite = { focus = TBK_AF_imperial_corporations }
		x = 1
		y = 1
		
		ai_will_do = {
			base = 0 
			modifier = {
				add = 10
				has_completed_focus = TBK_AF_celebrate_chiropterra_victory
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_polytechnic"
			add_research_slot = 1
		}
	}

	shared_focus = {
		id = TBK_AF_atom_secrets
		icon = GFX_goal_TBK_AF_atom_secrets
		cost = 5
		relative_position_id = TBK_AF_tobuck_polytechnic
		prerequisite = { focus = TBK_AF_tobuck_polytechnic }
		available = {
			has_modern_society = yes
		}
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_atom_secrets"
			custom_effect_tooltip = {
				localization_key = nuclear_facility_construction_tt
				temp_facility_state_loc = "[745.GetName]"
				temp_facility_province_loc = "[745.GetCapitalVictoryPointName]"
			}
			hidden_effect = {
				if = {
					limit = { 
						745 = {
							is_fully_controlled_by = ROOT
							can_construct_building = nuclear_facility
						}
					}
					745 = {
						add_building_construction = {
							type = nuclear_facility
							level = 1
							instant_build = yes
							province = 18510
						}
					}
				}
			}
			if = {
				limit = {
					has_tech = atomic_research
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 1.25
				}
			}
			else = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.75
				}
				add_tech_bonus = {
					name = secret_bonus
					bonus = 1.0
					uses = 1
					category = nuclear
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_tobuck_industry
		icon = GFX_goal_TBK_AF_tobuck_industry
		cost = 5
		relative_position_id = TBK_AF_jadd_industry
		prerequisite = { focus = TBK_AF_jadd_industry }
		x = 3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tobuck_industry"
			two_random_industrial_complex = yes
			two_random_industrial_complex = yes
		}
	}

	shared_focus = {
		id = TBK_AF_steel_factory
		icon = GFX_goal_TBK_AF_steel_factory
		cost = 5
		relative_position_id = TBK_AF_tobuck_industry
		prerequisite = { focus = TBK_AF_tobuck_industry }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_steel_factory"
			increase_society_development_gradual = yes
			728 = {
				add_resource = {
				    type = steel
				    amount = 24
			   }
			}
		}
	}

	shared_focus = {
		id = TBK_AF_jaddari_gun_industry
		icon = GFX_goal_TBK_AF_jaddari_gun_industry
		cost = 5
		relative_position_id = TBK_AF_steel_factory
		prerequisite = { focus = TBK_AF_steel_factory }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jaddari_gun_industry"
			728 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 3
					instant_build = yes
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_electronic_of_jadd
		icon = GFX_goal_TBK_AF_electronic_of_jadd
		cost = 5
		relative_position_id = TBK_AF_tobuck_industry
		prerequisite = { focus = TBK_AF_tobuck_industry }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_electronic_of_jadd"
			add_ideas = TBK_AF_holy_electronics_1
		}
	}

	shared_focus = {
		id = TBK_AF_industrial_forerunner
		icon = GFX_goal_TBK_AF_industrial_forerunner
		cost = 5
		relative_position_id = TBK_AF_electronic_of_jadd
		prerequisite = { focus = TBK_AF_electronic_of_jadd }
		mutually_exclusive = { focus =  TBK_AF_production_application}
		available = {
			has_modern_society = yes
		}
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_industrial_forerunner"
			swap_ideas = {
				remove_idea = TBK_AF_holy_electronics_1
				add_idea = TBK_AF_holy_electronics_2a
			}
		}
	}

	shared_focus = {
		id = TBK_AF_production_application
		icon = GFX_goal_TBK_AF_production_application
		cost = 5
		relative_position_id = TBK_AF_electronic_of_jadd
		prerequisite = { focus = TBK_AF_electronic_of_jadd }
		mutually_exclusive = { focus =  TBK_AF_industrial_forerunner}
		available = {
			has_modern_society = yes
		}
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_production_application"
			swap_ideas = {
				remove_idea = TBK_AF_holy_electronics_1
				add_idea = TBK_AF_holy_electronics_2b
			}
		}
	}

	shared_focus = {
		id = TBK_AF_increased_industrialization
		icon = GFX_goal_TBK_AF_increased_industrialization
		cost = 5
		relative_position_id = TBK_AF_steel_factory
		prerequisite = { focus = TBK_AF_steel_factory }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_increased_industrialization"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.5
				uses = 3
				category = industry
			}
		}
	}

	shared_focus = {
		id = TBK_AF_bright_economic_forecast
		icon = GFX_goal_TBK_AF_bright_economic_forecast
		cost = 5
		relative_position_id = TBK_AF_settle_wastelands
		prerequisite = { focus = TBK_AF_settle_wastelands }
		prerequisite = { focus = TBK_AF_increased_industrialization }
		x = 2
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_bright_economic_forecast"
			swap_ideas = {
				remove_idea = TBK_AF_holy_industry_1
				add_idea = TBK_AF_holy_industry_2
			}
		}
	}

	#### Military tree
	
	shared_focus = {
		id = TBK_AF_mil_intro
		icon = GFX_goal_TBK_AF_mil_intro
		cost = 4
		x = 3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mil_intro"
			country_event = TBK_AF_event_military.2
		}
	}

	shared_focus = {
		id = TBK_AF_desert_warfare
		icon = GFX_goal_TBK_AF_desert_warfare
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = -3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_desert_warfare"
			hidden_effect = {
				set_technology = {
					popup = no
					desert_warfare = 1
				}
			}
			custom_effect_tooltip = TBK_desert_warfare_training_tp
			TBK_AF_jaddar_jexiszuir = {
				add_trait = {
					trait = desert_fox
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_survival_expertise
		icon = GFX_goal_TBK_AF_survival_expertise
		cost = 4
		relative_position_id = TBK_AF_desert_warfare
		prerequisite = { focus = TBK_AF_desert_warfare }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_survival_expertise"
			add_ideas = TBK_AF_survival_tactics_1
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_long_range_scouting
		icon = GFX_goal_TBK_AF_long_range_scouting
		cost = 4
		relative_position_id = TBK_AF_survival_expertise
		prerequisite = { focus = TBK_AF_survival_expertise }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_long_range_scouting"
			if = {
				limit = {
					NOT = {
						has_tech = tech_recon
					}
				}
				set_technology = {
					tech_recon = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 1
					category = recon_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 2
					category = recon_tech
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = tech_logistics_company
					}
				}
				set_technology = {
					tech_logistics_company = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 1
					category = logistics_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 2
					category = logistics_tech
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_gunpowder_wonder_weapons
		icon = GFX_goal_TBK_AF_gunpowder_wonder_weapons
		cost = 4
		relative_position_id = TBK_AF_mil_intro
		prerequisite = { focus = TBK_AF_mil_intro }
		x = 3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_gunpowder_wonder_weapons"
			if = {
				limit = {
					NOT = {
						has_tech = infantry_weapons1
					}
				}
				set_technology = {
					infantry_weapons1 = 1
				}
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					uses = 1
					category = infantry_weapons
				}
			}
			else = {
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					uses = 2
					category = infantry_weapons
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = gw_artillery
					}
				}
				custom_effect_tooltip = TBK_unlock_towed_artillery
				hidden_effect = {
					set_technology = {
						gw_artillery = 1
					}
				}
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 1
					category = artillery
				}
			}
			else = {
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 2
					category = artillery
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2500
			}
			#custom_effect_tooltip = TBK_AF_convert_gunpile_to_guns_tp
			#multiply_variable = {
			#	var = TBK_guns_pile
			#	value = 25
			#}
			#add_equipment_to_stockpile = {
			#	type = infantry_equipment
			#	amount = TBK_guns_pile
			#}
		}
	}

	shared_focus = {
		id = TBK_AF_national_weapon_production
		icon = GFX_goal_TBK_AF_national_weapon_production
		cost = 4
		relative_position_id = TBK_AF_desert_warfare
		prerequisite = { focus = TBK_AF_desert_warfare focus = TBK_AF_gunpowder_wonder_weapons }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_national_weapon_production"
			three_random_arms_factory = yes
		}
	}

	shared_focus = {
		id = TBK_AF_jadd_legions
		icon = GFX_goal_TBK_AF_jadd_legions
		cost = 4
		relative_position_id = TBK_AF_desert_warfare
		prerequisite = { focus = TBK_AF_desert_warfare focus = TBK_AF_gunpowder_wonder_weapons }
		x = 3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jadd_legions"
			add_ideas = TBK_AF_legion_model_1
			custom_effect_tooltip = TBK_AF_phoenix_legion_tp
			if = {
				limit = { 
					NOT = { 
						has_template = "Phoenix Legion"
					}
				}
				division_template = {
					name = "Phoenix Legion"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						military_police = { x = 0 y = 1 }
					}
					priority = 2
				}
			}
			capital_scope = { 
				create_unit = {
					division = "name = \"Phoenix Legion\" division_template = \"Phoenix Legion\" start_experience_factor = 0.5"
					count = 14
					owner = ROOT
				}
			}
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_wonders_of_dynamite
		icon = GFX_goal_TBK_AF_wonders_of_dynamite
		cost = 5
		relative_position_id = TBK_AF_jadd_legions
		prerequisite = { focus = TBK_AF_jadd_legions }
		x = -3
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_wonders_of_dynamite"
			if = {
				limit = {
					NOT = {
						has_tech = tech_engineers
					}
				}
				set_technology = {
					tech_engineers = 1
				}
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 2
					ahead_reduction = 2
					category = engineers_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = support_bonus
					bonus = 1
					uses = 2
					ahead_reduction = 2
					category = engineers_tech
				}
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 800
			}
		}
	}

	shared_focus = {
		id = TBK_AF_attritional_warfare
		icon = GFX_goal_TBK_AF_attritional_warfare
		cost = 5
		relative_position_id = TBK_AF_long_range_scouting
		prerequisite = { focus = TBK_AF_long_range_scouting }
		prerequisite = { focus = TBK_AF_wonders_of_dynamite }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_attritional_warfare"
			hidden_effect = {
				set_technology = {
					popup = no
					guerrila_warfare_enable = 1
				}
			}
			custom_effect_tooltip = NMS_guerilla_warfare_tp
			swap_ideas = {
				remove_idea = TBK_AF_survival_tactics_1
				add_idea = TBK_AF_survival_tactics_2
			}
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
		}
	}

	shared_focus = {
		id = TBK_AF_tactical_roles
		icon = GFX_goal_TBK_AF_tactical_roles
		cost = 5
		relative_position_id = TBK_AF_wonders_of_dynamite
		prerequisite = { focus = TBK_AF_wonders_of_dynamite }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_tactical_roles"
			add_tech_bonus = {
				name = support_bonus
				bonus = 1.5
				uses = 3
				category = support_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_discipline_above_all
		icon = GFX_goal_TBK_AF_discipline_above_all
		cost = 5
		relative_position_id = TBK_AF_jadd_legions
		prerequisite = { focus = TBK_AF_jadd_legions }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_discipline_above_all"
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 3
				category = land_doctrine
			}
		}
	}

	shared_focus = {
		id = TBK_AF_the_very_model_of_modern_legionare
		icon = GFX_goal_TBK_AF_the_very_model_of_modern_legionare
		cost = 5
		relative_position_id = TBK_AF_discipline_above_all
		prerequisite = { focus = TBK_AF_discipline_above_all }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_the_very_model_of_modern_legionare"
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 1.5
				uses = 3
				ahead_reduction = 1
				category = pegasi_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_jaddars_finest
		icon = GFX_goal_TBK_AF_jaddars_finest
		cost = 5
		relative_position_id = TBK_AF_jadd_legions
		prerequisite = { focus = TBK_AF_jadd_legions }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_jaddars_finest"
			add_tech_bonus = {
				name = pegasi_bonus
				bonus = 1.5
				uses = 2
				category = pegasi_tech
			}
			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1.5
				uses = 2
				category = special_forces_tech
			}
		}
	}

	shared_focus = {
		id = TBK_AF_duty_ends_in_death
		icon = GFX_goal_TBK_AF_duty_ends_in_death
		cost = 5
		relative_position_id = TBK_AF_discipline_above_all
		prerequisite = { focus = TBK_AF_discipline_above_all }
		prerequisite = { focus = TBK_AF_jaddars_finest }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_duty_ends_in_death"
			swap_ideas = {
				remove_idea = TBK_AF_legion_model_1
				add_idea = TBK_AF_legion_model_2
			}
		}
	}

	shared_focus = {
		id = TBK_AF_solar_mages
		icon = GFX_goal_TBK_AF_solar_mages
		cost = 5
		relative_position_id = TBK_AF_jaddars_finest
		prerequisite = { focus = TBK_AF_jaddars_finest }
		x = 0
		y = 2
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_solar_mages"
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
			if = {
				limit = {
					NOT = {
						has_tech = tech_unicorn
					}
				}
				set_technology = {
					tech_unicorn = 1
				}
				add_tech_bonus = {
					name = unicorn_bonus
					bonus = 1
					uses = 3
					category = pegasi_tech
				}
			}
			else = {
				add_tech_bonus = {
					name = unicorn_bonus
					bonus = 1
					uses = 4
					category = pegasi_tech
				}
			}
			add_tech_bonus = {
				name = magical_bonus
				bonus = 3
				uses = 1
				technology = magical_weapons
				technology = magical_weapons1
				technology = magical_weapons2
				technology = magical_weapons3
			}
		}
	}

	shared_focus = {
		id = TBK_AF_new_kind_of_cavalry
		icon = GFX_goal_TBK_AF_new_kind_of_cavalry
		cost = 5
		relative_position_id = TBK_AF_jadd_legions
		prerequisite = { focus = TBK_AF_jadd_legions }
		x = 3
		y = 1
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_new_kind_of_cavalry"
			country_event = TBK_AF_event_military.1
			custom_effect_tooltip = TBK_AF_desert_phoenixes_tp
			if = {
				limit = {
					NOT = {
						has_tech = motorised_infantry
					}
				}
				set_technology = {
					motorised_infantry = 1
				}
				add_tech_bonus = {
					name = motorized_bonus
					bonus = 1
					uses = 1
					category = motorized_equipment
				}
			}
			else = {
				add_tech_bonus = {
					name = motorized_bonus
					bonus = 1
					uses = 2
					category = motorized_equipment
				}
			}
			if = {
				limit = { 
					NOT = { 
						has_template = "Desert Phoenixes"
					}
				}
				division_template = {
					name = "Desert Phoenixes"
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized = { x = 2 y = 2 }
						mot_artillery_brigade = { x = 3 y = 0 }
						mot_artillery_brigade = { x = 3 y = 1 }
						mot_artillery_brigade = { x = 3 y = 2 }
						mot_artillery_brigade = { x = 3 y = 3 }
					}
					support = {
						mot_recon = { x = 0 y = 0 }
						military_police = { x = 0 y = 1 }
					}
					priority = 2
				}
			}
			capital_scope = { 
				create_unit = {
					division = "name = \"Desert Phoenixes\" division_template = \"Desert Phoenixes\" start_experience_factor = 0.2 start_equipment_factor = 1.0"
					count = 4
					owner = ROOT
				}
			}
		}
	}

	shared_focus = {
		id = TBK_AF_armoured_vehicles
		icon = GFX_goal_TBK_AF_armoured_vehicles
		cost = 5
		relative_position_id = TBK_AF_new_kind_of_cavalry
		prerequisite = { focus = TBK_AF_new_kind_of_cavalry }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_new_kind_of_cavalry"
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						NOT = {
							has_tech = armored_car1
						}
					}
					custom_effect_tooltip = TBK_unlock_armored_car1
					hidden_effect = {
						set_technology = {
							armored_car1 = 1
						}
					}
					add_equipment_to_stockpile = {
						type = armored_car_equipment
						amount = 500
					}
					add_tech_bonus = {
						name = mech_bonus
						bonus = 1
						uses = 1
						category = cat_armored_cars
						category = cat_mechanized_equipment
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = armored_car_equipment
						amount = 500
					}
					add_tech_bonus = {
						name = mech_bonus
						bonus = 1
						uses = 2
						category = cat_armored_cars
						category = cat_mechanized_equipment
					}
				}
			}
			else = {
				add_tech_bonus = {
					name = mech_bonus
					bonus = 1
					uses = 2
					category = cat_mechanized_equipment
				}
			}
		}
	}
	
	shared_focus = {
		id = TBK_AF_mechanical_flight
		icon = GFX_goal_TBK_AF_mechanical_flight
		cost = 4
		relative_position_id = TBK_AF_gunpowder_wonder_weapons
		prerequisite = { focus = TBK_AF_desert_warfare focus = TBK_AF_gunpowder_wonder_weapons }
		x = -1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_mechanical_flight"
			country_event = { id = TBK_AF_event_military.3 }
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_tech = iw_small_airframe
				}
				set_technology = {
					aa_lmg = 1
					engines_1 = 1
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 2
					category = light_air
				}
				create_equipment_variant = {
					name = "Phoenix-TBK Model-01"
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = light_mg_2x
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
						special_type_slot_2 = empty
					}
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					variant_name = "Phoenix-TBK Model-01"
					amount = 100
				}
			}
			else_if = {
				limit = {
					has_dlc = "By Blood Alone"
					NOT = {
						has_tech = iw_small_airframe
					}
				}
				set_technology = {
					iw_small_airframe = 1
					aa_lmg = 1
					engines_1 = 1
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 1
					uses = 1
					category = light_air
				}
				create_equipment_variant = {
					name = "Phoenix-TBK Model-01"
					type = small_plane_airframe_0
					modules = {
						fixed_main_weapon_slot = light_mg_4x
						fixed_auxiliary_weapon_slot_1 = light_mg_2x
						engine_type_slot = engine_1_1x
						special_type_slot_1 = empty
						special_type_slot_2 = empty
					}
				}
				add_equipment_to_stockpile = {
					type = small_plane_airframe_1
					variant_name = "Phoenix-TBK Model-01"
					amount = 100
				}
			}
			else_if = {
				limit = {
					has_tech = early_fighter
				}
				add_tech_bonus = {
					name = fighter_bonus
					bonus = 3
					uses = 1
					category = light_fighter
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 100
				}
			}
			else = {
				set_technology = {
					early_fighter = 1
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 100
				}
			}
		}
	}
	
	shared_focus = {
		id = TBK_AF_surael_guided_artillery
		icon = GFX_goal_TBK_AF_surael_guided_artillery
		cost = 5
		relative_position_id = TBK_AF_gunpowder_wonder_weapons
		prerequisite = { focus = TBK_AF_gunpowder_wonder_weapons }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_surael_guided_artillery"
			add_ideas = TBK_AF_artillery_tactics_1
			add_tech_bonus = {
				name = artillery_bonus
				bonus = 1
				uses = 1
				ahead_reduction = 2
				category = mio_cat_artillery
			}
		}
	}

	shared_focus = {
		id = TBK_AF_firepower_adoption
		icon = GFX_goal_TBK_AF_firepower_adoption
		cost = 5
		relative_position_id = TBK_AF_surael_guided_artillery
		prerequisite = { focus = TBK_AF_surael_guided_artillery }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_firepower_adoption"
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
			if = {
				limit = {
					NOT = {
						has_tech = interwar_antiair
					}
				}
				set_technology = {
					interwar_antiair = 1
				}
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 1
					ahead_reduction = 2
					category = cat_anti_air
				}
			}
			else = {
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 2
					ahead_reduction = 2
					category = cat_anti_air
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = interwar_antitank
					}
				}
				set_technology = {
					interwar_antitank = 1
				}
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 1
					ahead_reduction = 2
					category = cat_anti_tank
				}
			}
			else = {
				add_tech_bonus = {
					name = artillery_bonus
					bonus = 1
					uses = 2
					ahead_reduction = 2
					category = cat_anti_tank
				}
			}
		}
	}
		
	shared_focus = {
		id = TBK_AF_steel_demon
		icon = GFX_goal_TBK_AF_steel_demon
		cost = 5
		relative_position_id = TBK_AF_new_kind_of_cavalry
		prerequisite = { focus = TBK_AF_new_kind_of_cavalry }
		prerequisite = { focus = TBK_AF_firepower_adoption }
		x = 1
		y = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus TBK_AF_steel_demon"
			TBK_AF_jaddar_jexiszuir = {
				add_attack = 1
				add_defense = 1
				add_planning = 1
				add_logistics = 1
			}
			swap_ideas = {
				remove_idea = TBK_AF_artillery_tactics_1
				add_idea = TBK_AF_artillery_tactics_2
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 1.5
				uses = 2
				ahead_reduction = 2
				category = armor
			}
		}
	}
