@GRI_AF_SC_UNIFICATION_WAR_OVER_NB_PURIFIED = 52

focus_tree = {
	id = imperium_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = GRI
		}
		modifier = {
			add = 10
			has_country_flag = GRI_AF_unlock_military_focus
		}
	}
	default = no
	continuous_focus_position = { x = -19 y = 2400 }
  
	shared_focus = GRI_AF_imperium
	shared_focus = GRI_AF_militarum
}

focus_tree = {
	id = imperium_focus_shared_conquest

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = GRI
		}
		modifier = {
			add = 20
			has_country_flag = GRI_AF_shared_conquest_tree_enable
		}
	}
	default = no
	continuous_focus_position = { x = -19 y = 2400 }
  
	shared_focus = GRI_AF_imperium
	shared_focus = GRI_AF_militarum
	shared_focus = GRI_AF_sc_shared_conquest
}

### The Imperium ###
shared_focus = {
	id = GRI_AF_imperium
	icon = GFX_goal_GRI_new_imperium
	cost = 1.00
	available = {
		always = no
	}
	ai_will_do = {
		factor = 40000
	}
	x = 16
	y = 0
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_Imperium"
		hidden_effect = {
			country_event = {
				id = imperium.12
				days = 270
				random_hours = 20
			}
			set_global_flag = GRI_AP_musicflag
		}
	}
}
shared_focus = {
	id = GRI_AF_the_great_purge
	icon = GFX_goal_GRI_the_great_purge
	cost = 5
	relative_position_id = GRI_AF_imperium
	prerequisite = {
		focus = GRI_AF_imperium
	}
	x = -4
	y = 1
	ai_will_do = {
		factor = 500
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_the_great_purge"
		hidden_effect = {
			add_dynamic_modifier = {
				modifier = GRI_AF_great_purge_modifer
			}
			set_variable = {
				GRI_AF_recruitable_population_factor_var = -0.9
			} 
			set_variable = {
				GRI_AF_army_org_factor_var = -0.9
			}
			set_variable = {
				GRI_AF_army_speed_factor_var = -0.9
			}
			set_variable = {
				GRI_AF_experience_gain_factor_var = -0.9
			}
		}
		custom_effect_tooltip = GRI_AF_great_purge_tt
		swap_ideas = {
			remove_idea = GRI_AF_poisoned_capital
			add_idea = GRI_AF_bureaucracy_in_tatters
		}
	}
}
shared_focus = { #xp
	id = GRI_AF_and_in_the_lands_of_disloyal
	icon = GFX_goal_GRI_lands_of_disloyal
	cost = 5
	x = -3
	y = 1
	relative_position_id = GRI_AF_the_great_purge
	prerequisite = {
		focus = GRI_AF_the_great_purge
	}
	ai_will_do = {
		factor = 175
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_and_in_the_lands_of_disloyal"
		add_to_variable = {GRI_AF_experience_gain_factor_var = 0.3 }
		custom_effect_tooltip = GRI_AF_GRI_AF_lands_of_disloyal_tt
	}	
}
shared_focus = { #recruitable
	id = GRI_AF_hearts_and_minds
	icon = GFX_goal_GRI_hearts_and_minds
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_the_great_purge
	prerequisite = {
		focus = GRI_AF_the_great_purge
	}
	ai_will_do = {
		factor = 175
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_hearts_and_minds"
		add_to_variable = {GRI_AF_recruitable_population_factor_var = 0.2}
		custom_effect_tooltip = GRI_AF_hearts_and_minds_tt
	}
	
}
shared_focus = {
	id = GRI_AF_there_are_traitors
	icon = GFX_goal_GRI_there_are_traitors
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_and_in_the_lands_of_disloyal
	prerequisite = {
		focus = GRI_AF_and_in_the_lands_of_disloyal
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_there_are_traitors"
		add_to_variable = {GRI_AF_army_org_factor_var = 0.5}
		custom_effect_tooltip = GRI_AF_there_are_traitors_tt
		remove_ideas = CHN_GRI_Attache_for_GRI
		retire_character = GRI_synovial
		retire_character = GRI_thranx
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
	}
}
shared_focus = {
	id = GRI_AF_souls_and_bodies
	icon = GFX_goal_GRI_souls_and_bodies
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_hearts_and_minds
	prerequisite = {
		focus = GRI_AF_hearts_and_minds
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_souls_and_bodies"
		add_to_variable = {GRI_AF_experience_gain_factor_var = 0.2 }
		custom_effect_tooltip = GRI_AF_souls_and_bodies_tt
		remove_ideas = GRI_land_thougth
		retire_character = GRI_anicetus_mudbeak
		retire_character = GRI_erich_ebonwing
		retire_character = GRI_august_duskwing
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
	}
}
shared_focus = { #org
	id = GRI_AF_make_them_suffer
	icon = GFX_goal_GRI_make_them_suffer
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_the_great_purge
	prerequisite = {
		focus = GRI_AF_the_great_purge
	}
	ai_will_do = {
		factor = 175
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_make_them_suffer"
		add_to_variable = {GRI_AF_army_org_factor_var = 0.4}
		custom_effect_tooltip = GRI_AF_make_them_suffer_tt
	}
}
shared_focus = { #speed
	id = GRI_AF_find_the_traitors
	icon = GFX_goal_GRI_find_the_traitors
	cost = 5
	x = 3
	y = 1
	relative_position_id = GRI_AF_the_great_purge
	prerequisite = {
		focus = GRI_AF_the_great_purge
	}
	ai_will_do = {
		factor = 175
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_find_the_traitors"
		add_to_variable = {GRI_AF_army_speed_factor_var = 0.4}
		custom_effect_tooltip = GRI_AF_find_the_traitors_tt
	}
}
shared_focus = {
	id = GRI_AF_get_the_confessions
	icon = GFX_goal_GRI_get_the_confessions
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_make_them_suffer
	prerequisite = {
		focus = GRI_AF_make_them_suffer
	}
	prerequisite = {
		focus = GRI_AF_find_the_traitors
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_get_the_confessions"
		add_to_variable = {GRI_AF_recruitable_population_factor_var = 0.3}
		custom_effect_tooltip = GRI_AF_get_the_confessions_tt
		remove_ideas = GRI_boreas_archonate
		retire_character = GRI_archon_proteus
		retire_character = GRI_archon_erion
		retire_character = GRI_archon_eros_vii
		retire_character = ceron
		retire_character = iris
		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}
		country_event = imperium.3005
	}
}
shared_focus = {
	id = GRI_AF_a_clean_imperium
	icon = GFX_goal_GRI_a_clean_imperium
	cost = 8
	x = 1
	y = 3
	relative_position_id = GRI_AF_the_great_purge
	prerequisite = {
		focus = GRI_AF_there_are_traitors
	}
	prerequisite = {
		focus = GRI_AF_souls_and_bodies
	}
	prerequisite = {
		focus = GRI_AF_get_the_confessions
	}
	ai_will_do = {
		factor = 125
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_a_clean_imperium"
		if = {
			limit = {
				has_completed_focus = GRI_AF_there_are_traitors
				has_completed_focus = GRI_AF_souls_and_bodies
				has_completed_focus = GRI_AF_get_the_confessions
			}
			remove_dynamic_modifier = {
					modifier = GRI_AF_great_purge_modifer
				}
			}
		else = {
			hidden_effect = {
			remove_dynamic_modifier = {
				modifier = GRI_AF_great_purge_modifer
				}	
			}
			custom_effect_tooltip = GRI_AF_a_clean_imperium_tt
			
		}
		remove_ideas = GRI_AF_bureaucracy_in_tatters
		country_event = imperium.3001
	}
}
shared_focus = {
	id = GRI_AF_in_the_lands_of_the_loyal
	icon = GFX_goal_GRI_in_the_lands_of_the_loyal
	cost = 5
	x = 4
	y = 1
	relative_position_id = GRI_AF_imperium
	prerequisite = {
		focus = GRI_AF_imperium
	}
	ai_will_do = {
		factor = 500
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_in_the_lands_of_the_loyal"
		hidden_effect = {
			add_dynamic_modifier = {
				modifier = GRI_AF_pillars_of_the_empire_modifier
			}
			set_variable = {
				GRI_AF_stability_factor_var = 0.1
			}
		}
		custom_effect_tooltip = GRI_AF_in_the_lands_of_the_loyal_tt
		add_corps_commander_role = {
			character = GRI_travol_the_unbreakable
			traits={ griffon_race_trait trait_engineer }
			skill=3
			attack_skill=1
			defense_skill=6
			planning_skill=2
			logistics_skill=3
		}
	}
}
shared_focus = {
	id = GRI_AF_the_imperial_core
	icon = GFX_goal_GRI_the_imperial_core
	cost = 5
	x = 3
	y = 1
	relative_position_id = GRI_AF_in_the_lands_of_the_loyal
	prerequisite = {
		focus = GRI_AF_in_the_lands_of_the_loyal
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_imperial_core"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_unto_itself
	icon = GFX_goal_GRI_unto_itself
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_the_imperial_core
	prerequisite = {
		focus = GRI_AF_the_imperial_core
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_unto_itself"
		add_to_variable = {GRI_AF_consumer_goods_factor_var = -0.1}
		custom_effect_tooltip = GRI_AF_unto_itself_tt
		add_stability = 0.05
	}
}
shared_focus = {
	id = GRI_AF_all_the_scholars_and_custodians
	icon = GFX_goal_GRI_the_scientific_faith
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_in_the_lands_of_the_loyal
	prerequisite = {
		focus = GRI_AF_in_the_lands_of_the_loyal
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_all_the_scholars_and_custodians"
		decrease_illiteracy = yes
	}
}
shared_focus = {
	id = GRI_AF_and_their_inventions
	icon = GFX_goal_GRI_and_their_inventions
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_all_the_scholars_and_custodians
	prerequisite = {
		focus = GRI_AF_all_the_scholars_and_custodians
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_and_their_inventions"	
		add_research_slot = 1
		add_to_variable = {GRI_AF_research_speed_factor_var = 0.05}	
		custom_effect_tooltip = GRI_AF_and_their_inventions_tt
	}
}
shared_focus = {
	id = GRI_AF_all_the_soldiers_of_the_empire
	icon = GFX_goal_GRI_all_the_soldiers_of_the_empire
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_in_the_lands_of_the_loyal
	prerequisite = {
		focus = GRI_AF_in_the_lands_of_the_loyal
	}
	ai_will_do = {
		factor = 200
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_all_the_soldiers_of_the_empire"
		army_experience = 50
		add_manpower = 75000
		country_event = imperium.3004
	}
}
shared_focus = {
	id = GRI_AF_all_teh_sons_of_the_empire
	icon = GFX_goal_GRI_sons_of_the_imperium
	cost = 5
	x = -3
	y = 1
	relative_position_id = GRI_AF_in_the_lands_of_the_loyal
	prerequisite = {
		focus = GRI_AF_in_the_lands_of_the_loyal
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_all_the_sons_of_the_empire"
		add_to_variable = {GRI_AF_industrial_capacity_factor_var = 0.1}
		add_to_variable = {GRI_AF_stability_factor_var = 0.2}
		custom_effect_tooltip = GRI_AF_all_teh_sons_of_the_empire_tt
	}
}
shared_focus = {
	id = GRI_AF_marshall_the_troops
	icon = GFX_goal_GRI_marshall_the_troops
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_all_teh_sons_of_the_empire
	prerequisite = {
		focus = GRI_AF_all_teh_sons_of_the_empire
	}
	prerequisite = {
		focus= GRI_AF_all_the_soldiers_of_the_empire
	}
	ai_will_do = {
		factor = 150
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_marshall_the_troops"
		add_to_variable = {GRI_AF_stability_factor_var = 0.2}
		custom_effect_tooltip = GRI_AF_marshall_the_troops_tt
	}
}
shared_focus = {
	id = GRI_AF_a_loyal_imperium
	icon = GFX_goal_GRI_a_loyal_imperium
	cost = 8
	x = -1
	y = 3
	relative_position_id = GRI_AF_in_the_lands_of_the_loyal
	prerequisite = {
		focus = GRI_AF_unto_itself
	}
	prerequisite = {
		focus = GRI_AF_and_their_inventions
	}
	prerequisite = {
		focus = GRI_AF_marshall_the_troops
	}
	ai_will_do = {
		factor = 125
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_a_loyal_imperium"
		increase_society_development_with_tt = yes
		country_event = imperium.3000
	}
}

shared_focus = {
	id = GRI_AF_the_traitor_duchess
	icon = GFX_goal_GRI_traitor_duchess
	cost = 5
	x = 2
	y = 1
	relative_position_id = GRI_AF_a_clean_imperium
	prerequisite = {
		focus = GRI_AF_a_loyal_imperium
	}
	prerequisite = {
		focus = GRI_AF_a_clean_imperium
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_traitor_duchess"
		country_event = imperium.3002
		405 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 1053
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 4081
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 4083
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 9984
			}
		}
		437 = {
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 10084
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 12510
			}
			add_building_construction = {
				type = bunker
				level = 3
				instant_build = yes
				province = 4767
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_the_traitor_general
	icon = GFX_goal_GRI_traitor_general
	cost = 5
	x = -2
	y = 1
	relative_position_id = GRI_AF_a_loyal_imperium
	prerequisite = {
		focus = GRI_AF_a_loyal_imperium
	}
	prerequisite = {
		focus = GRI_AF_a_clean_imperium
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_traitor_general"
		country_event = imperium.3003
		add_to_variable = {GRI_AF_war_stability_factor_var = 0.5}
		custom_effect_tooltip = GRI_AF_the_traitor_general_tt
	}
}

shared_focus = {
	id = GRI_AF_look_upon_the_herzland
	icon = GFX_goal_GRI_look_upon_the_herzland
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_the_traitor_general
	prerequisite = {
		focus = GRI_AF_the_traitor_duchess
	}
	prerequisite = {
		focus = GRI_AF_the_traitor_general
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_look_upon_the_herzland"
		add_stability = 0.1
		add_tech_bonus = {
			name = RCT_expand_radar
			bonus = 1.0
			uses = 1
			category = radar_tech
		}
		add_breakthrough_progress = {
			specialization = specialization_air
			value = 0.5
		}
		382 = {
			add_building_construction = {
				type = radar_station
				level = 2
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_the_shine_of_weapons
	icon = GFX_goal_GRI_the_shine_of_weapons
	cost = 8
	x = -1
	y = 1
	relative_position_id = GRI_AF_look_upon_the_herzland
	prerequisite = {
		focus = GRI_AF_look_upon_the_herzland
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_shine_of_weapons"
		annex_country = {
			target = BRZ
			transfer_troops = yes
		}
		custom_effect_tooltip = GRI_AF_the_shine_of_weapons_tt
		hidden_effect = {
			add_state_core = 424
			add_state_core = 479
			add_state_core = 568
			add_state_core = 492
			add_state_core = 539
		}
	}
}
shared_focus = {
	id = GRI_AF_the_bellow_of_the_manufactoria
	icon = GFX_goal_GRI_cult_of_the_machine
	cost = 8
	x = 1
	y = 1
	relative_position_id = GRI_AF_look_upon_the_herzland
	prerequisite = {
		focus = GRI_AF_look_upon_the_herzland
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_bellow_of_manufactoria"
		annex_country = {
			target = YAL
			transfer_troops = yes
		}
		custom_effect_tooltip = GRI_AF_the_bellow_of_the_manufactoria_tt
		hidden_effect = {
			add_state_core = 665
			add_state_core = 402
			add_state_core = 398
			add_state_core = 439
		}
	}
}
shared_focus = {
	id = GRI_AF_the_winds_of_boreas
	icon = GFX_goal_GRI_the_winds_of_boreas
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_the_shine_of_weapons
	prerequisite = {
		focus = GRI_AF_the_shine_of_weapons
		focus = GRI_AF_the_bellow_of_the_manufactoria
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_winds_of_boreas"
		add_to_variable = {GRI_AF_production_speed_buildings_factor_var = 0.1}
		custom_effect_tooltip = GRI_AF_the_winds_of_boreas_tt
	}

}
shared_focus = {
	id = GRI_AF_the_steel_of_arcturius
	icon = GFX_goal_GRI_the_steel_of_arcturius
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_look_upon_the_herzland
	prerequisite = {
		focus = GRI_AF_the_shine_of_weapons
		focus = GRI_AF_the_bellow_of_the_manufactoria
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_steel_of_arcturius"
		382 = {
			add_resource = {
				type = steel
				amount = 30
			}
		}
		397 = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		437 = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		405 = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}

}
shared_focus = {
	id = GRI_AF_the_light_of_eyr
	icon = GFX_goal_GRI_the_light_of_eyr
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_the_bellow_of_the_manufactoria
	prerequisite = {
		focus = GRI_AF_the_shine_of_weapons
		focus = GRI_AF_the_bellow_of_the_manufactoria
	}
	ai_will_do = {
		factor = 100
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_the_light_of_eyr"
		decrease_illiteracy = yes
		382 = {
			add_resource = {
				type = crystals
				amount = 20
			}
		}
	}
}

shared_focus = {
	id = GRI_AF_unification_by_force
	icon = GFX_goal_GRI_unification_by_force
	cost = 8
	x = 0
	y = 1
	relative_position_id = GRI_AF_the_steel_of_arcturius
	prerequisite = {
		focus = GRI_AF_the_winds_of_boreas
	}
	prerequisite = {
		focus = GRI_AF_the_steel_of_arcturius
	}
	prerequisite = {
		focus = GRI_AF_the_light_of_eyr
	}
	ai_will_do = {
		factor = 75
	}
	will_lead_to_war_with = FEA
	will_lead_to_war_with = STW
	will_lead_to_war_with = ROU
	will_lead_to_war_with = PYT
	will_lead_to_war_with = KAT
	will_lead_to_war_with = ANG
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_unification_by_foce"
		if = {
			limit = {
				country_exists = ANG
			}
			declare_war_on = { type = annex_everything target = ANG}
		}
		if = {
			limit = {
				country_exists = KAT
			}
			declare_war_on = { type = annex_everything target = KAT }
		}
		if = {
			limit = {
				country_exists = FEA
			}
			declare_war_on = { type = annex_everything target = FEA }
		}
		if = {
			limit = {
				country_exists = STW
			}
			declare_war_on = { type = annex_everything target = STW }
		}
		if = {
			limit = {
				country_exists = ROU
			}
			declare_war_on = { type = annex_everything target = ROU }
		}
		if = {
			limit = {
				country_exists = PYT
			}
			declare_war_on = { type = annex_everything target = PYT }
		}
		ANG = { add_to_ROOT_potential_cores = yes }
		KAT = { add_to_ROOT_potential_cores = yes }
		FEA = { add_to_ROOT_potential_cores = yes }
		STW = { add_to_ROOT_potential_cores = yes }
		ROU = { add_to_ROOT_potential_cores = yes }
		PYT = { add_to_ROOT_potential_cores = yes }
		hidden_effect = {
			scoped_play_song = "WH40K-Chaos-Gate_Ultramarines-Chant"
		}
	}
}
shared_focus = {
	id = GRI_AF_annihilate_the_heresy
	icon = GFX_goal_GRI_annihilate_the_heresy
	cost = 8
	x = 0
	y = 1
	relative_position_id = GRI_AF_unification_by_force
	prerequisite = {
		focus = GRI_AF_unification_by_force
	}
	available = { 
		has_war = no
	}
	ai_will_do = {
		factor = 10
	}
	will_lead_to_war_with = FAT
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: GRI_AF_annihilate_the_heresy"
		if = {
			limit = {
				country_exists = FAT
			}
			declare_war_on = { type = annex_everything target = FAT }
		}
		country_event = imperium.3006
	}
}

### Astra Militarum ###
shared_focus = {
	id = GRI_AF_militarum
	icon = GFX_goal_GRI_newmilitarum
	dynamic = yes
	cost = 2
	available = {
		has_country_flag = GRI_AF_unlock_military_focus
	}
	ai_will_do = {
		factor = 10
		modifier = {
			add = 200
			original_tag = GRI
		}
		modifier = {
			add = 290
			original_tag = FAT
		}
	}
	x = 32
	y = 0
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_militarum"
		army_experience = 30
		navy_experience = 15
		air_experience = 15
	}
}
shared_focus = {
	id = GRI_AF_next_generation_of_knights
	icon = GFX_goal_GRI_next_generation_of_knights
	dynamic = yes
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_militarum
	prerequisite = {
		focus = GRI_AF_militarum
	}
	available = {
		has_tech = gri_ap_super_griffons
	}
	ai_will_do = {
		factor = 10
		modifier = {
			add = 200
			original_tag = GRI
		}
		modifier = {
			add = 290
			original_tag = FAT
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_new_generation_of_knights"
		add_equipment_to_stockpile = {
			type = super_griffons_weapon_1
			amount = 1000
		}
		add_equipment_to_stockpile = {
			type = super_griffons_armor_1
			amount = 1000
		}
	}
}
shared_focus = {
	id = GRI_AF_star_knights_specialization
	icon = GFX_goal_GRI_star_knight_specialization
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_next_generation_of_knights
	prerequisite = {
		focus = GRI_AF_next_generation_of_knights
	}
	mutually_exclusive = {
		focus = GRI_AF_star_knights_generalization
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
		modifier = {
			add = 290
			original_tag = FAT
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_star_knights_specialization"
		add_ideas = GRI_AF_specialization
	}
}
shared_focus = {
	id = GRI_AF_star_knights_generalization
	icon = GFX_goal_GRI_star_knight_generalization
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_next_generation_of_knights
	prerequisite = {
		focus = GRI_AF_next_generation_of_knights
	}
	mutually_exclusive = {
		focus = GRI_AF_star_knights_specialization
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
		modifier = {
			add = 290
			original_tag = FAT
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_star_knights_generalization"
		add_ideas = GRI_AF_generalization
	}
}
shared_focus = {
	id = GRI_AF_extreme_training
	icon = GFX_goal_GRI_extreme_training
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_star_knights_generalization
	prerequisite = {
		focus = GRI_AF_star_knights_generalization
		focus = GRI_AF_star_knights_specialization
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_extreme_training"
		add_ideas = GRI_AF_star_knight_extreme_training
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 1.0
			uses = 1
			category = race_tech
		}
	}
}
shared_focus = {
	id = GRI_AF_imperiums_finest
	icon = GFX_goal_GRI_imperiums_finest
	dynamic = yes
	cost = 5
	x = -2
	y = 1
	relative_position_id = GRI_AF_extreme_training
	prerequisite = {
		focus = GRI_AF_extreme_training
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_imperiums_finest"
		every_character = {
			limit = {
				is_unit_leader = yes 
			}
			add_planning = 1
			add_logistics = 1
		}
	}
}
shared_focus = {
	id = GRI_AF_seize_industry_in_his_name
	icon = GFX_goal_GRI_seize_industry_in_his_name
	dynamic = yes
	cost = 5
	x = 0
	y = 1
	relative_position_id = GRI_AF_extreme_training
	prerequisite = {
		focus = GRI_AF_extreme_training
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_seize_industry_in_his_name"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = industrial_complex
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_fire_from_afar
	icon = GFX_goal_GRI_fire_from_afar
	dynamic = yes
	cost = 5
	x = 2
	y = 1
	relative_position_id = GRI_AF_extreme_training
	prerequisite = {
		focus = GRI_AF_extreme_training
	}
	ai_will_do = {
		factor = 10
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_fire_from_afar"
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.5
			uses = 3
			category = artillery
		}
	}
}
shared_focus = {
	id = GRI_AF_the_great_archival
	icon = GFX_goal_GRI_great_archival
	dynamic = yes
	cost = 8
	x = 0
	y = 1
	ai_will_do = { factor = 12 }
	relative_position_id = GRI_AF_seize_industry_in_his_name
	prerequisite = {
		focus = GRI_AF_seize_industry_in_his_name
	}
	prerequisite = {
		focus = GRI_AF_imperiums_finest
	}
	prerequisite = {
		focus = GRI_AF_fire_from_afar
	}
	ai_will_do = {
		factor = 12
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_the_great_archival"
		add_research_slot = 1
		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 1.0
			uses = 3
			category = race_tech
		}
	}
}
shared_focus = {
	id = GRI_AF_an_unrelenting_force
	icon = GFX_goal_GRI_an_unrelenting_force
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_the_great_archival
	prerequisite = {
		focus = GRI_AF_the_great_archival
	}
	mutually_exclusive = {
		focus = GRI_AF_an_impenetrable_wall
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_an_unrelenting_force"
		add_ideas = GRI_AF_an_unrelenting_force_idea
	}
}
shared_focus = {
	id = GRI_AF_an_impenetrable_wall
	icon = GFX_goal_GRI_an_impenetrable_wall
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_the_great_archival
	prerequisite = {
		focus = GRI_AF_the_great_archival
	}
	mutually_exclusive = {
		focus = GRI_AF_an_unrelenting_force
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_an_impenetrable_wall"
		add_ideas = GRI_AF_an_impenetrable_wall_idea
	}
}
shared_focus = {
	id = GRI_AF_a_wave_of_fire_and_metal
	icon = GFX_goal_GRI_fire_and_metal
	dynamic = yes
	cost = 8
	x = 0
	y = 3
	relative_position_id = GRI_AF_the_great_archival
	prerequisite = {
		focus = GRI_AF_an_impenetrable_wall
		focus = GRI_AF_an_unrelenting_force
	}
	prerequisite = {
		focus = GRI_AF_streamlined_and_subsidized
	}
	prerequisite = {
		focus = GRI_AF_cement_the_transformation
	}
	ai_will_do = {
		factor = 30
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_a_wave_of_fire_and_metal"
		add_ideas = GRI_AF_a_wave_of_fire_and_metal_idea
	}
}
shared_focus = {
	id = GRI_AF_to_cover_the_sky
	icon = GFX_goal_GRI_cover_sky
	dynamic = yes
	cost = 5
	x = -4
	y = 1
	relative_position_id = GRI_AF_militarum
	prerequisite = {
		focus = GRI_AF_militarum
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_to_cover_the_sky"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				OR = {
					has_tech = early_fighter
					has_tech = iw_small_airframe
				}
		    }
		    add_tech_bonus = {
				name = fighter_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter
			}
			generic_early_fighter = yes
			add_equipment_to_stockpile = {
				type = small_plane_airframe
				variant_name = "Early Fighter"
				amount = 100
			}
		}
		else = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				set_technology = {
					iw_small_airframe = 1
				}
				generic_early_fighter = yes
				add_equipment_to_stockpile = {
					type = small_plane_airframe_0
					variant_name = "Early Fighter"
					amount = 100
				}
			}
			else = {	
				set_technology = {
					early_fighter = 1
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 100
				}
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_supremacy_of_the_skies
	icon = GFX_goal_GRI_supremacy_of_the_skies
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_to_cover_the_sky
	prerequisite = {
		focus = GRI_AF_to_cover_the_sky
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_supremacy_of_the_skies"
		add_doctrine_cost_reduction = {
			name = air_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
}
shared_focus = {
	id = GRI_AF_reinforce_the_second_wings
	icon = GFX_goal_GRI_reinforce_wings
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_to_cover_the_sky
	prerequisite = {
		focus = GRI_AF_to_cover_the_sky
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_reinforce_the_second_wings"
	air_experience = 30
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			air_experience = 15
			add_tech_bonus = {
				name = plane_modules_tech
				bonus = 1
				uses = 2
				category = plane_modules_tech
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_flying_fortresses
	icon = GFX_goal_GRI_flying_fortresses
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_to_cover_the_sky
	prerequisite = {
		focus = GRI_AF_to_cover_the_sky
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_flying_fortresses"
		if = {
			limit = {
			    has_tech = early_bomber
		    }
		    add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = tactical_bomber
			}
			add_equipment_to_stockpile = {
				type = medium_plane_airframe
				amount = 50
			}
		}
		else = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				set_technology = {
					iw_medium_airframe = 1
				}
				generic_early_tac_bomber = yes
				add_equipment_to_stockpile = {
					type = medium_plane_airframe_0
					variant_name = "Early Tactical Bomber"
					amount = 50
				}
			}
			else = {
				set_technology = {
					early_bomber = 1
				}				
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment_0
					amount = 50
				}
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_the_biggest_birds
	icon = GFX_goal_GRI_biggest_birds
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_flying_fortresses
	prerequisite = {
		focus = GRI_AF_flying_fortresses
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_the_biggest_birds"
		add_tech_bonus = {
			name = plane_modules_tech
			bonus = 1
			uses = 1
			category = plane_modules_tech
		}
		if = {
            limit = {
                OR = {
                    has_tech = iw_large_airframe
                    has_tech = strategic_bomber1
                }
            }
            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }
                add_tech_bonus = {
                name =  bomber_bonus
                bonus = 1.5
                uses = 1
                category = cat_strategic_bomber
                }
            }
            else = {
                add_tech_bonus = {
                name = heavy_air
                bonus = 1.5
                uses = 1
                category = heavy_air
                }
            }
        }
        else = {
            if = {
                limit = {
                    has_dlc = "By Blood Alone"
                }
                set_technology = {
                    iw_large_airframe = 1
                }
            }
            else = {    
                set_technology = {
                    strategic_bomber1 = 1
                }
            }
        }
	}
}
shared_focus = {
	id = GRI_AF_unleash_hellfire
	icon = GFX_goal_GRI_unleash_hellfire
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_supremacy_of_the_skies
	prerequisite = {
		focus = GRI_AF_supremacy_of_the_skies
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_unleash_hellfire"
		add_ideas = GRI_AF_fire_in_the_skies
	}
}
shared_focus = {
	id = GRI_AF_designs_from_the_technocrats
	icon = GFX_goal_GRI_new_designs_from_the_technocrats
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_supremacy_of_the_skies
	prerequisite = {
		focus = GRI_AF_reinforce_the_second_wings
		focus = GRI_AF_unleash_hellfire
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_designs_from_the_technocrats"
		air_experience = 50
		add_ideas = GRI_AF_improved_aerial_designs
	}
}
shared_focus = {
	id = GRI_AF_streamlined_and_subsidized
	icon = GFX_goal_GRI_streamlined_and_subsidised
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_designs_from_the_technocrats
	prerequisite = {
		focus = GRI_AF_designs_from_the_technocrats
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_streamlined_and_subsidized"
		add_ideas = GRI_AF_streamlined_air_production_idea
	}
}
shared_focus = {
	id = GRI_AF_to_cover_the_earth
	icon = GFX_goal_GRI_to_blanket_the_world
	dynamic = yes
	cost = 5
	x = 4
	y = 1
	relative_position_id = GRI_AF_militarum
	prerequisite = {
		focus = GRI_AF_militarum
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_to_cover_the_earth"
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 2
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = infantry_bonus
			bonus = 1.0
			uses = 1
			category = support_tech
		}
	}
}
shared_focus = {
	id = GRI_AF_mobile_battering_rams
	icon = GFX_goal_GRI_mobile_battering_rams
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_to_cover_the_earth
	prerequisite = {
		focus = GRI_AF_to_cover_the_earth
	}
	ai_will_do = {
		factor = 8
		modifier = {
			add = 100
			original_tag = GRI
		}
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_mobile_battering_rams"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.75
			uses = 2
			category = cat_medium_armor
		}
	}
}
shared_focus = {
	id = GRI_AF_crush_them_underneath
	icon = GFX_goal_GRI_crush_them_underneath
	dynamic = yes
	cost = 5
	x = -1
	y = 1
	relative_position_id = GRI_AF_mobile_battering_rams
	prerequisite = {
		focus = GRI_AF_mobile_battering_rams
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_crush_them_underneath"
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.5
			uses = 1
			category = cat_heavy_armor
		}
	}
}
shared_focus = {
	id = GRI_AF_the_vehicles_of_war
	icon = GFX_goal_GRI_vehicles_of_war
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_to_cover_the_earth
	prerequisite = {
		focus = GRI_AF_to_cover_the_earth
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_the_vehicles_of_war"
		add_tech_bonus = {
		name = armor_bonus
		bonus = 1.0
		uses = 1
		category = cat_light_armor
	}
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
	add_tech_bonus = {
		name = engine_tech_bonus
		bonus = 1.0
		uses = 1
		category = armor
	}
	add_tech_bonus = {
		name = armor_tech_bonus
		bonus = 1.0
		uses = 1
		category = armor
	}
	}
}
}
shared_focus = {
	id = GRI_AF_steer_the_armories
	icon = GFX_goal_GRI_steer_armories
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_to_cover_the_earth
	prerequisite = {
		focus = GRI_AF_to_cover_the_earth
	}
	ai_will_do = {
		factor = 12
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_steer_the_armories"
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
				OR = {
					is_in_home_area = yes
					NOT = {
						owner = {
							any_owned_state = {
								free_building_slots = {
									building = arms_factory
									size > 0
									include_locked = yes
								}
								is_in_home_area = yes
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = GRI_AF_strengthen_the_mechanized_wave
	icon = GFX_goal_GRI_mechanised_wave
	dynamic = yes
	cost = 5
	x = 1
	y = 1
	relative_position_id = GRI_AF_steer_the_armories
	prerequisite = {
		focus = GRI_AF_steer_the_armories
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_strengthen_the_mechanized_wave"
		add_tech_bonus = {
			name = mech_bonus
			bonus = 0.75
			uses = 2
			category = motorized_equipment
		}
	}
}
shared_focus = {
	id = GRI_AF_experiment_to_exterminate
	icon = GFX_goal_GRI_experiment_exterminate
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_steer_the_armories
	prerequisite = {
		focus = GRI_AF_strengthen_the_mechanized_wave
		focus = GRI_AF_the_vehicles_of_war
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_experiment_to_exterminate"
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
		add_tech_bonus = {
			name = infantry_bonus
			bonus = 1.0
			uses = 1
			category = support_tech
		}
	}
}
shared_focus = {
	id = GRI_AF_cement_the_transformation
	icon = GFX_goal_GRI_cement_the_transformation
	dynamic = yes
	cost = 5
	x = 0
	y = 2
	relative_position_id = GRI_AF_experiment_to_exterminate
	prerequisite = {
		focus = GRI_AF_experiment_to_exterminate
	}
	ai_will_do = {
		factor = 8
	}
	completion_reward = { 
		log = "[GetDateText]: [Root.GetName]: Focus GRI_AF_cement_the_transformation"
		add_ideas = GRI_AF_an_industry_transformed
	}
}

#### Shared Conquest Focuses ####

shared_focus = {
	id = GRI_AF_sc_shared_conquest
	icon = GFX_goal_AF23_shared_conquest
	cost = 1
	dynamic = yes
	x = 5 
	y = 1

	available = { always = no }  
	bypass = { has_country_flag = GRI_AF_shared_conquest_tree_enable }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_shared_conquest"
	}
}

shared_focus = {
	id = GRI_AF_sc_cleanup_the_north
	icon = GFX_goal_AF23_shared_cleanup_the_north
	cost = 5
	dynamic = yes
	x = 1
	y = 1
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_shared_conquest }

	bypass = {
		MNC = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		VED = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		SRS = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}

	will_lead_to_war_with = MNC
	will_lead_to_war_with = VED
	will_lead_to_war_with = SRS
	will_lead_to_war_with = FAT

	completion_reward = {
		if = {
			limit = {
				MNC = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = MNC
			}
		}
		if = {
			limit = {
				VED = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			hidden_effect = {
				every_country_with_original_tag = {
					original_tag_to_check = VED
					ROOT = {
						declare_war_on = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
			effect_tooltip = {
				declare_war_on = {
					type = annex_everything
					target = VED
				}
			}
		}
		if = {
			limit = {
				SRS = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}
			
			hidden_effect = {
				every_country_with_original_tag = {
					original_tag_to_check = SRS
					ROOT = {
						declare_war_on = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
			effect_tooltip = {
				declare_war_on = {
					type = annex_everything
					target = SRS
				}
			}
		}

		log = "[GetDateText]: [Root.GetName]: GRI_AF_shared_conquest"
	}
}

shared_focus = {
	id = GRI_AF_sc_unite_the_heartzland
	icon = GFX_goal_AF23_shared_unite_the_herzland
	cost = 5
	dynamic = yes
	x = -1
	y = 1
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_shared_conquest }

	bypass = {
		STW = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		BRZ = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		FEA = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		PYT = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		ROU = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		YAL = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		ANG = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
		KAT = {
			OR = {
				exists = no
				is_subject_of = ROOT
				has_war_with = ROOT
			}
		}
	}

	will_lead_to_war_with = STW
	will_lead_to_war_with = BRZ
	will_lead_to_war_with = FEA
	will_lead_to_war_with = PYT
	will_lead_to_war_with = ROU
	will_lead_to_war_with = YAL
	will_lead_to_war_with = ANG
	will_lead_to_war_with = KAT

	completion_reward = {
		if = {
			limit = {
				STW = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = STW
			}
		}
		if = {
			limit = {
				BRZ = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = BRZ
			}
		}
		if = {
			limit = {
				FEA = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = FEA
			}
		}
		if = {
			limit = {
				PYT = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = PYT
			}
		}
		if = {
			limit = {
				ROU = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = ROU
			}
		}
		if = {
			limit = {
				YAL = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = YAL
			}
		}
		if = {
			limit = {
				ANG = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = ANG
			}
		}
		if = {
			limit = {
				KAT = {
					exists = yes
					NOT = { is_subject_of = ROOT }
					NOT = { has_war_with = ROOT }
				}
			}

			declare_war_on = {
				type = annex_everything
				target = KAT
			}
		}

		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_unite_the_heartzland"
	}
}

shared_focus = {
	id = GRI_AF_sc_assert_our_control
	icon = GFX_goal_AF23_shared_assert_our_control
	cost = 5
	dynamic = yes
	x = 0
	y = 2
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_cleanup_the_north }
	prerequisite = { focus = GRI_AF_sc_unite_the_heartzland }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_assert_our_control"

		custom_effect_tooltip = GRI_AP_sc_asset_our_control_TT
		hidden_effect = {
			# Can directly integrate
			STW = { GRI_AF_add_to_ROOT_purified_cores = yes }
			BRZ = { GRI_AF_add_to_ROOT_purified_cores = yes }
			FEA = { GRI_AF_add_to_ROOT_purified_cores = yes }
			PYT = { GRI_AF_add_to_ROOT_purified_cores = yes }
			ROU = { GRI_AF_add_to_ROOT_purified_cores = yes }
			YAL = { GRI_AF_add_to_ROOT_purified_cores = yes }
			ANG = { GRI_AF_add_to_ROOT_purified_cores = yes }
			KAT = { GRI_AF_add_to_ROOT_purified_cores = yes }
			MNC = { GRI_AF_add_to_ROOT_purified_cores = yes }
			VED = { GRI_AF_add_to_ROOT_purified_cores = yes }
			SRS = { GRI_AF_add_to_ROOT_purified_cores = yes }

			# Previously captial of enemy need to be cleansed
			if = {
				limit = {
					NOT = {
						original_tag = GRI
					}
				}
				
				GRI = { GRI_AF_add_to_ROOT_inquisition_cores = yes }
				set_variable = { GRI_AF_GRI_inquisition_state = 382 }
			}
			if = {
				limit = {
					NOT = {
						original_tag = FAT
					}
				}
				
				FAT = { GRI_AF_add_to_ROOT_inquisition_cores = yes }
				set_variable = { GRI_AF_FAT_inquisition_state = 485 }
			}

			if = {
				limit = {
					original_tag = GRI
				}
				news_event = {
					id = imperium_news.42
					days = 4
				}
			} else = {
				news_event = {
					id = imperium_news.41
					days = 4
				}
			}
		}

		country_event = imperium.4005
		hidden_effect = {
			country_event = {
				id = imperium.4100
				days = 2
			}
			load_oob = "GRI_AF_inquisitors"
			set_division_template_cap = {
				division_template = "Inquisitors"
				division_cap = 0
			}
		}
		set_variable = {
			GRI_AF_tag_nmb_to_pacify = @GRI_AF_SC_UNIFICATION_WAR_OVER_NB_PURIFIED
		}
		set_variable = { GRI_AF_pacified_tag_nmb = 0 }
	}
}

shared_focus = {
	id = GRI_AF_sc_biotechnical_division
	icon = GFX_goal_AF23_shared_biotechnical_division
	cost = 5
	dynamic = yes
	x = 2
	y = 3
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_assert_our_control }
 
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_biotechnical_division"

		custom_effect_tooltip = available_designer
		show_ideas_tooltip = GRI_AF_biotechnical_division
	}
}

shared_focus = {
	id = GRI_AF_sc_form_imperial_guard
	icon = GFX_goal_AF23_shared_form_imperial_guard
	cost = 5
	dynamic = yes
	x = 1
	y = 4
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_biotechnical_division }
 
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_form_imperial_guard"

		add_ideas = GRI_AF_imperial_guard_0
	}
}

shared_focus = {
	id = GRI_AF_sc_knight_chapters
	icon = GFX_goal_AF23_shared_knight_chapters
	cost = 5
	dynamic = yes
	x = 3
	y = 4
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_biotechnical_division }
 
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_knight_chapters"

		add_ideas = GRI_AF_supper_griffons_chapter_0
	}
}

shared_focus = {
	id = GRI_AF_sc_territory_integration
	icon = GFX_goal_AF23_shared_territory_integration
	cost = 5
	dynamic = yes
	x = -2
	y = 3
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_assert_our_control }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_territory_integration"

		# Regional inquisition events
		set_variable = { GRI_AF_number_region_events = 6 }
		# The north
		add_to_array = { GRI_AF_inquisition_region_0 = FAT }
		# The herzland
		add_to_array = { GRI_AF_inquisition_region_1 = GRI }
		# Aquilea
		add_to_array = { GRI_AF_inquisition_region_2 = TRD }
		add_to_array = { GRI_AF_inquisition_region_2 = FEZ }
		add_to_array = { GRI_AF_inquisition_region_2 = AET }
		add_to_array = { GRI_AF_inquisition_region_2 = HEL }
		add_to_array = { GRI_AF_inquisition_region_2 = FLO }
		add_to_array = { GRI_AF_inquisition_region_2 = POM }
		add_to_array = { GRI_AF_inquisition_region_2 = JER }
		add_to_array = { GRI_AF_inquisition_region_2 = JEB }
		add_to_array = { GRI_AF_inquisition_region_2 = JRR }
		add_to_array = { GRI_AF_inquisition_region_2 = VIN }
		add_to_array = { GRI_AF_inquisition_region_2 = JFT }
		# Wingbardy and co.
		add_to_array = { GRI_AF_inquisition_region_3 = WNG }
		add_to_array = { GRI_AF_inquisition_region_3 = TAL }
		add_to_array = { GRI_AF_inquisition_region_3 = FRN }
		add_to_array = { GRI_AF_inquisition_region_3 = ARA }
		add_to_array = { GRI_AF_inquisition_region_3 = FAL }
		add_to_array = { GRI_AF_inquisition_region_3 = SIC }
		add_to_array = { GRI_AF_inquisition_region_3 = CYA }
		add_to_array = { GRI_AF_inquisition_region_3 = MIT }
		# Evi valley
		add_to_array = { GRI_AF_inquisition_region_4 = BAN }
		add_to_array = { GRI_AF_inquisition_region_4 = BRF }
		add_to_array = { GRI_AF_inquisition_region_4 = LUS }
		add_to_array = { GRI_AF_inquisition_region_4 = GRY }
		add_to_array = { GRI_AF_inquisition_region_4 = GRU }
		add_to_array = { GRI_AF_inquisition_region_4 = BOI }
		add_to_array = { GRI_AF_inquisition_region_4 = LAK }
		# River Federation
		add_to_array = { GRI_AF_inquisition_region_5 = LCT }
		add_to_array = { GRI_AF_inquisition_region_5 = DEP }
		add_to_array = { GRI_AF_inquisition_region_5 = DMT }
		add_to_array = { GRI_AF_inquisition_region_5 = BAK }
		add_to_array = { GRI_AF_inquisition_region_5 = RCT }
		add_to_array = { GRI_AF_inquisition_region_5 = NIM }

		# Here you can add potential state inquisition events
		#add_to_array = { GRI_AF_inquisition_events = GRI }
		#add_to_array = { GRI_AF_inquisition_events = FAT }
		#add_to_array = { GRI_AF_inquisition_events = JER }
		#add_to_array = { GRI_AF_inquisition_events = WNG }
		#add_to_array = { GRI_AF_inquisition_events = BRD }
		#add_to_array = { GRI_AF_inquisition_events = RCT }

		country_event = imperium.4006
	}
}

shared_focus = {
	id = GRI_AF_sc_send_commissars
	icon = GFX_goal_AF23_shared_send_commissars
	cost = 5
	dynamic = yes
	x = -3
	y = 4
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_territory_integration }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_send_commissars"

		add_tech_bonus = {
			name = support_bonus
			bonus = 1
			uses = 2
			category = military_police_tech
		}

		add_ideas = GRI_AF_commissars
	}
}

shared_focus = {
	id = GRI_AF_sc_inquisition
	icon = GFX_goal_AF23_shared_inquisition
	cost = 5
	dynamic = yes
	x = -1
	y = 4
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_territory_integration }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_inquisition"

		GRI_AF_add_inqusitors_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_expand_chapters
	icon = GFX_goal_AF23_shared_expand_chapters
	cost = 5
	dynamic = yes
	x = 2
	y = 5
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_form_imperial_guard }
	prerequisite = { focus = GRI_AF_sc_knight_chapters }
	prerequisite = { focus = GRI_AF_sc_send_commissars }
	prerequisite = { focus = GRI_AF_sc_inquisition }

	mutually_exclusive = { focus = GRI_AF_sc_expand_imperial_guard }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_expand_chapters"

		swap_ideas = {
			remove_idea = GRI_AF_supper_griffons_chapter_0
			add_idea = GRI_AF_supper_griffons_chapter_1
		}
	}
}

shared_focus = {
	id = GRI_AF_sc_expand_imperial_guard
	icon = GFX_goal_AF23_shared_expand_imperial_guard
	cost = 5
	dynamic = yes
	x = -2
	y = 5
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_form_imperial_guard }
	prerequisite = { focus = GRI_AF_sc_knight_chapters }
	prerequisite = { focus = GRI_AF_sc_send_commissars }
	prerequisite = { focus = GRI_AF_sc_inquisition }

	mutually_exclusive = { focus = GRI_AF_sc_expand_chapters }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_expand_imperial_guard"

		swap_ideas = {
			remove_idea = GRI_AF_imperial_guard_0
			add_idea = GRI_AF_imperial_guard_1
		}
	}
}

shared_focus = {
	id = GRI_AF_sc_plan_east
	icon = GFX_goal_AF23_shared_plan_east
	cost = 5
	dynamic = yes
	x = 2
	y = 6
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_expand_chapters
		focus = GRI_AF_sc_expand_imperial_guard
	}

	mutually_exclusive = { focus = GRI_AF_sc_plan_west }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_plan_east"
	
		country_event = imperium.4004
	}
}

shared_focus = {
	id = GRI_AF_sc_plan_west
	icon = GFX_goal_AF23_shared_plan_west
	cost = 5
	dynamic = yes
	x = -2
	y = 6
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_expand_chapters
		focus = GRI_AF_sc_expand_imperial_guard
	}

	mutually_exclusive = { focus = GRI_AF_sc_plan_east }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_plan_west"

		country_event = imperium.4003
	}
}

shared_focus = {
	id = GRI_AF_sc_unification_war
	icon = GFX_goal_AF23_shared_unification_war
	cost = 5
	dynamic = yes
	x = 0
	y = 7
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_plan_east
		focus = GRI_AF_sc_plan_west
	}

	select_effect = {
		log = "[GetDateText]: [Root.GetName]: Selected GRI_AF_sc_unification_war"
		if = {
			limit = {
				has_completed_focus = GRI_AF_sc_plan_west
			}

			country_event = {
				id = imperium.4008
				days = 5
			}
		} else = {
			country_event = {
				id = imperium.4009
				days = 5
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_unification_war"

		if = {
			limit = {
				has_completed_focus = GRI_AF_sc_plan_west
			}
			custom_effect_tooltip = GRI_AP_unification_war_west_TT
			add_to_temp_array = { temp_states = 379 }
			add_to_temp_array = { temp_states = 396 }
			add_to_temp_array = { temp_states = 457 }
			add_to_temp_array = { temp_states = 495 }
			add_to_temp_array = { temp_states = 496 }
			add_to_temp_array = { temp_states = 494 }
		} else_if = {
			limit = {
				has_completed_focus = GRI_AF_sc_plan_east
			}
			custom_effect_tooltip = GRI_AP_unification_war_east_TT
			add_to_temp_array = { temp_states = 505 }
			add_to_temp_array = { temp_states = 540 }
			add_to_temp_array = { temp_states = 553 }
			add_to_temp_array = { temp_states = 633 }
			add_to_temp_array = { temp_states = 650 }
			add_to_temp_array = { temp_states = 453 }
			add_to_temp_array = { temp_states = 643 }
			add_to_temp_array = { temp_states = 642 }
			add_to_temp_array = { temp_states = 641 }
		}

		for_each_scope_loop = {
			array = temp_states

			if = {
				limit = {
					NOT = {
						is_in_array = {
							array = temp_targets
							value = controller
						}
					}
				}

				add_to_temp_array = { temp_targets = controller }
				every_country = {
					limit = {
						has_guaranteed = PREV.controller
					}

					# Why ?
					meta_effect = {
						text = {
							diplomatic_relation = {
								country = [TAG_GUAR]
								relation = guarantee
								active = no
							}
						}

						TAG_GUAR = "[PREV.controller.GetTag]"
					}
				}
				controller = {
					if = {
						limit = {
							is_in_faction = yes
							is_faction_leader = no
						}
						
						leave_faction = yes
					}
				}
				ROOT = {
					declare_war_on = {
						target = PREV.controller
						type = annex_everything
					}
					hidden_effect = {
						create_wargoal = {
							target = PREV.controller
							type = annex_everything
						}
					}
				}
			}
		}
	}
}

shared_focus = {
	id = GRI_AF_sc_skyfall
	icon = GFX_goal_AF23_shared_skyfall
	cost = 4.3
	x = -4
	y = 8
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_unification_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_skyfall"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = TRD }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = FEZ }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 381 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 390 }

		TRD = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		FEZ = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_peripherie
	icon = GFX_goal_AF23_shared_peripherie
	cost = 4.3
	dynamic = yes
	x = -2
	y = 8
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_unification_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_peripherie"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = AET }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = HEL }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = FLO }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = POM }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 495 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 494 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 442 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 501 }

		AET = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		HEL = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		FLO = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		POM = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_around_the_lake
	icon = GFX_goal_AF23_shared_around_the_lake
	cost = 4.3
	dynamic = yes
	x = 0
	y = 8
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_unification_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_around_the_lake"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = AVI }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = ERI }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = EYR }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = BOI }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = LAK }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 470 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 401 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 391 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 389 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 383 }

		AVI = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		ERI = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		EYR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		BOI = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		LAK = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_hellquill_longsword
	icon = GFX_goal_AF23_shared_hellquill_longsword
	cost = 4.3
	dynamic = yes
	x = 2
	y = 8
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_unification_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_hellquill_longsword"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = LNS }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = HLQ }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 552 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 537 }

		LNS = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		HLQ = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_hillponies
	icon = GFX_goal_AF23_shared_hillponies
	cost = 4.3
	dynamic = yes
	x = 4
	y = 8
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_unification_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_hillponies"

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = FIR }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = WAT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = FBK }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 454 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 642 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 455 }

		FIR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		WAT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		FBK = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_imperium_navy
	icon = GFX_goal_AF23_shared_imperium_navy
	cost = 4.3
	dynamic = yes
	x = -5
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_skyfall }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_imperium_navy"

		add_ideas = GRI_AF_imperium_navy
		set_technology = {
			gri_ap_super_griffons_amphibious = 1
			popup = no
		}
		custom_effect_tooltip = GRI_AP_super_griffons_amphibious_TT
	}
}

shared_focus = {
	id = GRI_AF_sc_fell_aquila
	icon = GFX_goal_AF23_shared_fell_aquila
	cost = 4.3
	dynamic = yes
	x = -3
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_skyfall
		focus = GRI_AF_sc_peripherie
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_fell_aquila"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = JER }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = JEB }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = JRR }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = VIN }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = JFT }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 377 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 435 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 448 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 517 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 376 }

		JER = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		JEB = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		JRR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		VIN = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		JFT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_griffonstone
	icon = GFX_goal_AF23_shared_griffonstone
	cost = 4.3
	dynamic = yes
	x = -1
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_around_the_lake }

	available = {
		389 = {
			is_fully_controlled_by = ROOT
		}
		BOI = {
			custom_trigger_tooltip = {
				tooltip = GRI_AP_sc_has_been_pacified_TT
				is_in_array = {
					array = ROOT.GRI_AF_purified_cores
					value = THIS
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_griffonstone"

		GRI_AF_add_inqusitors_f = yes

		389 = {
			add_compliance = 30
			add_extra_state_shared_building_slots = 8
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 3
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = GRI_AF_sc_the_frontier
	icon = GFX_goal_AF23_shared_the_frontier
	cost = 4.3
	dynamic = yes
	x = 1
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_around_the_lake
		focus = GRI_AF_sc_hellquill_longsword
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_the_frontier"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = BAN }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = BRF }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = LUS }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = GRY }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = GRU }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 532 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 508 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 608 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 598 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 512 }

		BAN = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		BRF = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		LUS = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		GRY = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		GRU = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes	
	}
}

shared_focus = {
	id = GRI_AF_sc_river_federation
	icon = GFX_goal_AF23_shared_river_federation
	cost = 4.3
	dynamic = yes
	x = 3
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_hellquill_longsword
		focus = GRI_AF_sc_hillponies
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_river_federation"

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = LCT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = DEP }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = DMT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = BAK }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = RCT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = NIM }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 387 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 544 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 637 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 649 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 619 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 645 }

		LCT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		DEP = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		DMT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		BAK = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		RCT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		NIM = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_knights_and_dead
	icon = GFX_goal_AF23_shared_knights_and_dead
	cost = 4.3
	dynamic = yes
	x = 5
	y = 9
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_hillponies }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_knights_and_dead"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = HLR }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 425 }

		HLR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = NTR }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = DED }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 562 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 415 }

		NTR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		DED = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_the_islands
	icon = GFX_goal_AF23_shared_the_islands
	cost = 4.3
	dynamic = yes
	x = -6
	y = 10
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_imperium_navy }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_the_islands"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = HAU }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 659 }

		HAU = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = NCH }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 668 }

		NCH = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_burn_wingbardy
	icon = GFX_goal_AF23_shared_burn_wingbardy
	cost = 4.3
	dynamic = yes
	x = -2
	y = 10
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_fell_aquila
		focus = GRI_AF_sc_griffonstone
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_burn_wingbardy"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = WNG }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = TAL }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = FRN }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = JES }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = ARA }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = FAL }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 371 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 366 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 515 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 487 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 408 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 529 }

		WNG = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		TAL = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		FRN = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		ARA = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		FAL = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_parishes_and_minotaurs
	icon = GFX_goal_AF23_shared_parishes_and_minotaurs
	cost = 4.3
	dynamic = yes
	x = 0
	y = 10
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_griffonstone
		focus = GRI_AF_sc_the_frontier
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_parishes_and_minotaurs"

		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = SIC }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_tag = CYA }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 445 }
		add_to_temp_array = { GRI_AP_inquisition_coreable_input_state = 671 }

		SIC = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }
		CYA = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_cores_TT }

		GRI_AP_inquisition_coreable_f = yes

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = MIT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 386 }

		MIT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_the_south_east
	icon = GFX_goal_AF23_shared_the_south_east
	cost = 4.3
	dynamic = yes
	x = 2
	y = 10
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = {
		focus = GRI_AF_sc_the_frontier
		focus = GRI_AF_sc_river_federation
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_the_south_east"

		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = WIT }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = FRE }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = BAR }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = OLV }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_tag = ZES }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 617 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 580 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 624 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 412 }
		add_to_temp_array = { GRI_AP_inquisition_non_coreable_input_state = 413 }

		WIT = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		FRE = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		BAR = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		OLV = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }
		ZES = { custom_effect_tooltip = GRI_AF_add_to_ROOT_inquisition_non_cores_TT }

		GRI_AP_inquisition_non_coreable_f = yes
	}
}

shared_focus = {
	id = GRI_AF_sc_cleansing_magehold
	icon = GFX_goal_AF23_shared_cleansing_magehold
	cost = 4.3
	dynamic = yes
	x = 6
	y = 10
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_knights_and_dead }

	available = {
		415 = {
			is_fully_controlled_by = ROOT
		}
		DED = {
			custom_trigger_tooltip = {
				tooltip = GRI_AP_sc_has_been_pacified_TT
				is_in_array = {
					array = ROOT.GRI_AF_purified_cores
					value = THIS
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_cleansing_magehold"

		add_tech_bonus = {
			name = race_tech_bonus
			bonus = 0.5
			uses = 4
			category = race_tech
		}
		add_timed_idea = {
			idea = GRI_AF_magehold_findings
			days = 70
		}
	}
}

shared_focus = {
	id = GRI_AF_sc_griffonia_unified
	icon = GFX_goal_AF23_shared_griffonia_unified
	cost = 7.2
	dynamic = yes
	x = 0
	y = 11
	relative_position_id = GRI_AF_sc_shared_conquest

	prerequisite = { focus = GRI_AF_sc_the_islands }
	prerequisite = { focus = GRI_AF_sc_burn_wingbardy }
	prerequisite = { focus = GRI_AF_sc_parishes_and_minotaurs }
	prerequisite = { focus = GRI_AF_sc_the_south_east }
	prerequisite = { focus = GRI_AF_sc_cleansing_magehold }

	available = {
		custom_trigger_tooltip = {
			tooltip = GRI_AP_sc_unification_war_over_trigger_TT
			check_variable = {
				var = GRI_AF_pacified_tag_nmb
				value = GRI_AF_tag_nmb_to_pacify
				compare = greater_than_or_equals
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: GRI_AF_sc_griffonia_unified"

		custom_effect_tooltip = GRI_AP_sc_unification_war_won_TT

		hidden_effect = {
			country_event = imperium.4010
			#if = {
			#	limit = {
			#		has_war_with = EQS
			#		EQC = { exists = no }
			#	}
#
			#	country_event = {
			#		id = imperium.4013
			#		days = 5
			#	}
			#}

			if = {
				limit = {
					original_tag = GRI
				}

				news_event = {
					id = imperium_news.45
					days = 3
				}
			} else = {
				news_event = {
					id = imperium_news.46
					days = 3
				}
			}
		}
	}
}
