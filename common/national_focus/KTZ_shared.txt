focus_tree = {
	id = KTZ_april_fools_tree

	country = {
		factor = 0

		modifier = {
			add = 6
			tag = KTZ
			has_global_flag = katztime			
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 2500 }

	shared_focus = KTZ_this_isnt_flusion
	shared_focus = KTZ_continental_ambitions
	shared_focus = KTZ_the_kattown_pyramid
	shared_focus = KTZ_projekt_metropol
}

focus_tree = {
	id = KTZ_april_fools_tree_failure

	country = {
		base = 0

		modifier = {
			add = 0
			tag = KTZ
		}
	}
	default = no
	continuous_focus_position = { x = 500 y = 2500 }

}


shared_focus = {
	id = KTZ_this_isnt_flusion
	icon = GFX_goal_KTZ_this_isnt_fusion
	cost = 2
	x = 0
	y = 0

	ai_will_do = {
		factor = 5
	}

	bypass = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	select_effect = {
		hidden_effect = {
			if = {
				limit = {
					ABY = { is_ai = yes }
				}
				every_country = {
					limit = { is_ai = no }
					country_event = { id = katzen_AF.510 }
				}
			}
		}	
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_this_isnt_flusion"
		if = {
			limit = { tag = ABY }
			country_event = { id = katzen_AF.1 days = 1 }
		}
	}
}
shared_focus = {
	id = KTZ_but_their_technology
	icon = GFX_goal_KTZ_but_their_technology
	cost = 3
	relative_position_id = KTZ_this_isnt_flusion
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_this_isnt_flusion
	}

	bypass = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_political_power = 300
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_but_their_technology"
	}
}	
shared_focus = {
	id = KTZ_and_their_powers
	icon = GFX_goal_KTZ_and_their_powers
	cost = 3
	relative_position_id = KTZ_this_isnt_flusion
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_this_isnt_flusion
	}
	bypass = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		add_stability = 0.2
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_and_their_powers"
		if = {
			limit = { tag = ABY }
			country_event = { id = katzen_AF.21 days = 1 }
		}
	}
}
shared_focus = {
	id = KTZ_are_worth_taking_over
	icon = GFX_goal_KTZ_are_worth_taking_over
	cost = 3
	relative_position_id = KTZ_and_their_powers
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_but_their_technology
	}
	prerequisite = {
		focus = KTZ_and_their_powers
	}

	bypass = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_are_worth_taking_over"
		if = {
			limit = { tag = ABY }
			country_event = { id = katzen_AF.22 days = 1 }
		}
		775 = { set_state_name = KTZ_katown_name }
		set_province_name = { id = 15710 name = KTZ_katown_name }
		set_variable = {
			KTZ_kattail_portrait_dirty = 1
		}
	}
}
shared_focus = {
	id = KTZ_free_the_slaves
	icon = GFX_goal_KTZ_a_mountain_of_iron
	cost = 3
	relative_position_id = KTZ_are_worth_taking_over
	x = 2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_are_worth_taking_over
	}
	allow_branch = {
		tag = KTZ
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_free_the_slaves"
		country_event = { id = katzen_AF.641 }
	}
}
shared_focus = {
	id = KTZ_food_for_the_masses
	icon = GFX_goal_KTZ_projekt_grunwuste
	cost = 3
	relative_position_id = KTZ_are_worth_taking_over
	x = -2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_are_worth_taking_over
	}
	allow_branch = {
		tag = KTZ
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_food_for_the_masses"
		country_event = { id = katzen_AF.640 }
		hidden_effect = {
			add_dynamic_modifier = { modifier = KTZ_kittens_policy_modifier }
			set_variable = { KTZ_kittens_policy_modifier_compliance_growth = 0.025 }
			set_variable = { KTZ_kittens_policy_modifier_recruitable_population_factor = 0.025 }
			set_variable = { KTZ_kittens_policy_modifier_monthly_population = 0.20 }
			set_variable = { KTZ_kittens_policy_modifier_stability_factor = -0.10 }
			set_variable = { KTZ_kitten_policy_count = 2 }
			set_variable = { KTZ_next_kitten_policy_count = 3 }
			set_variable = { KTZ_food_balance = -3 }
			set_variable = { KTZ_food_imports_modifier_consumer_goods_factor = 0.24 }
			set_variable = { KTZ_food_imports_modifier_stability_factor = -0.24 }
			for_each_scope_loop = {
				array = global.africa_states
				if = {
					limit = {
						OR = {
							is_core_of = MAZ
							is_core_of = SON
							is_core_of = MSH
							is_core_of = ZWA
							is_core_of = ZUG
							is_core_of = REE
							is_core_of = ZEL
						}
					}
					add_to_array = { KTZ.KTZ_great_lakes_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.africa_states
				if = {
					limit = {
						is_controlled_by = SDF
					}
					add_to_array = { KTZ.KTZ_arabia_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.africa_states
				if = {
					limit = {
						is_core_of = HIP
					}
					add_to_array = { KTZ.KTZ_hippogriffia_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.asia_states
				if = {
					limit = {
						OR = {
							is_core_of = FEA
							is_core_of = STW
						}
					}
					add_to_array = { KTZ.KTZ_herzlands_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.asia_states
				if = {
					limit = {
						OR = {
							is_core_of = GRY
							is_core_of = GRU
						}
					}
					add_to_array = { KTZ.KTZ_gryphus_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.africa_states
				if = {
					limit = {
						is_core_of = KIR
					}
					add_to_array = { KTZ.KTZ_kiria_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.africa_states
				if = {
					limit = {
						is_controlled_by = KTZ
					}
					add_to_array = { KTZ.KTZ_abyssinia_breadbasket_array = THIS.id }
				}
			}
			for_each_scope_loop = {
				array = global.europe_states
				if = {
					limit = {
						is_core_of = EQS
					}
					add_to_array = { KTZ.KTZ_equestria_breadbasket_array = THIS.id }
				}
			}
		}
	}
}
shared_focus = {
	id = KTZ_cementing_my_grasp
	icon = GFX_goal_KTZ_what_i_do_every_time
	cost = 3
	relative_position_id = KTZ_are_worth_taking_over
	x = 0
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_are_worth_taking_over
	}
	allow_branch = {
		tag = KTZ
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_cementing_my_grasp"
		country_event = { id = katzen_AF.642 }
	}
}
shared_focus = {
	id = KTZ_kiloforges
	icon = GFX_goal_KTZ_kiloforges
	cost = 3
	relative_position_id = KTZ_cementing_my_grasp
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_cementing_my_grasp
	}
	prerequisite = {
		focus = KTZ_food_for_the_masses
	}
	prerequisite = {
		focus = KTZ_free_the_slaves
	}
	allow_branch = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_kiloforges"
		custom_effect_tooltip = KTZ_kiloforges_tt
		increase_society_development = yes
		if = {
			limit = {
				NOT = { has_dlc = "No Step Back" }
			}
			set_technology = {
				basic_light_tank = 1
				basic_heavy_tank = 1
				gwtank = 1
			}
		}
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			set_technology = {
				basic_light_tank_chassis = 1
				basic_medium_tank_chassis = 1
				basic_heavy_tank_chassis = 1
				gwtank_chassis = 1
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
		army_experience = 100
	}		
}
shared_focus = {
	id = KTZ_the_trains_run_on_time
	icon = GFX_goal_KTZ_the_trains_run_on_time
	cost = 3
	relative_position_id = KTZ_kiloforges
	x = -2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_kiloforges
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_trains_run_on_time"
		random_owned_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 4
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 4
				instant_build = yes
			}
		}
		every_owned_state = {
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		remove_ideas = zebrica_legacy_of_storm1
	}
}	
shared_focus = {
	id = KTZ_the_sieger_project
	icon = GFX_goal_KTZ_the_sieger_project
	cost = 3
	relative_position_id = KTZ_the_trains_run_on_time
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_trains_run_on_time
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_sieger_project"
		add_tech_bonus = {
			bonus = 0.75
			uses = 2
			category = cat_heavy_armor
		}
		add_tech_bonus = {
			name = artillery_bonus
			bonus = 1
			uses = 2
			category = artillery
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 2
			category = cat_mobile_warfare
		}
		army_experience = 200
		set_technology = {
			tech_trucks = 1
			motorised_infantry = 1
		}
	}
}
shared_focus = {
	id = KTZ_establish_production_lines
	icon = GFX_goal_KTZ_establish_production_lines
	cost = 3
	relative_position_id = KTZ_the_sieger_project
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_sieger_project
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_sieger_project"
		random_owned_state = {
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = arms_factory
				level = 5
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = arms_factory
				level = 5
				instant_build = yes
			}
		}
	}
}
shared_focus = {
	id = KTZ_project_two_the_tractor
	icon = GFX_goal_KTZ_project_two
	cost = 3
	relative_position_id = KTZ_establish_production_lines
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_establish_production_lines
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_project_two_the_tractor"
		add_ideas = KTZ_KK_panzer_idea
		add_equipment_to_stockpile = {
			type = motorized_equipment
			amount = 5000
			producer = ROOT
		}
		add_tech_bonus = {
			name = anti_tank_bonus
			bonus = 1
			uses = 2
			category = cat_anti_tank
		}
	}
}	
shared_focus = {
	id = KTZ_every_kat_must_do_their_duty
	icon = GFX_goal_KTZ_every_kat_must_do_their_duty
	cost = 3
	relative_position_id = KTZ_the_trains_run_on_time
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_trains_run_on_time
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_every_kat_must_do_their_duty"
		add_ideas = KTZ_every_kat_must_do_their_duty_idea
		custom_effect_tooltip = KTZ_every_kat_must_do_their_duty_tt
		hidden_effect = {
			division_template = {
				name = "Katzenkaisergarde"

				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					artillery_brigade = { x = 3 y = 0 }
					artillery_brigade = { x = 3 y = 1 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
				}
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					impassable = no
				}
				create_unit = {
					division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
					count = 5
					owner = ROOT
				}
			}
			if = {
				limit = { is_ai = yes }
				random_owned_controlled_state = {
					limit = {
						ROOT = { has_full_control_of_state = PREV }
						impassable = no
					}
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = ROOT
					}
				}
			}
		}
		country_event = katzen_AF.23
	}
}	
shared_focus = {
	id = KTZ_the_mark_in_your_pocket
	icon = GFX_goal_KTZ_mint_the_katzmark
	cost = 3
	relative_position_id = KTZ_cementing_my_grasp
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_cementing_my_grasp
	}
	prerequisite = {
		focus = KTZ_food_for_the_masses
	}
	prerequisite = {
		focus = KTZ_free_the_slaves
	}
	allow_branch = {
		tag = KTZ
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_mark_in_your_pocket"
		decrease_poverty = yes
		remove_ideas = ABY_risk_of_famine
	}
}
shared_focus = {
	id = KTZ_katnological_marvels
	icon = GFX_goal_KTZ_katnological_marvels
	cost = 3
	relative_position_id = KTZ_kiloforges
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_kiloforges
		focus = KTZ_the_mark_in_your_pocket
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_katnological_marvels"
		add_timed_idea = {
			days = 180
			idea = KTZ_research_temp_bonus_idea
		}
		add_tech_bonus = {
			name = YAL_cradle_tech_bonus
			ahead_reduction = 1.5
			uses = 1
			category = infantry_tech
			category = infantry_weapons
			category = industry
			category = electronics
			category = support_tech
			category = naval_equipment
			category = air_equipment
			category = artillery
			category = armor
			category = special_forces_tech
			category = night_vision
			category = rocketry
			category = nuclear
			category = jet_technology
		}
		add_breakthrough_progress = {
			specialization = specialization_air
			value = 0.5
		}
		decrease_illiteracy = yes
	}
}
shared_focus = {
	id = KTZ_thunderstorm_and_lightning
	icon = GFX_goal_KTZ_thunderstorm_and_lightning
	cost = 3
	relative_position_id = KTZ_the_mark_in_your_pocket
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_mark_in_your_pocket
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_thunderstorm_and_lightning"
		add_war_support = 0.10
	}
}
shared_focus = {
	id = KTZ_very_very_frightening
	icon = GFX_goal_KTZ_very_very_frightening
	cost = 3
	relative_position_id = KTZ_thunderstorm_and_lightning
	x = 0
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_thunderstorm_and_lightning
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_very_very_frightening"
		add_ideas = KTZ_katzen_intelligence
		if = {
			limit = { has_dlc = "La Resistance" }
			create_intelligence_agency = {
				name = "Katzenartignachrichtendienst"
				icon = GFX_intelligence_agency_logo_katzen
			}
		}
		else = {
			add_ideas = KTZ_katzenintel_nolar_idea
		}
	}
}
shared_focus = {
	id = KTZ_i_have_a_dream
	icon = GFX_goal_KTZ_i_have_a_dream
	cost = 3
	relative_position_id = KTZ_every_kat_must_do_their_duty
	x = 2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_every_kat_must_do_their_duty
	}
	prerequisite = {
		focus = KTZ_very_very_frightening
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_i_have_a_dream"
		add_ideas = civilian_economy
		add_war_support = 0.10
		add_opinion_modifier = { target = WNG modifier = hostility }
		WNG = { add_opinion_modifier = { target = ABY modifier = hostility } }
		1204 = { set_demilitarized_zone = no }
		remove_ideas = ABY_wingbardian_concessions
		remove_ideas = ABY_talonieli
	}
}
shared_focus = {
	id = KTZ_the_end_of_all
	icon = GFX_goal_KTZ_the_end_of_all_things
	cost = 3
	relative_position_id = KTZ_very_very_frightening
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_every_kat_must_do_their_duty
	}
	prerequisite = {
		focus = KTZ_very_very_frightening
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_end_of_all"
		add_timed_idea = {
			days = 270
			idea = KTZ_planning_temp_bonus_idea
		}
		country_event = katzen_AF.271
	}
}
shared_focus = {
	id = KTZ_new_world_old_acquaintances
	icon = GFX_goal_KTZ_new_world_old_acquaintances
	cost = 3
	relative_position_id = KTZ_i_have_a_dream
	x = 2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_i_have_a_dream
	}
	prerequisite = {
		focus = KTZ_the_end_of_all
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_new_world_old_acquaintances"
		custom_effect_tooltip = KTZ_gaslighting_done_0_tt
		activate_advisor = KTZ_Loris
		activate_advisor = KTZ_Douclaw
		activate_advisor = KTZ_Pawtton 
		activate_advisor = KTZ_Meolson
		country_event = katzen_AF.2
		hidden_effect = { #blokkat says hi
			set_variable_to_random = {
				var = KTZ_blokkat_event_variable
				max = 1825
				min = 30
				integer = yes
			}
			country_event = { id = katzen_AF.25 days = KTZ_blokkat_event_variable }
			if = {
				limit = { is_ai = yes }
				activate_advisor = KTZ_Pawlbert
				activate_advisor = KTZ_Katzhaum
				activate_advisor = KTZ_Dietrich
			}
			KTZ_Pawlbert = { set_character_flag = KTZ_scientist }
		}
	}
}
shared_focus = {
	id = KTZ_let_loose_the_cries_of_war
	icon = GFX_goal_KTZ_let_loose_the_cries_of_war
	cost = 3
	relative_position_id = KTZ_this_isnt_flusion
	x = 0
	y = 9
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_new_world_old_acquaintances
	}
	prerequisite = {
		focus = KTZ_project_two_the_tractor
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_let_loose_the_cries_of_war"
		if = {
			limit = { NOT = { has_idea = tot_economic_mobilisation } }
			add_ideas = war_economy
		}
		set_country_flag = war_economy_only_flag
		if = {
			limit = { 
				NOT = { 
					has_idea = all_adults_serve 
					has_idea = scraping_the_barrel 
				}
			}
			add_ideas = service_by_requirement
		}
		set_country_flag = service_by_requirement_only_flag
		MGY = {
			diplomatic_relation = {
				country = KLG
				relation = guarantee
				active = no
			}
		}
		hidden_effect = {
			set_country_flag = KTZ_intro_done_flag
			set_country_flag = KTZ_kattail_conquest_timer_active
			set_variable = { KTZ_kattail_conquest_timer = 180 }
			mark_focus_tree_layout_dirty = yes
			create_wargoal = {
				type = annex_everything
				target = KLG
			}
			create_wargoal = {
				type = annex_everything
				target = ANS
			}
			create_wargoal = {
				type = annex_everything
				target = ASS
			}
			create_wargoal = {
				type = annex_everything
				target = YMN
			}
			ANS = { every_owned_state = { add_claim_by = KTZ } }
			ASS = { every_owned_state = { add_claim_by = KTZ } }
			YMN = { every_owned_state = { add_claim_by = KTZ } }
			KLG = { every_owned_state = { add_claim_by = KTZ } }
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = KLG
					NOT = { has_war_with = KLG }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = KLG 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ANS
					NOT = { has_war_with = ANS }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ANS 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ASS
					NOT = { has_war_with = ASS }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ASS 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = YMN
					NOT = { has_war_with = YMN }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = YMN 
			}
		}
		set_country_flag = KTZ_intro_done_flag
		mark_focus_tree_layout_dirty = yes
		if = {
			limit = { is_ai = yes }
			country_event = { id = katzen_AF.7 }
		}
		country_event = { id = katzen_AF.611 }
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_towards_the_sea
	icon = GFX_goal_KTZ_towards_the_sea
	cost = 3
	relative_position_id = KTZ_let_loose_the_cries_of_war
	x = -2
	y = 1
	allow_branch = {
		has_country_flag = KTZ_intro_done_flag
	}
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_let_loose_the_cries_of_war
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_towards_the_sea"
		hidden_effect = {
			EMR = { every_owned_state = { add_claim_by = KTZ } }
			SDF = { every_owned_state = { add_claim_by = KTZ } }
			SDS = { every_owned_state = { add_claim_by = KTZ } }
			SDC = { every_owned_state = { add_claim_by = KTZ } }
			SDL = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = EMR
			}
			create_wargoal = {
				type = annex_everything
				target = SDF 
			}
			create_wargoal = {
				type = annex_everything
				target = SDS 
			}
			create_wargoal = {
				type = annex_everything
				target = SDC 
			}
			create_wargoal = {
				type = annex_everything
				target = SDL 
			}
			EMR = {
				add_ideas = KTZ_arabia_debuff
			}
			SDF = {
				add_ideas = KTZ_arabia_debuff
			}
			SDS = {
				add_ideas = KTZ_arabia_debuff
			}
			SDC = {
				add_ideas = KTZ_arabia_debuff
			}
			SDL = {
				add_ideas = KTZ_arabia_debuff
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = EMR
					NOT = { has_war_with = SDF }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = EMR
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SDF
					NOT = { has_war_with = SDF }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SDF 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SDS
					NOT = { has_war_with = SDS }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SDS 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SDC
					NOT = { has_war_with = SDC }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SDC 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SDL
					NOT = { has_war_with = SDL }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SDL 
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_exploit_the_oil
	icon = GFX_goal_KTZ_exploit_the_oil
	cost = 3
	relative_position_id = KTZ_towards_the_sea
	x = -1
	y = 1
	available = {
		controls_state = 851
		controls_state = 859
		controls_state = 846
	}
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_towards_the_sea
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_exploit_the_oil"
		add_resource = {
			type = oil
			amount = 60
			state = 851
		}
		add_resource = {
			type = oil
			amount = 60
			state = 859
		}
		add_resource = {
			type = oil
			amount = 60
			state = 846
		}
		if = {
			limit = { is_ai = yes }
			add_resource = {
				type = oil
				amount = 60
				state = 851
			}
			add_resource = {
				type = oil
				amount = 60
				state = 859
			}
			add_resource = {
				type = oil
				amount = 60
				state = 846
			}
		}
	}
}
shared_focus = {
	id = KTZ_modernized_work_programmes
	icon = GFX_goal_KTZ_taking_stock
	cost = 3
	relative_position_id = KTZ_exploit_the_oil
	x = 1
	y = 1
	available = {
		controls_state = 854
		controls_state = 834
		controls_state = 810
	}
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_trade_with_the_worlds
	}
	prerequisite = {
		focus = KTZ_exploit_the_oil
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_modernized_work_programmes"
		add_resource = {
			type = steel
			amount = 60
			state = 854
		}
		add_resource = {
			type = steel
			amount = 60
			state = 834
		}
		add_resource = {
			type = aluminium
			amount = 60
			state = 810
		}
		decrease_poverty = yes
	}
}
shared_focus = {
	id = KTZ_trade_with_the_worlds
	icon = GFX_goal_KTZ_a_trade_with_the_world
	cost = 3
	relative_position_id = KTZ_towards_the_sea
	x = 1
	y = 1
	available = {
		NOT = {
			AND = {
				country_exists = ASS
				country_exists = ANS
				country_exists = KLG
				country_exists = YMN
			}
		}
	}

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_towards_the_sea
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_trade_with_the_worlds"
		ASS = { 
			add_to_ROOT_potential_cores = yes 
		}
		ANS = { 
			add_to_ROOT_potential_cores = yes 
		}
		YMN = { 
			add_to_ROOT_potential_cores = yes 
		}
		MDL = {
			add_to_ROOT_potential_cores = yes 
		}
		1208 = { remove_dynamic_modifier = { modifier = klugetown_criminals } }
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_crack_the_lines
	icon = GFX_goal_KTZ_crack_the_lines
	cost = 3
	relative_position_id = KTZ_let_loose_the_cries_of_war
	x = 1
	y = 1
	allow_branch = {
		has_country_flag = KTZ_intro_done_flag
	}
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_let_loose_the_cries_of_war
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_crack_the_lines"
		add_timed_idea = {
			days = 270
			idea = KTZ_speed_temp_bonus_idea
		}
		country_event = { id = katzen_AF.612 days = 5 }
	}
}
shared_focus = {
	id = KTZ_march_on_mages
	icon = GFX_goal_KTZ_marching_on_the_magocracy
	cost = 3
	relative_position_id = KTZ_crack_the_lines
	x = 0
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_crack_the_lines
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_march_on_mages"
		air_experience = 25
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
		hidden_effect = {
			HMR = { every_owned_state = { add_claim_by = KTZ } }
			OSQ = { every_owned_state = { add_claim_by = KTZ } }
			REE = { every_owned_state = { add_claim_by = KTZ } }
			MAZ = { every_owned_state = { add_claim_by = KTZ } }
			MSS = { every_owned_state = { add_claim_by = KTZ } }
			MTA = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = HMR
			}
			create_wargoal = {
				type = annex_everything
				target = OSQ
			}
			create_wargoal = {
				type = annex_everything
				target = REE
			}
			create_wargoal = {
				type = annex_everything
				target = MAZ
			}
			create_wargoal = {
				type = annex_everything
				target = MSS
			}
			create_wargoal = {
				type = annex_everything
				target = MTA
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = HMR
					NOT = { has_war_with = HMR }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = HMR
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = OSQ
					NOT = { has_war_with = OSQ }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = OSQ 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = REE
					NOT = { has_war_with = REE }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = REE 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MAZ
					NOT = { has_war_with = MAZ }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MAZ 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MSS
					NOT = { has_war_with = MSS }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MSS 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MTA
					NOT = { has_war_with = MTA }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MTA 
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_project_three_claw_steel
	icon = GFX_goal_KTZ_project_three_claw_steel
	cost = 3
	relative_position_id = KTZ_march_on_mages
	x = 1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_march_on_mages
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_claw_steel"
		swap_ideas = {
			remove_idea = KTZ_KK_panzer_idea
			add_idea = KTZ_claw_steel_idea
		}
	}
}

shared_focus = {
	id = KTZ_the_vaults_are_open
	icon = GFX_goal_KTZ_the_vaults_are_open
	cost = 3
	relative_position_id = KTZ_march_on_mages
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_march_on_mages
	}
	available = {
		controls_state = 995
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_vaults_are_open"
		custom_effect_tooltip = KTZ_the_vaults_are_open_tt
		Improve_Science_Base = yes
		increase_society_development = yes
		decrease_poverty = yes
		add_research_slot = 1
		MTA = {
			every_core_state = {
				add_compliance = 25
				add_resistance = 25
			}
		}
		country_event = katzen_AF.26
		hidden_effect = {
			every_state = {
				random_list = {
					5 = {
						ROOT = {
							activate_targeted_decision = { target = PREV decision = KTZ_hunt_for_artifacts_random_state_decision }
						}
					}
					96 = {}
				}
			}
			activate_targeted_decision = { target = 982 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 415 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 3 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 1 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 389 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 382 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 344 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 1165 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 1059 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 733 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 439 decision = KTZ_hunt_for_artifacts_decision }
			activate_targeted_decision = { target = 624 decision = KTZ_hunt_for_artifacts_decision }
		}
	}
}
shared_focus = {
	id = KTZ_enlighten_them
	icon = GFX_goal_KTZ_enlighten_them
	cost = 3
	relative_position_id = KTZ_the_vaults_are_open
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_modernized_work_programmes
	}
	prerequisite = {
		focus = KTZ_the_vaults_are_open
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_enlighten_them"
		add_research_slot = 1
		decrease_illiteracy = yes
	}
}
shared_focus = {
	id = KTZ_clock_is_ticking_kattail
	icon = GFX_goal_KTZ_the_ticking_clock
	cost = 3
	relative_position_id = KTZ_project_three_claw_steel
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_project_three_claw_steel
	}
	prerequisite = {
		focus = KTZ_the_vaults_are_open
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_clock_is_ticking_kattail"
		hidden_effect = {
			KAR = { every_owned_state = { add_claim_by = KTZ } }
			MTO = { every_owned_state = { add_claim_by = KTZ } }
			AES = { every_owned_state = { add_claim_by = KTZ } }
			IDT = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = KAR
			}
			create_wargoal = {
				type = annex_everything
				target = MTO
			}
			create_wargoal = {
				type = annex_everything
				target = AES
			}
			create_wargoal = {
				type = annex_everything
				target = IDT
			}
			if = {
				limit = {
					is_ai = yes
					IDT = { is_ai = yes }
				}
				annex_country = {
					target = IDT
				}
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = KAR
					NOT = { has_war_with = KAR }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = KAR 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MTO
					NOT = { has_war_with = MTO }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MTO 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = AES
					NOT = { has_war_with = AES }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = AES 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = IDT
					NOT = { has_war_with = IDT }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = IDT 
			}
		}
		add_to_variable = { KTZ_kattail_conquest_timer_active = 180 }
		if = {
			limit = {
				is_ai = yes
				MTO = { is_ai = yes }
			}
			874 = {
				transfer_state_to = KTZ
				create_unit = {
					division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
					count = 8
					owner = KTZ
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_victory_parades
	icon = GFX_goal_KTZ_victory_parades
	cost = 3
	relative_position_id = KTZ_clock_is_ticking_kattail
	x = -1
	y = 1
	available = {
		OR = {
			has_war = no
			AND = {
				HMR = { 
					has_capitulated = yes
				}
				OSQ = { 
					has_capitulated = yes
				}
				MTA = { 
					has_capitulated = yes
				}
				REE = { 
					has_capitulated = yes
				}
				MAZ = { 
					has_capitulated = yes
				}
				MSS = { 
					has_capitulated = yes
				}
				EMR = { 
					has_capitulated = yes
				}
				SDF = { 
					has_capitulated = yes
				}
				SDS = { 
					has_capitulated = yes
				}
				SDL = { 
					has_capitulated = yes
				}
				SDC = { 
					has_capitulated = yes
				}
				KAR = { 
					has_capitulated = yes
				}
				MTO = { 
					has_capitulated = yes
				}
				AES = { 
					has_capitulated = yes
				}
				IDT = {
					custom_trigger_tooltip = {
						tooltip = TRIGGER_HAS_CAPITULATED
						OR = {
							has_capitulated = yes 
							exists = no
						}
					}
				}
			}
		}
	}
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_enlighten_them
	}
	prerequisite = {
		focus = KTZ_clock_is_ticking_kattail
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_victory_parades"
		add_stability = 0.10
		add_war_support = 0.10
		add_political_power = 300
		add_ideas = KTZ_katzenfication_protocols_idea
		country_event = katzen_AF.273
	}
}
shared_focus = {
	id = KTZ_katzenfication_take_one
	icon = GFX_goal_KTZ_goal_katzenfication_protocols
	cost = 3
	relative_position_id = KTZ_victory_parades
	x = -2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_victory_parades
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_katzenfication_take_one"
		custom_effect_tooltip = KTZ_victory_parades_tt
		country_event = katzen_AF.605
		HMR = { 
			add_to_ROOT_potential_cores = yes 
		}
		OSQ = { 
			add_to_ROOT_potential_cores = yes 
		}
		MTA = { 
			add_to_ROOT_potential_cores = yes 
		}
		REE = { 
			add_to_ROOT_potential_cores = yes 
		}
		MAZ = { 
			add_to_ROOT_potential_cores = yes 
		}
		MSS = { 
			add_to_ROOT_potential_cores = yes 
		}
		EMR = { 
			add_to_ROOT_potential_cores = yes 
		}
		SDF = { 
			add_to_ROOT_potential_cores = yes 
		}
		SDS = { 
			add_to_ROOT_potential_cores = yes 
		}
		SDL = { 
			add_to_ROOT_potential_cores = yes 
		}
		SDC = { 
			add_to_ROOT_potential_cores = yes 
		}
		KAR = { 
			add_to_ROOT_potential_cores = yes 
		}
		MTO = { 
			add_to_ROOT_potential_cores = yes 
		}
		AES = { 
			add_to_ROOT_potential_cores = yes 
		}
		IDT = { 
			add_to_ROOT_potential_cores = yes 
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_strongarm_wingbardy
	icon = GFX_goal_KTZ_i_have_a_dream
	cost = 3
	relative_position_id = KTZ_victory_parades
	x = 0
	y = 1

	bypass = {
		OR = {
			has_war_with = 1200.owner
			1200 = { is_controlled_by = KTZ }
			784 = { is_controlled_by = KTZ }
		}
	}

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_victory_parades
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_strongarm_wingbardy"
		1200 = { var:owner = { save_global_event_target_as = katren_holder country_event = { id = katzen_AF.615 days = 1 } } }
	}
}
shared_focus = {
	id = KTZ_the_zebtropa_plan
	icon = GFX_goal_KTZ_the_zebtropa_plan
	cost = 3
	relative_position_id = KTZ_victory_parades
	x = 2
	y = 1

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_victory_parades
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_the_zebtropa_plan"
		741 = {
			increase_state_category = yes
			add_manpower = 150000
		}
		775 = {
			increase_state_category = yes
			add_manpower = 150000
		}
		872 = {
			increase_state_category = yes
			add_manpower = 150000
		}
		country_event = katzen_AF.24
		hidden_effect = { news_event = { id = katzen_AF.504 days = 2 } }
	}
}
shared_focus = {
	id = KTZ_a_grand_gesture
	icon = GFX_goal_KTZ_a_grand_gesture
	cost = 3
	relative_position_id = KTZ_victory_parades
	x = 0
	y = 2

	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_zebtropa_plan
	}
	prerequisite = {
		focus = KTZ_katzenfication_take_one
	}
	prerequisite = {
		focus = KTZ_strongarm_wingbardy
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus KTZ_a_grand_gesture"
		decrease_poverty = yes
		set_country_flag = KTZ_midgame_start_flag
		mark_focus_tree_layout_dirty = yes
		hidden_effect = {
			country_event = { id = katzen_AF.643 days = 180 } #anti-kaiser front...
		}
	}
}
		

shared_focus = {
	id = KTZ_continental_ambitions
	icon = GFX_goal_KTZ_continental_ambitions
	cost = 0.1
	x = 10
	y = 0

	allow_branch = {
		has_country_flag = KTZ_midgame_start_flag
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_continental_ambitions"
		add_ideas = KTZ_railway_and_roads_idea
		set_cosmetic_tag = KTZ_katzenartig_imperium_cosmetic
	}
}
shared_focus = {
	id = KTZ_along_the_sea
	icon = GFX_goal_KTZ_along_the_sea
	cost = 1
	x = -1
	y = 1
	relative_position_id = KTZ_continental_ambitions
	prerequisite = {
		focus = KTZ_continental_ambitions
	}
	ai_will_do = {
		factor = 5
	}
	available = {
		NOT = { has_country_flag = KTZ_kattail_no_war }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_along_the_sea"
		hidden_effect = {
			MGY = { every_owned_state = { add_claim_by = KTZ } }
			BAT = { every_owned_state = { add_claim_by = KTZ } }
			ZAR = { every_owned_state = { add_claim_by = KTZ } }
			TBK = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = MGY
			}
			create_wargoal = {
				type = annex_everything
				target = BAT
			}
			create_wargoal = {
				type = annex_everything
				target = ZAR
			}
			create_wargoal = {
				type = annex_everything
				target = TBK
			}
			BAT = {
				leave_faction = yes
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MGY
					NOT = { has_war_with = MGY }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MGY 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = BAT
					NOT = { has_war_with = BAT }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = BAT 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ZAR
					NOT = { has_war_with = ZAR }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ZAR 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = TBK
					NOT = { has_war_with = TBK }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = TBK 
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_the_capable_hippogriffs
	icon = GFX_goal_KTZ_the_capable_hippogriffs
	cost = 5
	x = -1
	y = 1
	relative_position_id = KTZ_along_the_sea
	prerequisite = {
		focus = KTZ_along_the_sea
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 0
			OR = {
				has_war_with = MGY
				has_war_with = BAT
				has_war_with = ZAR
				has_war_with = TBK
			}
		}
	}

	available = {
		NOT = { has_country_flag = KTZ_kattail_no_war }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_capable_hippogriffs"
		hidden_effect = {
			HIP = { every_owned_state = { add_claim_by = KTZ } }
			WAR = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = HIP
			}
			create_wargoal = {
				type = annex_everything
				target = WAR
			}
			every_other_country = {
				limit = {
					original_tag = HIP
					NOT = { tag = HIP }
				}
				KTZ = {
					create_wargoal = { 
						type = annex_everything 
						target = PREV
					}
					if = { 
						limit = {
							NOT = { has_war_with = PREV }
						}
						declare_war_on = {
							type = annex_everything
							target = PREV
						}
					}
				}
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = HIP
					NOT = { has_war_with = HIP }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = HIP 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = WAR
					NOT = { has_war_with = WAR }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = WAR 
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = KTZ_the_road_ahead
	icon = GFX_goal_KTZ_the_road_ahead
	cost = 2
	x = -1
	y = 1
	relative_position_id = KTZ_the_capable_hippogriffs

	prerequisite = {
		focus = KTZ_the_capable_hippogriffs
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_road_ahead"
		add_timed_idea = {
			idea = KTZ_going_broke_making_bote_idea
			days = 150
		}
		custom_effect_tooltip = KTZ_the_road_ahead_tt  #spwan in fleet
		country_event = { 
			id = katzen_AF.7
			days = 150
		}
	}
}


shared_focus = {
	id = KTZ_the_queen_over_the_water
	icon = GFX_goal_KTZ_goal_the_queen_over_the_water
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_the_capable_hippogriffs

	prerequisite = {
		focus = KTZ_the_capable_hippogriffs
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_queen_over_the_water"
		add_ideas = KTZ_the_queen_over_the_water_idea
	}
}

shared_focus = {
	id = KTZ_cleaning_up_stragglers
	icon = GFX_goal_KTZ_cleaning_up_stragglers
	cost = 2
	x = 0
	y = 1
	relative_position_id = KTZ_the_queen_over_the_water

	prerequisite = {
		focus = KTZ_the_queen_over_the_water
	}
	ai_will_do = {
		factor = 5
	}

	available = {
		NOT = { has_country_flag = KTZ_kattail_no_war }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_cleaning_up_stragglers"
		hidden_effect = {
			CTH = { every_owned_state = { add_claim_by = KTZ } }
			TRO = { every_owned_state = { add_claim_by = KTZ } }
			CVA = { every_owned_state = { add_claim_by = KTZ } }
			CDR = { every_owned_state = { add_claim_by = KTZ } }
			HIE = { every_owned_state = { add_claim_by = KTZ } }
			ZAI = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = CTH
			}
			create_wargoal = {
				type = annex_everything
				target = TRO
			}
			create_wargoal = {
				type = annex_everything
				target = CVA
			}
			create_wargoal = {
				type = annex_everything
				target = CDR
			}
			create_wargoal = {
				type = annex_everything
				target = HIE
			}
			create_wargoal = {
				type = annex_everything
				target = ZAI
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = CTH
					NOT = { has_war_with = CTH }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = CTH 
			}
		}
		every_other_country = {
			limit = {
				original_tag = CTH
				NOT = { tag = CTH }
			}
			KTZ = {
				hidden_effect = {
					create_wargoal = { 
						type = annex_everything 
						target = PREV
					}
				}
				if = { 
					limit = {
						NOT = { has_war_with = PREV }
					}
					declare_war_on = {
						type = annex_everything
						target = PREV
					}
				}
			}
		}
		if = { 
			limit = { 
				country_exists = TRO
				NOT = { has_war_with = TRO }
			}
			declare_war_on = { 
				type = annex_everything 
				target = TRO
			}
		}
		if = { 
			limit = { 
				country_exists = CVA
				NOT = { has_war_with = CVA }
			}
			declare_war_on = { 
				type = annex_everything 
				target = CVA
			}
		}
		if = { 
			limit = { 
				country_exists = CDR
				NOT = { has_war_with = CDR }
			}
			declare_war_on = { 
				type = annex_everything 
				target = CDR
			}
		}
		if = { 
			limit = { 
				country_exists = HIE
				NOT = { has_war_with = HIE }
			}
			declare_war_on = { 
				type = annex_everything 
				target = HIE
			}
		}
		if = { 
			limit = { 
				country_exists = ZAI
				NOT = { has_war_with = ZAI }
			}
			if = {
				limit = { is_ai = no }
				declare_war_on = { 
					type = annex_everything 
					target = ZAI
				}
			}
			else = {
				annex_country = {
					target = ZAI
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = { #needs fixing, ask around
	id = KTZ_downfall
	icon = GFX_goal_KTZ_downfall
	cost = 3
	x = -2
	y = 1
	relative_position_id = KTZ_the_queen_over_the_water
	prerequisite = {
		focus = KTZ_the_road_ahead
	}
	prerequisite = {
		focus = KTZ_the_queen_over_the_water
	}
	bypass = {
		NOT = {
			country_exists = HIP
		}
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_downfall"
		add_timed_idea = {
			idea = KTZ_downfall_HIP_idea
			days = 180
		}
	}
}

shared_focus = {
	id = KTZ_cracking_open_the_mountain
	icon = GFX_goal_KTZ_cracking_open_the_mountain
	cost = 2
	x = 0
	y = 1
	relative_position_id = KTZ_downfall
	available = {
		NOT = {
			country_exists = HIP
		}
	}
	prerequisite = {
		focus = KTZ_downfall
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_cracking_open_the_mountain"
		swap_ideas = {
			remove_idea = KTZ_the_queen_over_the_water_idea
			add_idea = KTZ_riches_of_hip_idea
		}
		HIP = {
			every_core_state = {
				add_compliance = 25
				add_resistance = 25
			}
		}
	}
}

shared_focus = {
	id = KTZ_a_curious_specimen
	icon = GFX_goal_KTZ_a_curious_specimen
	cost = 2
	x = 1
	y = 1
	relative_position_id = KTZ_cracking_open_the_mountain

	prerequisite = {
		focus = KTZ_cracking_open_the_mountain
	}
	ai_will_do = {
		factor = 5
	}

	bypass = {
		HIP = { has_completed_focus = HIP_the_triumphant_revolution }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		set_country_flag = HIP_posada_joined_govt
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_curious_specimen"
		country_event = katzen_AF.5
	}
}

shared_focus = {
	id = KTZ_a_curious_proposal
	icon = GFX_goal_KTZ_a_curious_proposal
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_a_curious_specimen

	prerequisite = {
		focus = KTZ_a_curious_specimen
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_curious_proposal"
		unlock_decision_category_tooltip = KTZ_exotic_weapons_cat
		add_ideas = KTZ_exotic_weapons_division_idea
		if = {
			limit = { is_ai = yes }
			set_technology = {
				atomic_research = 1
			}
		}
		hidden_effect = {
			HIP_posada_AF = { set_character_flag = KTZ_scientist }
		}
	}
}


shared_focus = {
	id = KTZ_floating_fortresses
	icon = GFX_goal_KTZ_the_floating_islands
	cost = 2
	x = 2
	y = 1
	relative_position_id = KTZ_downfall
	prerequisite = {
		focus = KTZ_cleaning_up_stragglers
	}
	prerequisite = {
		focus = KTZ_downfall
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_floating_fortresses"
		hidden_effect = {
			if = {
				limit = {
					is_ai = yes
					HIP = { is_ai = yes }
				}
				1204 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
				1164 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 12
						owner = KTZ
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = {
					semi_modern_ship_hull_super_heavy = 1
					advanced_heavy_battery = 1
				}
				create_equipment_variant = {
					name = "Katzenwasserfestung Class"
					type = ship_hull_super_heavy_2
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_super_heavy_battery_2
						fixed_ship_anti_air_slot = ship_anti_air_4
						fixed_ship_fire_control_system_slot = ship_fire_control_system_4
						fixed_ship_radar_slot = ship_radar_4
						fixed_ship_engine_slot = heavy_ship_engine_4
						fixed_ship_secondaries_slot = dp_ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb_2
						front_1_custom_slot = ship_super_heavy_battery_2
						front_2_custom_slot = ship_anti_air_4
						mid_1_custom_slot = ship_anti_air_4
						mid_2_custom_slot = ship_anti_air_4
						mid_3_custom_slot = ship_anti_air_4
						rear_1_custom_slot = ship_super_heavy_battery_2
						rear_2_custom_slot = ship_super_heavy_battery_2
					}
				}
				create_ship = {
					type = ship_hull_super_heavy_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Class"
				}
				create_ship = {
					type = ship_hull_super_heavy_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Class"
				}
				create_ship = {
					type = ship_hull_super_heavy_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Class"
				}
				if = {
					limit = { is_ai = yes }
					for_loop_effect = {
						end = 10
						create_ship = {
							type = ship_hull_super_heavy_2
							equipment_variant = "Katzenwasserfestung Class"
							creator = KTZ
							name = "Katzenwasserfestung Class"
						}
					}
				}
			}
			else = {
				set_technology = {
					heavy_battleship2 = 1
				}
				create_equipment_variant = {
					name = "Katzenwasserfestung Class"
					type = SH_battleship_2
					upgrades = {
						ship_reliability_upgrade = 0
						ship_engine_upgrade = 0
						ship_gun_upgrade = 0
						ship_anti_air_upgrade = 0
					}
				}
				create_ship = {
					type = SH_battleship_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Eins"
				}
				create_ship = {
					type = SH_battleship_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Eins"
				}
				create_ship = {
					type = SH_battleship_2
					equipment_variant = "Katzenwasserfestung Class"
					creator = KTZ
					name = "Katzenwasserfestung Eins"
				}
				if = {
					limit = { is_ai = yes }
					for_loop_effect = {
						end = 10
						create_ship = {
							type = SH_battleship_2
							equipment_variant = "Katzenwasserfestung Class"
							creator = KTZ
							name = "Katzenwasserfestung Eins"
						}
					}
				}
			}
		}
		custom_effect_tooltip = KTZ_floating_fortresses_tt
		random_owned_state = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = KTZ_towards_the_sky
	icon = GFX_goal_KTZ_towards_the_sky
	cost = 1
	x = 1
	y = 1
	relative_position_id = KTZ_continental_ambitions
	prerequisite = {
		focus = KTZ_continental_ambitions
	}
	ai_will_do = {
		factor = 5
	}

	available = {
		NOT = { has_country_flag = KTZ_kattail_no_war }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_towards_the_sky"
		hidden_effect = {
			ALO = { every_owned_state = { add_claim_by = KTZ } }
			TIM = { every_owned_state = { add_claim_by = KTZ } }
			MSH = { every_owned_state = { add_claim_by = KTZ } }
			SON = { every_owned_state = { add_claim_by = KTZ } }
			ZWA = { every_owned_state = { add_claim_by = KTZ } }
			ZUG = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = ALO
			}
			create_wargoal = {
				type = annex_everything
				target = TIM
			}
			create_wargoal = {
				type = annex_everything
				target = MSH
			}
			create_wargoal = {
				type = annex_everything
				target = SON
			}
			create_wargoal = {
				type = annex_everything
				target = ZWA
			}
			create_wargoal = {
				type = annex_everything
				target = ZUG
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ALO
					NOT = { has_war_with = ALO }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ALO 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = MSH
					NOT = { has_war_with = MSH }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = MSH 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = TIM
					NOT = { has_war_with = TIM }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = TIM 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SON
					NOT = { has_war_with = SON }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SON 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ZWA
					NOT = { has_war_with = ZWA }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ZWA 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = ZUG
					NOT = { has_war_with = ZUG }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = ZUG 
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_the_inventive_yetis
	icon = GFX_goal_KTZ_the_inventive_yetis
	cost = 2
	x = 1
	y = 1
	relative_position_id = KTZ_towards_the_sky
	prerequisite = {
		focus = KTZ_towards_the_sky
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_inventive_yetis"
		add_timed_idea = {
			days = 160
			idea = KTZ_speed_temp_bonus_idea
		}
		add_equipment_to_stockpile = {
			type = heavy_airship_equipment_0
			amount = 200
			producer = STM
		}
		add_equipment_to_stockpile = {
			type = mechanized_equipment
			amount = 500
			producer = STM
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 1000
			producer = STM
		}
		add_equipment_to_stockpile = {
			type = anti_air_equipment
			amount = 1000
			producer = STM
		}
	}
}
shared_focus = {
	id = KTZ_through_the_mountains
	icon = GFX_goal_KTZ_through_the_mountains
	cost = 2
	x = 1
	y = 1
	relative_position_id = KTZ_the_inventive_yetis
	prerequisite = {
		focus = KTZ_the_inventive_yetis
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_inventive_yetis"
		add_ideas = KTZ_through_the_mountains_air_idea
		add_tech_bonus = {
			bonus = 1
			uses = 3
			ahead_reduction = 1
			category = mountaineers_tech
		}
	}
}
shared_focus = {
	id = KTZ_the_path_beyond
	icon = GFX_goal_KTZ_the_path_beyond
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_the_inventive_yetis
	prerequisite = {
		focus = KTZ_the_inventive_yetis
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_path_beyond"
		random_owned_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 4
				instant_build = yes
			}
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = industrial_complex
				level = 4
				instant_build = yes
			}
		}
		add_tech_bonus = {
			bonus = 1
			uses = 3
			ahead_reduction = 1
			category = para_tech
		}
	}
}	

shared_focus = {
	id = KTZ_march_straight_onwards
	icon = GFX_goal_KTZ_march_straight_onwards
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_the_path_beyond
	prerequisite = {
		focus = KTZ_the_path_beyond
	}
	prerequisite = {
		focus = KTZ_through_the_mountains
	}
	ai_will_do = {
		factor = 5
	}

	available = {
		NOT = { has_country_flag = KTZ_kattail_no_war }
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_path_beyond"
		hidden_effect = {
			SLC = { every_owned_state = { add_claim_by = KTZ } }
			HAY = { every_owned_state = { add_claim_by = KTZ } }
			HYE = { every_owned_state = { add_claim_by = KTZ } }
			STM = { every_owned_state = { add_claim_by = KTZ } }
			GYZ = { every_owned_state = { add_claim_by = KTZ } }
			THU = { every_owned_state = { add_claim_by = KTZ } }
			CZR = { every_owned_state = { add_claim_by = KTZ } }
			create_wargoal = {
				type = annex_everything
				target = SLC
			}
			create_wargoal = {
				type = annex_everything
				target = HAY
			}
			create_wargoal = {
				type = annex_everything
				target = HYE
			}
			create_wargoal = {
				type = annex_everything
				target = STM
			}
			create_wargoal = {
				type = annex_everything
				target = GYZ
			}
			create_wargoal = {
				type = annex_everything
				target = THU
			}
			create_wargoal = {
				type = annex_everything
				target = CZR
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = SLC
					NOT = { has_war_with = SLC }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = SLC 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = HAY
					NOT = { has_war_with = HAY }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = HAY 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = HYE
					NOT = { has_war_with = HYE }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = HYE 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = STM
					NOT = { has_war_with = STM }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = STM 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = GYZ
					NOT = { has_war_with = GYZ }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = GYZ 
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = THU
					NOT = { has_war_with = THU }
				}
			}
			declare_war_on = {
				type = annex_everything
				target = THU 
			}
		}
		if = { 
			limit = { 
				country_exists = CZR
				NOT = { has_war_with = CZR }
			}
			declare_war_on = { 
				type = annex_everything 
				target = CZR
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = KTZ_ten_minutes_of_revenge
	icon = GFX_goal_KTZ_ten_minutes_of_revenge
	cost = 2
	x = 1
	y = 1
	relative_position_id = KTZ_march_straight_onwards
	available = {
		NOT = { country_exists = SLC }
		NOT = { country_exists = STM }
		NOT = { country_exists = GYZ }
		NOT = { country_exists = THU }
		982 = { is_controlled_by = KTZ }
	}
	prerequisite = {
		focus = KTZ_march_straight_onwards
	}
	ai_will_do = {
		factor = 5
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_ten_minutes_of_revenge"
		#move resources + factories
		country_event = { id = katzen_AF.275 }
	}
}
shared_focus = {
	id = KTZ_the_flying_fortress 
	icon = GFX_goal_KTZ_the_flying_fortresses
	cost = 1
	x = -1
	y = 1
	relative_position_id = KTZ_march_straight_onwards
	prerequisite = {
		focus = KTZ_march_straight_onwards
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_flying_fortress"
		add_tech_bonus = {
			name = secret_bonus
			bonus = 3.0
			uses = 2
			ahead_reduction = 2
			category = heavy_air
		}
	}
}
shared_focus = {
	id = KTZ_applied_avionics
	icon = GFX_goal_KTZ_applied_avionics
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_the_flying_fortress
	prerequisite = {
		focus = KTZ_the_flying_fortress
	}
	prerequisite = {
		focus = KTZ_ten_minutes_of_revenge
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_applied_avionics"
		add_tech_bonus = {
			bonus = 1
			ahead_reduction = 1
			uses = 2
			category = radar_tech
		}
		add_breakthrough_progress = {
			specialization = specialization_air
			value = 1
		}
		783 = {
			add_building_construction = {
				type = radar_station
				level = 9
				instant_build = yes
			}
		}
		869 = {
			add_building_construction = {
				type = radar_station
				level = 9
				instant_build = yes
			}
		}
		837 = {
			add_building_construction = {
				type = radar_station
				level = 9
				instant_build = yes
			}
		}
		if = {
			limit = {
				controls_state = 1165
			}
			1165 = {
				add_building_construction = {
					type = radar_station
					level = 9
					instant_build = yes
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_flying_carriers
	icon = GFX_goal_KTZ_flying_carriers
	cost = 2
	x = 0
	y = 6
	relative_position_id = KTZ_continental_ambitions
	prerequisite = {
		focus = KTZ_the_flying_fortress
	}
	prerequisite = {
		focus = KTZ_floating_fortresses
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_flying_carriers"
		swap_ideas = {
			remove_idea = KTZ_through_the_mountains_air_idea
			add_idea = KTZ_flying_fortress_idea
		}
	}
}

shared_focus = { 
	id = KTZ_towards_the_sturmer
	icon = GFX_goal_KTZ_towards_the_sturmer
	cost = 4
	x = 1
	y = 1
	relative_position_id = KTZ_flying_carriers
	prerequisite = {
		focus = KTZ_applied_avionics
	}
	prerequisite = {
		focus = KTZ_flying_carriers
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_flying_carriers"
		add_ideas = KTZ_towards_the_sturmer_idea
		# if = {
		# 	limit = { has_dlc = "Gotterdammerung" }
		# 	sp:sp_land_land_cruiser = {
		# 		sp_land_super_heavy_howitzer = 0.50
		# 	}
		# }
	}
}
shared_focus = {
	id = KTZ_nuclear_is_always_an_option
	icon = GFX_goal_KTZ_nuclear_is_always_an_option
	cost = 7
	x = 1
	y = 1
	relative_position_id = KTZ_a_curious_proposal
	prerequisite = {
		focus = KTZ_a_curious_proposal
	}
	prerequisite = {
		focus = KTZ_towards_the_sturmer
	}
	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = atomic_research
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_nuclear_is_always_an_option"
		add_tech_bonus = {
			name = secret_bonus
			bonus = 1.0
			uses = 1
			ahead_reduction = 2
			category = nuclear
		}
		add_breakthrough_progress = {
			specialization = specialization_nuclear
			value = 2
		}
		complete_special_project = sp:sp_nuclear_reactor
	}
}
shared_focus = {
	id = KTZ_onwards_to_glory
	icon = GFX_goal_KTZ_onwards_to_glory
	cost = 3
	x = 0
	y = 2
	relative_position_id = KTZ_continental_ambitions
	prerequisite = {
		focus = KTZ_continental_ambitions
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_onwards_to_glory"
		custom_effect_tooltip = KTZ_gaslighting_done_tt
		hidden_effect = {
			if = {
				limit = { is_ai = yes }
				activate_advisor = KTZ_Flopparnold
				activate_advisor = KTZ_Meorwin
				activate_advisor = KTZ_Kimitz
				activate_advisor = KTZ_Bingus
				activate_advisor = KTZ_Sogga
			}
			KTZ_Hell = { set_character_flag = KTZ_scientist }
			KTZ_Kattman = { set_character_flag = KTZ_scientist }
			KTZ_Koko = { set_character_flag = KTZ_scientist }
			KTZ_Meorwin = { set_character_flag = KTZ_scientist }
			KTZ_Pawldrin = { set_character_flag = KTZ_scientist }
		}
	}
}
shared_focus = {
	id = KTZ_gigastructural_engineering
	icon = GFX_goal_KTZ_goal_gigastructural_engineering
	cost = 5
	x = 0
	y = 9
	relative_position_id = KTZ_continental_ambitions
	prerequisite = {
		focus = KTZ_nuclear_is_always_an_option
	}
	ai_will_do = {
		factor = 5
	}

	available = {
		has_tech = nuclear_reactor
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_gigastructural_engineering"
		unlock_decision_category_tooltip = KTZ_gigastructural_engineering_cat
		add_to_variable = { KTZ_kattail_conquest_timer_active = 180 }
	}
}
shared_focus = {
	id = KTZ_project_zebtropa
	icon = GFX_goal_KTZ_project_zebtropa
	cost = 4
	x = -2
	y = 1
	relative_position_id = KTZ_gigastructural_engineering
	prerequisite = {
		focus = KTZ_gigastructural_engineering
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_project_zebtropa"
		hidden_effect = {
			add_to_array = { KTZ_zebtropa_states_array = 869.id }
			add_to_array = { KTZ_zebtropa_states_array = 870.id }
			add_to_array = { KTZ_zebtropa_states_array = 871.id }
			add_to_array = { KTZ_zebtropa_states_array = 860.id }
			add_to_array = { KTZ_zebtropa_states_array = 859.id }
			add_to_array = { KTZ_zebtropa_states_array = 858.id }
			add_to_array = { KTZ_zebtropa_states_array = 851.id }
			add_to_array = { KTZ_zebtropa_states_array = 849.id }
			add_to_array = { KTZ_zebtropa_states_array = 848.id }
			add_to_array = { KTZ_zebtropa_states_array = 846.id }
			add_to_array = { KTZ_zebtropa_states_array = 845.id }
			add_to_array = { KTZ_zebtropa_states_array = 813.id }
			add_to_array = { KTZ_zebtropa_states_array = 826.id }
			add_to_array = { KTZ_zebtropa_states_array = 824.id }
			add_to_array = { KTZ_zebtropa_states_array = 872.id }
			add_to_array = { KTZ_zebtropa_states_array = 814.id }
			add_to_array = { KTZ_zebtropa_states_array = 798.id }
			add_to_array = { KTZ_zebtropa_states_array = 799.id }
			add_to_array = { KTZ_zebtropa_states_array = 795.id }
			add_to_array = { KTZ_zebtropa_states_array = 788.id }
			add_to_array = { KTZ_zebtropa_states_array = 789.id }
			add_to_array = { KTZ_zebtropa_states_array = 954.id }
			add_to_array = { KTZ_zebtropa_states_array = 956.id }
			add_to_array = { KTZ_zebtropa_states_array = 990.id }
			add_to_array = { KTZ_zebtropa_states_array = 991.id }
			add_to_array = { KTZ_zebtropa_states_array = 987.id }
			add_to_array = { KTZ_zebtropa_states_array = 986.id }
			add_to_array = { KTZ_zebtropa_states_array = 989.id }
			add_to_array = { KTZ_zebtropa_states_array = 988.id }
			add_to_array = { KTZ_zebtropa_states_array = 995.id }
			add_to_array = { KTZ_zebtropa_states_array = 997.id }
			add_to_array = { KTZ_zebtropa_states_array = 994.id }
			add_to_array = { KTZ_zebtropa_states_array = 962.id }
			add_to_array = { KTZ_zebtropa_states_array = 1007.id }
			add_to_array = { KTZ_zebtropa_states_array = 1005.id }
			add_to_array = { KTZ_zebtropa_states_array = 1006.id }
			add_to_array = { KTZ_zebtropa_states_array = 1003.id }
			add_to_array = { KTZ_zebtropa_states_array = 1002.id }
			add_to_array = { KTZ_zebtropa_states_array = 998.id }
			add_to_array = { KTZ_zebtropa_states_array = 999.id }
			add_to_array = { KTZ_zebtropa_states_array = 874.id }			
		}
		custom_effect_tooltip = KTZ_project_zebtropa_tt
	}
}
#shared_focus = {
#	id = KTZ_project_grunwuste
#	icon = GFX_goal_KTZ_projekt_grunwuste
#	cost = 3
#	x = -1
#	y = 1
#	relative_position_id = KTZ_project_zebtropa
#		prerequisite = {
#			focus = KTZ_project_zebtropa
#		}
#		ai_will_do = {
#			factor = 5
#		}
#
##		continue_if_invalid = no
#		available_if_capitulated = no
#
#		completion_reward = {
#			log = "[GetDateText]: [Root.GetName]: Focus: KTZ_project_grunwuste"
#		}
#	}
shared_focus = {
	id = KTZ_project_atominseln
	icon = GFX_goal_KTZ_projekt_atominsel
	cost = 4
	x = 0
	y = 1
	relative_position_id = KTZ_gigastructural_engineering
	prerequisite = {
		focus = KTZ_gigastructural_engineering
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_project_atominseln"
		hidden_effect = {
			add_dynamic_modifier = {
				modifier = KTZ_gigashipyards_buff_modifier
			}
			activate_targeted_decision = { target = 695 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 696 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 693 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 692 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 784 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1199 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1198 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1197 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1196 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1195 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1194 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 1193 decision = KTZ_giga_shipyards_decision }
			activate_targeted_decision = { target = 4 decision = KTZ_giga_shipyards_decision }

		}
		# if = {
		# 	limit = { has_dlc = "Gotterdammerung" }
		# 	sp:sp_naval_modern_carrier = {
		# 		add_project_progress_ratio = 0.50
		# 	}
		# }
		custom_effect_tooltip = KTZ_project_atominseln_tt
	}
}
shared_focus = {
	id = KTZ_project_grossatom
	icon = GFX_goal_KTZ_project_grossatom
	cost = 4
	x = 2
	y = 1
	relative_position_id = KTZ_gigastructural_engineering
	prerequisite = {
		focus = KTZ_gigastructural_engineering
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_project_grossatom"
		custom_effect_tooltip = KTZ_project_grossatom_tt
	}
}

shared_focus = {
	id = KTZ_we_need_more_i_need_more
	icon = GFX_goal_KTZ_we_need_more
	cost = 3
	x = 0
	y = 2
	relative_position_id = KTZ_project_atominseln
	prerequisite = {
		focus = KTZ_project_zebtropa
		focus = KTZ_project_grossatom
		focus = KTZ_project_atominseln
		focus = KTZ_giant_tank_focus
		focus = KTZ_superhighway
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = KTZ_we_need_more_i_need_more_tt
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_we_need_more_i_need_more"
		add_tech_bonus = {
			name = artillery_bonus
			bonus = 1
			uses = 2
			category = artillery
		}
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 1
			uses = 2
			category = electronics
		}
	}
}
shared_focus = { #what am i supposed to put here???????
	id = KTZ_what_are_we_going_to_do_now
	icon = GFX_goal_KTZ_what_are_we_going
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_we_need_more_i_need_more
	prerequisite = {
		focus = KTZ_we_need_more_i_need_more
		}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: what_are_we_going_to_do_now"
		every_owned_state = {
			add_building_construction = {
				type = anti_air_building
				level = 3
				instant_build = yes
			}
		}
		add_ideas = KTZ_anti_air_idea
	}
}
shared_focus = {
	id = KTZ_what_i_do_every_cycle
	icon = GFX_goal_KTZ_what_i_do_every_time
	cost = 3
	x = 1
	y = 1
	available = {
		has_completed_focus = KTZ_what_are_we_going_to_do_now
	}
	relative_position_id = KTZ_we_need_more_i_need_more
	prerequisite = {
		focus = KTZ_we_need_more_i_need_more
		}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: what_are_we_going_to_do_now"
		add_tech_bonus = {
			name = secret_bonus
			technology = super_heavy_tank
			technology = super_heavy_tank_a
			technology = super_heavy_tank_b
			bonus = 1
			uses = 2
			ahead_reduction = 2
		}
		if = {
			limit = { has_dlc = "Gotterdammerung" }
			sp:sp_land_land_cruiser = {
				add_project_progress_ratio = 0.50
			}
		}
	}
}

shared_focus = {
	id = KTZ_try_and_take_over_the_world
	icon = GFX_goal_KTZ_take_over_the_world
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_what_are_we_going_to_do_now
	prerequisite = {
		focus = KTZ_what_are_we_going_to_do_now
		}
	prerequisite = {
		focus = KTZ_what_i_do_every_cycle
	}
	ai_will_do = {
		factor = 5
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: what_are_we_going_to_do_now"
		country_event = katzen_AF.111
		add_command_power = 100
		army_experience = 250
		navy_experience = 250
		air_experience = 250
	}
}

shared_focus = {
	id = KTZ_the_kattown_pyramid
	icon = GFX_goal_KTZ_a_success
	cost = 3
	x = 25
	y = 0
	ai_will_do = {
		factor = 5
	}
	allow_branch = {
			has_country_flag = KTZ_endgame_start_flag
		}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_kattown_pyramid"
		custom_effect_tooltip = KTZ_the_kattown_pyramid_tt
		set_cosmetic_tag = KTZ_big_katzenartig_imperium_cosmetic
		hidden_effect = {
			if = {
				limit = { is_ai = yes }
				set_variable = { KTZ_kattail_conquest_timer = 180 }
			}
		}
	}
}

shared_focus = {
	id = KTZ_war_plan_equus
	icon = GFX_goal_KTZ_war_plan_equus
	cost = 3
	x = -6
	y = 1
	relative_position_id = KTZ_the_kattown_pyramid
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				AND = {
					has_completed_focus = KTZ_war_plan_griffonia
					any_country = {
						is_griffon_continent_country = yes
						has_war_with = KTZ
					}
				}
				AND = {
					has_completed_focus = KTZ_war_plan_zebrica
					any_country = {
						is_zebrican_continent_country = yes
						has_war_with = KTZ
					}
				}
			}
		}
	}
	prerequisite = {
		focus = KTZ_the_kattown_pyramid
	}
	bypass = {
		hidden_trigger = {
			has_global_flag = KTZ_world_united_against_kattail
		}
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_war_plan_equus"
		custom_effect_tooltip = KTZ_war_plan_equus_tt
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = KTZ_world_embargo } }
				country_event = { id = katzen_AF.649 days = 10 }
			}
			every_country = {
				limit = {
					is_equestrian_continent_country = yes
				}
				every_owned_state = { add_claim_by = KTZ }
			}
			country_event = katzen_AF.8200
			if = {
				limit = {
					has_completed_focus = KTZ_war_plan_griffonia
					has_completed_focus = KTZ_war_plan_zebrica
					NOT = { has_idea = KTZ_grand_crusade_idea }
				}
				country_event = { id = katzen_AF.5000 days = 10 }
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = KTZ_making_landfall
	icon = GFX_goal_KTZ_making_landfall
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_war_plan_equus
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_equus
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_making_landfall"
		add_ideas = KTZ_making_landfall_idea
		hidden_effect = {
			if = {
				limit = { is_ai = yes }
				351 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
				every_other_country = {
					limit = { 
						OR = {
							original_tag = UFS
							is_equestrian_continent_country = yes
						}
					}
					country_event = { id = katzen_AF.511 }
				}
			}
			if = {
				limit = { is_ai = yes }
				50 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				8 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				93 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				24 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_a_hop_and_a_skip
	icon = GFX_goal_KTZ_a_hop_and_a_skip
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_war_plan_equus
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_equus
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_hop_and_a_skip"
		add_tech_bonus = {
			bonus = 1
			uses = 2
			ahead_reduction = 1
			category = marine_tech
		}
		add_tech_bonus = {
			bonus = 0.5
			uses = 2
			category = naval_equipment
		}
	}
}

shared_focus = {
	id = KTZ_taming_the_dragons
	icon = GFX_goal_KTZ_taming_the_dragons
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_making_landfall
	ai_will_do = {
		factor = 5
	}
	available = { 7 = { is_controlled_by = KTZ } }
	prerequisite = {
		focus = KTZ_making_landfall
	}
	prerequisite = {
		focus = KTZ_a_hop_and_a_skip
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_taming_the_dragons"
		set_technology = {
			popup = no
			dragons_heavy = 1
		}
		set_technology = {
			popup = no
			dragons_light = 1
		}
		fix_weapon_techs = yes
	}
}

shared_focus = {
	id = KTZ_into_the_desert
	icon = GFX_goal_KTZ_into_the_desert
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_taming_the_dragons
	ai_will_do = {
		factor = 5
	}
	available = {
		any_state = {
			is_core_of = EQS
			is_controlled_by = KTZ
		}
	}
	prerequisite = {
		focus = KTZ_taming_the_dragons
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_into_the_desert"
		remove_ideas = KTZ_making_landfall_idea
		add_ideas = KTZ_into_the_desert_idea
	}
}

shared_focus = {
	id = KTZ_the_relentless_drive
	icon = GFX_goal_KTZ_relentless_drive
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_taming_the_dragons
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_taming_the_dragons
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_relentless_drive"
		add_timed_idea = {
			days = 90
			idea = KTZ_speed_temp_bonus_idea
		}
	}
}

shared_focus = {
	id = KTZ_better_than_chrysalis
	icon = GFX_goal_KTZ_better_than_chrysalis
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_into_the_desert
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_into_the_desert
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_better_than_chrysalis"
		swap_ideas = {
			remove_idea = KTZ_katzenfication_protocols_idea
			add_idea = KTZ_katzenfication_protocols_two_idea
		}
		if = {
			limit = { has_dlc = "La Resistance" }
			set_technology = {
				tech_infiltrators = 1
				tech_infiltrators_di_lar = 1
				tech_infiltrators_di2_lar = 1
				tech_infiltrators_di3_lar = 1
				tech_infiltrators_di4_lar = 1
				tech_infiltrators_si_lar = 1
				tech_infiltrators_si2_lar = 1
				tech_infiltrators_si3_lar = 1
				tech_infiltrators_si4_lar = 1	
			}
		}
		else = {
			set_technology = {
				tech_infiltrators = 1
				tech_infiltrators_di = 1
				tech_infiltrators_di2 = 1
				tech_infiltrators_di3 = 1
				tech_infiltrators_di4 = 1
				tech_infiltrators_si = 1
				tech_infiltrators_si2 = 1
				tech_infiltrators_si3 = 1
				tech_infiltrators_si4 = 1	
			}
		}
	}
}

shared_focus = {
	id = KTZ_onwards_to_vesalipolis
	icon = GFX_goal_KTZ_onwards_to_vesalipolis
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_into_the_desert
	ai_will_do = {
		factor = 5
	}
	available = {
		any_state = {
			is_core_of = CHN
			is_controlled_by = KTZ
		}
	}
	prerequisite = {
		focus = KTZ_into_the_desert
	}
	prerequisite = {
		focus = KTZ_the_relentless_drive
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_onwards_to_vesalipolis"
		add_tech_bonus = {
			bonus = 0.5
			uses = 3
			category = special_forces_tech
		}
		add_timed_idea = {
			idea = KTZ_changelings_attack_buff_idea
			days = 270
		}
		set_technology = { tech_jager = 1 }
		set_technology = { tech_jager2 = 1 }
		set_technology = { tech_jager3 = 1 }
		set_technology = { tech_jager_a = 1 }
		set_technology = { tech_jager_b = 1 }
		set_technology = { tech_jager_c = 1 }
		fix_weapon_techs = yes
	}
}

shared_focus = {
	id = KTZ_a_night_in_canterlot
	icon = GFX_goal_KTZ_a_night_in_canterlot
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_the_relentless_drive
	ai_will_do = {
		factor = 5
	}
	available = {
		OR = { #Either the Everfree exists so you just need canterlot, or it doesn't and you need the everfree
			AND = {
				NOT = { country_exists = ZRS }
				3 = { is_controlled_by = KTZ }
				1 = { is_controlled_by = KTZ }
				2 = { is_controlled_by = KTZ }
				5 = { is_controlled_by = KTZ }
			}
			AND = {
				country_exists = ZRS
				3 = { is_controlled_by = KTZ }
			}
		}

	}
	prerequisite = {
		focus = KTZ_the_relentless_drive
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_night_in_canterlot"
		country_event = { id = katzen_AF.276 days = 3 }
		custom_effect_tooltip = KTZ_jungle_clearing_equus_tt
		add_timed_idea = {
			days = 270
			idea = KTZ_equestria_attack_buff_idea
		}
		set_technology = { tech_unicorn = 1 }
		set_technology = { tech_unicorn_ms = 1 }
		set_technology = { tech_unicorn_ms2 = 1 }
		set_technology = { tech_unicorn_ms3 = 1 }
		set_technology = { tech_unicorn_ms4 = 1 }
		set_technology = { tech_unicorn_ms5 = 1 }
		fix_weapon_techs = yes
		hidden_effect = {
			activate_targeted_decision = { target = 24 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 25 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 31 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 32 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 35 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 36 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 16 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 88 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 86 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 90 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 26 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 348 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 350 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 352 decision = KTZ_jungle_clearing_decision }
		}
	}
}

shared_focus = {
	id = KTZ_projekt_sondersteinwerke
	icon = GFX_goal_KTZ_projekt_sondersteinwerke
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_better_than_chrysalis
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_better_than_chrysalis
	}
	prerequisite = {
		focus = KTZ_onwards_to_vesalipolis
	}
	available = {
		controls_state = 55
		controls_state = 64
		controls_state = 77
		controls_state = 267
		controls_state = 268
		controls_state = 236
		controls_state = 317
		controls_state = 339
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = KTZ_projekt_sondersteinwerke_tt
		hidden_effect = {
			activate_targeted_decision = { target = 55 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 64 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 77 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 267 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 268 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 236 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 317 decision = KTZ_uberreaktor_decision }
			activate_targeted_decision = { target = 339 decision = KTZ_uberreaktor_decision }
		}
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_sondersteinwerke"
	}
}

shared_focus = {
	id = KTZ_projekt_uberreaktor
	icon = GFX_goal_KTZ_projekt_uberreaktor
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_onwards_to_vesalipolis
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_onwards_to_vesalipolis
	}
	prerequisite = {
		focus = KTZ_a_night_in_canterlot
	}
	available = {
		controls_state = 7
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_uberreaktor"
		custom_effect_tooltip = KTZ_projekt_uberreaktor_tt
	}
}


shared_focus = {
	id = KTZ_war_plan_griffonia
	icon = GFX_goal_KTZ_war_plan_griffonia
	cost = 3
	x = 0
	y = 1
	relative_position_id = KTZ_the_kattown_pyramid
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				AND = {
					has_completed_focus = KTZ_war_plan_equus
					any_country = {
						is_equestrian_continent_country = yes
						has_war_with = KTZ
					}
				}
				AND = {
					has_completed_focus = KTZ_war_plan_zebrica
					any_country = {
						is_zebrican_continent_country = yes
						has_war_with = KTZ
					}
				}
			}
		}
	}
	prerequisite = {
		focus = KTZ_the_kattown_pyramid
	}
	bypass = {
		hidden_trigger = {
			has_global_flag = KTZ_world_united_against_kattail
		}
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_war_plan_griffonia"
		custom_effect_tooltip = KTZ_war_plan_griffonia_tt
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = KTZ_world_embargo } }
				country_event = { id = katzen_AF.649 days = 10 }
			}
			every_country = {
				limit = {
					is_griffon_continent_country = yes
					NOT = { tag = HLR tag = DED tag = EWI }
				}
				every_owned_state = { add_claim_by = KTZ }
			}
			country_event = katzen_AF.8100
			if = {
				limit = {
					has_completed_focus = KTZ_war_plan_zebrica
					has_completed_focus = KTZ_war_plan_equus
					NOT = { has_idea = KTZ_grand_crusade_idea }
				}
				country_event = { id = katzen_AF.5000 days = 10 }
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = KTZ_across_the_middle_sea
	icon = GFX_goal_KTZ_across_the_middle_sea
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_war_plan_griffonia
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_griffonia
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_across_the_middle_sea"
		add_timed_idea = {
			idea = KTZ_across_the_middle_sea_idea
			days = 120
		}
		hidden_effect = {
			if = {
				limit = {
					is_ai = yes
				}
				504 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
				every_other_country = {
					limit = { 
						OR ={
							original_tag = UFS
							is_griffon_continent_country = yes
						}
					}
					country_event = { id = katzen_AF.511 }
				}
			}
			if = {
				limit = { is_ai = yes }
				462 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				595 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				444 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				589 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
			if = {
				limit = { is_ai = yes }
				354 = {
					transfer_state_to = KTZ
					create_unit = {
						division = "division_template = \"Katzenkaisergarde\" start_experience_factor = 1.0 start_equipment_factor = 1.0"
						count = 24
						owner = KTZ
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_from_the_air
	icon = GFX_goal_KTZ_from_the_air
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_war_plan_griffonia
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_griffonia
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_flood_of_violence"
		add_tech_bonus = {
			bonus = 0.75
			uses = 2
			category = special_forces_tech
		}
		add_tech_bonus = {
			bonus = 0.75
			uses = 3
			category = air_equipment
		}
	}
}

shared_focus = {
	id = KTZ_from_the_west
	icon = GFX_goal_KTZ_from_the_west
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_across_the_middle_sea
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_across_the_middle_sea
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_from_the_west"
		add_nuclear_bombs = 20
		add_timed_idea = {
			idea = KTZ_griffons_attack_buff_idea
			days = 270
		}
		set_technology = {
			tech_knights = 1
			tech_knights2 = 1
			tech_knights3 = 1
			tech_knights_magical = 1
			tech_knights_magical2 = 1
			tech_knights_a = 1
			tech_knights_b = 1
			tech_knights_c = 1
		}
	}
}

shared_focus = {
	id = KTZ_a_mountain_of_iron
	icon = GFX_goal_KTZ_a_mountain_of_iron
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_across_the_middle_sea
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_across_the_middle_sea
	}
	prerequisite = {
		focus = KTZ_from_the_air
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_mountain_of_iron"
		add_resource = {
			type = chromium
			amount = 30
			state = 791
		}
		add_resource = {
			type = chromium
			amount = 30
			state = 792
		}
		add_resource = {
			type = chromium
			amount = 30
			state = 1004
		}
		add_resource = {
			type = tungsten
			amount = 30
			state = 1007
		}
		add_resource = {
			type = aluminium
			amount = 30
			state = 801
		}
		add_resource = {
			type = chromium
			amount = 30
			state = 842
		}
	}
}

shared_focus = {
	id = KTZ_from_the_east
	icon = GFX_goal_KTZ_from_the_east
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_from_the_air
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_from_the_air
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_from_the_east"
		every_other_country = {
			limit = {
				OR = {
					original_tag = UFS
					is_griffon_continent_country = yes
				}
				is_faction_leader = no
				NOT = {
					original_tag = HLR
				}
				NOT = {
					original_tag = DED
				}
				NOT = {
					original_tag = EWI
				}
			}
			add_timed_idea = {
				idea = HLQ_the_plague
				days = 28
			}
		}
	}
}

shared_focus = {
	id = KTZ_targeted_sabotage
	icon = GFX_goal_KTZ_targeted_sabotage
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_from_the_west
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_from_the_west
	}
	prerequisite = {
		focus = KTZ_a_mountain_of_iron
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_targeted_sabotage"
		every_other_country = {
			limit = {
				OR = {
					original_tag = UFS
					is_griffon_continent_country = yes
				}
				is_faction_leader = no
				NOT = {
					original_tag = HLR
				}
				NOT = {
					original_tag = DED
				}
				NOT = {
					original_tag = EWI
				}
			}
			add_timed_idea = {
				idea = KTZ_targeted_sabotage_idea
				days = 90
			}
		}
	}
}

shared_focus = {
	id = KTZ_a_most_curious_device
	icon = GFX_goal_KTZ_a_most_curious_device
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_a_mountain_of_iron
	ai_will_do = {
		factor = 5
	}
	available = {
		512 = {
			is_controlled_by = KTZ
		}
	}
	prerequisite = {
		focus = KTZ_a_mountain_of_iron
	}
	prerequisite = {
		focus = KTZ_from_the_east
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_most_curious_device"
		custom_effect_tooltip = KTZ_a_most_curious_device_tt
		for_each_scope_loop = {
			array = global.africa_states
			if = {
				limit = {
					OR = {
						is_core_of = HYE
						is_core_of = CZR
						is_core_of = CME
						is_core_of = BLT
						is_core_of = CGI
						is_core_of = ZAI
						is_core_of = ZAR
						is_core_of = ALO
						is_core_of = MGY
						is_core_of = YMN
						is_core_of = TIM
						is_core_of = MSH
					}
				}
				add_to_array = { KTZ.KTZ_zebhara_states_array = THIS.id }
			}
		}
		add_to_array = { KTZ_zebhara_states_array = 1046.id }
		set_technology = {
			tech_pegasi = 1
			tech_pegasi2 = 1
			tech_pegasi3 = 1
			tech_pegasi_a = 1
			tech_pegasi_b = 1
			tech_pegasi_c = 1
			tech_pegasi_bonus3 = 1
		}
	}
}

shared_focus = {
	id = KTZ_projekt_kraftwasser
	icon = GFX_goal_KTZ_projekt_kraftwasserallianz
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_targeted_sabotage
	ai_will_do = {
		factor = 5
	}
	available = {
		OR = {
			AND = {
				controls_state = 387
				controls_state = 491
			}
			AND = {
				controls_state = 615
				controls_state = 577
			}
			AND = {
				controls_state = 405
				controls_state = 437
			}
		}
	}
	prerequisite = {
		focus = KTZ_targeted_sabotage
	}
	prerequisite = {
		focus = KTZ_a_most_curious_device
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		custom_effect_tooltip = KTZ_projekt_kraftwasser_tt
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_kraftwasser"
	}
}

shared_focus = {
	id = KTZ_projekt_sacraflasche
	icon = GFX_goal_KTZ_projekt_sacrawasser
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_projekt_kraftwasser
	ai_will_do = {
		factor = 5
	}
	available = {
		controls_state = 642
	}
	prerequisite = {
		focus = KTZ_projekt_kraftwasser
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_sacraflasche"
		custom_effect_tooltip = KTZ_projekt_sacraflasche_tt
	}
}

shared_focus = {
	id = KTZ_projekt_grossgang
	icon = GFX_goal_KTZ_projekt_grossgang
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_projekt_kraftwasser
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_projekt_kraftwasser
	}
	available = {
		controls_state = 421
		controls_state = 408
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_grossgang"
		custom_effect_tooltip = KTZ_projekt_grossgang_tt
		hidden_effect = {
			activate_targeted_decision = { target = 421 decision = KTZ_grossgang_decision }
			activate_targeted_decision = { target = 408 decision = KTZ_grossgang_decision }
		}
	}
}

shared_focus = {
	id = KTZ_war_plan_zebrica
	icon = GFX_goal_KTZ_war_plan_zebrica
	cost = 3
	x = 6
	y = 1
	relative_position_id = KTZ_the_kattown_pyramid
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				AND = {
					has_completed_focus = KTZ_war_plan_griffonia
					any_country = {
						is_griffon_continent_country = yes
						has_war_with = KTZ
					}
				}
				AND = {
					has_completed_focus = KTZ_war_plan_equus
					any_country = {
						is_equestrian_continent_country = yes
						has_war_with = KTZ
					}
				}
			}
		}
	}
	prerequisite = {
		focus = KTZ_the_kattown_pyramid
	}
	bypass = {
		hidden_trigger = {
			has_global_flag = KTZ_world_united_against_kattail
		}
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_war_plan_zebrica"
		custom_effect_tooltip = KTZ_war_plan_zebrica_tt
		hidden_effect = {
			if = {
				limit = { NOT = { has_country_flag = KTZ_world_embargo } }
				country_event = { id = katzen_AF.649 days = 10 }
			}
			every_other_country = {
				limit = { is_zebrican_continent_country = yes }
				every_owned_state = { add_claim_by = KTZ }
			}
			country_event = katzen_AF.8300
			if = {
				limit = {
					has_completed_focus = KTZ_war_plan_griffonia
					has_completed_focus = KTZ_war_plan_equus
					NOT = { has_idea = KTZ_grand_crusade_idea }
				}
				country_event = { id = katzen_AF.5000 days = 10 }
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = KTZ_all_weather_tanks
	icon = GFX_goal_KTZ_all_weather_tanks
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_war_plan_zebrica
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_zebrica
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_all_weather_tanks"
		custom_effect_tooltip = HIP_amphibious_super_heavies_effect
		set_technology = {
			HIP_amphibious_super_heavies = 1
			popup = no
		}
	}
}

shared_focus = {
	id = KTZ_all_weather_planes
	icon = GFX_goal_KTZ_all_weather_planes
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_war_plan_zebrica
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_war_plan_zebrica
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_all_weather_planes"
		set_technology = {
			tech_pegasi_bonus3 = 1
		}
	}
}

shared_focus = {
	id = KTZ_the_kaiserdorf_program
	icon = GFX_goal_KTZ_the_kaiserdorf_program
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_all_weather_planes
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_all_weather_tanks
	}
	prerequisite = {
		focus = KTZ_all_weather_planes

	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_kaiserdorf_program"
		custom_effect_tooltip = KTZ_the_kaiserdorf_program_tt
		add_timed_idea = {
			days = 145
			idea = KTZ_the_kaiserdorf_program_idea
		}
		hidden_effect = {
			every_other_country = {
				limit = {
					original_tag = UFS
					is_zebrican_continent_country = yes
				}
				add_timed_idea = {
					days = 120
					idea = KTZ_AI_country_gigawar_buff_zebrica_counter_idea
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_rainbow_of_war
	icon = GFX_goal_KTZ_a_rainbow_of_war
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_the_kaiserdorf_program
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_kaiserdorf_program
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_rainbow_of_war"
		if = {
			limit = { has_dlc = "La Resistance" }
			every_other_country = {
				limit = {
					OR = {
						original_tag = UFS
						is_zebrican_continent_country = yes
					}
				}
				ROOT = {
					add_intel = {
						target = PREV
						civilian_intel = 20
						army_intel = 20
						navy_intel = 20
						airforce_intel = 20
					}
				}
			}
		}
		else = {
			add_ideas = KTZ_rainbow_of_war_nolar_idea
		}
	}
}

shared_focus = {
	id = KTZ_a_flood_of_violence
	icon = GFX_goal_KTZ_a_flood_of_violence
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_the_kaiserdorf_program
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_the_kaiserdorf_program
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_flood_of_violence"
		every_army_leader = {
			add_logistics = 1
			add_defense = 1
			add_planning = 1
			add_attack = 1
		}
		set_technology = {
			tech_spirit_warriors = 1
			tech_spirit_warriors2 = 1
			tech_spirit_warriors3 = 1
			tech_spirit_warriors4 = 1
			tech_spirit_warriors5 = 1
			tech_spirit_warriors6 = 1
			tech_spirit_warrior_instincts = 1
		}
	}
}

shared_focus = {
	id = KTZ_through_the_clearings
	icon = GFX_goal_KTZ_through_the_clearings
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_rainbow_of_war
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_rainbow_of_war
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_through_the_clearings"
		set_technology ={
			tech_deer_army_atk2 = 1
		}
	}
}

shared_focus = {
	id = KTZ_march_on_vermillion
	icon = GFX_goal_KTZ_march_on_vermillion
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_rainbow_of_war
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_rainbow_of_war
	}
	prerequisite = {
		focus = KTZ_a_flood_of_violence
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	available = {
		any_state = {
			OR = {
				is_core_of = KIR
				is_core_of = KIS
				is_core_of = KIC
			}
			is_controlled_by = KTZ
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_march_on_vermillion"
		set_technology = {
			tech_kirin_vanguard = 1
			tech_kirin_vanguard2 = 1
			tech_kirin_vanguard3 = 1
			tech_kirin_vanguard4 = 1
			tech_kirin_vanguard5 = 1
			tech_kirin_vanguard6 = 1
			tech_kirin_brave = 1
			tech_kirin_brave2 = 1
			tech_kirin_brave3 = 1
			tech_kirin_brave4b = 1
			tech_kirin_brave5 = 1
			tech_kirin_brave6 = 1
		}
		add_timed_idea = {
			days = 270
			idea = KTZ_kiria_attack_buff_idea
		}
	}
}

shared_focus = {
	id = KTZ_the_eradication_principle
	icon = GFX_goal_KTZ_the_eradication_principle
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_a_flood_of_violence
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_a_flood_of_violence
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_the_eradication_principle"
		set_rule = {
			can_use_kamikaze_pilots = yes
		}
		add_ideas = KTZ_the_eradication_principle_idea
	}
}

shared_focus = {
	id = KTZ_hack_and_slash
	icon = GFX_goal_KTZ_hack_and_slash
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_through_the_clearings
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_through_the_clearings
	}
	prerequisite = {
		focus = KTZ_march_on_vermillion
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_hack_and_slash"
		custom_effect_tooltip = KTZ_jungle_clearing_tt
		hidden_effect = {
			activate_targeted_decision = { target = 1083 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1084 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1150 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1190 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1139 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1141 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1151 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1150 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1149 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1148 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1145 decision = KTZ_jungle_clearing_decision }
			activate_targeted_decision = { target = 1152 decision = KTZ_jungle_clearing_decision }
		}
	}
}

shared_focus = {
	id = KTZ_projekt_wasserhalt
	icon = GFX_goal_KTZ_establish_production_lines
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_march_on_vermillion
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_march_on_vermillion
	}
	prerequisite = {
		focus = KTZ_the_eradication_principle
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_wasserhalt"
		modify_building_resources = {
			building = synthetic_refinery
			resource = oil
			amount = 5
		}
		modify_building_resources = {
			building = nuclear_reactor
			resource = chromium
			amount = 3
		}
	}
}

shared_focus = {
	id = KTZ_projekt_metropol
	icon = GFX_goal_KTZ_projekt_metropol
	cost = 3
	x = 25
	y = 8
	ai_will_do = {
		factor = 5
	}
	available = {
		num_of_controlled_states > 400 #Roughly one continent
	}
	cancel_if_invalid = yes
	allow_branch = {
		has_country_flag = KTZ_endgame_start_flag
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_metropol"
		custom_effect_tooltip = KTZ_projekt_metropol_tt
		775 = {
			set_state_category = megalopolis
			add_extra_state_shared_building_slots = 25
			add_building_construction = {
				type = infrastructure
				level = 5
				instant_build = yes
			}
			add_dynamic_modifier = { modifier = KTZ_katown_state_modifier }
			add_dynamic_modifier = { modifier = KTZ_superhighway_state_modifier }
			hidden_effect = {
				set_building_level = {
					type = KTZ_katown_province
					level = 1
					instant_build = yes
					province = { all_provinces = yes }
				}
				set_state_flag = KTZ_has_arcology
				for_loop_effect = {
					end = 4
					add_manpower = 1000000
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_einheitsnukelarprojekt
	icon = GFX_goal_KTZ_einheitsprojekt
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_projekt_metropol
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_projekt_metropol
	}
	available = {
		controls_state = 1095
		controls_state = 719
		controls_state = 716
		controls_state = 715
		controls_state = 717
		controls_state = 718
		controls_state = 655
		controls_state = 513
		controls_state = 657
		controls_state = 445
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_einheitsnukelarprojekt"
		custom_effect_tooltip = KTZ_einheitsnukelarprojekt_tt
	}
}

shared_focus = {
	id = KTZ_grossbrucke
	icon = GFX_goal_KTZ_projekt_grossbrucke
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_projekt_metropol
	ai_will_do = {
		factor = 5
	}
	available = {
		controls_state = 483
		controls_state = 243
	}
	prerequisite = {
		focus = KTZ_projekt_metropol
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_grossbrucke"
		custom_effect_tooltip = KTZ_grossbrucke_tt
	}
}

shared_focus = {
	id = KTZ_projekt_eiswasser
	icon = GFX_goal_KTZ_projekt_eiswasser
	cost = 3
	x = 1
	y = 1
	relative_position_id = KTZ_einheitsnukelarprojekt
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_einheitsnukelarprojekt
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_eiswasser"
		for_each_scope_loop = {
			array = global.states
			if = {
				limit = {
					OR = {
						is_core_of = GFF
						is_core_of = PNG
						is_core_of = PLB
						is_core_of = SRS
						is_core_of = HLR
						is_core_of = NTR
						is_core_of = DED
					}
				}
				add_to_array = { KTZ.KTZ_eiswasser_states_array = THIS.id }
			}
		}
		add_to_array = { KTZ_eiswasser_states_array = 288.id }
		add_to_array = { KTZ_eiswasser_states_array = 244.id }
		add_to_array = { KTZ_eiswasser_states_array = 279.id }
		add_to_array = { KTZ_eiswasser_states_array = 271.id }
		add_to_array = { KTZ_eiswasser_states_array = 286.id }
		add_to_array = { KTZ_eiswasser_states_array = 483.id }
		add_to_array = { KTZ_eiswasser_states_array = 430.id }
		add_to_array = { KTZ_eiswasser_states_array = 323.id }
		add_to_array = { KTZ_eiswasser_states_array = 315.id }
		add_to_array = { KTZ_eiswasser_states_array = 262.id }
		add_to_array = { KTZ_eiswasser_states_array = 261.id }
		add_to_array = { KTZ_eiswasser_states_array = 311.id }
		add_to_array = { KTZ_eiswasser_states_array = 264.id }
		add_to_array = { KTZ_eiswasser_states_array = 314.id }
		add_to_array = { KTZ_eiswasser_states_array = 312.id }
		add_to_array = { KTZ_eiswasser_states_array = 305.id }
		custom_effect_tooltip = KTZ_eiswasser_states_tt
	}
}

shared_focus = {
	id = KTZ_a_success
	icon = GFX_goal_KTZ_a_success
	cost = 3
	x = 0
	y = 3
	relative_position_id = KTZ_projekt_metropol
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_projekt_eiswasser
	}
	prerequisite = {
		focus = KTZ_projekt_metropol
	}
	prerequisite = {
		focus = KTZ_plan_totenpferd
	}
	available = { 
		NOT = {
			any_state = {
				NOT = { is_controlled_by = KTZ }
			}
		}
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_a_success"
		country_event = katzen_AF.12
		set_cosmetic_tag = KTZ_world_katzenartig_imperium_cosmetic
		clr_country_flag = KTZ_kattail_conquest_timer_active
	}
}

shared_focus = {
	id = KTZ_plan_totenpferd
	icon = GFX_goal_KTZ_projekt_totenpferd
	cost = 3
	x = -1
	y = 1
	relative_position_id = KTZ_grossbrucke
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_grossbrucke
	}
	bypass = {
		NOT = { country_exists = DED }
		NOT = { country_exists = HLR }
		NOT = { country_exists = EWI }
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_plan_totenpferd"
		if = {
			limit = {
				hidden_trigger = {
					country_exists = DED
					NOT = { has_war_with = DED }
				}
			}
			declare_war_on = {
				target = DED
				type = annex_everything
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = HLR
					NOT = { has_war_with = HLR }
				}
			}
			declare_war_on = {
				target = HLR
				type = annex_everything
			}
		}
		if = {
			limit = {
				hidden_trigger = {
					country_exists = EWI
					NOT = { has_war_with = EWI }
				}
			}
			declare_war_on = {
				target = EWI
				type = annex_everything
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = KTZ_projekt_mondkanone
	icon = GFX_goal_KTZ_projekt_mondkanone
	cost = 10
	x = 0
	y = 2
	relative_position_id = KTZ_a_success
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_a_success
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_projekt_mondkanone"
		custom_effect_tooltip = KTZ_projekt_mondkanone_tt
		country_event = katzen_AF.13
	}
}

shared_focus = {
	id = KTZ_giant_tank_focus
	icon = GFX_goal_KTZ_the_sieger_project
	cost = 3
	x = -1
	y = 2
	relative_position_id = KTZ_gigastructural_engineering
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_gigastructural_engineering
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_giant_tank_focus"
		set_technology = {
			KTZ_giant_tank_tech = 1
			popup = no
		}
		custom_effect_tooltip = KTZ_giant_tank_focus_tt
		hidden_effect = {
			if = {
				limit = { is_ai = yes }
				country_event = katzen_AF.28
				add_equipment_to_stockpile = { #By the grace of Kattail plentiful Blast Plate be upon ye!
					type = KTZ_giant_tank_equipment_1
					amount = 2000
				}
				775 = {
					add_resource = {
						type = oil
						amount = 100
					}
				}
				set_technology = {
					fuel_silos = 1
					fuel_refining = 1
					fuel_refining2 = 1
					fuel_refining3 = 1
					fuel_refining4 = 1
					fuel_refining5 = 1
				}
				set_country_flag = has_built_katzen_giant_tank #GIANT PANZERRRRRR yeaaah
				division_template = {
					name = "The Riesigerkatzenpanzer"
					is_locked = yes
					regiments = {
						KTZ_giant_tank = { x = 0 y = 0 }
					}
					support = {
					}
				}
	
				775 = {
					create_unit = {
						division = "name = \"Dominiontracks\" division_template = \"The Riesigerkatzenpanzer\" start_experience_factor = 0.5 start_equipment_factor = 1"
						owner = KTZ
					}
				}
			}
		}
	}
}

shared_focus = {
	id = KTZ_superhighway
	icon = GFX_goal_KTZ_the_trains_run_on_time
	cost = 3
	x = 1
	y = 2
	relative_position_id = KTZ_gigastructural_engineering
	ai_will_do = {
		factor = 5
	}
	prerequisite = {
		focus = KTZ_gigastructural_engineering
	}
	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus: KTZ_superhighway"
		custom_effect_tooltip = KTZ_superhighway_tt
		775 = {
			set_state_flag = KTZ_has_superhighway
			add_dynamic_modifier = { modifier = KTZ_superhighway_state_modifier }
			set_building_level = {
				type = infrastructure
				level = 5
			}
			every_neighbor_state = {
				set_building_level = {
					type = infrastructure
					level = 5
				}
			}
		}
	}
}
