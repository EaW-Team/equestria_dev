focus_tree = {
	id = new_mareland_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			original_tag = EQC
			NOT = { has_country_flag = is_maresoc }
			NOT = { has_country_flag = equalist_eqc }
			NOT = {
				OR = {
					is_subject_of = NLR
					has_country_flag = supported_NLR
				}
			}
			NOT = {
				OR = {
					is_subject_of = event_target:solar_empire
					has_country_flag = supported_SOL
				}
			}
		}
	}
	
	continuous_focus_position = { x = 1200 y = 950 }
	
	default = no
	
	############################
	#### GO WITH EQUESTRIA  ####
	############################

	shared_focus = EQC_legacy_of_the_cockatrice_war
	shared_focus = EQC_expand_manehatten_harbour
	shared_focus = EQC_rnmaf_stratus_springs
	shared_focus = EQC_industral_support_fund
	shared_focus = EQC_national_census
	shared_focus = EQC_commonwealth_defence
	
	focus = {
		id = EQC_strengthen_equestrian_ties
		mutually_exclusive = { focus = EQC_patriation }
		icon = GFX_goal_generic_equestria
		x = 31
		y = 0

		cost = 10

		ai_will_do = {
			factor = 10
			modifier = {
				democratic < 0.5
				factor = 0.5
			}
		}

		available = {
			EQS = { has_government = ROOT }
			OR = {
				is_in_faction_with = EQS
				is_subject_of = EQS
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_strengthen_equestrian_ties"#Auto-logging
			if = {
				limit = {
					has_dlc = "Together for Victory"
				}
				modify_tech_sharing_bonus = {
					id = equestrian_research
					bonus = 0.03
				}
			}
			else ={
				add_political_power = 50
			}
   			
			EQS = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_equestrian_ties
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = EQC_harmony_pony
		}
	}
	
	focus = {
		id = EQC_royal_visit
		icon = GFX_goal_eqc_royal_visit
		prerequisite = { focus = EQC_strengthen_equestrian_ties}
		relative_position_id = EQC_strengthen_equestrian_ties
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			EQS = {
				exists = yes
			}
			NOT = { has_war_with = EQS }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			country_event = { id = mareland.4 }
		}
	}
	
	focus = {
		id = EQC_equestrian_investors
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = EQC_strengthen_equestrian_ties}
		relative_position_id = EQC_strengthen_equestrian_ties
		x = -3
		y = 1

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {
			EQS = {
				exists = yes
			}
			NOT = { has_war_with = EQS }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_equestrian_investors_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_equestrian_investors_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = EQC_rich_set_industries
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_equestrian_investors_factories
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_equestrian_investors_factories }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_equestrian_investors_factories
			}
		}
	}
	
	focus = {
		id = EQC_school_for_gifted_unicorns
		icon = GFX_focus_research
		prerequisite = { focus = EQC_royal_visit}
		mutually_exclusive = { focus = EQC_school_of_friendship }
		relative_position_id = EQC_royal_visit
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			NOT = { has_war_with = EQS }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_school_for_gifted_unicorns"#Auto-logging
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
				custom_effect_tooltip = CZE_war_college_effect_tt
			}
			
			add_ideas = EQC_school_for_unicorns
		}
	}
	
	focus = {
		id = EQC_school_of_friendship
		icon = GFX_goal_generic_scientific_exchange_pony
		prerequisite = { focus = EQC_royal_visit}
		relative_position_id = EQC_royal_visit
		mutually_exclusive = { focus = EQC_school_for_gifted_unicorns }
		x = 1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
			NOT = { has_war_with = EQS }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_school_of_friendship"#Auto-logging
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
				custom_effect_tooltip = CZE_war_college_effect_tt
			}
			add_ideas = EQC_friendship_school
		}
	}
	
	focus = {
		id = EQC_attract_immigrants
		icon = GFX_goal_liberty
		prerequisite = { focus = EQC_equestrian_investors }
		relative_position_id = EQC_equestrian_investors
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			add_ideas = EQC_attract_immigrants
		}
	}
	
	focus = {
		id = EQC_national_housing_act
		icon = GFX_goal_generic_construction
		prerequisite = { focus = EQC_attract_immigrants }
		prerequisite = { focus = EQC_school_for_gifted_unicorns focus = EQC_school_of_friendship }
		relative_position_id = EQC_attract_immigrants
		x = 1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2				
			}
		}
	}
	
	focus = {
		id = EQC_land_grants
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = EQC_national_housing_act }
		relative_position_id = EQC_national_housing_act
		mutually_exclusive = { focus = EQC_national_parks }
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			add_stability = -0.05
			random_state = {
				limit = {
					has_state_flag = EQC_land_grants_state
				}
				add_extra_state_shared_building_slots = 4
			}
			random_state = {
				limit = {
					has_state_flag = EQC_land_grants_state1
				}
				add_extra_state_shared_building_slots = 4
			}
			random_state = {
				limit = {
					has_state_flag = EQC_land_grants_state2
				}
				add_extra_state_shared_building_slots = 4
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_equestrian_investors"#Auto-logging
			add_stability = -0.05
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 4
				set_state_flag = EQC_land_grants_state
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_land_grants_state }
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 4
				set_state_flag = EQC_land_grants_state1
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { OR = { has_state_flag = EQC_land_grants_state has_state_flag = EQC_land_grants_state1 } }
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 4
				set_state_flag = EQC_land_grants_state2
			}
		}
	}
	
	focus = {
		id = EQC_national_parks
		icon = GFX_goal_generic_national_unity_horseshoe
		prerequisite = { focus = EQC_national_housing_act }
		relative_position_id = EQC_national_housing_act
		mutually_exclusive = { focus = EQC_land_grants }
		x = 1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_strengthen_equestrian_ties"#Auto-logging
			add_ideas = EQC_protected_nature
		}
	}
	
	focus = {
		id = EQC_basic_incom
		icon = GFX_goal_industrial_pony
		prerequisite = { focus = EQC_national_parks focus = EQC_land_grants }
		relative_position_id = EQC_land_grants
		x = 1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3				
			}
			custom_effect_tooltip = eqc_unlocks_economic_decisions_tt
		}
	}
	
	shared_focus = EQC_transoceanic_support
	
	focus = {
		id = EQC_solidify_self_determination
		icon = GFX_focus_indy_generic_political
		prerequisite = { focus = EQC_basic_incom }
		relative_position_id = EQC_basic_incom
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {
			NOT = { has_idea = equestrian_overlord}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_solidify_self_determination"#Auto-logging
			remove_ideas = equestrian_overlord
		}
	}
	
	############################
	#### EQUESTRIA IN EXILE ####
	############################
	
	focus = {
		id = EQC_government_in_exile
		icon = GFX_goal_eqc_shelter_celestia
		prerequisite = { focus = EQC_strengthen_equestrian_ties}
		relative_position_id = EQC_strengthen_equestrian_ties
		x = 4
		y = 1

		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			is_subject = no
			has_government = democratic
			EQS = {
				OR = {
					exists = no
					AND = {
						is_subject = yes
						NOT = { has_government = democratic }
						NOT = { is_subject_of = EQC }
					}					
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_government_in_exile"#Auto-logging
			if = {
				limit = {
					any_other_country = {
                        is_EQS_SOL = yes
                        exists = yes
                    }
                    any_other_country = {
                        is_original_EQS = yes
                        exists = no
                    }
				}
				country_event = { id = eqsexile.2 } #Luna in Exile
			}
			else = {
				country_event = { id = eqsexile.1 } #Celestia in Exile
			}
			
			if = {
				limit = {
					NOT = { has_completed_focus = EQC_transoceanic_support }
					EQS = { exists = no }
				}
				custom_effect_tooltip = available_theorist
				show_ideas_tooltip = moon_dancer
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = EQC_commonwealth_aircraft_corporation
			}			
		}
	}
	
	focus = {
		id = EQC_unite_the_nation
		icon = GFX_goal_generic_national_unity_horseshoe
		prerequisite = { focus = EQC_government_in_exile}
		relative_position_id = EQC_government_in_exile
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_unite_the_nation"#Auto-logging
			add_stability = 0.3
			add_war_support = 0.3
		}
	}
	
	focus = {
		id = EQC_fund_the_resistence
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = EQC_unite_the_nation}
		relative_position_id = EQC_unite_the_nation
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_fund_the_resistence"#Auto-logging
			add_ideas = EQC_funding_the_resistiance
			
			if = {
				limit = {
					NLR = { exists = yes }
				}				
				add_ideas = EQC_resistance
				country_event = eqsexile.3
			}
			every_other_country = {
				limit = {
					OR = {
						AND = {
							original_tag = EQC
							NOT = { has_government = democratic }
						}					
						tag = event_target:solar_empire
						AND = {
							NOT = {
								is_in_faction_with = ROOT
								ROOT = { has_annex_war_goal = PREV }
								has_idea = EQC_resistance
							}
							OR = {
								owns_state = 3
								owns_state = 75
								owns_state = 14
							}
						}
					}
				}
				add_ideas = EQC_resistance
				country_event = eqsexile.3
			}
		}
	}
	
	focus = {
		id = EQC_build_a_grand_fleet
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = EQC_government_in_exile}
		relative_position_id = EQC_government_in_exile
		x = 2
		y = 2

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		complete_tooltip = {
			navy_experience = 100
			every_state = {
				limit = { has_state_flag = EQC_build_a_grand_fleet_dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = shbb_tech
			}
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = bb_tech
			}
		}
		
		completion_reward = {
			log = "[Root.GetName]: Focus EQC_build_a_grand_fleet"#Auto-logging
			navy_experience = 100
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_build_a_grand_fleet_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = EQC_build_a_grand_fleet_dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_build_a_grand_fleet_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = EQC_build_a_grand_fleet_dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_build_a_grand_fleet_dockyards
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					NOT = { has_state_flag = EQC_build_a_grand_fleet_dockyards }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_build_a_grand_fleet_dockyards
			}
			
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = shbb_tech
			}
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = EQC_build_a_grand_fleet
				bonus = 0.5
				ahead_reduction = 1
				uses = 1
				category = bb_tech
			}
		}
		
	}
		
	focus = {
		id = EQC_gather_our_friends
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = EQC_government_in_exile }
		relative_position_id = EQC_government_in_exile
		x = -2
		y = 2

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_gather_our_friends"#Auto-logging
			if = {
				limit = { is_in_faction = no }
				set_rule = { can_create_factions = yes }
				create_faction = EQC_RETAKE_EQUESTRIA_FACTION
			}
			
			custom_effect_tooltip = EQC_gather_our_friends_tt
			
			country_event = mareland.41
			
			custom_effect_tooltip = EQC_hippogriff_help_tt
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_tech = paratroopers }
					}
					set_technology = { paratroopers = 1 }	
				}
				if = {
					limit = {
						NOT = { has_tech = marines }
					}
					set_technology = { marines = 1 }	
				}
			
				division_template = {
					name = "Hippogriff Expeditionary Force"
					priority = 2
					division_names_group = EQC_INF_01
					regiments = {
						paratrooper = { x = 0 y = 0 }
						paratrooper = { x = 0 y = 1 }
						paratrooper = { x = 0 y = 2 }
			
						paratrooper = { x = 1 y = 0 }
						paratrooper = { x = 1 y = 1 }
						paratrooper = { x = 1 y = 2 }
			
						paratrooper = { x = 2 y = 0 }
						paratrooper = { x = 2 y = 1 }
						paratrooper = { x = 2 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
					}
				}
				division_template = {
					name = "Seapony Expeditionary Force"
					priority = 2
					division_names_group = EQC_INF_01
					regiments = {
						marine = { x = 0 y = 0 }
						marine = { x = 0 y = 1 }
						marine = { x = 0 y = 2 }
			
						marine = { x = 1 y = 0 }
						marine = { x = 1 y = 1 }
						marine = { x = 1 y = 2 }
			
						marine = { x = 2 y = 0 }
						marine = { x = 2 y = 1 }
						marine = { x = 2 y = 2 }
					}
					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 356 }
					create_unit = {
						division = "name = \"1st 'Skyhawks' (Hippogriff) Expeditionary Force\" division_template = \"Hippogriff Expeditionary Force\" start_experience_factor = 1.0" 
						owner = EQC
					}
					create_unit = {
						division = "name = \"2nd 'Rainbow Depths' (Seapony) Expeditionary Force\" division_template = \"Seapony Expeditionary Force\" start_experience_factor = 1.0" 
						owner = EQC
					}
				}
			}
		}
	}
	
	focus = {
		id = EQC_the_homecoming
		icon = GFX_focus_strike_canterlot
		prerequisite = { focus = EQC_gather_our_friends }
		prerequisite = { focus = EQC_build_a_grand_fleet }
		prerequisite = { focus = EQC_fund_the_resistence }
		relative_position_id = EQC_fund_the_resistence
		x = 0
		y = 1

		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {
			is_subject = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_the_homecoming"#Auto-logging
			if = {
				limit = {
					NLR = { exists = yes }
				}
				
				create_wargoal = {
					type = annex_everything
					target = NLR
				}
			}
			every_other_country = {
				limit = {
					OR = {
						AND = {
							original_tag = EQC
							NOT = { has_government = democratic }
						}					
						tag = event_target:solar_empire
					}
				}
				create_wargoal = {
					type = annex_everything
					target = THIS
				}
			}
			random_other_country = {
				limit = {
					owns_state = 3#Canterlot
					NOT = {
						is_in_faction_with = ROOT
						ROOT = { has_annex_war_goal = PREV }
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			random_other_country = {
				limit = {
					owns_state = 75#Manehatten
					NOT = {
						is_in_faction_with = ROOT
						ROOT = { has_annex_war_goal = PREV }
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
			random_other_country = {
				limit = {
					owns_state = 13#Baltamare
					NOT = {
						is_in_faction_with = ROOT
						ROOT = { has_annex_war_goal = PREV }
					}
				}
				ROOT = {
					create_wargoal = {
						type = annex_everything
						target = PREV
					}
				}
			}
		}
	}
	
	############################
	#### LEAVE EQUESTRIA    ####
	############################

	focus = {
		id = EQC_patriation
		icon = GFX_goal_tfv_sever_ties_with_uk
		mutually_exclusive = { focus = EQC_strengthen_equestrian_ties }
		x = 8
		y = 0
		relative_position_id = EQC_strengthen_equestrian_ties

		cost = 10

		ai_will_do = {
			factor = 8
			modifier = {
				OR = {
					communism > 0.25
					fascism > 0.15
					neutrality > 0.25
				}
				factor = 2.5
			}
			modifier = {
				NOT = { EQS = { has_government = democratic } } 
				factor = 5
			}
		}

		available = {

		}
		
		bypass = {
			NOT = { is_subject_of = EQS }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_patriation"#Auto-logging
			EQS = {
				add_opinion_modifier = { target = ROOT modifier = EQC_patriation }
			}
			
			if = {
				limit = { has_dlc = "Together for Victory" }
				
				#set_rule = { can_decline_call_to_war = yes }
				add_autonomy_ratio = {
					value = 0.2
					localization = EQC_patriation
				}
			}			

			hidden_effect = {
				news_event = { id = eqc_news.1 hours = 3 }
			}
		}
	}
	
	############################
	#### NON COMMUNIST      ####
	############################
	
	focus = {
		id = EQC_commonwelth_congress
		icon = GFX_goal_government_icon
		mutually_exclusive = { focus = EQC_recognise_stalliongrad }
		x = 0
		y = 1
		relative_position_id = EQC_patriation
		prerequisite = { focus = EQC_patriation }
		cost = 10

		ai_will_do = {
			factor = 8
			modifier = {
				OR = {
					fascism > 0.15
					neutrality > 0.25
				}
				factor = 2.5
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_commonwelth_congress"#Auto-logging
			add_ideas = EQC_commonwelth_congress_idea
		}
	}
	
	focus = {
		id = EQC_support_the_harmonists
		icon = GFX_goal_support_democracy
		mutually_exclusive = { focus = EQC_let_all_have_a_say }
		x = -1
		y = 1
		relative_position_id = EQC_commonwelth_congress
		prerequisite = { focus = EQC_commonwelth_congress }

		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				OR = {
					fascism > 0.15
					neutrality > 0.25
				}
				factor = 2.5
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_support_the_harmonists"#Auto-logging
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = EQC_harmony_pony
			add_popularity = { ideology = democratic popularity = 0.1 }			
		}
	}
	focus = {
		id = EQC_let_all_have_a_say
		icon = GFX_goal_generic_propaganda
		mutually_exclusive = { focus = EQC_support_the_harmonists }
		x = 1
		y = 1
		relative_position_id = EQC_commonwelth_congress
		prerequisite = { focus = EQC_commonwelth_congress }
		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				AND = {
					fascism < 0.15
					neutrality < 0.25
				}
				factor = 2.5
			}
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_let_all_have_a_say"#Auto-logging
			add_ideas = EQC_let_all_have_a_say
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = EQC_fascist_pony
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = EQC_neutral_pony
		}
	}
	focus = {
		id = EQC_the_election
		icon = GFX_focus_generic_treaty
		x = 1
		y = 1
		relative_position_id = EQC_support_the_harmonists
		prerequisite = { focus = EQC_support_the_harmonists focus = EQC_let_all_have_a_say }
		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {
			OR = {
				if = {
					limit = { has_dlc = "Together for Victory" }
					AND = {
						compare_autonomy_progress_ratio > 0.85
						if = {
							limit = { NOT = { has_government = fascism } }
							has_autonomy_state = autonomy_dominion
						}
						if = {
							limit = { has_government = fascism }
							has_autonomy_state = autonomy_satellite
						}
					}	
				}
				else = {
					date > 1008.6.1
				}
				
				NOT = { is_subject_of = EQS }
			}			
		}
		
		bypass = {
			OR = {
				has_war_with = EQS
				NOT = { is_subject_of = EQS }
			}			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_the_election"#Auto-logging
			set_autonomy = {
				target = EQC
				autonomy_state = autonomy_free
			}
			EQS = { remove_from_faction = ROOT }
			remove_ideas = equestrian_overlord
			
			hidden_effect = {
				news_event = { id = eqc_news.2 hours = 3 }
			}
		}
	}
	############################
	#### JET SET WINS       ####
	############################
	focus = {
		id = EQC_jet_set_wins
		icon = GFX_goal_support_democracy
		x = -1
		y = 1
		relative_position_id = EQC_the_election
		prerequisite = { focus = EQC_the_election }
		prerequisite = { focus = EQC_support_the_harmonists }
		mutually_exclusive = {
			focus = EQC_gladmane_wins
			focus = EQC_kingfisher_wins
			focus = EQC_the_duke_wins		
		}
		
		cost = 1

		ai_will_do = {
			factor = 50
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_jet_set_wins"#Auto-logging
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				set_politics = { ruling_party = democratic }
			}
			if = {
				limit = {
					NOT = {
						has_country_leader = { id = 700 }
					}					
				}
				create_country_leader = {
					name = "Jet Set"
					desc = "POLITICS_JETSET"
					picture = "JetSet.tga"
					expire = "1965.1.1"
					ideology = liberalism
					id = 700
					traits = {

					}
				}
			}
			add_popularity = { ideology = democratic popularity = 0.1 }
			add_country_leader_trait = staunch_constitutionalist			
		}
	}
	focus = {
		id = EQC_education_programms
		icon = GFX_focus_research
		x = -1
		y = 1
		relative_position_id = EQC_jet_set_wins
		prerequisite = { focus = EQC_jet_set_wins }
		cost = 20

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {
			NOT = { amount_research_slots < 5 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_education_programms"#Auto-logging
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
	}
	focus = {
		id = EQC_trade_negotiations
		icon = GFX_goal_generic_positive_trade_relations
		x = 0
		y = 1
		relative_position_id = EQC_education_programms
		prerequisite = { focus = EQC_education_programms }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_trade_negotiations"#Auto-logging
			add_ideas = EQC_trade_negotiations
			every_country = {
				limit = {
					is_griffon_continent_country = yes 
					NOT = {
						original_tag = ROOT
						original_tag = DED
					}
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_trade_with_new_mareland
				}
			}
		}
	}
	
	focus = {
		id = EQC_nationalise_assets
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = EQC_jet_set_wins }
		x = 1
		y = 1
		relative_position_id = EQC_jet_set_wins

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_nationalise_assets_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_nationalise_assets_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_nationalise_assets"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_nationalise_assets_factories
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_nationalise_assets_factories }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_nationalise_assets_factories
			}
		}
	}
	
	focus = {
		id = EQC_public_works_act
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = EQC_nationalise_assets }
		x = 0
		y = 1
		relative_position_id = EQC_nationalise_assets

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_public_works_act"#Auto-logging
			add_ideas = EQC_public_works_act
			custom_effect_tooltip = eqc_unlocks_economic_decisions_tt
		}
	}
	
	focus = {
		id = EQC_expand_charity_work
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = EQC_public_works_act }
		prerequisite = { focus = EQC_trade_negotiations }
		x = -1
		y = 1
		relative_position_id = EQC_public_works_act

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_expand_charity_work"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2
			}
		}
	}
	
	focus = {
		id = EQC_expand_oil_industry
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = EQC_expand_charity_work }
		x = 0
		y = 1
		relative_position_id = EQC_expand_charity_work

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_expand_oil_industry"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					NOT = {
						OR = {
							state = 675
							state = 676
						}
					}
				}
				add_resource = {
					type = oil
					amount = 5
				}
			}
			add_tech_bonus = {
				name = EQC_expand_oil_industry
				bonus = 0.75
				uses = 1
				category = synth_resources
			}
		}
	}
	
	focus = {
		id = EQC_national_recovery_act
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = EQC_expand_oil_industry }
		x = 0
		y = 1
		relative_position_id = EQC_expand_oil_industry

		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_national_recovery_act"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3
			}
		}
	}
	
	###Foreign	
	focus = {
		id = EQC_befriend_eastern_ponies
		icon = GFX_goal_generic_national_unity_horseshoe
		x = -1
		y = 1
		relative_position_id = EQC_trade_negotiations
		prerequisite = { focus = EQC_trade_negotiations }
		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_befriend_eastern_ponies"#Auto-logging
			RCT = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			LCT = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			FRE = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			DEP = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			WIT = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			NIM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			FIR = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			FBK = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			WAT = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
			NTR = {
				add_opinion_modifier = {
					target = ROOT
					modifier = EQC_strengthen_eastern_ties
				}
			}
		}
	}
	
	focus = {
		id = EQC_ally_the_federation
		icon = GFX_goal_generic_major_alliance_pony
		prerequisite = { focus = EQC_befriend_eastern_ponies }
		mutually_exclusive = { focus = EQC_seek_own_path focus = EQC_unite_with_the_republic }
		x = -2
		y = 1
		relative_position_id = EQC_national_recovery_act

		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				has_war = yes
				factor = 3
			}
			modifier = {
				has_war = no
				any_country = {
					is_river_fed_member = yes
					has_war = yes
				}
				factor = 0.75
			}
		}

		available = {
			any_country = {
				is_river_fed_member = yes
				is_faction_leader = yes
				NOT = { has_war_with = ROOT }
			}
		}

		bypass = {
			any_other_country = {
				is_river_fed_member = yes
				is_in_faction_with = ROOT
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_ally_the_federation"#Auto-logging
			random_other_country = {
				limit = {
					is_river_fed_member = yes
					is_faction_leader = yes
				}
				country_event = { id = generic.2 }
			}
		}
	}
	
	focus = {
		id = EQC_seek_own_path
		icon = GFX_goal_anschluss
		prerequisite = { focus = EQC_national_recovery_act }
		mutually_exclusive = { focus = EQC_ally_the_federation focus = EQC_unite_with_the_republic }
		x = 0
		y = 1
		relative_position_id = EQC_national_recovery_act

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_seek_own_path"#Auto-logging
			set_rule = { can_create_factions = yes }
		}
	}
	
	focus = {
		id = EQC_unite_with_the_republic
		icon = GFX_goal_generic_major_alliance_pony_griffon
		prerequisite = { focus = EQC_national_recovery_act }
		mutually_exclusive = { focus = EQC_ally_the_federation focus = EQC_seek_own_path }
		x = 2
		y = 1
		relative_position_id = EQC_national_recovery_act

		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {
			JER = { is_faction_leader = yes has_government = democratic }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_unite_with_the_republic"#Auto-logging
			JER = { country_event = { id = generic.2 } }
		}
	}
	
	
	
	############################
	#### GLADMANE WINS      ####
	############################
	focus = {
		id = EQC_gladmane_wins
		icon = GFX_goal_generic_neutrality_focus
		x = 4
		y = 0
		relative_position_id = EQC_jet_set_wins
		prerequisite = { focus = EQC_the_election }
		mutually_exclusive = {
			focus = EQC_jet_set_wins
			focus = EQC_kingfisher_wins
			focus = EQC_the_duke_wins		
		}
		
		cost = 1

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.05
				WNG = { NOT = { has_government = fascism } }
			}
		}

		available = {
			neutrality > 0.4
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_gladmane_wins"#Auto-logging
			if = {
				limit = {
					NOT = { has_government = neutrality }
				}
				set_politics = { ruling_party = neutrality }
			}
			if = {
				limit = {
					NOT = {
						has_country_leader = { id = 701 }
					}
				}
				create_country_leader = {
					name = "Gladmane"
					desc = "POLITICS_GLADMANE"
					picture = "Gladmane.tga"
					expire = "1965.1.1"
					ideology = oligarchism
					id = 701 #Gladmane
					traits = {
						dealbroker
					}
				}
			}
			add_popularity = { ideology = neutrality popularity = 0.1 }
			remove_ideas = EQC_let_all_have_a_say
		}
	}
	
	focus = {
		id = EQC_gambling_freedom_act
		icon = GFX_focus_gambling
		x = -1
		y = 1
		relative_position_id = EQC_gladmane_wins
		prerequisite = { focus = EQC_gladmane_wins }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_gambling_freedom_act"#Auto-logging
			add_ideas = EQC_gambling_profits
			add_political_power = 100
		}
	}
	
	focus = {
		id = EQC_embrace_neutrality
		icon = GFX_goal_generic_improve_relations
		x = 1
		y = 1
		relative_position_id = EQC_gladmane_wins
		prerequisite = { focus = EQC_gladmane_wins }
		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_embrace_neutrality"#Auto-logging
			add_ideas = neutrality_idea
			add_stability = 0.05
		}
	}
	
	focus = {
		id = EQC_build_the_wall
		icon = GFX_goal_generic_construct_military
		x = 1
		y = 1
		relative_position_id = EQC_gambling_freedom_act
		prerequisite = { focus = EQC_gambling_freedom_act }
		prerequisite = { focus = EQC_embrace_neutrality }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_build_the_wall"#Auto-logging
			add_ideas = EQC_build_the_wall
		}
	}
	
	focus = {
		id = EQC_national_work_act
		icon = GFX_goal_generic_production2
		x = 0
		y = 1
		relative_position_id = EQC_build_the_wall
		prerequisite = { focus = EQC_build_the_wall }
		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_national_work_act"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2
			}
			custom_effect_tooltip = eqc_unlocks_economic_decisions_tt
		}
	}
	
	focus = {
		id = EQC_cut_red_tape
		icon = GFX_goal_generic_construct_civ_factory
		x = -1
		y = 1
		relative_position_id = EQC_national_work_act
		prerequisite = { focus = EQC_national_work_act }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_cut_red_tape_factories
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_cut_red_tape_factories_2
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_cut_red_tape"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				set_state_flag = EQC_cut_red_tape_factories
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_cut_red_tape_factories }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_cut_red_tape_factories_2
			}
		}
	}
	
	focus = {
		id = EQC_open_banks_to_griffons
		icon = GFX_goal_gold_reserve
		x = 1
		y = 1
		relative_position_id = EQC_national_work_act
		prerequisite = { focus = EQC_national_work_act }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_open_banks_to_griffons"#Auto-logging
			custom_effect_tooltip = EQC_open_banks_to_griffons_tt
			every_country = {
				limit = {
					NOT = { has_country_flag = EQC_offerd_banks }
					NOT = { original_tag = EQC }
					num_of_factories > 14
					is_griffon_continent_country = yes
					NOT = {
						has_war_with = EQC
						has_government = communism
					}
				}
				country_event = mareland.31
			}
		}
	}
	
	focus = {
		id = EQC_trickle_down_economics
		icon = GFX_goal_generic_positive_trade_relations
		x = 1
		y = 1
		relative_position_id = EQC_cut_red_tape
		prerequisite = { focus = EQC_cut_red_tape }
		prerequisite = { focus = EQC_open_banks_to_griffons }
		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_trickle_down_economics"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3
			}
		}
	}
	
	focus = {
		id = EQC_expand_mines
		icon = GFX_goal_generic_construct_civilian
		x = 1
		y = 1
		relative_position_id = EQC_open_banks_to_griffons
		prerequisite = { focus = EQC_open_banks_to_griffons focus = EQC_break_up_monopolies }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_expand_mines"#Auto-logging
			add_tech_bonus = {
				name = EQC_expand_mines
				bonus = 0.5
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			custom_effect_tooltip = eqc_expand_mines_tt
		}
	}
	
	############################
	#### KINGFISHER WINS    ####
	############################
	focus = {
		id = EQC_kingfisher_wins
		icon = GFX_focus_generic_support_the_left_right
		x = 4
		y = 0
		relative_position_id = EQC_gladmane_wins
		prerequisite = { focus = EQC_the_election }
		cost = 1
		
		mutually_exclusive = {
			focus = EQC_gladmane_wins
			focus = EQC_jet_set_wins
			focus = EQC_the_duke_wins		
		}

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0.05
				WNG = { NOT = { has_government = fascism } }
			}
		}

		available = {
			neutrality > 0.4
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_kingfisher_wins"#Auto-logging
			if = {
				limit = {
					NOT = { has_government = neutrality }
				}
				set_politics = { ruling_party = neutrality }
			}
			if = {
				limit = {
					NOT = {
						has_country_leader = { id = 704 }
					}
				}
				create_country_leader = {
					name = "Kingfisher"
					desc = "POLITICS_KINGFISHER"
					picture = "Kingfisher.tga"
					expire = "1965.1.1"
					ideology = centrism
					id = 704 #Kingfisher
					traits = {
						political_dancer
					}
				}
			}
			add_popularity = { ideology = neutrality popularity = 0.1 }
			remove_ideas = EQC_let_all_have_a_say
		}
	}
	
	focus = {
		id = EQC_evrey_pony_a_princess
		icon = GFX_goal_generic_national_unity_horseshoe
		x = -1
		y = 1
		relative_position_id = EQC_kingfisher_wins
		prerequisite = { focus = EQC_kingfisher_wins }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_evrey_pony_a_princess"#Auto-logging
			add_stability = 0.05
			add_political_power = 100
		}
	}
	
	focus = {
		id = EQC_nationalise_oil_industry
		icon = GFX_goal_generic_oil_refinery
		x = 1
		y = 1
		relative_position_id = EQC_kingfisher_wins
		prerequisite = { focus = EQC_kingfisher_wins }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_nationalise_oil_industry
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_nationalise_oil_industry_2
				}
				add_resource = {
					type = oil
					amount = 10
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_nationalise_oil_industry"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = EQC_nationalise_oil_industry
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				
				add_resource = {
					type = oil
					amount = 10
				}
				set_state_flag = EQC_nationalise_oil_industry_2
			}
		}
	}
	
	focus = {
		id = EQC_free_tuitions
		icon = GFX_focus_research
		x = 0
		y = 1
		relative_position_id = EQC_evrey_pony_a_princess
		prerequisite = { focus = EQC_evrey_pony_a_princess }
		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			NOT = { amount_research_slots < 5 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			add_research_slot = 1
			custom_effect_tooltip = CZE_war_college_effect_tt
		}
	}
	
	focus = {
		id = EQC_roads_and_bridges
		icon = GFX_goal_generic_construct_infrastructure
		x = 0
		y = 1
		relative_position_id = EQC_nationalise_oil_industry
		prerequisite = { focus = EQC_nationalise_oil_industry }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_roads_and_bridges
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_roads_and_bridges_2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_roads_and_bridges_3
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_roads_and_bridges_4
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_roads_and_bridges_5
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_eastern_wonderbolts"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_roads_and_bridges
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_roads_and_bridges_2
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_roads_and_bridges_3
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_roads_and_bridges_4
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_roads_and_bridges_5
			}
		}
	}
	
	focus = {
		id = EQC_share_our_welth
		icon = GFX_goal_gold_reserve
		x = 1
		y = 1
		relative_position_id = EQC_free_tuitions
		prerequisite = { focus = EQC_free_tuitions }
		prerequisite = { focus = EQC_roads_and_bridges }
		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_transoceanic_support"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2
			}
		}
	}
	
	focus = {
		id = EQC_break_up_monopolies
		icon = GFX_goal_generic_construct_civ_factory
		x = 0
		y = 1
		relative_position_id = EQC_share_our_welth
		prerequisite = { focus = EQC_share_our_welth }
		cost = 10

		ai_will_do = {
			factor = 7
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_break_up_monopolies
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_break_up_monopolies_2
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				set_state_flag = EQC_break_up_monopolies
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_break_up_monopolies }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_break_up_monopolies_2
			}
		}
	}
	
	focus = {
		id = EQC_president_of_the_downtrodden
		icon = GFX_focus_generic_the_giant_wakes
		x = 0
		y = 1
		relative_position_id = EQC_break_up_monopolies
		prerequisite = { focus = EQC_break_up_monopolies }
		cost = 10

		ai_will_do = {
			factor = 15
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3
			}
		}
	}
	
	focus = {
		id = EQC_kingfisher_neutrality
		icon = GFX_goal_generic_defence
		x = 1
		y = 1
		relative_position_id = EQC_president_of_the_downtrodden
		prerequisite = { focus = EQC_president_of_the_downtrodden }
		mutually_exclusive = { focus = EQC_stand_against_griffons focus = EQC_stand_against_communism }
		cost = 10
		ai_will_do = {
			factor = 8
		}

		available = {
			NOT = {
				has_completed_focus = EQC_negotiate_with_griffon_clans
				is_in_faction = yes
				has_war = yes
				has_completed_focus = EQC_defence_of_x
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_solidify_self_determination"#Auto-logging
			add_ideas = neutrality_idea
			add_stability = 0.05
		}
	}
	
	focus = {
		id = EQC_stand_against_communism
		icon = GFX_goal_generic_war_with_comintern
		x = -1
		y = 1
		relative_position_id = EQC_president_of_the_downtrodden
		prerequisite = { focus = EQC_president_of_the_downtrodden }
		mutually_exclusive = { focus = EQC_stand_against_griffons focus = EQC_kingfisher_neutrality }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {
			NOT = { 
				has_government = communism				
			}
			any_country = {
				has_government = communism
				NOT = { is_in_faction_with = EQC }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_stand_against_communism"#Auto-logging
			set_rule = { can_create_factions = yes }
			add_ideas = EQC_stand_against_communism
		}
	}
	
	focus = {
		id = EQC_no_south_griffon_commies
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = EQC_stand_against_communism }
		available = {
			is_subject = no
			NOT = { has_government = communism }
			OR = {
				any_country = { 
					original_tag = WNG
					has_government = communism 
				}
				any_country = { 
					original_tag = FAL
					has_government = communism 
				}
				any_country = { 
					original_tag = TAL
					has_government = communism 
				}
				any_country = { 
					original_tag = FRN
					has_government = communism 
				}
				any_country = { 
					original_tag = SIC
					has_government = communism 
				}
				any_country = { 
					original_tag = VIN
					has_government = communism 
				}
				any_country = { 
					original_tag = JFT
					has_government = communism 
				}
				any_country = { 
					original_tag = JER
					has_government = communism 
				}
				any_country = { 
					original_tag = JEB
					has_government = communism 
				}
				any_country = { 
					original_tag = BOI
					has_government = communism 
				}
				any_country = { 
					original_tag = MIT
					has_government = communism 
				}
				any_country = { 
					original_tag = CYA
					has_government = communism 
				}
				any_country = { 
					original_tag = BAN
					has_government = communism 
				}
				any_country = { 
					original_tag = BRF
					has_government = communism 
				}
				any_country = { 
					original_tag = GRW
					has_government = communism 
				}
			}
		}
		x = 0
		y = 1
		relative_position_id = EQC_stand_against_communism
		cost = 10
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			log = "[Root.GetName]: Focus { has_idea"#Auto-logging
			custom_effect_tooltip = EQC_no_south_griffon_commies_tt
			if = {
				limit = {
					any_country = { 
						original_tag = WNG
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_WNG_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = WNG
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = FAL
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_FAL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = FAL
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = TAL
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_TAL_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = TAL
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = FRN
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_FRN_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = FRN
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = SIC
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_SIC_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = SIC
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = VIN
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_VIN_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = VIN
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = JFT
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_JFT_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = JFT
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = JER
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_JER_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = JER
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = JEB
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_JEB_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = JEB
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BOI
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_BOI_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BOI
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = MIT
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_MIT_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = MIT
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = CYA
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_CYA_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = CYA
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BAN
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_BAN_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BAN
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = BRF
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_BRF_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = BRF
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
			if = {
				limit = {
					any_country = { 
						original_tag = GRW
						has_government = communism 
					}
				}
				custom_effect_tooltip = EQC_no_south_griffon_commies_GRW_tt
				hidden_effect = {
					random_other_country = {
						limit = {
							original_tag = GRW
							has_government = communism
						}
						EQC = {
							create_wargoal = {
								type = topple_government
								target = PREV
							}
						}
					}
				}
			}
		}
	}
	
	############################
	#### THE DUKE WINS      ####
	############################
	focus = {
		id = EQC_the_duke_wins
		icon = GFX_goal_support_fascism
		x = 4
		y = 0
		relative_position_id = EQC_kingfisher_wins
		prerequisite = { focus = EQC_the_election }
		cost = 1
		
		mutually_exclusive = {
			focus = EQC_gladmane_wins
			focus = EQC_kingfisher_wins
			focus = EQC_jet_set_wins		
		}

		ai_will_do = {
			factor = 40
			modifier = {
				fascism > 0.4
				factor = 20
			}
		}

		available = {
			fascism > 0.4
		}
		
		bypass = {
			has_government = fascism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			set_politics = { ruling_party = fascism }
			add_popularity = { ideology = fascism popularity = 0.1 }
			remove_ideas = EQC_let_all_have_a_say
		}
	}
	
	focus = {
		id = EQC_autarky
		icon = GFX_goal_generic_construct_civilian
		x = 1
		y = 1
		relative_position_id = EQC_the_duke_wins
		prerequisite = { focus = EQC_the_duke_wins }
		cost = 10
		ai_will_do = {
			factor = 6
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			add_tech_bonus = {
				name = EQC_autarky
				bonus = 0.5
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			add_ideas = EQC_autarky_idea
		}
	}

	focus = {
		id = EQC_build_now_play_later
		icon = GFX_goal_generic_production
		x = -1
		y = 1
		relative_position_id = EQC_the_duke_wins
		prerequisite = { focus = EQC_the_duke_wins }
		cost = 10
		ai_will_do = {
			factor = 8
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_government_in_exile"#Auto-logging
			add_ideas = EQC_bnpl_bills_1
		}
	}
	
	focus = {
		id = EQC_seize_control
		icon = GFX_goal_generic_demand_territory
		x = 1
		y = 1
		relative_position_id = EQC_build_now_play_later
		prerequisite = { focus = EQC_build_now_play_later }
		prerequisite = { focus = EQC_autarky }
		cost = 10
		ai_will_do = {
			factor = 8
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_strengthen_equestrian_ties"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_commonwelth_congress_idea
				add_idea = EQC_fascist_government
			}
		}
	}
	
	focus = {
		id = EQC_nation_works_projects
		icon = GFX_goal_generic_construct_infrastructure
		x = -2
		y = 1
		relative_position_id = EQC_seize_control
		prerequisite = { focus = EQC_seize_control }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_nation_works_projects1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			random_state = {
				limit = {
					has_state_flag = EQC_nation_works_projects2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_nation_works_projects1
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_nation_works_projects2
			}
		}
	}
	
	focus = {
		id = EQC_united_shadowworks
		icon = GFX_goal_generic_construct_mil_factory
		x = 2
		y = 1
		relative_position_id = EQC_seize_control
		prerequisite = { focus = EQC_seize_control }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_united_shadowworks1
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_united_shadowworks2
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = EQC_united_shadowworks1
			}
			
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = EQC_united_shadowworks2
			}
		}
	}
	
	focus = {
		id = EQC_three_year_plan
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		relative_position_id = EQC_seize_control
		prerequisite = { focus = EQC_seize_control }
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_unite_the_nation"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2
			}
		}
	}
	
	focus = {
		id = EQC_empower_the_army
		icon = GFX_focus_generic_commonwealth_build_infantry
		x = -1
		y = 1
		relative_position_id = EQC_three_year_plan
		prerequisite = { focus = EQC_three_year_plan }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_government_in_exile"#Auto-logging
			army_experience = 25
			add_ideas = EQC_army_empowered
		}
	}
	
	focus = {
		id = EQC_section_13
		icon = GFX_focus_research
		x = -1
		y = 1
		relative_position_id = EQC_empower_the_army
		prerequisite = { focus = EQC_empower_the_army }
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_section_13"#Auto-logging
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
				custom_effect_tooltip = CZE_war_college_effect_tt
			}
			add_ideas = EQC_griffon_experiment
		}
	}
	
	focus = {
		id = EQC_expand_the_stormponies
		icon = GFX_goal_generic_small_arms
		x = 1
		y = 1
		relative_position_id = EQC_three_year_plan
		prerequisite = { focus = EQC_three_year_plan }
		cost = 10
		ai_will_do = {
			factor = 5
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			custom_effect_tooltip = EQC_sp_divisions_tt
			hidden_effect = {
				if = {
					limit = {
						has_tech = mechanised_infantry
					}
					division_template = {
						name = "SP Onhooves Division"
						priority = 2
						division_names_group = EQC_MEC_01
						regiments = {
							mechanized = { x = 0 y = 0 }
							mechanized = { x = 0 y = 1 }
							mechanized = { x = 0 y = 2 }

							mechanized = { x = 1 y = 0 }
							mechanized = { x = 1 y = 1 }
							mechanized = { x = 1 y = 2 }

							mechanized = { x = 2 y = 0 }
							mechanized = { x = 2 y = 1 }
							mechanized = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}					
				}
				else_if = {
					limit = {
						has_tech = motorised_infantry
					}
					division_template = {
						name = "SP Onhooves Division"
						priority = 2
						division_names_group = EQC_MOT_01
						regiments = {
							motorized = { x = 0 y = 0 }
							motorized = { x = 0 y = 1 }
							motorized = { x = 0 y = 2 }

							motorized = { x = 1 y = 0 }
							motorized = { x = 1 y = 1 }
							motorized = { x = 1 y = 2 }

							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							motorized = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}					
				}
				else = {
					division_template = {
						name = "SP Onhooves Division"
						priority = 2
						division_names_group = EQC_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
				
							infantry = { x = 2 y = 0 }
							artillery_brigade = { x = 2 y = 1 }
							artillery_brigade = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 356 }
					create_unit = {
						division = "name = \"1st SP. Division 'The Commonwealth'\" division_template = \"SP Onhooves Division\" start_experience_factor = 1.0" 
						owner = EQC
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 356 }
					create_unit = {
						division = "name = \"2nd SP. Division 'The Duke's Own'\" division_template = \"SP Onhooves Division\" start_experience_factor = 1.0" 
						owner = EQC
					}
				}
			}			
		}
	}
	
	focus = {
		id = EQC_work_for_the_nation
		icon = GFX_goal_industrial_pony
		x = 1
		y = 1
		relative_position_id = EQC_empower_the_army
		prerequisite = { focus = EQC_empower_the_army }
		prerequisite = { focus = EQC_expand_the_stormponies }
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available = {

		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_fund_the_resistence"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3
			}
		}
	}
	
	focus = {
		id = EQC_a_deal_with_the_duce
		icon = GFX_goal_generic_dangerous_deal_pony_griffon
		x = 1
		y = 1
		relative_position_id = EQC_work_for_the_nation
		prerequisite = { focus = EQC_work_for_the_nation }
		mutually_exclusive = { focus = EQC_stand_against_griffons }
		cost = 10
		ai_will_do = {
			factor = 3
		}

		available = {
			NOT = { has_war_with = WNG }
			WNG = {
				has_government = fascism
				is_subject = no
				is_faction_leader = yes
			}
		}
		
		bypass = {
			is_in_faction_with = WNG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_unite_the_nation"#Auto-logging
			WNG = {
				country_event = generic.2
			}
		}
	}
	
	focus = {
		id = EQC_stand_against_griffons
		icon = GFX_goal_generic_attack_allies
		x = -1
		y = 1
		relative_position_id = EQC_work_for_the_nation
		prerequisite = { focus = EQC_work_for_the_nation focus = EQC_president_of_the_downtrodden }
		mutually_exclusive = { focus = EQC_a_deal_with_the_duce focus = EQC_kingfisher_neutrality focus = EQC_stand_against_communism }
		cost = 10
		ai_will_do = {
			factor = 6
		}

		available = {
			NOT = { 
				has_completed_focus = EQC_negotiate_with_griffon_clans
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			set_rule = { can_create_factions = yes }
			add_ideas = EQC_the_griffon_menace
		}
	}
	
	#####################################
	#### COMMIE-FASCIST WAR GOALS    ####
	#####################################
	
	focus = {
		id = EQC_war_with_wingbardy
		icon = GFX_goal_generic_attack_allies
		x = -1
		y = 2
		relative_position_id = EQC_full_commie_econ
		prerequisite = { focus = EQC_crusade_for_communism focus = EQC_a_deal_with_the_duce focus = EQC_stand_against_griffons }
		cost = 10
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0.2
				WNG = {
					strength_ratio = {
						tag = EQC
						ratio > 0.6
					}
				}			
			}
		}
		
		will_lead_to_war_with = WNG

		available = {
			WNG = { exists = yes }
			NOT = {
				is_in_faction_with = WNG
			}
		}
		
		bypass = {
			has_war_with = WNG
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			create_wargoal = {
				type = annex_everything
				target = WNG
			}
		}
	}
	
	focus = {
		id = EQC_war_with_aquilieia
		icon = GFX_goal_generic_major_war
		x = 2
		y = 2
		relative_position_id = EQC_work_for_the_nation
		prerequisite = { focus = EQC_crusade_for_communism focus = EQC_a_deal_with_the_duce focus = EQC_stand_against_griffons }
		cost = 10
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0.2
				JER = {
					strength_ratio = {
						tag = EQC
						ratio > 0.6
					}
				}			
			}
		}
		
		will_lead_to_war_with = JER
		will_lead_to_war_with = JEB
		will_lead_to_war_with = VIN
		will_lead_to_war_with = JFT
		will_lead_to_war_with = JRR

		available = {
			OR = {
				JER = { exists = yes }
				JEB = { exists = yes }
				VIN = { exists = yes }
				JFT = { exists = yes }
				JRR = { exists = yes }
			}
			NOT = { is_in_faction_with = JER }
		}
		
		bypass = {
			has_war_with = JER
			has_war_with = JEB
			has_war_with = VIN
			has_war_with = JFT
			has_war_with = JRR
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_build_a_grand_fleet"#Auto-logging
			if = {
				limit = {
					NOT = { is_in_faction_with = JER }
					JER = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = JER
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = JEB }
					JEB = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = JEB
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = VIN }
					VIN = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = VIN
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = JFT }
					JFT = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = JFT
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = JRR }
					JRR = { exists = yes }
				}
				create_wargoal = {
					type = annex_everything
					target = JRR
				}
			}
		}
	}
	
	############################
	#### COMMUNISM          ####
	############################
	
	focus = {
		id = EQC_recognise_stalliongrad
		icon = GFX_focus_generic_soviet_politics
		x = 16
		y = 1
		relative_position_id = EQC_patriation
		prerequisite = { focus = EQC_patriation }
		cost = 10
		
		mutually_exclusive = { focus = EQC_commonwelth_congress	}

		ai_will_do = {
			factor = 6
			modifier = {
				communism > 0.4
				factor = 20
			}
		}

		available = {
			
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_government_in_exile"#Auto-logging
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = EQC_commie_pony
			STG = {
				add_opinion_modifier = { 
					target = ROOT
					modifier = medium_increase
				}
			}
			news_event = { id = eqc_news.7 }
		}
	}
	
	focus = {
		id = EQC_form_communist_unions
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = EQC_recognise_stalliongrad }
		x = 0
		y = 1
		relative_position_id = EQC_recognise_stalliongrad

		cost = 10

		ai_will_do = {
			factor = 20
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			add_ideas = EQC_communist_unions1
			country_event = mareland.23
		}
	}
	
	focus = {
		id = EQC_unite_the_left
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = EQC_form_communist_unions }
		x = 0
		y = 1
		relative_position_id = EQC_form_communist_unions

		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {
		
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_communist_unions1
				add_idea = EQC_communist_unions2
			}
		}
	}
	
	focus = {
		id = EQC_burn_celestias_portrait
		icon = GFX_focus_burn_celestias_portraits
		prerequisite = { focus = EQC_unite_the_left }
		x = 0
		y = 1
		relative_position_id = EQC_unite_the_left
		
		cost = 1

		ai_will_do = {
			factor = 20
		}

		available = {
			has_government = communism
		}

		bypass = {
			has_government = communism
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_gather_our_friends"#Auto-logging
			set_autonomy = {
				target = EQC
				autonomy_state = autonomy_free
			}
			EQS = { remove_from_faction = ROOT }
			remove_ideas = equestrian_overlord
			
			hidden_effect = {
				news_event = { id = eqc_news.9 hours = 3 }
			}
		}
	}
	
	focus = {
		id = EQC_commie_griffon_ally
		icon = GFX_goal_support_communism
		prerequisite = { focus = EQC_burn_celestias_portrait }
		x = 2
		y = 1
		relative_position_id = EQC_burn_celestias_portrait
		mutually_exclusive = { focus = EQC_join_stalliongrad focus = EQC_true_workers_paradise }
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = {
				WNG = {
					has_government = communism
					is_faction_leader = yes
				}
				
				JER = {
					has_government = communism
					is_faction_leader = yes
				}
				
				GRW = {
					has_government = communism
					is_faction_leader = yes
				}
			}
		}

		bypass = {
			OR = {
				is_in_faction_with = WNG
				is_in_faction_with = JER
				is_in_faction_with = GRW
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_government_in_exile"#Auto-logging
			country_event = { id = mareland.6 }
		}
	}

	focus = {
		id = EQC_brothers_in_arms
		icon = GFX_goal_support_communism
		prerequisite = { focus = EQC_commie_griffon_ally }
		x = 0
		y = 1
		relative_position_id = EQC_commie_griffon_ally
		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			has_idea = EQC_griffon_minorities1
			NOT = {
				OR = {
					has_completed_focus = EQC_force_griffon_conscription
					has_completed_focus = EQC_negotiate_with_griffon_clans
				}
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_griffon_minorities1
				add_idea = EQC_griffon_minorities_commie
			}
		}
	}
	
	focus = {
		id = EQC_join_stalliongrad
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = EQC_burn_celestias_portrait }
		x = -2
		y = 1
		relative_position_id = EQC_burn_celestias_portrait
		mutually_exclusive = { focus = EQC_commie_griffon_ally focus = EQC_true_workers_paradise }
		cost = 10

		ai_will_do = {
			factor = 8
		}

		available = {
			has_government = communism
			is_in_faction = no
			STG = {
				has_government = communism
				is_subject = no
			}
		}

		bypass = {
			is_in_faction_with = STG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			if = {
				limit = {
					STG = { is_in_faction = no }
				}
				EQC = {
					set_rule = { can_create_factions = yes }
					create_faction = EQC_STG_FACTION
					STG = {
						country_event = generic.5 
						add_ai_strategy = {
							type = alliance
							id = "EQC"
							value = 200
						}
					}
				}
			}
			if = {
				limit = {
					STG = { is_faction_leader = yes }
				}
				STG = {
					country_event = generic.2
				}
				EQC = {
					add_ai_strategy = {
						type = alliance
						id = "STG"
						value = 200
					}
				}
			}
		}
	}
	
	focus = {
		id = EQC_share_tech_stalliongrad
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = EQC_join_stalliongrad }
		x = 0
		y = 1
		relative_position_id = EQC_join_stalliongrad
		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {
			is_in_faction_with = STG
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_the_homecoming"#Auto-logging
			STG = {
				add_to_tech_sharing_group = eqc_stg_tech_group
			}
			add_to_tech_sharing_group = eqc_stg_tech_group
		}
	}

	focus = {
		id = EQC_true_workers_paradise
		icon = GFX_focus_prc_agrarian_socialism
		prerequisite = { focus = EQC_burn_celestias_portrait }
		x = 0
		y = 1
		relative_position_id = EQC_burn_celestias_portrait
		mutually_exclusive = { focus = EQC_commie_griffon_ally focus = EQC_join_stalliongrad }
		cost = 10

		ai_will_do = {
			factor = 3
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {

		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_fund_the_resistence"#Auto-logging
			set_rule = { can_create_factions = yes }
			add_ideas = EQC_workers_paradise
		}
	}
	
	focus = {
		id = EQC_redistribute_wealth
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = EQC_true_workers_paradise focus = EQC_commie_griffon_ally focus = EQC_join_stalliongrad }
		x = 0
		y = 1
		relative_position_id = EQC_true_workers_paradise
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_1
				add_idea = EQC_great_depression_2				
			}
		}
	}

	focus = {
		id = EQC_nationalize_industries
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = EQC_redistribute_wealth }
		x = -1
		y = 1
		relative_position_id = EQC_redistribute_wealth
		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_nationalize_industries1
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_nationalize_industries2
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = EQC_nationalize_industries3
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_nationalize_industries1
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					NOT = { has_state_flag = EQC_nationalize_industries1 }
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = EQC_nationalize_industries2
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					NOT = {
						OR = {
							state = 675
							state = 676
						}						
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = EQC_nationalize_industries3
			}
		}
	}

	focus = {
		id = EQC_land_redistribution
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = EQC_redistribute_wealth }
		x = 1
		y = 1
		relative_position_id = EQC_redistribute_wealth
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_land_redistribution1				
				}
				add_extra_state_shared_building_slots = 2
			}
			random_state = {
				limit = {
					has_state_flag = EQC_land_redistribution2		
				}
				add_extra_state_shared_building_slots = 2
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_patriation"#Auto-logging
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size < 3
					}
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = EQC_land_redistribution1
			}
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					is_core_of = ROOT
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size < 3
					}
				}
				add_extra_state_shared_building_slots = 2
				set_state_flag = EQC_land_redistribution2
			}
		}
	}

	focus = {
		id = EQC_free_education
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = EQC_nationalize_industries }
		x = 0
		y = 1
		relative_position_id = EQC_nationalize_industries
		cost = 10

		ai_will_do = {
			factor = 6
		}

		available = {

		}

		bypass = {
			NOT = { amount_research_slots < 5 }
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_free_education"#Auto-logging
			add_research_slot = 1
		}
	}

	focus = {
		id = EQC_public_works
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = EQC_land_redistribution }
		x = 0
		y = 1
		relative_position_id = EQC_land_redistribution
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = EQC_public_works_commie1
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			random_state = {
				limit = {
					has_state_flag = EQC_public_works_commie2
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[Root.GetName]: Focus yes"#Auto-logging
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_public_works_commie1
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					free_building_slots = { # avoid wastelands
						building = industrial_complex
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = EQC_public_works_commie2
			}
		}
	}

	focus = {
		id = EQC_full_commie_econ
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = EQC_public_works }
		prerequisite = { focus = EQC_free_education }
		x = 1
		y = 1
		relative_position_id = EQC_free_education
		cost = 10

		ai_will_do = {
			factor = 10
		}

		available = {

		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = EQC_has_no_depression_tt
				NOT = {
					OR = {
						has_idea = EQC_great_depression_1
						has_idea = EQC_great_depression_2
						has_idea = EQC_great_depression_3
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus no"#Auto-logging
			swap_ideas = {
				remove_idea = EQC_great_depression_2
				add_idea = EQC_great_depression_3			
			}
		}
	}
	
	focus = {
		id = EQC_crusade_for_communism
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = EQC_full_commie_econ }
		x = 0
		y = 1
		relative_position_id = EQC_full_commie_econ
		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			log = "[Root.GetName]: Focus EQC_commonwelth_congress"#Auto-logging
			add_ideas = EQC_crusade_for_communism
		}
	}
}