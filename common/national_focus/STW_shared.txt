shared_focus = {
    id = STW_death_of_a_friend
    icon = GFX_goal_GRI_grover_v_death
    
    x = 21
    y = 0
    
    #relative_position_id =
    #mutually_exclusive = { focus =  }
    
    cost = 5

    ai_will_do = {
        factor = 10000
    }

    available = {
        custom_trigger_tooltip = { 
            tooltip = STW_complete_with_effect
            always = no
        }
    }
    
    # select_effect = {
    # }


    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_death_of_a_friend"
    }
}

shared_focus = {
    id = STW_pu_time
    icon = GFX_goal_the_duchess
    
    x = 11
    y = 1
    
    prerequisite = {
        focus = STW_death_of_a_friend
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        custom_trigger_tooltip = { 
            tooltip = STW_complete_with_effect
            always = no
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_pu_time"
        hidden_effect = {
            set_variable = { STW_support_for_duchess = 45 }
            set_variable = { STW_support_for_archon = 30 }
            set_variable = { STW_support_for_archon = 30 }
        }
    }
}

shared_focus = {
    id = STW_choose_a_regent
    icon = GFX_goal_new_treaty
    
    x = 0
    y = 1
    
    relative_position_id = STW_pu_time
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_pu_time
    }
    
    cost = 8

    ai_will_do = {
        factor = 1000
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_choose_a_regent"
        add_stability = -0.40
        country_event = { id = strawberry.4}
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}


shared_focus = {
    id = STW_commie_boy
    icon = GFX_goal_HOL_council_communism
    
    x = 0
    y = 1
    
    relative_position_id = STW_choose_a_regent
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_choose_a_regent
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        has_country_flag = STW_commie_boy_flag
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_commie_boy"
        set_politics = {
            ruling_party = communism
            elections_allowed  = no
        }
        swap_ideas = {
            remove_idea = STW_modernisation_restistance
            add_idea = STW_modernisation_and_reform_restistance
        }
        remove_ideas = STW_absent_ruler
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}
shared_focus = {
    id = STW_pope_boy
    icon = GFX_focus_rom_handle_king
    
    x = -10
    y = 1
    
    relative_position_id = STW_choose_a_regent
    
    
    prerequisite = {
        focus = STW_choose_a_regent
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        has_country_flag = STW_pope_boy_flag
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_pope_boy"
        set_politics = {
            ruling_party = fascism
            elections_allowed  = no
        }
        add_ideas = STW_reluctant_cooperation
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}	

shared_focus = {
    id = STW_loyalist
    icon = GFX_COS_Ferrer_Coup
    
    x = 10
    y = 1
    
    relative_position_id = STW_choose_a_regent
    
    prerequisite = {
        focus = STW_choose_a_regent
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        has_country_flag = STW_loyalist_chosen_flag
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_loyalist"
        add_political_power = 75
        STW_increase_relations_duchess_small = yes
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

############## Fash + Commie developement

shared_focus = {
    id = STW_forceful_cooperation
    icon = GFX_goal_purge_opposition
    
    x = -5
    y = 1
    
    relative_position_id = STW_commie_boy
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_commie_boy
        focus = STW_pope_boy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        NOT = {
            has_completed_focus = STW_reward_loyalty
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_forceful_cooperation"
        add_political_power = -25
        if = {
            limit = {
                has_government = fascism
            }
            add_popularity = {
                ideology = fascism
                popularity = 0.15
            }
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            else = {
                add_popularity = {
                    ideology = communism
                    popularity = 0.15
                }
                add_popularity = {
                    ideology = fascism
                    popularity = 0.05
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_combat_illiteracy
    icon = GFX_goal_KTG_Bookstack
    
    x = -1
    y = 1
    
    relative_position_id = STW_forceful_cooperation
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_forceful_cooperation
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_combat_illiteracy"
        country_event = { id = strawberry.6 }
    }
}

shared_focus = {
    id = STW_finish_illiteracy
    icon = GFX_goal_griffon_books
    
    x = 0
    y = 1
    
    relative_position_id = STW_combat_illiteracy
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_combat_illiteracy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_finish_illiteracy"
        country_event = { id = strawberry.7 }
    }
}

shared_focus = {
    id = STW_start_modernisation
    icon = GFX_goal_economic_control
    
    x = 1
    y = 1
    
    relative_position_id = STW_forceful_cooperation
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_forceful_cooperation
    }
    
    cost = 7

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_start_modernisation"
        add_tech_bonus = {
            name = industrial_bonus
            bonus = 1.0
            uses = 2
            category = industry
        }
        add_political_power = 50
    }
    search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_finished_modernisation_com_fash
    icon = GFX_focus_generic_industry_3
    
    x = 0
    y = 1
    
    relative_position_id = STW_start_modernisation
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_start_modernisation
    }
    
    cost = 10

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_finished_modernisation_com_fash"
        546 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
        545 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_seize_land_for_the_industry
    icon = GFX_goal_state_economy
    
    x = -1
    y = 1
    
    relative_position_id = STW_finished_modernisation_com_fash
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_finish_illiteracy
    }
    
    prerequisite = {
        focus = STW_finished_modernisation_com_fash
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_seize_land_for_the_industry"
        every_owned_state = {
            add_extra_state_shared_building_slots = 2
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_knights_of_Strawberry
    icon = GFX_goal_strawberry_knights
    
    x = 0
    y = 1
    
    relative_position_id = STW_seize_land_for_the_industry
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_seize_land_for_the_industry
    }
    
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_knights_of_Strawberry"
        custom_effect_tooltip = STW_knights_of_Strawberry_tech
        hidden_effect = {
            set_technology = {
                popup = no
                knights_of_strawberry = 1
            }
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

########## Commie + loyal dev


shared_focus = {
    id = STW_reward_loyalty 
    icon = GFX_goal_generic_major_alliance
    
    x = 5
    y = 1
    
    relative_position_id = STW_commie_boy
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_commie_boy
        focus = STW_loyalist
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        NOT = {
            has_completed_focus = STW_forceful_cooperation
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_reward_loyalty"
        add_political_power = 50
        if = {
            limit = {
                has_government = democratic
            }
            add_popularity = {
                ideology = democratic
                popularity = 0.10
            }
            add_popularity = {
                ideology = communism
                popularity = 0.02
            }
            else = {
                add_popularity = {
                    ideology = communism
                    popularity = 0.10
                }
                add_popularity = {
                    ideology = democratic
                    popularity = 0.02
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_spread_books
    icon = GFX_goal_KTG_Bookstack
    
    x = -1
    y = 1
    
    relative_position_id = STW_reward_loyalty
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_reward_loyalty
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_spread_books"
        add_political_power = 25
        country_event = { id = strawberry.6 }
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_expand_illiteracy_programs
    icon = GFX_goal_griffon_books
    
    x = 0
    y = 1
    
    relative_position_id = STW_spread_books
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_spread_books
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_expand_illiteracy_programs"
        country_event = { id = strawberry.7 }
    }
}

shared_focus = {
    id = STW_start_subsidies
    icon = GFX_goal_agricultural_aid
    
    x = 1
    y = 1
    
    relative_position_id = STW_reward_loyalty
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_reward_loyalty
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_start_subsidies"
        add_ideas = STW_subsidies
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_finished_modernisation_com_loyal
    icon = GFX_goal_factory_complex
    
    x = 0
    y = 1
    
    relative_position_id = STW_start_subsidies
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_start_subsidies
    }
    
    cost = 10

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_finished_modernisation_com_loyal"
        486 = {
            add_extra_state_shared_building_slots = 2
            add_building_construction = {
                type = industrial_complex
                level = 2
                instant_build = yes
            }
        }
        458 = {
            add_extra_state_shared_building_slots = 1
            add_building_construction = {
                type = industrial_complex
                level = 1
                instant_build = yes
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_expand_the_industry_council
    icon = GFX_goal_generic_production2
    
    x = 1
    y = 1
    
    relative_position_id = STW_expand_illiteracy_programs
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_expand_illiteracy_programs
    }
    
    prerequisite = {
        focus = STW_finished_modernisation_com_loyal
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_expand_the_industry_council"
        add_ideas = STW_industry_council
    }
}

shared_focus = { # Depends on relations of FEA
    id = STW_FEA_cooperation
    icon = GFX_goal_duke_gerlach
    
    x = -1
    y = 1
    
    relative_position_id = STW_expand_the_industry_council
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_expand_the_industry_council
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        FEA = { is_same_ideology = yes }
        custom_trigger_tooltip = {
            tooltip = STW_opinion_min_75
            FEA = {
                NOT = {
                    has_opinion = {
                        target = STW
                        value = 75
                    }
                }
            }
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_FEA_cooperation"
        country_event = { id = strawberry.8}
    }
}

shared_focus = { # Depends on an GRI focus
    id = STW_join_the_zentralbank
    icon = GFX_goal_gold_reserve
    
    x = 1
    y = 1
    
    relative_position_id = STW_expand_the_industry_council
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_expand_the_industry_council
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_join_the_zentralbank"
        custom_effect_tooltip = STW_GRI_zentralbank
        if = {
            limit = {
                GRI = {
                    has_completed_focus = GRI_imperial_central_bank
                }
            }
            add_ideas = STW_zentralbank_2
            else = {
                add_ideas = STW_zentralbank_1
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_defenders_of_the_monarchy
    icon = GFX_goal_royal_dictatorship_fist
    
    x = 0
    y = 2
    
    relative_position_id = STW_expand_the_industry_council
    #mutually_exclusive = { focus =  }
    
    prerequisite = {
        focus = STW_expand_the_industry_council
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_defenders_of_the_monarchy"
        add_ideas = STW_feudalists_twats
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS }
}


#### Loyalist

shared_focus = {
    id = STW_two_nations_one_ruler
    icon = GFX_goal_anschluss
    
    x = 0
    y = 1
    
    relative_position_id = STW_loyalist
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_loyalist
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_two_nations_one_ruler"
        add_popularity = {
            ideology = democratic
            popularity = 0.10
        }
        add_political_power = 100
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_closer_cooperation
    icon = GFX_goal_generic_major_alliance
    
    x = -1
    y = 1
    
    relative_position_id = STW_two_nations_one_ruler
    mutually_exclusive = { focus = STW_special_snowflake}
    
    prerequisite = {
        focus = STW_two_nations_one_ruler
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_closer_cooperation"
        STW_increase_relations_duchess_large = yes
        add_political_power = 50
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_special_snowflake
    icon = GFX_goal_generic_demand_territory
    
    x = 1
    y = 1
    
    relative_position_id = STW_two_nations_one_ruler
    mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_two_nations_one_ruler
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_special_snowflake"
        STW_increase_relations_archon_medium = yes
        STW_lower_relations_duchess_small = yes
        add_political_power = 10
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}


shared_focus = {
    id = STW_economical_cooperation
    icon = GFX_goal_factory_complex
    
    x = -1
    y = 1
    
    relative_position_id = STW_closer_cooperation
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_closer_cooperation
    }
    
    cost = 10

    ai_will_do = {
        factor = 20
        modifier = {
            add = 50
            check_variable = { STW_support_for_duchess > 50 }
        }
        modifier = {
            add = 50
            check_variable = { STW_support_for_duchess > 60 }
        }
        modifier = {
            add = 10000
            check_variable = { STW_support_for_duchess > 75 }
        }
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_economical_cooperation"
        add_stability = 0.10
        country_event = { id = strawberry.13 }
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_leave_me_alone
    icon = GFX_goal_generic_defence
    
    x = 1
    y = 1
    
    relative_position_id = STW_special_snowflake
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_special_snowflake
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_leave_me_alone"
        country_event = { id = strawberry.17 }
    }
}

shared_focus = {
    id = STW_open_communications
    icon = GFX_goal_generic_radar
    
    x =-1
    y = 1
    
    relative_position_id = STW_special_snowflake
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_special_snowflake
        focus = STW_closer_cooperation
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_open_communications"
        STW_increase_relations_duchess_small = yes
        add_tech_bonus = {
			name = radar_bonus
            bonus = 1
            uses = 1
            category = radar_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_mutual_benefits
    icon = GFX_goal_generic_consumer_goods
    
    x = -1
    y = 1
    
    relative_position_id = STW_economical_cooperation
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_economical_cooperation
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_mutual_benefits"
        add_ideas = STW_equalisation_payments
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_diplomatical_missions
    icon = GFX_goal_generic_neutrality_focus
    
    x = 0
    y = 1
    
    relative_position_id = STW_open_communications
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_open_communications
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_diplomatical_missions"
        add_political_power = 80
        STW_increase_relations_duchess_medium = yes
        STW_lower_relations_archon_small = yes
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_economical_integration
    icon = GFX_goal_generic_construct_civ_factory
    
    x = 0
    y = 2
    
    relative_position_id = STW_economical_cooperation
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_economical_cooperation
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_economical_integration"
        custom_effect_tooltip = STW_improve_with_better_relations
        if = {
            limit = {
                check_variable = { STW_support_for_duchess < 50 }
            }
            one_random_industrial_complex = yes
            GRI = { one_random_industrial_complex = yes }
            else_if = {
                limit = {
                    check_variable = { STW_support_for_duchess < 75}
                }
                two_random_industrial_complex = yes
                GRI = { two_random_industrial_complex = yes }
                
                else_if = {
                    limit = {
                        check_variable = { STW_support_for_duchess < 95}
                    }
                    three_random_industrial_complex = yes
                    GRI = { three_random_industrial_complex = yes }
                    else = {
                        four_random_industrial_complex = yes
                        GRI = { four_random_industrial_complex = yes }
                    }
                }
                
            }
        }
    }
}

shared_focus = { # This will be an event like 'the choice' where you can decide to permanently damage or improve relations with the empire depending on your choice. Unlike the choice, this will be less definitive and actually allow for changing to the more eagleclaw friendly path, albeit with less bonuses
    id = STW_an_unique_position
    icon = GFX_focus_generic_support_the_left_right
    
    x = 1
    y = 1
    
    relative_position_id = STW_leave_me_alone
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_leave_me_alone
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_an_unique_position"
        country_event = strawberry.18
    }
}

shared_focus = {
    id = STW_a_choice
    icon = GFX_goal_constitutional_guarantees
    
    x = 0
    y = 2
    
    relative_position_id = STW_leave_me_alone
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_leave_me_alone
    }

    
    cost = 10

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_choice"
        add_stability = 0.10
        two_random_industrial_complex = yes
        two_random_arms_factory = yes
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_appoint_new_counts
    icon = GFX_goal_top_hat
    
    x = 2
    y = 1
    
    relative_position_id = STW_economical_integration
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_economical_integration
        focus = STW_a_choice
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_appoint_new_counts"
        add_stability = 0.15
        remove_ideas = STW_absent_ruler
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_a_nobles_nation
    icon = GFX_goal_monarchism
    
    x = 0
    y = 1
    
    relative_position_id = STW_appoint_new_counts
    #mutually_exclusive = { focus = STW_closer_cooperation}
    
    prerequisite = {
        focus = STW_appoint_new_counts
    }
    prerequisite = {
        focus = STW_defenders_of_the_monarchy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_nobles_nation"
        add_popularity = {
            ideology = democratic
            popularity = 0.20
        }
        increase_society_development_with_tt = yes
        if = {
            limit = {
                check_variable = { STW_support_for_duchess > 75}
            }
            swap_ideas = {
                remove_idea = STW_modernisation_restistance
                add_idea = STW_ducal_cooperation_better
            }
            else = {
                swap_ideas = {
                    remove_idea = STW_modernisation_restistance
                    add_idea = STW_ducal_cooperation
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}

##### Commies

shared_focus = {
    id = STW_socialism
    icon = GFX_focus_generic_join_comintern
    
    x = 0
    y = 1
    
    relative_position_id = STW_commie_boy
    
    
    prerequisite = {
        focus = STW_commie_boy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    available = {
        has_country_flag = STW_commie_boy_flag
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_socialism"
        add_popularity = {
            ideology = communism
            popularity = 0.05
        }
        add_political_power = 100
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_the_people_rule
    icon = GFX_goal_generic_improve_relations
    
    x = -1
    y = 1
    
    relative_position_id = STW_socialism
    mutually_exclusive = { focus = STW_we_are_the_people}
    
    prerequisite = {
        focus = STW_socialism
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_the_people_rule"
        add_popularity = {
            ideology = communism
            popularity = 0.10
        }
    }
}

shared_focus = {
    id = STW_we_are_the_people
    icon = GFX_goal_generic_demand_territory
    
    x = 1
    y = 1
    
    relative_position_id = STW_socialism
    mutually_exclusive = { focus = STW_the_people_rule}
    
    prerequisite = {
        focus = STW_socialism
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_we_are_the_people"
        add_political_power = 100
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}



shared_focus = {
    id = STW_some_are_more_equal
    icon = GFX_goal_support_communism
    
    x = 0
    y = 1
    
    relative_position_id = STW_the_people_rule
    mutually_exclusive = { focus = STW_all_are_equal}
    
    prerequisite = {
        focus = STW_the_people_rule
        focus = STW_we_are_the_people
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_some_are_more_equal"
        add_stability = 0.05
        add_ideas = STW_grand_pensionary
    }
    search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_all_are_equal
    icon = GFX_focus_YUG_pan_slavic_congress
    
    x = 0
    y = 1
    
    relative_position_id = STW_we_are_the_people
    mutually_exclusive = { focus = STW_some_are_more_equal}
    
    prerequisite = {
        focus = STW_we_are_the_people
        focus = STW_the_people_rule
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_all_are_equal"
        add_stability = 0.10
        add_popularity = {
            ideology = communism
            popularity = 0.05
        }
        add_ideas = STW_civil_liberties
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_the_people_army
    icon = GFX_goal_Attack_Strawberry_2
    
    x = 1
    y = 1
    
    relative_position_id = STW_some_are_more_equal
    
    prerequisite = {
        focus = STW_some_are_more_equal
        focus = STW_all_are_equal
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_the_people_army"
        add_ideas = STW_peoples_army_idea
    }
    search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
    id = STW_planned_economy
    icon = GFX_goal_generic_soviet_construction
    
    x = 0
    y = 2
    
    relative_position_id = STW_some_are_more_equal
    mutually_exclusive = { focus = STW_small_business}
    
    prerequisite = {
        focus = STW_the_people_army
    }
    prerequisite = {
        focus = STW_seize_land_for_the_industry
    }
    
    cost = 8

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_planned_economy"
        three_random_industrial_complex = yes
        one_random_infrastructure = yes
        one_random_infrastructure = yes
        one_random_infrastructure = yes
        add_stability = 0.10
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_small_business
    icon = GFX_goal_agricultural_aid
    
    x = 0
    y = 2
    
    relative_position_id = STW_all_are_equal
    mutually_exclusive = { focus = STW_planned_economy}
    
    prerequisite = {
        focus = STW_the_people_army
    }
    prerequisite = {
        focus = STW_expand_the_industry_council
    }
    
    cost = 8

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_small_business"
        add_ideas = STW_small_business
        add_popularity = {
            ideology = communism
            popularity = 0.10
        }
        
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_a_workers_nation
    icon = GFX_goal_revolution_tools
    
    x = 0
    y = 1
    
    relative_position_id = STW_planned_economy
    #mutually_exclusive = { focus = STW_all_are_equal}
    
    prerequisite = {
        focus = STW_small_business
        focus = STW_planned_economy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_workers_nation"
        add_ideas = STW_social_rights
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_socialist_intelligence # This exists?
    icon = GFX_focus_generic_socialist_science
    
    x = 0
    y = 1
    
    relative_position_id = STW_small_business
    #mutually_exclusive = { focus = STW_all_are_equal}
    
    prerequisite = {
        focus = STW_small_business
        focus = STW_planned_economy
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_socialist_intelligence"
        add_ideas = STW_socialist_education
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_better_red_than_dead
    icon = GFX_focus_generic_soviet_politics
    
    x = 1
    y = 1
    
    relative_position_id = STW_a_workers_nation
    #mutually_exclusive = { focus = STW_all_are_equal}
    
    prerequisite = {
        focus = STW_socialist_intelligence
    }
    prerequisite = {
        focus = STW_a_workers_nation
    }
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_better_red_than_dead"
        add_stability = 0.10
        increase_society_development_with_tt = yes
        swap_ideas = {
            remove_idea = STW_modernisation_and_reform_restistance
            add_idea = STW_subdued_nobles
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

######### Fash-bash

shared_focus = {
    id = STW_voluentary_loyalty
    icon = GFX_goal_revolution
    
    x = 0
    y = 1
    
    relative_position_id = STW_pope_boy
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_pope_boy
    }
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_voluentary_loyalty"
        country_event = strawberry.19
    }
}

shared_focus = {
    id = STW_recognise_the_three
    icon = GFX_goal_generic_archonism
    
    x = -1
    y = 1
    
    relative_position_id = STW_voluentary_loyalty
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_voluentary_loyalty
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_recognise_the_three"
        add_stability = 0.10
        add_ideas = STW_support_from_the_three
    }
    search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_stab_the_opposition
    icon = GFX_goal_purge_opposition
    
    x = -1
    y = 1

    relative_position_id = STW_recognise_the_three
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_recognise_the_three
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_stab_the_opposition"
        add_stability = 0.10
        add_political_power = -75
        add_popularity = {
            ideology = democratic
            popularity = -0.075
        }
        add_popularity = {
            ideology = communism
            popularity = -0.075
        }
        add_popularity = {
            ideology = neutrality
            popularity = -0.075
        }
        save_current_manpower = yes
        every_owned_state = {
            add_manpower = -1000
        }
        restore_previous_manpower = yes
    }
    search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_the_knights_guard
    icon = GFX_focus_generic_strike_at_democracy1
    
    x = 1
    y = 1
    
    relative_position_id = STW_voluentary_loyalty
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_voluentary_loyalty
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_the_knights_guard"
        add_war_support = 0.05
        add_ideas = STW_reinvigorated_guard
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
    id = STW_suck_pope_dick
    icon = GFX_goal_the_archon
    
    x = 1
    y = 1
    
    relative_position_id = STW_the_knights_guard
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_the_knights_guard
    }

    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_suck_pope_dick"
        add_political_power = 100
        add_stability = 0.10
    }
    search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
} 

shared_focus = {
    id = STW_a_commoners_man
    icon = GFX_focus_AUS_agriculture
    
    x = -1
    y = 1
    
    relative_position_id = STW_the_knights_guard
    #mutually_exclusive = { focus = STW_pu_time}

    prerequisite = {
        focus = STW_the_knights_guard
    }
    prerequisite = {
        focus = STW_recognise_the_three
    }
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_commoners_man"
        add_political_power = -50
        add_war_support = 0.10
        add_popularity = {
            ideology = fascism
            popularity = 0.10
        }
    }
    search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}
shared_focus = {
    id = STW_industrialisation
    icon = GFX_goal_factory_complex
    
    x = 0
    y = 2
    
    relative_position_id = STW_the_knights_guard
    #mutually_exclusive = { focus = STW_pu_time}
    
    prerequisite = {
        focus = STW_the_knights_guard
    }
    cost = 10

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_industrialisation"
        one_random_arms_factory = yes
        two_random_industrial_complex = yes
        one_random_infrastructure = yes
        one_random_infrastructure = yes
    }
}

shared_focus = {
    id = STW_a_religious_man
    icon = GFX_goal_generic_demand_territory
    
    x = 0
    y = 2
    
    relative_position_id = STW_recognise_the_three
    #mutually_exclusive = { focus = STW_pu_time}
    

    prerequisite = {
        focus = STW_recognise_the_three
    }
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_religious_man"
        remove_ideas = STW_absent_ruler
        add_stability = 0.10
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_our_own_nation
    icon = GFX_goal_anschluss
    
    x = 1
    y = 1
    
    relative_position_id = STW_a_religious_man
    #mutually_exclusive = { focus = STW_pu_time }
    
    prerequisite = {
        focus = STW_a_religious_man
    }
    prerequisite = {
        focus = STW_industrialisation
    }
    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_our_own_nation"
        country_event = strawberry.20
    }
}

shared_focus = {
    id = STW_our_own_empire
    icon = GFX_goal_strawberry_duchy

    x = 0
    y = 2
    
    relative_position_id = STW_our_own_nation
    #mutually_exclusive = { focus = STW_pu_time}
    

    prerequisite = {
        focus = STW_our_own_nation
    }
    prerequisite = {
        focus = STW_knights_of_Strawberry
    }

    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_our_own_empire"
        increase_society_development_with_tt = yes
        add_war_support = 0.15
        add_stability = 0.15
    }
    search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
}


shared_focus = {
    id = STW_uni_readewetter
    icon = GFX_goal_supremacy_of_will
    
    x = 5
    y = 1
    
    relative_position_id = STW_better_red_than_dead
    mutually_exclusive = { focus = STW_uni_starclaw}
    

    prerequisite = {
        focus = STW_better_red_than_dead
        focus = STW_a_nobles_nation
    }


    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_uni_readewetter"
        Improve_Science_Base = yes
        add_ideas = STW_uni_of_readewetter
        decrease_illiteracy = yes
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_uni_starclaw
    icon = GFX_goal_technological_supremacy
    
    x = -5
    y = 1
    
    relative_position_id = STW_better_red_than_dead
    mutually_exclusive = { focus = STW_uni_readewetter}
    

    prerequisite = {
        focus = STW_better_red_than_dead
        focus = STW_our_own_empire
    }


    cost = 5

    ai_will_do = {
        factor = 100
    }

    # available = {
    # }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_uni_starclaw"
        Improve_Science_Base = yes
        add_research_slot = 1
        decrease_illiteracy = yes
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

######### The Eagleclaw path

shared_focus = {
    id = STW_sidelined
    icon = GFX_focus_rom_handle_king
    
    x = 30
    y = 1
    

    
    prerequisite = {
        focus = STW_death_of_a_friend
    }
    
    cost = 5

    ai_will_do = {
        factor = 10000
    }

    available = {
        custom_trigger_tooltip = { 
            tooltip = STW_complete_with_effect
            always = no
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    continue_if_invalid = no
    # available_if_capitulated = no

    completion_reward = {
        log = "[GetDateText]: [Root.GetName]: Focus STW_sidelined"
        hidden_effect = {
            set_variable = { STW_relations_with_empire = 40 }
        }
    }
}


shared_focus = {
    id = STW_ties_with_other_nations
    icon = GFX_goal_generic_national_unity_claws
    
    x = -4
    y = 1
    
    relative_position_id = STW_sidelined
    
    prerequisite = {
        focus = STW_sidelined
    }
    
    cost = 5

    ai_will_do = {
        factor = 1000
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_ties_with_other_nations"
        custom_effect_tooltip = STW_start_ties_projects_tt
        add_political_power = 50
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_hidden_resistance
    icon = GFX_goal_gunpoint_diplomacy
    
    x = -1
    y = 1
    dynamic = yes
    relative_position_id = STW_ties_with_other_nations
    mutually_exclusive = { focus = STW_open_resistance }
    prerequisite = {
        focus = STW_ties_with_other_nations
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_hidden_resistance"
        add_political_power = 25
        STW_lower_relations_empire_small = yes
        custom_effect_tooltip = STW_hidden_resistance_tt
        hidden_effect = {
            set_country_flag = STW_hidden_resistance_flag
        }
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_open_resistance
    icon = GFX_goal_generic_military_deal
    
    x = 1
    y = 1
    dynamic = yes
    relative_position_id = STW_ties_with_other_nations
    mutually_exclusive = { focus = STW_hidden_resistance }
    prerequisite = {
        focus = STW_ties_with_other_nations
    }
    
    cost = 5

    ai_will_do = {
        factor = 10000
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_open_resistance"
        add_political_power = 100
        STW_lower_relations_empire_large = yes
        custom_effect_tooltip = STW_open_resistance_tt
        hidden_effect = {
            set_country_flag = STW_open_resistance_flag
        }
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_gather_arms
    icon = GFX_goal_military_academy
    
    x = 0
    y = 2
    
    relative_position_id = STW_hidden_resistance
    
    prerequisite = {
        focus = STW_hidden_resistance
        focus = STW_open_resistance
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_gather_arms"
        country_event = strawberry.22
    }
}

shared_focus = {
    id = STW_sway_the_griff_nobles
    icon = GFX_goal_top_hat
    
    x = -1
    y = 1
    dynamic = yes
    relative_position_id = STW_hidden_resistance
    
    prerequisite = {
        focus = STW_hidden_resistance
        focus = STW_open_resistance
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_sway_the_griff_nobles"
        country_event = strawberry.23
    }
}

shared_focus = {
    id = STW_approach_the_griff_commoners
    icon = GFX_focus_AUS_agriculture
    
    x = 1
    y = 1
    dynamic = yes
    relative_position_id = STW_hidden_resistance
    
    prerequisite = {
        focus = STW_hidden_resistance
        focus = STW_open_resistance
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_approach_the_griff_commoners"
        country_event = strawberry.24
    }
}


shared_focus = {
    id = STW_strike_the_archon
    icon = GFX_goal_the_archon
    
    x = 2
    y = 3
    
    relative_position_id = STW_hidden_resistance
    
    prerequisite = {
        focus = STW_hidden_resistance
        focus = STW_open_resistance
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_strike_the_archon"
        unlock_decision_category_tooltip = STW_final_preparations_cat
    }
}


shared_focus = {
    id = STW_social_reform
    icon = GFX_goal_government_icon
    dynamic = yes
    x = 0
    y = 1
    
    relative_position_id = STW_sidelined
    
    prerequisite = {
        focus = STW_sidelined
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_social_reform"
        add_stability = 0.15
        add_popularity = {
            ideology = neutrality
            popularity = 0.10
        }
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_visit_public_schools
    icon = GFX_goal_ease_EEA
    
    x = 1
    y = 1
    
    relative_position_id = STW_social_reform
    
    prerequisite = {
        focus = STW_social_reform
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_visit_public_schools"
        country_event = strawberry.6
    }
}

shared_focus = {
    id = STW_start_reading_programs
    icon = GFX_goal_KTG_Bookstack
    
    x = 0
    y = 1
    
    relative_position_id = STW_visit_public_schools
    
    prerequisite = {
        focus = STW_visit_public_schools
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_start_reading_programs"
        country_event = strawberry.7
    }
}

shared_focus = {
    id = STW_economic_ties
    icon = GFX_goal_economic_control
    
    x = -1
    y = 1
    
    relative_position_id = STW_social_reform
    
    prerequisite = {
        focus = STW_social_reform
    }
    
    cost = 10

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_economic_ties"
        two_random_industrial_complex = yes
    }
}

shared_focus = {
    id = STW_modernisation_effort
    icon = GFX_goal_industrial_pony
    
    x = 0
    y = 1
    
    relative_position_id = STW_economic_ties
    
    prerequisite = {
        focus = STW_economic_ties
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_modernisation_effort"
        add_ideas = STW_remove_achaic_advisors
    }
    search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_a_modern_nation
    icon = GFX_goal_generic_production2
    
    x = 1
    y = 1
    
    relative_position_id = STW_modernisation_effort
    
    prerequisite = {
        focus = STW_modernisation_effort
    }
    prerequisite = {
        focus = STW_start_reading_programs
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_modern_nation"
        add_stability = 0.10
        add_political_power = 50
        remove_ideas = STW_modernisation_restistance
    }
    search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
    id = STW_political_reform
    icon = GFX_goal_generic_intelligence_exchange
    
    x = 4
    y = 1
    
    relative_position_id = STW_sidelined
    
    prerequisite = {
        focus = STW_sidelined
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_political_reform"
        add_popularity = {
            ideology = neutrality
            popularity = 0.15
        }
        add_war_support = 0.10
        remove_ideas = STW_absent_ruler
    }
    search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
    id = STW_the_duchess_speech
    icon = GFX_focus_rom_royal_dictatorship
    
    x = -1
    y = 1
    
    relative_position_id = STW_political_reform
    
    prerequisite = {
        focus = STW_political_reform
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_the_duchess_speech"
        country_event = strawberry.29
    }
}

shared_focus = {
    id = STW_royal_tours
    icon = GFX_goal_collaborate_local_elites
    
    x = 0
    y = 1
    
    relative_position_id = STW_the_duchess_speech
    
    prerequisite = {
        focus = STW_the_duchess_speech
    }

    
    cost = 8

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_royal_tours"
        add_popularity = {
            ideology = neutrality
            popularity = 0.10
        }
        two_random_infrastructure = yes
    }
}

shared_focus = {
    id = STW_a_series_of_decrees
    icon = GFX_goal_constitutional_guarantees
    
    x = -1
    y = 1
    
    relative_position_id = STW_royal_tours
    
    prerequisite = {
        focus = STW_royal_tours
    }

    
    cost = 10

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_series_of_decrees"
        two_random_industrial_complex = yes
    }
}

shared_focus = {
    id = STW_one_nation_against_the_archon
    icon = GFX_goal_generic_national_unity_claws
    dynamic = yes
    x = 1
    y = 1
    
    relative_position_id = STW_royal_tours
    
    prerequisite = {
        focus = STW_royal_tours
    }
    prerequisite = {
        focus = STW_root_out_archon_supporters
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_one_nation_against_the_archon"
        add_ideas = STW_one_nation_united
        add_stability = 0.15
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
    id = STW_expand_the_royal_guard
    icon = GFX_goal_strawberry_knights
    
    x = 1
    y = 1
    
    relative_position_id = STW_political_reform
    
    prerequisite = {
        focus = STW_political_reform
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_expand_the_royal_guard"
        custom_effect_tooltip = STW_expand_knights_tt
        hidden_effect = {
            load_oob = STW_knights
        }			
    }
    search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
    id = STW_root_out_archon_supporters
    icon = GFX_goal_purge_opposition
    
    x = 0
    y = 1
    dynamic = yes
    relative_position_id = STW_expand_the_royal_guard
    
    prerequisite = {
        focus = STW_expand_the_royal_guard
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_root_out_archon_supporters"
        add_political_power_depending_on_popularity_current = yes
        add_popularity = {
            ideology = fascism
            popularity = -0.05
        }
        add_popularity = {
            ideology = communism
            popularity = -0.05
        }
    }
}

shared_focus = { # Event chain to choose how big a party
    id = STW_a_grandiose_party
    icon = GFX_goal_strawberry_Liquor
    
    x = 1
    y = 1
    
    relative_position_id = STW_root_out_archon_supporters
    
    prerequisite = {
        focus = STW_root_out_archon_supporters
    }

    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_a_grandiose_party"
        country_event = strawberry.34
    }
}

shared_focus = {
    id = STW_center_of_learning
    icon = GFX_goal_technological_supremacy
    
    x = 2
    y = 1
    
    relative_position_id = STW_a_modern_nation
    
    prerequisite = {
        focus = STW_a_modern_nation
    }
    prerequisite = {
        focus = STW_one_nation_against_the_archon
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_center_of_learning"
        custom_effect_tooltip = STW_center_of_learning_tt
        if = {
            limit = {
                has_country_flag = STW_commoner_support_big
                has_country_flag = STW_noble_support_big
            }
            add_research_slot = 1
            add_ideas = STW_uni_of_readewetter
        }
        else_if = {
            limit = {
                OR = {
                    has_country_flag = STW_commoner_support_big
                    has_country_flag = STW_noble_support_big
                    has_country_flag = STW_noble_support_medium
                    has_country_flag = STW_commoner_support_medium
                }	
            }
            add_research_slot = 1
        }
        else = {
            add_ideas = STW_uni_of_readewetter
        }
        Improve_Science_Base = yes
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_strawberry_rules_archons_fucking_dead
    icon = GFX_goal_strawberry_duchy
    dynamic = yes
    x = 2
    y = 1
    
    relative_position_id = STW_strike_the_archon
    
    prerequisite = {
        focus = STW_center_of_learning
    }
    prerequisite = {
        focus = STW_strike_the_archon
    }
    
    cost = 5

    ai_will_do = {
        factor = 100
    }


    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_strawberry_rules_archons_fucking_dead"
        add_popularity = {
            ideology = neutrality
            popularity = 0.20
        }
        add_stability = 0.15
        add_political_power_depending_on_popularity_current = yes
        increase_society_development_with_tt = yes
    }
    search_filters = { FOCUS_FILTER_STABILITY }
}

### Industry

shared_focus = {
    id = STW_industry_start
    icon = GFX_goal_reichsautobahn
    
    x = 43
    y = 0
    offset = {
        x = -20
        y = 0
        trigger = {
            has_focus_tree = stw_imperial_commie
        }
    }
    
    cost = 5

    ai_will_do = {
        factor = 1000
    }

    available = {
        has_global_flag = GRI_emperor_dead
    }

    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_industry_start"
        add_tech_bonus = {
            name = industrial_bonus
            bonus = 1.0
            uses = 2
            category = industry
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

### Loyalist - Gabriella 

shared_focus = {
    id = STW_move_to_the_city
    icon = GFX_goal_generic_construct_civ_factory
    
    x = 3
    y = 1
    
    
    cost = 8

    ai_will_do = {
        factor = 1000
    }
    
    relative_position_id = STW_industry_start
    
    prerequisite = {
        focus = STW_industry_start
    }

    mutually_exclusive = { focus = STW_support_the_farms }
    
    available = {
        486 = {
            is_fully_controlled_by = ROOT
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_move_to_the_city"
        486 = {
            add_extra_state_shared_building_slots = 2
			add_building_construction =
			{
				type = industrial_complex
				level = 2
				instant_build = yes
			}
            if = {
                limit = {
                    infrastructure < 9
                }
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            else_if = {
                limit = {
                    infrastructure < 10
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_support_big_business
    icon = GFX_goal_generic_consumer_goods
    
    x = -2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 1000
    }
    
    relative_position_id = STW_move_to_the_city
    
    prerequisite = {
        focus = STW_move_to_the_city
    }
    
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_support_big_business"
        add_ideas = STW_industry_subsidies
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_money_for_the_nobles
    icon = GFX_goal_tfv_strengthen_commonwealth_ties
    
    x = 2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_move_to_the_city
    
    prerequisite = {
        focus = STW_move_to_the_city
    }
    
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_money_for_the_nobles"
        add_timed_idea = { idea = STW_land_sale_profits days = 365 }
    }
}

shared_focus = {
    id = STW_privatisation_railway
    icon = GFX_goal_generic_construct_infrastructure
    
    x = 0
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_move_to_the_city
    
    prerequisite = {
        focus = STW_move_to_the_city
    }
    
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_privatisation_railway"
        if = {
            limit = { has_full_control_of_state = 546 }
            546 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }

        if = {
            limit = { has_full_control_of_state = 545 }
            545 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }

        if = {
            limit = { has_full_control_of_state = 458 }
            458 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }

        if = {
            limit = { has_full_control_of_state = 443 }
            443 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_start_resource_projects
    icon = GFX_All_resource
    
    x = 0
    y = 2
    
    
    cost = 8

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_move_to_the_city
    
    prerequisite = {
        focus = STW_privatisation_railway
    }
    prerequisite = {
        focus = STW_money_for_the_nobles
    }
    prerequisite = {
        focus = STW_support_big_business
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_start_resource_projects"
        add_tech_bonus = {
            name = STW_start_resource_projects
            bonus = 1.0
            uses = 2
            category = excavation_tech
        }
        custom_effect_tooltip = STW_start_resource_projects_tt
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_military_industrial_complex
    icon = GFX_goal_generic_construct_mil_factory
    
    x = 0
    y = 1
    
    
    cost = 10

    ai_will_do = {
        factor = 150
    }
    
    relative_position_id = STW_start_resource_projects
    
    prerequisite = {
        focus = STW_start_resource_projects
    }

    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_military_industrial_complex"
		add_offsite_building = { 
		    type = arms_factory 
			level = 3
		}
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_electronics_focus
    icon = GFX_goal_goal_machine
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_military_industrial_complex
    
    prerequisite = {
        focus = STW_military_industrial_complex
    }

    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_electronics_focus"
        add_tech_bonus = {
            name = electronics_bonus
            bonus = 1.0
            uses = 2
            category = electronics
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_create_new_industrial_parks
    icon = GFX_focus_generic_industry_3
    
    x = 1
    y = 1
    
    
    cost = 10

    ai_will_do = {
        factor = 150
    }
    
    relative_position_id = STW_military_industrial_complex
    
    prerequisite = {
        focus = STW_military_industrial_complex
    }

    available = {
        458 = {
            is_fully_controlled_by = ROOT
        }
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_create_new_industrial_parks"
        458 = {
            add_extra_state_shared_building_slots = 4
            if = {
                limit = {
                    infrastructure < 9
                }
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            else_if = {
                limit = {
                    infrastructure < 10
                }
                add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
            }
        }
		add_offsite_building = { 
		    type = industrial_complex 
			level = 2
		}
		add_offsite_building = { 
		    type = arms_factory 
			level = 1
		}
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_invite_magical_one_horns
    icon = GFX_goal_generic_magic
    
    x = -2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_start_resource_projects
    
    prerequisite = {
        focus = STW_start_resource_projects
    }

    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_invite_magical_one_horns"
        add_tech_bonus = {
            name = STW_invite_magical_one_horns
            bonus = 1.00
            uses = 2
            category = magical_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_encourage_construction
    icon = GFX_goal_generic_construction
    
    x = 2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_start_resource_projects
    
    prerequisite = {
        focus = STW_start_resource_projects
    }

    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_encourage_construction"
        add_ideas = STW_encourage_construction_idea
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

### Commie - Archon econ

shared_focus = {
    id = STW_support_the_farms
    icon = GFX_goal_agricultural_aid
    
    x = -3
    y = 1
    
    
    cost = 8

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_industry_start
    
    prerequisite = {
        focus = STW_industry_start
    }
    
    mutually_exclusive = {
        focus = STW_move_to_the_city
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_support_the_farms"
        add_ideas = STW_support_the_farms_idea
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_workers_rights
    icon = GFX_goal_industrial_pony
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_support_the_farms
    
    prerequisite = {
        focus = STW_support_the_farms
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_workers_rights"
        add_ideas = STW_labour_reforms
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_7_hour_workday
    icon = GFX_goal_factory_complex
    
    x = 0
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_workers_rights
    
    prerequisite = {
        focus = STW_workers_rights
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_7_hour_workday"
        swap_ideas = {
            remove_idea = STW_labour_reforms
            add_idea = STW_labour_reforms_2
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_seize_noble_lands
    icon = GFX_goal_crush_monarchy
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_support_the_farms
    
    prerequisite = {
        focus = STW_support_the_farms
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_seize_noble_lands"
        add_stability = -0.1
        every_owned_state = {
            limit = {
                is_core_of = ROOT
            }
            add_extra_state_shared_building_slots = 2
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}


shared_focus = {
    id = STW_expand_mines
    icon = GFX_Steel
    
    x = -1
    y = 1
    
    
    cost = 8

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_seize_noble_lands
    
    prerequisite = {
        focus = STW_seize_noble_lands
    }
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_expand_mines"
        add_resource = {
            type = steel
            amount = 16
            state = 545
        }
        add_resource = {
            type = steel
            amount = 10
            state = 546
        }
        hidden_effect = {
            545 = {
                set_state_flag = dwarftail_steel_developed
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_drill_for_oil
    icon = GFX_goal_oil
    
    x = 1
    y = 1
    
    
    cost = 8

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_seize_noble_lands
    
    prerequisite = {
        focus = STW_seize_noble_lands
    }
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_drill_for_oil"
        add_resource = {
            type = oil
            amount = 13
            state = 443
        }
        hidden_effect = {
            443 = {
                set_state_flag = osnabeak_oil_developed
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
    id = STW_nationalize_rail
    icon = GFX_goal_generic_construct_infrastructure
    
    x = 0
    y = 2
    
    
    cost = 8

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_seize_noble_lands
    
    prerequisite = {
        focus = STW_seize_noble_lands
    }
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_nationalize_rail"
        add_ideas = STW_nationalize_rail_idea
        if = {
            limit = {
                458 = {
                    is_fully_controlled_by = ROOT
                }
            }
            458 = {
                if = {
                    limit = {
                        infrastructure < 10
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }
        }
        if = {
            limit = {
                443 = {
                    is_fully_controlled_by = ROOT
                }
            }
            443 = {
                if = {
                    limit = {
                        infrastructure < 10
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }
        }
        if = {
            limit = {
                546 = {
                    is_fully_controlled_by = ROOT
                }
            }
            546 = {
                if = {
                    limit = {
                        infrastructure < 10
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }
        }
        if = {
            limit = {
                545 = {
                    is_fully_controlled_by = ROOT
                }
            }
            545 = {
                if = {
                    limit = {
                        infrastructure < 10
                    }
                    add_building_construction = {
                        type = infrastructure
                        level = 1
                        instant_build = yes
                    }
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_more_guns
    icon = GFX_goal_generic_construct_mil_factory
    
    x = 1
    y = 1
    
    
    cost = 10

    ai_will_do = {
        factor = 150
    }
    
    relative_position_id = STW_7_hour_workday
    
    prerequisite = {
        focus = STW_7_hour_workday
    }
    prerequisite = {
        focus = STW_nationalize_rail
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_more_guns"
		add_offsite_building = { 
		    type = arms_factory 
			level = 3
		}
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_investagation_electronics
    icon = GFX_goal_goal_machine
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_7_hour_workday
    
    prerequisite = {
        focus = STW_7_hour_workday
    }
    prerequisite = {
        focus = STW_nationalize_rail
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_investagation_electronics"
        add_tech_bonus = {
            name = electronics_bonus
            bonus = 1.0
            uses = 2
            category = electronics
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_large_scale_construction
    icon = GFX_goal_generic_construction2
    
    x = 3
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 50
    }
    
    relative_position_id = STW_7_hour_workday
    
    prerequisite = {
        focus = STW_7_hour_workday
    }
    prerequisite = {
        focus = STW_nationalize_rail
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_large_scale_construction"
        add_tech_bonus = {
            name = STW_large_scale_construction
            bonus = 1.0
            ahead_reduction = 1
            uses = 2
            category = construction_tech
            category = excavation_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

### Guns n Shit ###

shared_focus = {
    id = STW_military_shit
    icon = GFX_goal_generic_axis_build_infantry
    
    x = 37
    y = 0
    offset = {
        x = -20
        y = 0
        trigger = {
            has_focus_tree = stw_imperial_commie
        }
    }
    
    cost = 5

    ai_will_do = {
        factor = 75
    }
    
    relative_position_id = STW_death_of_a_friend
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_military_shit"
        army_experience = 25
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
    id = STW_modern_military
    icon = GFX_goal_military_academy
    
    x = 0
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 25
    }
    
    prerequisite = {
        focus = STW_military_shit
    }
    
    relative_position_id = STW_military_shit
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_modern_military"
        add_ideas = STW_modern_military_idea
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
    id = STW_support_divisions
    icon = GFX_goal_generic_construction2
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_support_divisions"
        add_tech_bonus = {
            name = STW_support_divisions
            bonus = 1.0
            uses = 1
            category = engineers_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_big_guns
    icon = GFX_goal_generic_army_artillery2
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_big_guns"
        add_tech_bonus = {
            name = STW_big_guns
            bonus = 1.0
            uses = 1
            category = artillery
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}


shared_focus = {
    id = STW_griff_tech
    icon = GFX_goal_conscription
    
    x = 0
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_griff_tech"
        add_tech_bonus = {
            name = STW_griff_tech
            bonus = 1.0
            uses = 2
            category = race_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}


shared_focus = {
    id = STW_new_guns_n_shit
    icon = GFX_goal_generic_small_arms
    
    x = 2
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 25
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_new_guns_n_shit"
        add_tech_bonus = {
            name = STW_new_guns_n_shit
            bonus = 1.0
            uses = 1
            category = infantry_weapons
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_radar
    icon = GFX_goal_generic_radar
    
    x = -2
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_radar"
        add_tech_bonus = {
            name = STW_radar
            bonus = 1.0
            uses = 2
            category = radar_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

### Mil: Arch - Commies
# Wont lock out, but will have better bonuses

shared_focus = {
    id = STW_more_bodies_is_good
    icon = GFX_goal_generic_secret_weapon
    
    x = -5
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 25
        modifier = {
            factor = 0
            OR = {
                has_tech = mobile_warfare
                is_researching_technology = mobile_warfare
            }
        }
    }
    
    prerequisite = {
        focus = STW_military_shit
    }
    
    mutually_exclusive = {
        focus = STW_more_guns_is_good
    }
    
    relative_position_id = STW_military_shit
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_more_bodies_is_good"
        add_tech_bonus = {
            name = STW_more_bodies_is_good
            bonus = 1.0
            uses = 2
            category = land_doctrine
        }
        custom_effect_tooltip = available_theorist
        show_ideas_tooltip = STW_military_theorist_3
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_fresh_feathers
    icon = GFX_goal_conscription
    
    x = -2
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_more_bodies_is_good
    }
    
    relative_position_id = STW_more_bodies_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_fresh_feathers"
        if = {
            limit = {
                has_idea = volunteer_only
            }
            add_ideas = limited_conscription
        }
        else_if = {
            limit = {
                has_idea = limited_conscription
            }
            add_ideas = extensive_conscription
        }
        else_if = {
            limit = {
                has_idea = extensive_conscription
            }
            add_ideas = service_by_requirement
        }
        else = {
            add_political_power = 150
        }
    }
    search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
}

shared_focus = {
    id = STW_even_more_guns
    icon = GFX_goal_national_arsenal
    
    x = 0
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_more_bodies_is_good
    }
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_more_bodies_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_even_more_guns"
        add_ideas = STW_even_more_guns_idea
    }
}


shared_focus = {
    id = STW_light_tanks
    icon = GFX_goal_generic_army_tanks
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_even_more_guns
    }
    prerequisite = {
        focus = STW_fresh_feathers
    }
    
    relative_position_id = STW_even_more_guns
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_light_tanks"
        add_tech_bonus = {
            name = STW_light_tanks
            bonus = 1.0
            uses = 2
            category = cat_light_armor
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_some_towed_arty
    icon = GFX_goal_national_artillery
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_more_bodies_is_good
    }
    
    relative_position_id = STW_more_bodies_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_some_towed_arty"
        add_ideas = STW_some_towed_arty_idea
    }
}

shared_focus = {
    id = STW_defences_against_everyone_who_isnt_the_empire
    icon = GFX_goal_generic_fortify_city
    
    x = -3
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 25
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_defences_against_everyone_who_isnt_the_empire"
        custom_effect_tooltip = STW_defences_against_everyone_who_isnt_the_empire_tt
        hidden_effect = {
            486 = {
                add_building_construction = { type = bunker province = 4521 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 7879 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4816 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4331 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 12399 level = 2 instant_build = yes }
            }
            546 = {
                add_building_construction = { type = bunker province = 12448 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4655 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 1796 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4873 level = 2 instant_build = yes }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}


shared_focus = {
    id = STW_defences_against_the_empire
    icon = GFX_goal_generic_fortify_city
    
    x = 3
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 25
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_modern_military
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_defences_against_the_empire"
        custom_effect_tooltip = STW_defences_against_the_empire_tt
        hidden_effect = {
            443 = {
                add_building_construction = { type = bunker province = 1166 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 10057 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 7167 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 12030 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 1006 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4053 level = 2 instant_build = yes }
                add_building_construction = { type = bunker province = 4203 level = 2 instant_build = yes }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

### Loyalist - Eagleclaw
# Wont lock out, but will have better bonuses

shared_focus = {
    id = STW_more_guns_is_good
    icon = GFX_goal_national_arsenal
    
    x = 5
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 25
        modifier = {
            factor = 0
            OR = {
                has_tech = mass_assault
                is_researching_technology = mass_assault
            }
        }
    }
    
    prerequisite = {
        focus = STW_military_shit
    }
    
    mutually_exclusive = {
        focus = STW_more_bodies_is_good
    }
    
    relative_position_id = STW_military_shit
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_more_guns_is_good"
        add_tech_bonus = {
            name = STW_more_guns_is_good
            bonus = 1.0
            uses = 2
            category = land_doctrine
        }
        custom_effect_tooltip = available_theorist
        show_ideas_tooltip = STW_military_theorist_2
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_better_guns_is_good
    icon = GFX_goal_generic_military_sphere
    
    x = 0
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 25
    }
    
    prerequisite = {
        focus = STW_more_guns_is_good
    }
    
    prerequisite = {
        focus = STW_modern_military
    }
    
    relative_position_id = STW_more_guns_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_better_guns_is_good"
        add_tech_bonus = {
            name = STW_better_guns_is_good
            bonus = 1.0
            uses = 2
            category = infantry_weapons
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_support_weapons
    icon = GFX_goal_generic_army_artillery
    
    x = 2
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_more_guns_is_good
    }
    
    
    relative_position_id = STW_more_guns_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_support_weapons"
        add_tech_bonus = {
            name = STW_support_weapons
            bonus = 1.0
            uses = 2
            category = military_police_tech
            category = hospital_tech
            category = logistics_tech
            category = signal_company_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_medium_tanks
    icon = GFX_focus_generic_license_production
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_support_weapons
    }
    prerequisite = {
        focus = STW_better_guns_is_good
    }
    
    relative_position_id = STW_better_guns_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_medium_tanks"
        add_tech_bonus = {
            name = STW_medium_tanks
            bonus = 1.0
            uses = 2
            category = armor
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_special_forces
    icon = GFX_goal_generic_special_forces
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_more_guns_is_good
    }
    
    relative_position_id = STW_more_guns_is_good
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_special_forces"
        add_ideas = STW_spec_ops
        add_tech_bonus = {
            name = STW_special_forces
            bonus = 1.0
            uses = 2
            category = special_forces_tech
        }
    }
    search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_modern_magical_arms
    icon = GFX_goal_magical_weapon_focus
    
    x = 0
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    prerequisite = {
        focus = STW_griff_tech
    }
    prerequisite = {
        focus = STW_radar
    }
    prerequisite = {
        focus = STW_new_guns_n_shit
    }
    
    relative_position_id = STW_griff_tech

    available = {
        OR = {
            is_in_faction_with = BRZ
            is_subject_of = BRZ
            BRZ = { is_subject_of = ROOT }
        }
    }
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_modern_magical_arms"
        BRZ = {
            country_event = {
                id = strawberry.100
                hours = 2
            }
        }
        custom_effect_tooltip = if_they_accept
        effect_tooltip = {
            add_tech_bonus = {
                name = STW_modern_magical_arms
                bonus = 1.0
                uses = 2
                category = magical_tech
            }
            add_resource = {
                type = crystals
                amount = 10
                state = 545
            }
            BRZ = {
                add_tech_bonus = {
                    name = STW_modern_magical_arms
                    bonus = 1.0
                    uses = 2
                    category = magical_tech
                }
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

#What are planes, we have wings

shared_focus = {
    id = STW_modernise_airfields
    icon = GFX_goal_generic_air_production
    
    x = 69
    y = 0
    offset = {
        x = -20
        y = 0
        trigger = {
            has_focus_tree = stw_imperial_commie
        }
    }
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_modernise_airfields"
        443 = {
            add_building_construction = {
                type = air_base
                level = 3
                instant_build = yes
            }
        }
        486 = {
            add_building_construction = {
                type = air_base
                level = 3
                instant_build = yes
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}


shared_focus = {
    id = STW_hire_new_officers
    icon = GFX_goal_generic_air_doctrine
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_modernise_airfields
    
    prerequisite = {
        focus = STW_modernise_airfields
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_hire_new_officers"
        custom_effect_tooltip = available_chief_of_airforce
        show_ideas_tooltip = STW_bomber_griff
        custom_effect_tooltip = available_chief_of_airforce
        show_ideas_tooltip = STW_fighter_griff
        custom_effect_tooltip = available_military_high_command
        show_ideas_tooltip = STW_ground_support_griff
        custom_effect_tooltip = available_military_high_command
        show_ideas_tooltip = STW_safty_griff
    }
}

shared_focus = {
    id = STW_refresh_doctrine
    icon = GFX_goal_generic_build_airforce
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_modernise_airfields
    
    prerequisite = {
        focus = STW_modernise_airfields
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_refresh_doctrine"
        add_tech_bonus = {
            name = STW_refresh_doctrine
            bonus = 1.0
            uses = 2
            category = air_doctrine
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}


shared_focus = {
    id = STW_anti_planes_planes_focus
    icon = GFX_goal_generic_air_fighter
    
    x = 0
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    mutually_exclusive = {
        focus = STW_bomb_it_to_shit_focus
    }
    relative_position_id = STW_refresh_doctrine
    
    prerequisite = {
        focus = STW_refresh_doctrine
    }
    prerequisite = {
        focus = STW_hire_new_officers
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_anti_planes_planes_focus"
        add_tech_bonus = {
            name = STW_anti_planes_planes_focus
            bonus = 1.0
            uses = 1
            category = light_fighter
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}


shared_focus = {
    id = STW_bomb_it_to_shit_focus
    icon = GFX_goal_generic_air_bomber
    
    x = -2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    mutually_exclusive = {
        focus = STW_anti_planes_planes_focus
    }
    relative_position_id = STW_refresh_doctrine
    
    prerequisite = {
        focus = STW_refresh_doctrine
    }
    prerequisite = {
        focus = STW_hire_new_officers
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_bomb_it_to_shit_focus"
        add_tech_bonus = {
            name = STW_bomb_it_to_shit_focus
            bonus = 1.0
            uses = 1
            category = tactical_bomber
            category = cat_strategic_bomber
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_plane_developement
    icon = GFX_goal_generic_occupy_start_war
    
    x = -1
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_refresh_doctrine
    
    prerequisite = {
        focus = STW_bomb_it_to_shit_focus
        focus = STW_anti_planes_planes_focus
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_plane_developement"
        add_tech_bonus = {
            name = STW_plane_developement
            bonus = 1.0
            uses = 1
            category = tactical_bomber
            category = cat_strategic_bomber
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_anti_planes_bullets #anti air
    icon = GFX_goal_anti_air
    
    x = 1
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_refresh_doctrine
    
    prerequisite = {
        focus = STW_bomb_it_to_shit_focus
        focus = STW_anti_planes_planes_focus
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    # cancel_if_invalid = yes
    # continue_if_invalid = no
    # available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_anti_planes_bullets"
        add_tech_bonus = {
            name = STW_anti_planes_bullets
            bonus = 1.0
            uses = 2
            category = cat_anti_air
        }
        443 = {
            add_building_construction = {
                type = anti_air_building
                level = 2
                instant_build = yes
            }
        }
        486 = {
            add_building_construction = {
                type = anti_air_building
                level = 2
                instant_build = yes
            }
        }
    }
    search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_close_air_support
    icon = GFX_goal_generic_CAS
    
    x = -3
    y = 2
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_refresh_doctrine
    
    prerequisite = {
        focus = STW_bomb_it_to_shit_focus
        focus = STW_anti_planes_planes_focus
    }
    
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_close_air_support"
        add_tech_bonus = {
            name = STW_close_air_support
            bonus = 1.0
            uses = 1
            category = cas_bomber
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_more_fields
    icon = GFX_goal_generic_air_production
    
    x = 1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_plane_developement
    
    prerequisite = {
        focus = STW_close_air_support
    }
    prerequisite = {
        focus = STW_anti_planes_bullets
    }
    prerequisite = {
        focus = STW_plane_developement
    }
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_more_fields"
        add_ideas = STW_more_fields_idea
    }
    search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
    id = STW_more_planes
    icon = GFX_goal_generic_air_fighter2
    
    x = -1
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_plane_developement
    
    prerequisite = {
        focus = STW_close_air_support
    }
    prerequisite = {
        focus = STW_anti_planes_bullets
    }
    prerequisite = {
        focus = STW_plane_developement
    }
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_more_planes"
        add_ideas = STW_more_planes_idea
    }
}

shared_focus = {
    id = STW_valschermtroepen
    icon = GFX_focus_generic_paratrooper
    
    x = 0
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_more_fields
    
    prerequisite = {
        focus = STW_more_fields
    }
    prerequisite = {
        focus = STW_more_planes
    }
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_valschermtroepen"
        add_tech_bonus = {
            name = STW_valschermtroepen
            bonus = 1.0
            uses = 1
            category = para_tech
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
    id = STW_rakettekes
    icon = GFX_focus_rocketry
    
    x = -2
    y = 1
    
    
    cost = 5

    ai_will_do = {
        factor = 10
    }
    
    
    relative_position_id = STW_more_fields
    
    prerequisite = {
        focus = STW_more_fields
    }
    prerequisite = {
        focus = STW_more_planes
    }
    # select_effect = {
    # }

    # bypass = {
    # }

    cancel_if_invalid = yes
    continue_if_invalid = no
    available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus STW_rakettekes"
        add_tech_bonus = {
            name = STW_rakettekes
            bonus = 1.0
            uses = 2
            category = rocketry
        }
    }
    search_filters = { FOCUS_FILTER_RESEARCH }
}