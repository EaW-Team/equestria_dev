is_equestria_souhwest_state = {
	set_temp_variable = { state_num = THIS }
	any_of_scopes = {
		array = EQS.EQS_south_west_states
		
		check_variable = { THIS = state_num }
	}
}

is_equestria_northwest_state = {
	set_temp_variable = { state_num = THIS }
	any_of_scopes = {
		array = EQS.EQS_north_west_states
		
		check_variable = { THIS = state_num }
	}
}

is_equestria_northeast_state = {
	set_temp_variable = { state_num = THIS }
	any_of_scopes = {
		array = EQS.EQS_north_east_states
		
		check_variable = { THIS = state_num }
	}
}

is_equestria_southeast_state = {
	set_temp_variable = { state_num = THIS }
	any_of_scopes = {
		array = EQS.EQS_south_east_states
		
		check_variable = { THIS = state_num }
	}
}

is_equestria_center_state = {
	set_temp_variable = { state_num = THIS }
	any_of_scopes = {
		array = EQS.EQS_central_states
		
		check_variable = { THIS = state_num }
	}
}
EQS_HIP_is_valid_seller = {
	HIP = {
		exists = yes
		OR = {
			has_government = democratic
			has_country_flag = HIP_coalition_government
		}
		has_opinion = {
			target = EQS
			value > 50
		}
	}
}

EQS_valid_trade_target = {
	any_country = {
		exists = yes
			has_government = democratic
		has_opinion = {
			target = EQS
			value > 50
		}
	}
}

EQS_valid_target_for_war_report = {
	if = {
		limit = {
			has_government = democratic
		}
		has_defensive_war = yes
	}
	else_if = {
		limit = {
			original_tag = CCN
		}
		has_war_with = CHN
	}	
	else_if = {
		limit = {
			OR = {
				original_tag = OLE
				original_tag = PNG
				original_tag = PLB
				original_tag = MCW
				original_tag = FAT
			}
		}
		has_government = neutrality
		has_defensive_war = yes
	}
	else = {
		always = no
	}
}

EQS_valid_target_for_smile_operations = {
	if = {
		limit = {
			original_tag = CHN
		}
		OR = {
			has_war_with = CCN
			has_war_with = OLE
		}
	}
	else_if = {
		limit = {
			OR = {
				original_tag = OLE
				original_tag = PNG
				original_tag = PLB
				original_tag = CRY
				original_tag = BUF
			}
		}
		has_government = fascism
		has_offensive_war = yes
	}
	else_if = {
		limit = {
			OR = {
				original_tag = WNG
			}
		}
		has_government = fascism
		has_war_with = ROOT
	}
	else_if = {
		limit = {
			OR = {
				original_tag = JAK
				original_tag = GRF
			}
		}
		OR = {
			has_government = fascism
			has_government = neutrality
		}
		has_war = yes
	}
	else_if = {
		limit = {
			original_tag = STG
		}
		has_country_leader = {
			character = STG_sinister_serov
			ruling_only = yes
		}
		has_offensive_war = yes
	}
	else = {
		always = no
	}
}
is_equestrian_ally = {
	is_in_faction_with = EQS
	NOT = {
		original_tag = EQS
	}
}