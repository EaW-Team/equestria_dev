# Decision Triggers

MGY_CanTakeGranaryDecision_trigger = {
	OR = {
		has_political_power > MGY_GranaryOfZebricaCost_var
		has_political_power = MGY_GranaryOfZebricaCost_var
	}
	OR = {
		has_manpower > MGY_GranaryOfZebricaManpower_var
		has_manpower = MGY_GranaryOfZebricaManpower_var
	}
}

MGY_CanTakeGranaryDecisionBig_trigger = {
	OR = {
		has_political_power > MGY_GranaryOfZebricaCost_var
		has_political_power = MGY_GranaryOfZebricaCost_var
	}
	OR = {
		has_manpower > MGY_GranaryOfZebricaManpowerBig_var
		has_manpower = MGY_GranaryOfZebricaManpowerBig_var
	}
}

MGY_CanSellGrainToCountry_trigger = {
	custom_trigger_tooltip = {
		tooltip = MGY_CanSellGrainToCountry_trigger_tt
		FROM = {
				exists = yes
			}
			NOT = {
				has_war_with = FROM
			}
			NOT = {
				is_embargoed_by = FROM
			}
			NOT = {
				is_embargoing = FROM
		}
	}
}

# Royal Diet Triggers

MGY_RoyalDiet_isInCoalition_trigger = { # Check if faction is in a coalition
	custom_trigger_tooltip = {
		tooltip = MGY_RoyalDiet_isInCoalition_tt
		check_variable = {
			MGY_RoyalDiet_coalition_array^MGY_RoyalDiet_targetFaction_tempvar = 2
		}
	}
}

MGY_RoyalDiet_isLeading_trigger = { # Check if faction is leading
	custom_trigger_tooltip = {
		tooltip = MGY_RoyalDiet_isLeading_tt
		check_variable = {
			MGY_RoyalDiet_coalition_array^MGY_RoyalDiet_targetFaction_tempvar = 3
		}
	}
}

MGY_RoyalDiet_zebricanistsInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 0
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_zebricanistsInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 0
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_labourInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 1
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_labourInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 1
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_moderatesInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 2
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_moderatesInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 2
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_reformistsInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 3
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_reformistsInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 3
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_traditionalistsInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 4
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_traditionalistsInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 4
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_royalistsInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 5
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_royalistsInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 5
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_agrariansInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 6
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_agrariansInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 6
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_reactionariesInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 7
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_reactionariesInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 7
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_nationalistsInCoalition_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 8
	}
	MGY_RoyalDiet_isInCoalition_trigger = yes
}

MGY_RoyalDiet_nationalistsInLeading_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 8
	}
	MGY_RoyalDiet_isLeading_trigger = yes
}

MGY_RoyalDiet_isSupportive_trigger = { # Check if faction is already supporting the next vote
	custom_trigger_tooltip = {
		tooltip = MGY_RoyalDiet_isSupportive_tt
		check_variable = {
			MGY_RoyalDiet_support_array^MGY_RoyalDiet_targetFaction_tempvar = 1
		}
	}
}

MGY_RoyalDiet_zebricanistSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 0
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_labourSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 1
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_moderatesSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 2
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_reformistsSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 3
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_traditionalistsSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 4
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_royalistsSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 5
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_agrariansSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 6
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_reactionariesSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 7
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_nationalistsSupportive_trigger = { 
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 8
	}
	MGY_RoyalDiet_isSupportive_trigger = yes
}

MGY_RoyalDiet_atLeastOneFavour_trigger = { # Checks if the faction has at least ONE favour
	custom_trigger_tooltip = {
		tooltip = MGY_RoyalDiet_atLeastOneFavour_tt
		check_variable = {
			MGY_RoyalDiet_favors_array^MGY_RoyalDiet_targetFaction_tempvar > 0
		}
	}
}

MGY_RoyalDiet_zebricanistFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 0
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_labourFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 1
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_moderatesFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 2
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_reformistsFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 3
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_traditionalistsFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 4
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_royalistsFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 5
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_agrariansFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 6
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_reactionariesFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 7
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}

MGY_RoyalDiet_nationalistsFavour_trigger = {
	set_temp_variable = {
		MGY_RoyalDiet_targetFaction_tempvar = 8
	}
	MGY_RoyalDiet_atLeastOneFavour_trigger = yes
}