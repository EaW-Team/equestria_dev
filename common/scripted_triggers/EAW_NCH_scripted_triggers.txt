NCH_miracle_charges = { #requires 1 miracle per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req
		check_variable = { NCH_sunderer_charges > 0 }
	}
}
NCH_miracle_charges_2 = { #requires 2 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_2
		check_variable = { NCH_sunderer_charges > 1 }
	}
}
NCH_miracle_charges_3 = { #requires 3 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_3
		check_variable = { NCH_sunderer_charges > 2 }
	}
}

NCH_miracle_charges_4 = { #requires 4 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_4
		check_variable = { NCH_sunderer_charges > 3 }
	}
}
NCH_miracle_charges_5 = { #requires 5 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_5
		check_variable = { NCH_sunderer_charges > 4 }
	}
}
NCH_miracle_charges_7 = { #requires 7 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_7
		check_variable = { NCH_sunderer_charges > 6 }
	}
}
NCH_miracle_charges_10 = { #requires 10 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_10
		check_variable = { NCH_sunderer_charges > 9 }
	}
}

sunderer_button_t1_trigger_0 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m1_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M1_cd
				value = 0
			}
		}
	}
}
sunderer_button_t1_trigger_1 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	has_war_support < 0.25
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m3_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M3_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_2 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m2_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M2_cd
				value = 0
			}
		}
	}
}
sunderer_button_t1_trigger_3 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m4_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M4_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_4 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m5_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M5_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_5 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m6_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M6_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_6 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m7_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M7_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_7 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m8_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M8_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_0 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt	
		NOT = {
			has_country_flag = NCH_sunderer_on_the_field
		}
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M1_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_1 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m2_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M2_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_2 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m3_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M3_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_3 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m4_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M4_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_4 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m5_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M5_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_5 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m6_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M6_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_6 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m7_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M7_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_7 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m8_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M8_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_8 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m9_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M9_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_9 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m10_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M10_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_10 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m11_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M11_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_11 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m12_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M12_cd
				value = 0
			}
		}
	}
}

sunderer_button_t3_prereq_0 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		BAR = {
			all_core_state = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
		}

	}
}
sunderer_button_t3_prereq_1 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		415 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_2 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		439 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_3 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		251 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_4 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		custom_trigger_tooltip = {
			tooltip = NCH_control_aris_island_tt
			683 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			1202 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			686 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			685 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			1164 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			1204 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			1203 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
			1165 = {
				owner = {
					OR = {
						AND = {
							tag = NCH
							is_fully_controlled_by = NCH
						}
						THIS = {
							is_subject_of = NCH
						}
					}
				}
			}
		}
		
	}
}

sunderer_button_t3_prereq_5 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		1071 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_6 = {
	if = {
		limit = {
			NOT = { has_country_flag = NCH_tier2_miracles_unlocked }
		}
		custom_trigger_tooltip = {
			tooltip = NCH_t3_unlock_t2_first	
			has_country_flag = NCH_tier2_miracles_unlocked
		}
	}
	else = {
		68 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
		3 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
		5 = {
			owner = {
				OR = {
					AND = {
						tag = NCH
						is_fully_controlled_by = NCH
					}
					THIS = {
						is_subject_of = NCH
					}
				}
			}
		}
	}
}