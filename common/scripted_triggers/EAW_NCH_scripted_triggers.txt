NCH_miracle_charges = { #requires 1 miracle per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req
		check_variable = { NCH_sunderer_charges > 0 }
	}
}
NCH_miracle_charges_2 = { #requires 2 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_2
		check_variable = { NCH_sunderer_charges > 1 }
	}
}
NCH_miracle_charges_3 = { #requires 3 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_3
		check_variable = { NCH_sunderer_charges > 2 }
	}
}

NCH_miracle_charges_4 = { #requires 4 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_4
		check_variable = { NCH_sunderer_charges > 3 }
	}
}
NCH_miracle_charges_5 = { #requires 5 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_5
		check_variable = { NCH_sunderer_charges > 4 }
	}
}
NCH_miracle_charges_7 = { #requires 7 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_7
		check_variable = { NCH_sunderer_charges > 6 }
	}
}
NCH_miracle_charges_10 = { #requires 10 miracles per cast
	custom_trigger_tooltip = {
		tooltip = NCH_sunderer_charge_req_10
		check_variable = { NCH_sunderer_charges > 9 }
	}
}

sunderer_button_t1_trigger_0 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m1_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M1_cd
				value = 0
			}
		}
	}
}
sunderer_button_t1_trigger_1 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	has_war_support < 0.25
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m3_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M3_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_2 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m2_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M2_cd
				value = 0
			}
		}
	}
}
sunderer_button_t1_trigger_3 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m4_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M4_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_4 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m5_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M5_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_5 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m6_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M6_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_6 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m7_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M7_cd
				value = 0
			}
		}
	}
}

sunderer_button_t1_trigger_7 = {
	has_completed_focus = NCH_tempering_the_excesses
	NCH_miracle_charges = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t1m8_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T1M8_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_0 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt	
		NOT = {
			has_country_flag = NCH_sunderer_on_the_field
		}
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M1_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_1 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m2_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M2_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_2 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m3_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M3_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_3 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m4_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M4_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_4 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m5_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M5_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_5 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_2 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m6_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M6_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_6 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m7_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M7_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_7 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m8_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M8_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_8 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m9_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M9_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_9 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m10_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M10_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_10 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_4 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m11_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M11_cd
				value = 0
			}
		}
	}
}

sunderer_button_t2_trigger_11 = {
	has_country_flag = NCH_tier2_miracles_unlocked
	NCH_miracle_charges_3 = yes
	custom_trigger_tooltip = {
		tooltip = NCH_active_spell_trigger_tt		
		NOT = { has_idea = NCH_t2m12_idea }
	}
	custom_trigger_tooltip = {
		tooltip = NCH_spell_cooldown_tt	
		NOT = { 
			has_country_flag = {
				flag = NCH_T2M12_cd
				value = 0
			}
		}
	}
}

sunderer_button_t3_prereq_0 = {
	BAR = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = BAR }
				BAR = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_1 = {
	DED = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = DED }
				DED = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_2 = {
	GRI = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = GRI }
				GRI = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_3 = {
	CHN = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = CHN }
				CHN = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_4 = {
	HIP = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = HIP }
				HIP = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_5 = {
	KIR = {
		OR = {
			is_subject_of = NCH
			AND = {
				NOT = { country_exists = KIR }
				KIR = {
					all_core_state = {
						is_owned_and_controlled_by = NCH
					}
				}
			}
		}
	}
}

sunderer_button_t3_prereq_6 = {
	if = {
		limit = {
			country_exists = EQS
		}
		EQS = {
			OR = {
				is_subject_of = NCH
				AND = {
					NOT = { country_exists = EQS }
					EQS = {
						all_core_state = {
							is_owned_and_controlled_by = NCH
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			country_exists = SOL
		}
		SOL = {
			OR = {
				is_subject_of = NCH
				AND = {
					NOT = { country_exists = SOL }
					SOL = {
						all_core_state = {
							is_owned_and_controlled_by = NCH
						}
					}
				}
			}
		}
	}
	if = {
		limit = {
			country_exists = NLR
		}
		NLR = {
			OR = {
				is_subject_of = NCH
				AND = {
					NOT = { country_exists = NLR }
					NLR = {
						all_core_state = {
							is_owned_and_controlled_by = NCH
						}
					}
				}
			}
		}
	}
}