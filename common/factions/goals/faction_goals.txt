#category = short_term medium_term or long_term


faction_goal_a_large_faction = {
	name = a_large_faction_goal_name
	description = a_large_faction_goal_desc
	category = medium_term
	completed = {
		num_faction_members > 14
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
	}
}

faction_goal_guardians_of_peace = {
	name = guardians_of_peace_goal_name
	description = guardians_of_peace_goal_desc
	category = short_term
	completed = {
		date > 1938.12.31
		has_war = no
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
	}
}
faction_goal_the_atomic_race = {
	name = the_atomic_race_goal_name
	description = the_atomic_race_goal_desc
	category = long_term
	completed = {
		custom_override_tooltip = {
			tooltip = the_atomic_race_complete_trigger
			has_variable = global.first_country_sp_nuclear_bomb
			var:global.first_country_sp_nuclear_bomb = {
				is_in_faction_with = ROOT
			}
		}
	}
	cancel = {
		custom_override_tooltip = {
			tooltip = the_atomic_race_complete_trigger
			has_variable = global.first_country_sp_nuclear_bomb
			not = {
				var:global.first_country_sp_nuclear_bomb = {
					is_in_faction_with = ROOT
				}
			}
		}
	}
	complete_effect = {	
		add_faction_power_projection = 1000
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						faction_influence_rank < 4
					}
				}
				
				name = INFLUENCE_TOP_THREE
			}
			#custom_effect_tooltip = INFLUENCE_TOP_THREE
			add_faction_initiative = 1
			add_breakthrough_progress = {
				specialization = specialization_nuclear
				value = 0.25
			} 
		}
	}
}
faction_goal_a_call_to_arms = {
	name = a_call_to_arms_goal_name
	description = a_call_to_arms_goal_desc
	category = short_term
	completed = {
		ROOT = {
			has_war = yes 
		}
		any_allied_country = {
			NOT = { tag = ROOT }
			has_war = yes 
			is_subject = no
		}
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
	}
}


faction_goal_preemptive_strike_on_fascism = {
	name = preemptive_strike_on_fascism_goal_name
	description = preemptive_strike_on_fascism_goal_desc
	category = short_term
	completed = {
		ROOT = {
			has_offensive_war = yes
		}
		any_enemy_country = {
			has_government = fascism
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}

	}
}

faction_goal_a_great_fortress = {
	name = a_great_fortress_goal_name
	description = a_great_fortress_goal_desc
	category = medium_term
	completed = {
		OR = {
			ROOT = {
				has_tech = coastal_fort_tech_2
				has_tech = land_fort_tech_2
			}
			any_allied_country = {
				has_tech = coastal_fort_tech_2
				has_tech = land_fort_tech_2
			}
			count_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION_NAME
				}
				buildings = { bunker coastal_bunker}
				size > 29
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			limit = {
				NOT = { has_idea = deterrence }
			}
			add_timed_idea = {
				idea = deterrence
				days = 180
			}
		}

	}
}

faction_goal_aggressive_defense = {
	name = aggressive_defense_goal_name
	description = aggressive_defense_goal_desc
	category = medium_term
	completed = {
		ROOT = {
			has_war = yes 
			longest_war_length > 6
		}
		collection_size = {
			input = {
				input = collection:faction_owned_core_states
				operators = {
					limit = {
						NOT = { is_controlled_by_ROOT_or_ally = yes }
					}
				}
				name = COLLECTION_AMOUNT_OF_COMMUNIST_CONTROLLED_STATES_SAME_CONTINENT
			}
			value < 1
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}

	}
}


faction_goal_war_on_communism = {
	name = war_on_communism_goal_name
	description = war_on_communism_goal_desc
	category = medium_term
	completed = {
		ROOT = {
			any_enemy_country = {
				has_government = communism
				is_on_same_continent_as = ROOT
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_war_support = 5
		}
	}
}





faction_goal_a_military_base = {
	name = a_military_base_goal_name
	description = a_military_base_goal_desc
	category = medium_term
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_MILS
			visible_when_empty = yes 
			limit = {
				num_of_military_factories > 49
			}
			add_faction_initiative = 1
		}
		
	}
}


### CUSTOM FACTION GOALS

#########################################

### #  # ###      ##  #   #   ### ###  ## 
 #  #  # #       #  # #   #    #  #   #   
 #  #### ##      #### #   #    #  ##   #  
 #  #  # #       #  # #   #    #  #     # 
 #  #  # ###     #  # ### ### ### ### ## 

 ######################################## 

faction_goal_the_arteries_of_trade = {
	name = the_arteries_of_trade_goal_name
	description = the_arteries_of_trade_goal_desc
	category = short_term
	completed = {
		count_triggers = {
			amount = 10
			has_naval_control = 43
			has_naval_control = 49
			has_naval_control = 51
			has_naval_control = 56
			has_naval_control = 57
			has_naval_control = 68
			has_naval_control = 29
			has_naval_control = 69
			has_naval_control = 72
			has_naval_control = 100
			has_naval_control = 104
			has_naval_control = 71
			has_naval_control = 60	
			has_naval_control = 48
			has_naval_control = 61
			has_naval_control = 62
		}
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
	}
}

faction_goal_rule_the_waves = {
	name = rule_the_waves_goal_name
	description = rule_the_waves_goal_desc
	category = medium_term
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
		    }
			unit = capital_ship
			size > 99
		}
	}
	complete_effect = {
		add_faction_power_projection = 300
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = INFLUENCE_TOP_TWO
		every_faction_member = {
			limit = { faction_influence_rank < 3}
			add_faction_initiative = 1
			
		}
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			random_character = {
				tooltip = ONE_ADMIRAL	
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes 
				}
				gain_xp = 400
				add_coordination = 1
			}
			custom_effect_tooltip = "TODO: Add Mastery to Capital ships track"
			add_mastery = {
				amount = 100
				track = capital_ships
			}
		}
	}
}

faction_goal_imperial_glory = {
	name = imperial_glory_goal_name
	description = imperial_glory_goal_desc
	category = short_term
	completed = {
		ROOT = { longest_war_length > 36 }
		count_triggers = {
			amount = 3 # Add triggers to count below
			
			1021 = { is_controlled_by_ROOT_or_ally = yes } # Singapore
			118 = { is_controlled_by_ROOT_or_ally = yes } # Gibraltar
			116 = { is_controlled_by_ROOT_or_ally = yes } # Malta
			IF = {
				limit = { 286 = { OWNER ={ is_in_faction_with = ROOT } } }
				286 = { is_controlled_by_ROOT_or_ally = yes } # Saigon if France joins
			}
			IF = {
				limit = { 335 = { OWNER ={ is_in_faction_with = ROOT } } }
				335 = { is_controlled_by_ROOT_or_ally = yes } # East Indies
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						owns_any_state_of = {
							 1021
							 118
							 116
							 286
							 335
						}
					}
				}
				
				name = OWNS_LISTED_STATE
			}
			custom_effect_tooltip = OWNS_LISTED_STATE
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.05
		}
	}
}



# China

faction_goal_control_the_chinese_coast = {
	name = control_the_chinese_coast_goal_name
	description = control_the_chinese_coast_goal_desc
	category = short_term
	completed = {
		has_war = yes 
		any_enemy_country = {
			war_length_with = {
				tag = ROOT
				months > 36
			}
		}	
		count_triggers = {
			amount = 5
			1033 = { is_controlled_by_ROOT_or_ally = yes }
			592 = {	is_controlled_by_ROOT_or_ally = yes }
			593 = {	is_controlled_by_ROOT_or_ally = yes }
			595 = {	is_controlled_by_ROOT_or_ally = yes }
			596 = {	is_controlled_by_ROOT_or_ally = yes }
			613 = {	is_controlled_by_ROOT_or_ally = yes }
			1034 = { is_controlled_by_ROOT_or_ally = yes }
			598 = {	is_controlled_by_ROOT_or_ally = yes }
			597 = {	is_controlled_by_ROOT_or_ally = yes }
		}
		
	}
	cancel = {
		NOT = {
			count_triggers = {
				amount = 5
				1033 = { is_controlled_by_ROOT_or_ally = yes }
				592 = {	is_controlled_by_ROOT_or_ally = yes }
				593 = {	is_controlled_by_ROOT_or_ally = yes }
				595 = {	is_controlled_by_ROOT_or_ally = yes }
				596 = {	is_controlled_by_ROOT_or_ally = yes }
				613 = {	is_controlled_by_ROOT_or_ally = yes }
				1034 = { is_controlled_by_ROOT_or_ally = yes }
				598 = {	is_controlled_by_ROOT_or_ally = yes }
				597 = {	is_controlled_by_ROOT_or_ally = yes }
			}
		}
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			army_experience = 50 
			add_war_support = 0.05
		}
	}
}

faction_goal_industrial_expansion = {
	name = industrial_expansion_goal_name
	description = industrial_expansion_goal_desc
	category = medium_term
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_CIVS
			visible_when_empty = yes 
			limit = {
				num_of_civilian_factories > 49
			}
			add_faction_initiative = 1
		}
		
		
	}
}


faction_goal_guerilla_expansion = {
	name = guerilla_expansion_goal_name
	description = guerilla_expansion_goal_desc
	category = short_term
	completed = {
		custom_trigger_tooltip = {
			tooltip = GUERILLA_TOTAL_ABOVE_THRESHOLD
			check_variable = { global.guerilla_counter > 4 }
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						check_variable = { THIS.guerilla_counter > 2 }
					}
				}
				
				name = GUERILLA_ABOVE_THRESHOLD
			}
			custom_effect_tooltip = GUERILLA_ABOVE_THRESHOLD
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.2
		}
	}
}

faction_goal_dominating_the_chinese_waters = {
	name = dominating_the_chinese_waters_goal_name
	description = dominating_the_chinese_waters_goal_desc
	category = medium_term
	completed = {
		custom_trigger_tooltip = {
			tooltip = "TODO: Add trigger for checking enemy dominance in the yellow sea, east china sea amd south china sea"
			always = no # TODO add collection, I guess 
		}
		has_war_with_major = yes 

		
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			army_experience = 50 
		}
	}
}

faction_goal_subjugate_the_faction = {
	name = faction_goal_subjugate_the_faction_name
	description = faction_goal_subjugate_the_faction_desc
	category = long_term
	completed = {
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						is_subject_of = ROOT # Should be checking faction leader
					}
				}
				name = COLLECTION_AMOUNT_OF_SUBJECTS_TO_FACTION_LEADER
			}
			value > 7
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			add_war_support = 0.15
			every_unit_leader = {
				add_timed_unit_leader_trait = {
					trait = motivated
					days = 270
				}
			}
		}
	}
}


# faction_goal_no_japanese_in_china = {
# 	name = faction_goal_no_japanese_in_china_name
# 	description = faction_goal_no_japanese_in_china_desc
# 	category = long_term
# 	completed = {
# 		collection_size = {
# 			input = {
# 				input = collection:china_potential_core_mainland_states
#				#input = game:all_states
# 				operators = {
# 					limit = {
# 						OR = {
# 							controller = { is_in_faction_with = JAP }
# 							is_controlled_by = JAP
# 						}
# 					}
# 				}
# 				name = COLLECTION_NO_JAPANESE_IN_CHINA
# 			}
# 				value = 0 
# 		}
# 	}
# 	complete_effect = {
		
# 		add_faction_power_projection = 100
# 		every_collection_element = {
# 			input = {
# 				input = game:scope
# 				operators =  { 
# 					faction_members 
# 					limit = {
# 						faction_influence_ratio > 0.3
# 					}
# 				}
# 				name = INFLUENCE_ABOVE_30_PERCENT
# 			}
# 			add_faction_influence_ratio = 0.1
# 		}
# 	}
# }

# faction_goal_the_northern_mandate = {
# 	name = faction_goal_the_northern_mandate_name
# 	description = faction_goal_the_northern_mandate_desc
# 	category = short_term
# 	ratio_progress = {
# 		total_amount_collection = collection:the_northern_mandate_states
# 		completed_amount_collection = {
# 			input = collection:the_northern_mandate_states
# 			operators = {
# 				limit = {
# 					is_controlled_by_ROOT_or_ally = yes
# 				}
# 			}
# 			name = COLLECTION_FACTION_CONTROLS_NORTHERN_MANDATE
# 		}
# 	}
# 	auto_complete = yes
# 	complete_effect = {
# 		add_faction_power_projection = 50
# 		every_state = {
# 			limit = {
# 				CHI_northern_mandate_states = yes
# 			}
# 			add_dynamic_modifier = {
# 				modifier = NORDIC_efficient_resource_extraction
# 			}
# 		}
# 	}
# }

# faction_goal_the_southern_mandate = {
# 	name = faction_goal_the_southern_mandate_name
# 	description = faction_goal_the_southern_mandate_desc
# 	category = short_term
# 	ratio_progress = {
# 		total_amount_collection = collection:the_southern_mandate_states
# 		completed_amount_collection = {
# 			input = collection:the_southern_mandate_states
# 			operators = {
# 				limit = {
# 					is_controlled_by_ROOT_or_ally = yes
# 				}
# 			}
# 			name = COLLECTION_FACTION_CONTROLS_SOUTHERN_MANDATE
# 		}
# 	}
# 	complete_effect = {
# 		add_faction_power_projection = 50
# 		every_state = {
# 			limit = {
# 				CHI_southern_mandate_states = yes
# 			}
# 			add_dynamic_modifier = {
# 				modifier = NORDIC_efficient_resource_extraction
# 			}
# 		}
# 	}
# }

# faction_goal_the_greater_game = {
# 	name = faction_goal_the_greater_game_name
# 	description = faction_goal_the_greater_game_desc
# 	category = short_term
# 	ratio_progress = {
# 		total_amount_collection = collection:the_greater_game_states
# 		completed_amount_collection = {
# 			input = collection:the_greater_game_states
# 			operators = {
# 				limit = {
# 					is_controlled_by_ROOT_or_ally = yes
# 				}
# 			}
# 			name = COLLECTION_FACTION_CONTROLS_GREATER_GAME
# 		}
# 	}
# 	complete_effect = {
# 		add_faction_power_projection = 50
# 		every_state = {
# 			limit = {
# 				CHI_greater_game_states = yes
# 			}
# 			add_dynamic_modifier = {
# 				modifier = NORDIC_efficient_resource_extraction
# 			}
# 		}
# 	}
# }

# Axis Goals





faction_goal_an_armored_fist = {
	name = an_armored_fist_goal_name
	description = an_armored_fist_goal_desc
	category = short_term
	completed = {
		
		count_in_collection = {
			collection = {
			    input = game:scope
			    operators = { faction_members }
			    name = FACTION
			}
			unit = armor
			size > 50
		}
		
		
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 200
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50 
			random_character = {
				tooltip = ONE_PANZER_GENERAL	
				visible_when_empty = yes
				limit = {
					is_unit_leader = yes 
					OR = {
						has_trait = panzer_leader
						has_trait = panzer_expert 
					}
				}
				gain_xp = 400
				add_attack = 1
			}
		}
	}
}

faction_goal_an_infantry_army = {
	name = an_infantry_army_goal_name
	description = an_infantry_army_goal_desc
	category = short_term
	completed = {
	
		count_in_collection = {
		    collection = {
		        input = game:scope
		        operators = { faction_members }
		        name = FACTION
		    }
		   unit = infantry
		   size > 500
		}
		
		
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 200
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50 
			random_character = {
				tooltip = ONE_INFANTRY_GENERAL
				visible_when_empty = yes
				limit = {
					is_unit_leader = yes 
					OR = {
						has_trait = infantry_leader
						has_trait = infantry_expert 
					}
				}
				gain_xp = 400
				add_logistics = 1
			}
		}
	}
}

faction_goal_high_seas_fleet = {
	name = high_seas_fleet_goal_name
	description = high_seas_fleet_goal_desc
	category = short_term
	completed = {
		has_war_with_major = yes 
		NOT = { has_enemy_naval_control = 49 }
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			navy_experience = 50 
		}
	}
}

 ###  ##  ###   ##  #  # 
   # #  # #  # #  # ## # 
   # #### ###  #### # ## 
#  # #  # #    #  # #  # 
 ##  #  # #    #  # #  # 


# Align China
# faction_goal_align_china = {
# 	name = align_china_goal_name
# 	description = align_china_goal_desc
# 	category = long_term
# 	completed = {
# 		collection_size = {
# 			input = {
# 				input = collection:countries_china
# 				operators = {
# 					limit = {
# 						exists = yes 
# 						has_capitulated = no
# 						NOT = { is_subject_of = ROOT }
# 					}
# 				}
# 				name = COLLECTION_UNCAPITULATED_INDEPENDENT_CHINESE_COUNTRIES
# 			}
# 			value < 3
# 		}
# 	}
# 	complete_effect = {
		
# 		add_faction_power_projection = 300
# 		every_collection_element = {
# 			input = {
# 				input = game:scope
# 				operators =  { 
# 					faction_members 
# 					limit = {
# 						faction_influence_ratio > 0.3
# 					}
# 				}
				
# 				name = INFLUENCE_ABOVE_30_PERCENT
# 			}
# 			custom_effect_tooltip = INFLUENCE_ABOVE_30_PERCENT
# 			add_faction_initiative = 1
# 		}
# 	}
# }

# faction_goal_control_the_chinese_capitals = {
# 	name = control_the_chinese_capitals_goal_name
# 	description = control_the_chinese_capitals_goal_desc
# 	category = short_term
# 	completed = {
# 		608 = { is_controlled_by_ROOT_or_ally = yes }
# 		1035 = { is_controlled_by_ROOT_or_ally = yes }
# 		592 = { is_controlled_by_ROOT_or_ally = yes }
# 	}
# 	complete_effect = {
# 		add_faction_initiative = 1
# 		add_faction_power_projection = 100
# 		every_collection_element = {
# 			input = {
# 				input = game:scope
# 				operators =  { 
# 					faction_members 
# 				}
				
# 				name = ALL_FACTION_MEMBERS
# 			}
# 			custom_effect_tooltip = ALL_FACTION_MEMBERS
# 			army_experience = 50 
# 		}
# 	}
# }

faction_goal_war_on_communism_in_asia = {
	name = war_on_communism_in_asia_goal_name
	description = war_on_communism_in_asia_goal_desc
	category = short_term
	completed = {
		collection_size = {
			input = {
				input = collection:communist_countries_asia
				operators = {
					limit = {
						exists = yes 
						has_capitulated = no 
						NOT = { has_war_with = ROOT }
					}
				}
				name = COLLECTION_WAR_WITH_COMMUNIST_COUNTRIES_ASIA
			}
			value < 1
		}
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}
				
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			add_war_support = 0.05
		}
	}
}


faction_goal_coastal_security = {
	name = coastal_security_goal_name
	description = coastal_security_goal_desc
	category = short_term
	completed = {
		has_naval_control = 90
		has_naval_control = 79
		has_naval_control = 77
		has_naval_control = 76
		has_naval_control = 75
		has_naval_control = 73
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 500
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
				}	
				name = ALL_FACTION_MEMBERS
			}
			custom_effect_tooltip = ALL_FACTION_MEMBERS
			navy_experience = 50
		}
	}
}

faction_goal_secure_the_oil_supply = {
	name = secure_the_oil_supply_goal_name
	description = secure_the_oil_supply_goal_desc
	category = medium_term
	completed = {
		
		has_resources_in_collection = {
			collection = {
					input = game:scope
					operators =  { faction_members }
					name = FACTION
			}
			resource = oil
			amount > 199
		}
	}
	complete_effect = {
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						has_resources_in_country = {
							resource = oil
							amount > 69
						}
					}
				}
				
				name = AT_LEAST_70_OIL
			}
			custom_effect_tooltip = AT_LEAST_70_OIL
			add_faction_influence_ratio = 0.15
		}
	}
}

#  #  ##  ##  
#  # #   #  # 
#  #  #  #### 
#  #   # #  # 
 ##  ##  #  # 

faction_goal_contain_japanese_expansion_asia = {
	name = contain_japanese_expansion_asia_goal_name
	description = contain_japanese_expansion_asia_goal_desc
	category = medium_term
	completed = {
		date > 1942.1.1
		JAP = {
			IF = {
				limit = {
					is_in_faction = no
				}
				collection_size = {
					input = {
						input = collection:country_and_all_subjects_controlled_non_core_states
						name = COLLECTION_OCCUPIED_STATES_BY_JAPAN_OR_FACTION_MEMBERS
					}
					value < 20
				}
			}
			ELSE = {
				collection_size = {
					input = {
						input = collection:faction_controlled_non_core_states
						name = COLLECTION_OCCUPIED_STATES_BY_JAPAN_OR_FACTION_MEMBERS
					}
					value < 20
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = "TODO fix when possible"
			always = yes 
		}
		
	}
	complete_effect = {
		
		add_faction_power_projection = 100
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members 
					limit = {
						faction_influence_ratio > 0.3
					}
				}
				
				name = INFLUENCE_ABOVE_30_PERCENT
			}
			custom_effect_tooltip = INFLUENCE_ABOVE_30_PERCENT
			add_faction_initiative = 1
		}
	}
}

 ##  ##  #   # ### ### ###     #  # #  # ###  ##  #  # 
#   #  # #   #  #  #    #      #  # ## #  #  #  # ## # 
 #  #  #  # #   #  ##   #      #  # # ##  #  #  # # ## 
  # #  #  # #   #  #    #      #  # #  #  #  #  # #  # 
##   ##    #   ### ###  #       ##  #  # ###  ##  #  # 


faction_goal_indifference_is_a_threat = {
	name = indifference_is_a_threat_goal_name
	description = indifference_is_a_threat_goal_desc
	category = medium_term
	completed = {
		collection_size = {
			input = {
				input = collection:europe_non_aligned_countries
				name = COLLECTION_COUNTRIES_EUROPE_NON_ALIGNED
			}
			value < 3
		}
		
	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_political_power = 50
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
	}
}


# faction_goal_undoing_brest_litowsk = {
# 	name = undoing_brest_litowsk_goal_name
# 	description = undoing_brest_litowsk_goal_desc
# 	category = medium_term
# 	completed = {
# 		count_triggers = {
# 			amount = 4
# 			OR = {
# 				LIT = { exists = no }
# 				LIT = { is_in_faction_with = ROOT }
# 			}
# 			OR = {
# 				LAT = { exists = no }
# 				LAT = { is_in_faction_with = ROOT }
# 			}
# 			OR = {
# 				EST = { exists = no }
# 				EST = { is_in_faction_with = ROOT }
# 			}
# 			OR = {
# 				POL = { exists = no }
# 				POL = { is_in_faction_with = ROOT }
# 			}
# 			OR = {
# 				FIN = { exists = no }
# 				FIN = { is_in_faction_with = ROOT }
# 			}
# 		}
		
# 	}
# 	complete_effect = {
# 		add_faction_power_projection = 500
# 		custom_effect_tooltip = generic_skip_one_line_tt
# 		custom_effect_tooltip = THE_FACTION_LEADER
# 		add_faction_initiative = 1
		
# 		custom_effect_tooltip = ALL_FACTION_MEMBERS
# 		every_faction_member = {
# 			army_experience = 50
# 		}
# 	}
# }  

faction_goal_production_quotas = {
	name = production_quotas_goal_name
	description = production_quotas_goal_desc
	category = short_term
	completed = {
		
		custom_trigger_tooltip = {
			tooltip = "TODO Count faction Equipment - tanks - Infantry EQ - Planes"
			check_variable = { ROOT.num_equipment@infantry_equipment > 1000}
		}
		
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = INFLUENCE_ABOVE_30_PERCENT
		every_faction_member = {
			limit = { faction_influence_ratio > 0.3}
			add_faction_initiative = 1
		}
		
	}
}

# faction_goal_iron_curtain = {
# 	name = iron_curtain_goal_name
# 	description = iron_curtain_goal_desc
# 	category = long_term
# 	completed = {
# 		count_triggers = {
# 				amount = 6
				
# 			POL = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			ROM = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			HUN = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			CZE = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			BUL = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			GRE = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			YUG = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 			TUR = {
# 				is_subject_of = ROOT
# 				is_in_faction_with = ROOT
# 			}
# 		}			
# 	}
# 	complete_effect = {
# 		add_faction_power_projection = 1000
# 		custom_effect_tooltip = generic_skip_one_line_tt
# 		custom_effect_tooltip = INFLUENCE_ABOVE_30_PERCENT
# 		every_faction_member = {
# 			limit = { faction_influence_ratio > 0.3}
# 			add_political_power = 200
# 			add_faction_initiative = 1
# 		}
# 	}
# }

faction_goal_the_red_tide = {
	name = the_red_tide_goal_name
	description = the_red_tide_goal_desc
	category = medium_term
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			manpower = yes
			size > 10000000
		}
	}
	complete_effect = {
		add_faction_power_projection = 250
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = HAS_DEPLOYED_AT_LEAST_5M_MANPOWER
		every_faction_member = {
			limit = {	
				check_variable = { deployed_army_manpower_k	> 5000 }		
			}
			hidden_effect = {
				add_faction_influence_ratio = 0.05
				army_experience = 50
			} 
		}
		effect_tooltip = {
			add_faction_influence_ratio = 0.05
			army_experience = 50 
		}	
	}
}

faction_goal_stall_the_fascist_threat = {
	name = stall_the_fascist_threat_goal_name
	description = stall_the_fascist_threat_goal_desc
	category = short_term
	completed = {
		date > 1939.1.1
		SPR = { NOT = { has_government = fascism } }
		NOT = { has_global_flag = scw_over }
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = { army_experience = 50 }
	}
}
