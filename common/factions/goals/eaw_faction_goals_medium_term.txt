
faction_goal_control_canterlot = {
	name = control_canterlot_goal_name
	description = control_canterlot_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = CHN
			original_tag = CRY
			original_tag = HIP
		}
	}
	visible = {
		has_government = fascism
	}
	available = {
		3 = { is_controlled_by_ROOT_or_ally = no }
	}

	completed = {
		3 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				controls_state = 3
			}
			visible_when_empty = yes
			add_faction_initiative = 1
		}
	}
}

faction_goal_control_stalliongrad = {
	name = control_stalliongrad_goal_name
	description = control_stalliongrad_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = EQS
			original_tag = JAK
		}
	}
	visible = {
		has_government = fascism
	}
	available = {
		153 = { is_controlled_by_ROOT_or_ally = no }
	}

	completed = {
		153 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				controls_state = 153
			}
			visible_when_empty = yes
			add_faction_initiative = 1
		}
	}
}

faction_goal_control_aris = {
	name = control_aris_goal_name
	description = control_aris_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = CTH
			original_tag = BAT
			original_tag = HIE
		}
	}
	visible = {
		has_government = fascism
	}
	available = {
		1165 = { is_controlled_by_ROOT_or_ally = no }
	}

	completed = {
		1165 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				controls_state = 1165
			}
			visible_when_empty = yes
			add_faction_initiative = 1
		}
	}
}

faction_goal_control_vermilion = {
	name = control_vermilion_goal_name
	description = control_vermilion_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		original_tag = KXN
	}
	visible = {
		has_government = fascism
	}
	available = {
		1059 = { is_controlled_by_ROOT_or_ally = no }
	}

	completed = {
		1059 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				controls_state = 1059
			}
			visible_when_empty = yes
			add_faction_initiative = 1
		}
	}
}

faction_goal_avenge_978 = {
	
	name = faction_goal_avenge_978_name
	description = faction_goal_avenge_978_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = GRI
			original_tag = BRZ
			original_tag = FEA
			original_tag = STW
			original_tag = PYT
			original_tag = ROU
			original_tag = YAL
			original_tag = ANG
			original_tag = KAT
		}
	}
	visible = {
		is_subject = no
	}

	completed = {
		485 = { is_owned_by = ROOT }
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				owns_state = 485
			}
			visible_when_empty = yes
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.1
		}
	}
}

faction_goal_free_griffenheim = {
	
	name = faction_goal_free_griffenheim_name
	description = faction_goal_free_griffenheim_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = FAT
			original_tag = FAW
		}
	}
	available = {

	}

	completed = {
		382 = { is_owned_by = ROOT }
	}

	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			limit = {
				owns_state = 382
			}
			visible_when_empty = yes
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.1
		}
	}
}


faction_goal_unite_hindia = {
	
	name = faction_goal_unite_hindia_name
	description = faction_goal_unite_hindia_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		OR = {
			original_tag = CTL
			original_tag = SAM
			original_tag = HIN
			original_tag = BRS
		}
	}
	available = {
		OR = {
			CTL_is_an_olenian_nation = yes
			CTL_is_a_hindian_nation = yes
		}
	}

	completed = {
		CTL = {
			all_core_state = {
				is_owned_and_controlled_by_ROOT_or_ally = yes
			}
		}
		SAM = {
			all_core_state = {
				is_owned_and_controlled_by_ROOT_or_ally = yes
			}
		}
		HIN = {
			all_core_state = {
				is_owned_and_controlled_by_ROOT_or_ally = yes
			}
		}
		BRS = {
			all_core_state = {
				is_owned_and_controlled_by_ROOT_or_ally = yes
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
}

faction_goal_unite_the_peripherie = {

	name = faction_goal_unite_the_peripherie_name
	description = faction_goal_unite_the_peripherie_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	visible = {
		ROOT = {
			OR = {
				original_tag = TRD
				original_tag = FEZ
				original_tag = AET
				original_tag = HEL
				original_tag = AVI
				original_tag = POM
				original_tag = FLO
				original_tag = ERI
				original_tag = EYR
			}
		}
	}
	completed = {
		count_triggers = {
			amount = 6
			TRD = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			FEZ = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			AET = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			HEL = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			AVI = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			POM = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			FLO = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
			ERI = {
				all_core_state = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 250
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
}

faction_goal_unite_northern_equus = {
	
	name = faction_goal_unite_northern_equus_name
	description = faction_goal_unite_northern_equus_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	visible = {
		ROOT = {
			OR = {
				original_tag = PNG
				original_tag = GRF
				original_tag = GFF
				original_tag = PLB
				original_tag = YAK
				original_tag = JAK
			}
		}
	}
	completed = {
		PNG = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		GRF = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		GFF = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		PLB = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		YAK = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		JAK = {
			all_core_state = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
}

faction_goal_equestrian_coastal_security = {
	name = faction_goal_equestrian_coastal_security_name
	description = faction_goal_equestrian_coastal_security_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = EQS
				original_tag = NLR
			}
		}
	}
	completed = {
		has_naval_control = 19
		has_naval_control = 17
		has_naval_control = 4
		has_naval_control = 130
		has_naval_control = 7
		has_naval_control = 3
		has_naval_control = 9
	}
	complete_effect = {
		add_faction_initiative = 1
		add_faction_power_projection = 500
		every_faction_member = {
			tooltip = ALL_FACTION_MEMBERS
			visible_when_empty = yes
			navy_experience = 50
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 4 # Mid game prio
			date > 1011.1.1
		}
	}
}

# Generics

faction_goal_secure_the_iron_mines = {
	name = faction_goal_secure_the_iron_mines_name
	description = faction_goal_secure_the_iron_mines_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
	}
	completed = {
		has_resources_in_collection = {
			collection = {
					input = game:scope
					operators =  { faction_members }
					name = FACTION
			}
			resource = steel
			amount > 399
		}
	}
	complete_effect = {

		every_faction_member = { 
			tooltip = AT_LEAST_100_STEEL
			visible_when_empty = yes
			limit = {
				has_resources_in_country = {
					resource = steel
					amount > 99
				}
			}
			add_faction_initiative = 1
			add_faction_influence_ratio = 0.15
			add_tech_bonus = {
				name = secure_the_oil_supply_tech_bonus
				bonus = 0.75
				uses = 1
				category = excavation_tech
			}
		}
		
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 9 # Mid game prio
			date > 1012.1.1
		}
	}
}