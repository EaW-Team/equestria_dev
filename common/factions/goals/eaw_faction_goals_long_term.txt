faction_goal_defeat_the_empire = {
	name = defeat_the_empire_name
	description = defeat_the_empire_desc
	category = long_term
	group = FOCUS_FILTER_ANNEXATION

	allowed = {
		is_griffon_continent_country = yes
		NOT = {
			original_tag = GRI
			original_tag = BRZ
			original_tag = FEA
			original_tag = ANG
			original_tag = KAT
			original_tag = PYT
			original_tag = ROU
			original_tag = YAL
			original_tag = STW
		}
	}

	completed = {
		
		GRD = {
			OR = {
				is_in_faction_with = ROOT
				has_capitulated = yes
				exists = no
				is_subject_of = ROOT 
			}
		}

	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = { 
			tooltip = INFLUENCE_TOP_THREE
			visible_when_empty = yes
			limit = {
				faction_influence_rank < 4
			}
			add_political_power = 100
		}

	}
}

faction_goal_topple_the_hegemony = {
	name = faction_goal_topple_the_hegemony_name
	description = faction_goal_topple_the_hegemony_desc
	category = long_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		OR = {
			is_equestrian_continent_country = yes
			original_tag = EQC
		}
	}
	completed = {
		ROOT = {
			has_war_with = CHN
			longest_war_length > 6
		}
		collection_size = {
			input = {
				input = collection:greater_equestrian_territories
				operators = {
					limit = {
						OR = {
							controller = { is_in_faction_with = CHN }
							is_controlled_by = CHN
						}
					}
				}
				name = COLLECTION_NO_CHANGELINGS_IN_EQUUS
			}
			value = 0 
		}
	}
	complete_effect = {
		add_faction_power_projection = 500
		every_faction_member = { 
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
			add_political_power = 100
		}
	}
}

faction_goal_control_southern_griffonia = {
	name = faction_goal_control_southern_griffonia_name
	description = faction_goal_control_southern_griffonia_desc
	category = short_term
	group = FOCUS_FILTER_ANNEXATION
	
	allowed = {
		OR = {
			original_tag = WNG
			original_tag = FAL
			original_tag = TAL
			original_tag = FRN
			original_tag = ARA
			original_tag = SIC
			original_tag = CYA
			original_tag = MIT
		}
	}
	visible = {
		is_subject = no
	}
	
	completed = {
		count_triggers = {
			amount = 6
			WNG = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			FAL = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			TAL = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			FRN = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			ARA = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			SIC = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			CYA = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
			MIT = {
				all_core_state = {
					is_owned_by = ROOT
				}
			}
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = THE_FACTION_LEADER
		add_war_support = 0.05		
		
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}

	}
}
faction_goal_defeat_of_extremists = {
	name = defeat_of_extremists_goal_name
	description = defeat_of_extremists_goal_desc
	category = long_term
	group = FOCUS_FILTER_CONSOLIDATION
	visible = {
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
				name = FACTION
			}
			value < 1
		}
	}
	available = {

	}
	completed = {
		collection_size = {
			input = {
				input = collection:extremist_controlled_states_my_continent
				name = COLLECTION_STATES_MY_CONTINENT_CONTROLLED_COMMUNIST_FASCIST
			}
			value < 1
		}
		
	}
	complete_effect = {
		add_faction_power_projection = 500
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			visible_when_empty = yes
			add_popularity = {
				ideology = fascism
				popularity = -0.1
			}
			add_popularity = {
				ideology = communism
				popularity = -0.1
			}
			add_political_power = 100
		}
	}
	ai_will_do = {
		base = 0
		modifier = { 
			add = 1 # If war with communists you probably hate them
			any_enemy_country = {
				has_government = communism
			}
		}
		modifier = { 
			add = 1 # If war with fascists you probably hate them
			any_enemy_country = {
				has_government = fascism
			}
		}
	}
}
