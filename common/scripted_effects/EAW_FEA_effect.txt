FEA_lingering_effects_improvement = {
	custom_effect_tooltip = FEA_improve_lingering_tt
	hidden_effect = {
		add_to_variable = { FEA_in_freefall_pp_gain_var = 0.025 }
		add_to_variable = { FEA_in_freefall_factory_output_var = 0.025 }
		add_to_variable = { FEA_in_freefall_prod_eff_max_var = 0.04 }
		add_to_variable = { FEA_in_freefall_prod_eff_gain_var = 0.04 }
		add_to_variable = { FEA_in_freefall_consumer_goods_var = 0.025 }
		add_to_variable = { FEA_in_freefall_construction_speed_var = 0.025 }
	}
}
FEA_improve_legal_ideas = {
	if = {
		limit = {
			OR = {
				has_idea = FEA_incompatible_laws_3
				has_idea = FEA_federalization_woes_3
			}
		}
		if = {
			limit = {
				has_idea = FEA_incompatible_laws_3
			}
			swap_ideas = {
				remove_idea = FEA_incompatible_laws_3
				add_idea = FEA_incompatible_laws_2
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_federalization_woes_3
				add_idea = FEA_federalization_woes_2
			}
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = FEA_incompatible_laws_2
				has_idea = FEA_conflicting_legal_codes_2
				has_idea = FEA_federalization_woes_2
			}
		}
		if = {
			limit = {
				has_idea = FEA_incompatible_laws_2
			}
			swap_ideas = {
				remove_idea = FEA_incompatible_laws_2
				add_idea = FEA_incompatible_laws_1
			}
		}
		else_if = {
			limit = {
				has_idea = FEA_conflicting_legal_codes_2
			}
			swap_ideas = {
				remove_idea = FEA_conflicting_legal_codes_2
				add_idea = FEA_conflicting_legal_codes_1
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_federalization_woes_2
				add_idea = FEA_federalization_woes_1
			}
		}
	}
	else = {
		if = {
			limit = {
				has_idea = FEA_incompatible_laws_1
			}
			remove_ideas = FEA_incompatible_laws_1
		}
		else_if = {
			limit = {
				has_idea = FEA_conflicting_legal_codes_1
			}
			remove_ideas = FEA_conflicting_legal_codes_1
		}
		else = {
			remove_ideas = FEA_federalization_woes_1
		}
	}
}
FEA_improve_corruption_ideas = {
	if = {
		limit = {
			OR = {
				has_idea = FEA_paralyzing_corruption_3
				has_idea = FEA_systemic_corruption_3
			}
		}
		if ={
			limit = {
				has_idea = FEA_paralyzing_corruption_3
			}
			swap_ideas = {
				remove_idea = FEA_paralyzing_corruption_3
				add_idea = FEA_paralyzing_corruption_2
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_systemic_corruption_3
				add_idea = FEA_systemic_corruption_2
			}
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = FEA_paralyzing_corruption_2
				has_idea = FEA_systemic_corruption_2
			}
		}
		if = {
			limit = {
				has_idea = FEA_paralyzing_corruption_2
			}
			swap_ideas = {
				remove_idea = FEA_paralyzing_corruption_2
				add_idea = FEA_paralyzing_corruption_1
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_systemic_corruption_2
				add_idea = FEA_systemic_corruption_1
			}
		}
	}
	else = {
		if = {
			limit = {
				has_idea = FEA_paralyzing_corruption_1
			}
			remove_ideas = FEA_paralyzing_corruption_1
		}
		else = {
			remove_ideas = FEA_systemic_corruption_1
		}	
	}
}
FEA_improve_social_ideas = {
	if = {
		limit = {
			has_idea = FEA_widespread_wariness_4
		}
		swap_ideas = {
			remove_idea = FEA_widespread_wariness_4
			add_idea = FEA_widespread_wariness_3
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = FEA_widespread_wariness_3
				has_idea = FEA_unhappy_radicals_3
				has_idea = FEA_rampant_animosity_3
			}
		}
		if = {
			limit = {
				has_idea = FEA_widespread_wariness_3
			}
			swap_ideas = {
				remove_idea = FEA_widespread_wariness_3
				add_idea = FEA_widespread_wariness_2
			}
		}
		else_if = {
			limit = {
				has_idea = FEA_unhappy_radicals_3
			}
			swap_ideas = {
				remove_idea = FEA_unhappy_radicals_3
				add_idea = FEA_unhappy_radicals_2
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_rampant_animosity_3
				add_idea = FEA_rampant_animosity_2
			}
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = FEA_widespread_wariness_2
				has_idea = FEA_unhappy_radicals_2
				has_idea = FEA_rampant_animosity_2
			}
		}
		if = {
			limit = {
				has_idea = FEA_widespread_wariness_2
			}
			swap_ideas = {
				remove_idea = FEA_widespread_wariness_2
				add_idea = FEA_widespread_wariness_1
			}
		}
		else_if = {
			limit = {
				has_idea = FEA_unhappy_radicals_2
			}
			swap_ideas = {
				remove_idea = FEA_unhappy_radicals_2
				add_idea = FEA_unhappy_radicals_1
			}
		}
		else = {
			swap_ideas = {
				remove_idea = FEA_rampant_animosity_2
				add_idea = FEA_rampant_animosity_1
			}
		}
	}

	else = {
		if = {
			limit = {
				has_idea = FEA_widespread_wariness_1
			}
			remove_ideas = FEA_widespread_wariness_1
		}
		else_if = {
			limit = {
				has_idea = FEA_unhappy_radicals_1
			}
			remove_ideas = FEA_unhappy_radicals_1
		}
		else = {
			remove_ideas = FEA_rampant_animosity_1
		}
	}
}

FEA_check_if_cw_won = {
	if = {
		limit = {
			check_variable = {
				FEA_pvda_control_variable > 3
			}
			NOT = {
				has_country_flag = FEA_civil_war_over
			}
		}
		hidden_effect = {
			set_country_flag = FEA_civil_war_over
			country_event = {
				id = feathisia_cw.9
				days = 7
			}
		}
	}
	else_if = {
		limit = { 
			check_variable = {
				FEA_fnv_control_variable > 3
			}
			NOT = {
				has_country_flag = FEA_civil_war_over
			}
		}
		hidden_effect = {
			set_country_flag = FEA_civil_war_over
			country_event = {
				id = feathisia_cw.10
				days = 7
			}
		}
	}
}

FEA_improve_overextended_government = {
	if = {
		limit = {
			has_idea = FEA_overextended_government_1
		}
		swap_ideas = {
			remove_idea = FEA_overextended_government_1
			add_idea = FEA_overextended_government_2
		}
	}
	else_if = {
		limit = {
			has_idea = FEA_overextended_government_2
		}
		swap_ideas = {
			remove_idea = FEA_overextended_government_2
			add_idea = FEA_overextended_government_3
		}
	}
	else_if = {
		limit = {
			has_idea = FEA_overextended_government_3
		}
		swap_ideas = {
			remove_idea = FEA_overextended_government_3
			add_idea = FEA_overextended_government_4
		}
	}
	else_if = {
		limit = {
			has_idea = FEA_overextended_government_4
		}
		swap_ideas = {
			remove_idea = FEA_overextended_government_4
			add_idea = FEA_overextended_government_5
		}
	}
	else_if = {
		limit = {
			has_idea = FEA_overextended_government_5
		}
		swap_ideas = {
			remove_idea = FEA_overextended_government_5
			add_idea = FEA_overextended_government_6
		}
	}
	else = {
		remove_ideas = FEA_overextended_government_6
	}
}