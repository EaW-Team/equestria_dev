HLR_startup = {
	set_technology = {
		HLR_unique_knights = 1
	}

	426 = {
		add_dynamic_modifier = {
				modifier = HLR_bret_revanchism
		}
	}
}

HLR_armor_builder_effect = {
	meta_effect = {
		text = {
			create_equipment_variant = {
				name = [MODEL_NAME]
				type = [EQTYPE]

				upgrades = {
					HLR_buildable_cost = 1
					HLR_designer_armor_material_[MATERIAL_TYPE] = 1
					HLR_designer_armor_enchant_[ARMOR_ENCHANT] = 1
					HLR_designer_head_enchant_[HEADPIECE] = 1
					HLR_designer_wing_enchant_[WINGPIECE] = 1
				}
				icon = "gfx/interface/technologies/gwtank.dds"
			}
		}
		MODEL_NAME = "TEST MODEL"
		EQTYPE = "[This.HLR_getArmorType]"
		MATERIAL_TYPE = "[?HLR_armor_builder_material_type]"
		ARMOR_ENCHANT = "[?HLR_armor_builder_core_enchant]"
		HEADPIECE = "[?HLR_armor_builder_core_head_enchant]"
		WINGPIECE = "[?HLR_armor_builder_material_type]"
		debug = yes
	}
}

HLR_armor_builder_effect_no_meta = {
	create_equipment_variant = {
		name = "Griffon Armor"
		type = HLR_knight_armor_eq_0

		upgrades = {
			HLR_buildable_cost = 1
			HLR_designer_armor_material_1 = 0
			HLR_designer_armor_material_2 = 0
			HLR_designer_armor_material_3 = 0
			HLR_designer_armor_material_4 = 1

			HLR_designer_armor_enchant_1 = 0
			HLR_designer_armor_enchant_2 = 0
			HLR_designer_armor_enchant_3 = 0
			HLR_designer_armor_enchant_4 = 1
			HLR_designer_armor_enchant_5 = 0

			HLR_designer_head_enchant_1 = 0
			HLR_designer_head_enchant_2 = 1
			HLR_designer_head_enchant_3 = 0

			HLR_designer_wing_enchant_1 = 0
			HLR_designer_wing_enchant_2 = 1
			HLR_designer_wing_enchant_3 = 0

			HLR_designer_limb_enchant_1 = 0
			HLR_designer_limb_enchant_2 = 0
			HLR_designer_limb_enchant_3 = 1

			HLR_designer_special_enchant_1 = 0
			HLR_designer_special_enchant_2 = 1
			HLR_designer_special_enchant_3 = 1
			HLR_designer_special_enchant_4 = 0
			HLR_designer_special_enchant_5 = 1
			HLR_designer_special_enchant_6 = 1
		}
		icon = "gfx/interface/technologies/gwtank.dds"
	}
	create_equipment_variant = {
		name = "Pegasi Armor"
		type = HLR_pegasi_armor_eq_0
		upgrades = {
			HLR_buildable_cost = 1
			HLR_designer_armor_material_1 = 0
			HLR_designer_armor_material_2 = 0
			HLR_designer_armor_material_3 = 0
			HLR_designer_armor_material_4 = 1

			HLR_designer_armor_enchant_1 = 0
			HLR_designer_armor_enchant_2 = 0
			HLR_designer_armor_enchant_3 = 0
			HLR_designer_armor_enchant_4 = 0
			HLR_designer_armor_enchant_5 = 1

			HLR_designer_head_enchant_1 = 0
			HLR_designer_head_enchant_2 = 0
			HLR_designer_head_enchant_3 = 1

			HLR_designer_wing_enchant_1 = 1
			HLR_designer_wing_enchant_2 = 0
			HLR_designer_wing_enchant_3 = 0

			HLR_designer_limb_enchant_1 = 0
			HLR_designer_limb_enchant_2 = 1
			HLR_designer_limb_enchant_3 = 0

			HLR_designer_special_enchant_1 = 0
			HLR_designer_special_enchant_2 = 0
			HLR_designer_special_enchant_3 = 0
			HLR_designer_special_enchant_4 = 0
			HLR_designer_special_enchant_5 = 1
			HLR_designer_special_enchant_6 = 1
		}
		icon = "gfx/interface/technologies/gwtank.dds"
	}
}




HLR_vampire_threat_reduction = {
	if = {
		limit = {
			has_idea = HLR_vampiric_threat_max
		}
		swap_ideas = {
			remove_idea = HLR_vampiric_threat_max
			add_idea = HLR_vampiric_threat_high
		}
	}
	else_if = {
		limit = {
			has_idea = HLR_vampiric_threat_high
		}
		swap_ideas = {
			remove_idea = HLR_vampiric_threat_high
			add_idea = HLR_vampiric_threat_medium
		}
	}
	else_if = {
		limit = {
			has_idea = HLR_vampiric_threat_medium
		}
		swap_ideas = {
			remove_idea = HLR_vampiric_threat_medium
			add_idea = HLR_vampiric_threat_low
		}
	}
	else_if = {
		limit = {
			has_idea = HLR_vampiric_threat_low
		}
		swap_ideas = {
			remove_idea = HLR_vampiric_threat_low
			add_idea = HLR_vampiric_threat_negligible
		}
	}
	else_if = {
		limit = {
			has_idea = HLR_vampiric_threat_negligible
		}
		swap_ideas = {
			remove_idea = HLR_vampiric_threat_negligible
			add_idea = HLR_vampiric_threat_security
		}
	}
}
