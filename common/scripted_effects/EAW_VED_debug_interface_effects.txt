# This file contain the effects used by the debug interface

@MAX_DEBUG_TABS = 1 # Number of tabs - 1

# Function    : f_VED_debug_interface_update_display
# Description : Update the debug interface
# Inputs      : None
# Outputs     : None
f_VED_debug_interface_update_display = {
	add_to_variable = { VED_debug_interface_update = 1 }
}

# Function    : f_VED_debug_interface_setup
# Description : Setup variables for the debug interface
# Inputs      : None
# Outputs     : None
f_VED_debug_interface_setup = {
	# Content array
	clear_array = VED_debug_interface_content_array
	add_to_array = { VED_debug_interface_content_array = 0 }

	# Set the button tabs gridbox
	clear_array = VED_debug_interface_tab_button_array
	set_temp_variable = { t_nb_tabs = @MAX_DEBUG_TABS }
	add_to_temp_variable = { t_nb_tabs = 1 }
	for_loop_effect = {
		end = t_nb_tabs
		value = t_tab_index

		meta_effect = {
			text = {
				add_to_array = { VED_debug_interface_tab_button_array = token:VED_debug_interface_tab_text_[TAB_ID] }
			}
			TAB_ID = "[?t_tab_index]"
		}
	}
	# Current tab
	set_variable = { VED_debug_interface_current_tab = 0 }

	f_VED_debug_interface_update_display = yes
}

# Function    : f_VED_debug_interface_select_tab
# Description : Display the correct debug tabs
# Inputs      : i_tab_id - Indicate which debug tab to open
# Outputs     : None
f_VED_debug_interface_select_tab = {

	round_temp_variable = i_tab_id
	clamp_temp_variable = {
		var = i_tab_id
		min = 0
		max = @MAX_DEBUG_TABS
	}
	set_variable = { VED_debug_interface_current_tab = i_tab_id }
	f_VED_debug_interface_update_display = yes
}