NCH_spylevel_tooltip = {
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 1 compare = equals }
		}
		custom_effect_tooltip = NCH_spylevel_none_tt
	}
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 2 compare = equals }
		}
		custom_effect_tooltip = NCH_spylevel_weak_tt
	}
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 3 compare = equals }
		}
		custom_effect_tooltip = NCH_spylevel_strong_tt
	}
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 4 compare = equals }
		}
		custom_effect_tooltip = NCH_spylevel_total_tt
	}
}
NCH_spylevel_cost_calculation = {
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 1 compare = equals }
		}
		set_variable = { var = NCH_spylevel_cost value = 10 }
	}
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 2 compare = equals }
		}
		set_variable = { var = NCH_spylevel_cost value = 20 }
	}
	if = {
		limit = {
			check_variable = { var = NCH_spylevel value = 3 compare = equals }
		}
		set_variable = { var = NCH_spylevel_cost value = 30 }
	}
}


NCH_get_trading_idea = {
	hidden_effect = {
		remove_ideas = {
			NCH_trade_1
			NCH_trade_2
			NCH_trade_3
			NCH_trade_4
		}
	}
	if = {
		limit = {
			check_variable = { NCH_trade_partners_iter = 1 }
		}
		add_ideas = NCH_trade_1
	}
	else_if = {
		limit = {
			check_variable = { NCH_trade_partners_iter = 2 }
		}
		add_ideas = NCH_trade_2
	}
	else_if = {
		limit = {
			check_variable = { NCH_trade_partners_iter = 3 }
		}
		add_ideas = NCH_trade_3
	}
	else_if = {
		limit = {
			check_variable = { NCH_trade_partners_iter > 3 }
		}
		add_ideas = NCH_trade_4
	}
}

NCH_set_trade_in_partner = {
	remove_ideas = {
		NCH_trading_with_NCH_fascist
		NCH_trading_with_NCH_harmonic
	}
	remove_opinion_modifier = {
		modifier = NCH_negative_trading target = NCH
	}
	remove_opinion_modifier = {
		modifier = trading target = NCH
	}
	if = {
		limit = {
			NCH = {
				has_government = fascism
			}
		}
		add_ideas = NCH_trading_with_NCH_fascist
		add_opinion_modifier = { modifier = NCH_negative_trading target = NCH }

	}
	else = {
		add_ideas = NCH_trading_with_NCH_harmonic
		add_opinion_modifier = { modifier = trading target = NCH }
	}
	NCH = {
		add_to_variable = {
			var = NCH_trade_partners_iter
			value = 1
		}
		NCH_get_trading_idea = yes
	}
}