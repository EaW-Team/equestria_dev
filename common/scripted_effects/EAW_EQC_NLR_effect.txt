EQC_NLR_check_sour_level = {
	if = {
		limit = {
			check_variable = { EQC_NLR_soursweet_influence > 5 }
			NOT = {
				has_country_flag = EQC_NLR_sour_upgrade_2
			}
		}
		set_country_flag = EQC_NLR_sour_upgrade_2
		###Suri/Jet Set trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_soursweet_influence < 6 }
			has_country_flag = EQC_NLR_sour_upgrade_2
		}
		clr_country_flag = EQC_NLR_sour_upgrade_2
		###Suri/Jet Set trait change reverse
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_soursweet_influence > 8 }
			NOT = {
				has_country_flag = EQC_NLR_sour_upgrade_3
			}
		}
		set_country_flag = EQC_NLR_sour_upgrade_3
		add_to_variable = { EQC_NLR_soursweet_influence_visual = 1 }
		###sour country leader trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_soursweet_influence < 9 }
			has_country_flag = EQC_NLR_sour_upgrade_3
		}
		clr_country_flag = EQC_NLR_sour_upgrade_3
		subtract_from_variable = { EQC_NLR_soursweet_influence_visual = 1 }
		###sour country leader trait change reverse
	}
	add_to_variable = { EQC_NLR_shadowbolts_dirty = 0.01 }
}
EQC_NLR_check_flare_level = {
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence > 2 }
			NOT = {
				has_country_flag = EQC_NLR_flare_upgrade_1
			}
		}
		set_country_flag = EQC_NLR_flare_upgrade_1
		remove_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_1
		}
		add_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_2
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence < 3 }
			has_country_flag = EQC_NLR_flare_upgrade_1
		}
		clr_country_flag = EQC_NLR_flare_upgrade_1
		remove_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_2
		}
		add_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_1
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence > 5 }
			NOT = {
				has_country_flag = EQC_NLR_flare_upgrade_2
			}
		}
		set_country_flag = EQC_NLR_flare_upgrade_2
		###Upper Crust/Vignette trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence < 6 }
			has_country_flag = EQC_NLR_flare_upgrade_2
		}
		clr_country_flag = EQC_NLR_flare_upgrade_2
		###Upper Crust/Vignette trait change reverse
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence > 8 }
			NOT = {
				has_country_flag = EQC_NLR_flare_upgrade_3
			}
		}
		set_country_flag = EQC_NLR_flare_upgrade_3
		add_to_variable = { EQC_NLR_sunnyflare_influence_visual = 1 }
		remove_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_2
		}
		add_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_3
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sunnyflare_influence < 9 }
			has_country_flag = EQC_NLR_flare_upgrade_3
		}
		clr_country_flag = EQC_NLR_flare_upgrade_3
		remove_from_variable = { EQC_NLR_sunnyflare_influence_visual = 1 }
		remove_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_3
		}
		add_trait = {
			character = EQC_sunny_flare
			slot = political_advisor
			trait = sunny_flare_trait_2
		}
	}
	add_to_variable = { EQC_NLR_shadowbolts_dirty = 0.01 }
}
EQC_NLR_check_sugar_level = {
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence > 2 }
			NOT = {
				has_country_flag = EQC_NLR_sugar_upgrade_1
			}
		}
		set_country_flag = EQC_NLR_sugar_upgrade_1
		remove_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_1
		}
		add_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_2
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence < 3 }
			has_country_flag = EQC_NLR_sugar_upgrade_1
		}
		clr_country_flag = EQC_NLR_sugar_upgrade_1
		remove_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_2
		}
		add_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_1
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence > 5 }
			NOT = {
				has_country_flag = EQC_NLR_sugar_upgrade_2
			}
		}
		set_country_flag = EQC_NLR_sugar_upgrade_2
		###Juniper/Moondancer trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence < 6 }
			has_country_flag = EQC_NLR_sugar_upgrade_2
		}
		clr_country_flag = EQC_NLR_sugar_upgrade_2
		###Juniper/Moondancer trait change reverse
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence > 8 }
			NOT = {
				has_country_flag = EQC_NLR_sugar_upgrade_3
			}
		}
		set_country_flag = EQC_NLR_sugar_upgrade_3
		add_to_variable = { EQC_NLR_sugarcoat_influence_visual = 1 }
		remove_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_2
		}
		add_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_3
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_sugarcoat_influence < 9 }
			has_country_flag = EQC_NLR_sugar_upgrade_3
		}
		clr_country_flag = EQC_NLR_sugar_upgrade_3
		subtract_from_variable = { EQC_NLR_sugarcoat_influence_visual = 1 }
		remove_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_3
		}
		add_trait = {
			character = EQC_sugarcoat
			slot = political_advisor
			trait = sugarcoat_trait_2
		}
	}
	add_to_variable = { EQC_NLR_shadowbolts_dirty = 0.01 }
}
EQC_NLR_check_lemon_level = {
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence > 2 }
			NOT = {
				has_country_flag = EQC_NLR_lemon_upgrade_1
			}
		}
		set_country_flag = EQC_NLR_lemon_upgrade_1
		remove_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_1
		}
		add_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_2
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence < 3 }
			has_country_flag = EQC_NLR_lemon_upgrade_1
		}
		clr_country_flag = EQC_NLR_lemon_upgrade_1
		remove_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_2
		}
		add_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_1
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence > 5 }
			NOT = {
				has_country_flag = EQC_NLR_lemon_upgrade_2
			}
		}
		set_country_flag = EQC_NLR_lemon_upgrade_2
		###Postcrush trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence < 6 }
			has_country_flag = EQC_NLR_lemon_upgrade_2
		}
		clr_country_flag = EQC_NLR_lemon_upgrade_2
		###Postcrush trait change reverse
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence > 8 }
			NOT = {
				has_country_flag = EQC_NLR_lemon_upgrade_3
			}
		}
		set_country_flag = EQC_NLR_lemon_upgrade_3
		add_to_variable = { EQC_NLR_lemonzest_influence_visual = 1 }
		remove_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_2
		}
		add_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_3
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_lemonzest_influence < 9 }
			has_country_flag = EQC_NLR_lemon_upgrade_3
		}
		clr_country_flag = EQC_NLR_lemon_upgrade_3
		subtract_from_variable = { EQC_NLR_lemonzest_influence_visual = 1 }
		remove_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_3
		}
		add_trait = {
			character = EQC_lemon_zest
			slot = political_advisor
			trait = lemon_zest_trait_2
		}
	}
	add_to_variable = { EQC_NLR_shadowbolts_dirty = 0.01 }
}
EQC_NLR_check_indigo_level = {
	if = {
		limit = {
			check_variable = { EQC_NLR_indigozap_influence > 2 }
			NOT = {
				has_country_flag = EQC_NLR_indigo_upgrade_1
			}
		}
		set_country_flag = EQC_NLR_indigo_upgrade_1
		remove_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_1
		}
		add_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_2
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_indigozap_influence < 3 }
			has_country_flag = EQC_NLR_indigo_upgrade_1
		}
		clr_country_flag = EQC_NLR_indigo_upgrade_1
		remove_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_2
		}
		add_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_1
		}
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_indigozap_influence > 5 }
			NOT = {
				has_country_flag = EQC_NLR_indigo_upgrade_2
			}
		}
		set_country_flag = EQC_NLR_indigo_upgrade_2
		###Wallflower trait change
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_indigozap_influence < 6 }
			has_country_flag = EQC_NLR_indigo_upgrade_2
		}
		clr_country_flag = EQC_NLR_indigo_upgrade_2
		###Wallflower trait change reverse
	}
	if = {
		limit = {
			check_variable = { EQC_NLR_indigozap_influence < 9 }
			has_country_flag = EQC_NLR_indigo_upgrade_3
		}
		clr_country_flag = EQC_NLR_indigo_upgrade_3
		subtract_from_variable = { EQC_NLR_indigozap_influence_visual = 1 }
		remove_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_3
		}
		add_trait = {
			character = EQC_indigo_zap
			slot = air_chief
			trait = alt_air_air_combat_training_2
		}
	}
	add_to_variable = { EQC_NLR_shadowbolts_dirty = 0.01 }
}