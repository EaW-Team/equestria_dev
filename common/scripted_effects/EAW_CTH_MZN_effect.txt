MZN_ACT_CLEAR_ALL_ACT = {
	clr_country_flag = MZN_ACT_cabinet
	clr_country_flag = MZN_ACT_constitution_amendment
}

MZN_start_setting = {
	set_country_flag = MZN_CONSERVATIST_LEAD_FLAG
	set_variable = { MZN_MAP_E_var = 1 }
	set_variable = { MZN_MAP_N_var = 1 }
	set_variable = { MZN_MAP_R_C_var = 1 }
	set_variable = { MZN_MAP_S_var = 1 }
	set_variable = { MZN_MAP_W_var = 1 }

	set_variable = { MZN_RS_var = 0 }
	set_variable = { MZN_BC_var = 1 }

	set_variable = { MZN_SWP_var = 3 }

	set_variable = { MZN_PJDI_SC_attitude = 1 }
	set_variable = { MZN_PJDI_NA_attitude = 3 }
}

MZN_ECO_IMPROVE_SITUATION = {
	add_to_variable = {
				var = MZN_PCWE_resources_var
				value = 0.08
			}

			add_to_variable = {
				var = MZN_PCWE_research_var
				value = 0.18
			}

			add_to_variable = {
				var =  MZN_PCWE_building_speed_var
				value = 0.18
			}

			add_to_variable = {
				var = MZN_PCWE_goods_var
				value = -0.08
			}

			add_to_variable = {
				var = MZN_PCWE_trade_var
				value = 0.19
			}

			add_to_variable = {
				var = MZN_PCWE_production_efficiency_var
				value = 0.18
			}

			add_to_variable = {
				var = MZN_PCWE_max_efficiency_var
				value = 0.18
			}
}

MZN_democratic_stability_decrease_corruption = {
	if = {
		limit = {
			check_variable = {MZN_corruption_var > 60}
		}
		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = 0
		}

		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = MZN_corruption_var
		}

		multiply_variable = {
			var = MZN_corruption_var_calculation_var
			value = 0.33
		}

		round_variable = MZN_corruption_var_calculation_var

		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = MZN_corruption_var_calculation_var
		}

			
		}
}

MZN_group_of_three_active_check = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_democracy_institution_var > 40 }
				has_country_flag = MZN_group_of_three_flag
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}

	else_if = {
		limit = {
			AND = {
				NOT = {
					has_country_flag = MZN_group_of_three_flag
				}
				has_country_flag = MZN_group_of_three_eliminated_flag
			}
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}
}

MZN_constitution_amendment_check = {
	if = {
		limit = {
		and = {
			NOT = {
				has_country_flag = MZN_constitution_amendment_done
			}
			has_country_flag = MZN_constitution_amendment_promise_unfulfilled
		}
		}

		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_promise
		}

		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_finished
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 5
		}
	}

	else_if = {
		limit = {
			not = {
				or = {
					has_country_flag = MZN_constitution_amendment_finished
					has_country_flag = MZN_constitution_amendment_promise
					has_country_flag = MZN_constitution_amendment_promise_unfulfilled
				}
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}
}

MZN_ACTS_CHECK = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = var_MZN_ACT_DIS
	}

	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = var_MZN_ACT_IEF
	}

	add_to_variable = {
		var = MZN_corruption_var
		value = var_MZN_ACT_C
	}
}

MZN_SCALE_CKECK = {
	if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 3
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 3
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 1
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 2
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 4
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_DEMOCRACY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 5
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_DEMOCRACY_DIS_COST
	}
	}
}

MZN_DECREASE_FROM_SCALE_BLANCE_COST = {
	add_to_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = 1
	}
}

MZN_SET_SCALE = {
	set_variable = {
		var = MZN_scale_balance_var
		value = 3
	}
	set_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = -3
	}
	set_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = -1
	}
	set_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	set_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = -1
	}
}
##F(index) = [��MF/2*CF���C I ( MF * 1/2 �C CF ) /50 I ]* 0.6
MZN_CEDCC_CHECK = {

##example 17MF 13CF
			set_variable = { 
			var = MZN_CEDCC_CHECK_FC 
			value = CTH.num_of_civilian_factories 
			}
#13
			set_variable = { 
			var = MZN_CEDCC_CHECK_FM 
			value = CTH.num_of_military_factories 
			}
#17 = FM
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = CTH.num_of_military_factories 
			}
#13
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_2
			value = CTH.num_of_civilian_factories
			}
#17
			multiply_variable = {
			var = MZN_CEDCC_CHECK_FC
			value = 2 
			}
#26 = FC
			divide_variable = {
			var = MZN_CEDCC_CHECK_FM 
			value = MZN_CEDCC_CHECK_FC
			}
#0.65 = FM
			divide_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = 2
			}
#8.5 = AD1
			subtract_from_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = MZN_CEDCC_CHECK_ADJUST_2
			}
#-4.5 = AD1
			divide_variable =  {
			var = MZN_CEDCC_CHECK_ADJUST_1
			value = 50
			}
#0.09 = AD1
			if = {
				limit = {
					check_variable = { MZN_CEDCC_CHECK_ADJUST_1<0 }
				}
				multiply_variable = { 
				var = MZN_CEDCC_CHECK_ADJUST_1 
				value = -1 
				}
			}
#0.09 = AD1
			subtract_from_variable = { 
			var = MZN_CEDCC_CHECK_FM
			value = MZN_CEDCC_CHECK_ADJUST_1
			}

			set_variable = { 
			var = MZN_INDEX_CEDCC 
			value = MZN_CEDCC_CHECK_FM
			}

			multiply_variable = {
				var = MZN_INDEX_CEDCC
				value = 0.6
			}

			if = {
				limit = {
					check_variable = { MZN_INDEX_CEDCC < 0 }
				}
				set_variable = {
					var = MZN_INDEX_CEDCC 
					value = 0
				}
			}

			set_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = -0.3
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = 0.6
			}
			CTH = {
			add_dynamic_modifier = { modifier = MZN_CTH_CEDDC }
			}
}

	MZN_recource_output_check = {
	set_variable = {
		var = MZN_RO_stability_factor 
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_stability_factor 
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_war_support_factor
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_war_support_factor
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_research_speed_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_research_speed_factor_var
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_political_power_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_political_power_var
		value = 0.02
	}

	set_variable = {
		var = MZN_RO_trade_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_trade_var
		value = 0.05
	}

	set_variable = {
		var = MZN_RO_local_resources_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_local_resources_factor_var
		value = 0.04
	}

	set_variable = {
		var = MZN_RO_min_export_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_min_export_var
		value = 0.02
	}

	CTH = {
		add_dynamic_modifier = { modifier = MZN_CTH_resource_output }
	}
}


MZN_SCALE_SITUATION_CHANGE_DEMOCRACY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = 1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
}

MZN_SCALE_SITUATION_CHANGE_LIBERTY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = -1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
}

MZN_IEF_change_DIS = {
	else_if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 60 }
		}
		set_variable = { MZN_IEF_DIS_var = MZN_democracy_institution_var }
		divide_variable = {
			var = MZN_IEF_DIS_var
			value = 20
		}

		round_variable = MZN_IEF_DIS_var

		else_if = {
			limit = {
				has_country_flag = MZN_planned_economy
			}
			subtract_from_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else_if = {
			limit = {
				has_country_flag = MZN_market_economy
			}
			add_to_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else = {
			set_variable = {
				var = MZN_IEF_DIS_var
				value = 0
			}
		}
	}
	else_if = {
		limit = {
			NOT = {
				OR = {
					has_country_flag = MZN_planned_economy
					has_country_flag = MZN_market_economy
				}
			}
		}
		set_variable = {
			var = MZN_IEF_DIS_var
			value = 0
		}
	}
}

MZN_high_DIS_idea_check = {
	if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 70 }
		}
		add_ideas = CTH_MZN_stable_of_democracy
	}
	else = {
		remove_ideas = CTH_MZN_stable_of_democracy
	}
}

MZN_C_change_IEF = {
	else_if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var > 60 }
		}
		set_variable = { MZN_C_change_IEF_var = MZN_liberty_of_ecomony_var }
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
	else_if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var < 60 }
		}
		set_variable = { MZN_C_change_IEF_var = -100 }
		add_to_variable = {
			var = MZN_C_change_IEF_var
			value = MZN_liberty_of_ecomony_var
		}
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
}

MZN_anti_c_tactics = {
	else_if = {
		limit = {
			has_country_flag = MZN_limited_C_flag
		}
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
		}
		set_variable = {
			value = MZN_corruption_var
			var = 30
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_backroom_C_flag
		}
		set_variable = {
			value = MZN_corruption_var
			var = 60
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_no_C_flag
		}
		subtract_from_variable = {
			var = MZN_corruption_var
			value = 1
		}
	}
}

MZN_C_political_power = {
	else_if = {
		limit = {
			check_variable = { MZN_corruption_var > 61 }
		}
		add_political_power = 20
	}

	else_if = {
		limit = {
			check_variable = { MZN_corruption_var <29 }
		}
		add_political_power = -20
	}
}

MZN_clear_all_anti_C_tactics = {
	clr_country_flag = MZN_limited_C_flag
	clr_country_flag = MZN_backroom_C_flag
	clr_country_flag = MZN_no_C_flag
}

MZN_economic_situation_change_detail_check = {
	activate_mission = MZN_Economic_situation_change_check
	else_if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var > 0 }
				check_variable = { MZN_liberty_of_ecomony_var < 40 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = -0.02
   			tooltip_side = MZN_Planned_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}
		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = -0.02
		}
		}
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var > 60 }
				check_variable = { MZN_liberty_of_ecomony_var < 100 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = 0.05
   			tooltip_side = MZN_Market_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}

		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = 0.05
		}
		}
	}
}


MZN_JUNTA_EFFECT = {
	set_country_flag = MZN_Junta_flag
	set_variable = { MZN_democracy_institution_var = -999 }
	set_variable = { MZN_liberty_of_ecomony_var = -999 }
	set_variable = { MZN_corruption_var = -999 }
	#set_variable = { MZN_scale_balance_var = 6 }
}

MZN_debug_ideas_remove = {
	remove_ideas = {
		zebrica_legacy_of_storm2
		CTH_army_of_merceneries
		CTH_political_instability
	}

	remove_dynamic_modifier = {
		modifier = CTH_factions_modifier
	}
	every_possible_country = {
		limit = {
			has_character = CVA_zanit_monzano
		}
		CVA_zanit_monzano = {
			set_nationality = CTH
		}
	}
	set_politics = {
		ruling_party = neutrality
	}
	add_country_leader_role = {
		character = CVA_zanit_monzano
		promote_leader = yes
		
		country_leader = {
			desc = "CTH_ZANIT_MONZANO_DESC"
			expire = "1965.1.1"
			ideology = conservative_liberalism
			traits = { }
		}
	}
}

MZN_CLEAR_scale_state = {
	remove_ideas = {
		CTH_MZN_scale_liberty_lead
		CTH_MZN_scale_liberty_pro
		CTH_MZN_scale_balanced
		CTH_MZN_scale_democracy_pro
		CTH_MZN_scale_democracy_lead
	}
}

MZN_SET_SCALE_STATE = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_ideas = CTH_MZN_scale_liberty_lead
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_ideas = CTH_MZN_scale_liberty_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}
		add_ideas = CTH_MZN_scale_balanced
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_ideas = CTH_MZN_scale_democracy_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_ideas = CTH_MZN_scale_democracy_lead
	}
}

MZN_scale_change_democracy = {
	add_to_variable = { MZN_scale_balance_var = 1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_democracy_tt
}

MZN_scale_change_liberty = {
	add_to_variable = { MZN_scale_balance_var = -1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_liberty_tt
}


##Variable change

MZN_Slightly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_DIS_TEXT
}

MZN_Slightly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_IEF_TEXT
}

MZN_Slightly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 2
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_C_TEXT
}

MZN_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_DIS_TEXT
}

MZN_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_IEF_TEXT
}

MZN_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 5
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_C_TEXT
}

MZN_significantly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_DIS_TEXT
}

MZN_significantly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_IEF_TEXT
}

MZN_significantly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 7
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_C_TEXT
}



MZN_Slightly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_DIS_TEXT
}

MZN_Slightly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_IEF_TEXT
}

MZN_Slightly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -2
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_C_TEXT
}

MZN_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_DIS_TEXT
}

MZN_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_IEF_TEXT
}

MZN_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -5
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_C_TEXT
}

MZN_significantly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_DIS_TEXT
}

MZN_significantly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_IEF_TEXT
}

MZN_significantly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -7
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_C_TEXT
}


MZN_add_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = 0.01
	}
	custom_effect_tooltip = MZN_add_ES_addition_text
}

MZN_reduce_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = -0.01
	}
	custom_effect_tooltip = MZN_reduce_ES_addition_text
}

MZN_policy_DIS_increase = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = 1
	}
	custom_effect_tooltip = MZN_policy_DIS_increase_text
}

MZN_policy_IEF_increase = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = 1
	}
	custom_effect_tooltip = MZN_policy_IEF_increase_text
}

MZN_BR_C_increase = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = 1
	}
	custom_effect_tooltip = MZN_BR_C_increase_text
}

MZN_policy_DIS_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = -1
	}
	custom_effect_tooltip = MZN_policy_DIS_decrease_text
}

MZN_policy_IEF_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = -1
	}
	custom_effect_tooltip = MZN_policy_IEF_decrease_text
}

MZN_BR_C_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = -1
	}
	custom_effect_tooltip = MZN_BR_C_decrease_text
}

MZN_AOS_var_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 5
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_increase_text
}

MZN_AOS_var_great_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 10
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_great_increase_text
}

MZN_AOS_var_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -5
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_AOS_var_great_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -10
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_SWP_decrease = {
	add_to_variable = { MZN_SWP_var = -1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		min = 0
	}
	custom_effect_tooltip = MZN_SWP_decrease_tt
}

MZN_SWP_increase = {
	add_to_variable = { MZN_SWP_var = 1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		max = 5
	}
	custom_effect_tooltip = MZN_SWP_increase_tt
}

##constitution amendment

MZN_RS_VAR_increase = {
	add_to_variable = { MZN_RS_var = 1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 2
	}
}

MZN_RS_VAR_decrease = {
	add_to_variable = { MZN_RS_var = -1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 0
	}
}

MZN_BC_var_increase = {
	add_to_variable = { MZN_BC_var = 1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 2
	}
}

MZN_BC_var_decrease = {
	add_to_variable = { MZN_BC_var = -1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 0
	}
}

MZN_reformist_support_increase = {
	add_to_variable = { MZN_reformist_support = 1 }
	custom_cost_text = MZN_reformist_support_tt
}

MZN_conservatist_support_increase = {
	add_to_variable = { MZN_conservatist_support = 1 }
	custom_cost_text = MZN_conservatist_support_tt
}

MZN_scale_balance_support_calculation = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_to_variable = { MZN_reformist_support = -1 }
		add_to_variable = { MZN_conservatist_support = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_to_variable = { MZN_reformist_support = 0 }
		add_to_variable = { MZN_conservatist_support = 3 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_to_variable = { MZN_reformist_support = 3 }
		add_to_variable = { MZN_conservatist_support = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_to_variable = { MZN_reformist_support = 2 }
		add_to_variable = { MZN_conservatist_support = -1 }
	}
}

MZN_constitution_amendment_reformist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 4 }
				check_variable = { MZN_reformist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 6 }
				check_variable = { MZN_reformist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_conservatist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 4 }
				check_variable = { MZN_conservatist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 6 }
				check_variable = { MZN_conservatist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_SWP_check = {
	if = {
		limit = {
			check_variable = { MZN_SWP_var < 2 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = -5 }
	}

	if = {
		limit = {
			check_variable = { MZN_SWP_var = 3 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_SWP_var > 4 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}
}

MZN_constitution_amendment_NA_attitude_check = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var > 4 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var < 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}

	}
}

MZN_Constitution_amendment_RS_check = {
	if = {
		limit = {
			check_variable = { MZN_RS_var = 0 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 1 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}
}

MZN_Constitution_amendment_BC_check = {
	if = {
		limit = {
			check_variable = { MZN_BC_var = 0 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var > 50 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 1 }
		}
		add_to_variable = { MZN_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 2 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}
}

MZN_constitution_amendment_random_calculation = {
	random_list = {
		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -4 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -3 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -2 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -1 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -0 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 1 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 2 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 3 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 4 }
		}
	}
}

MZN_constitution_amendment_final_check = {
	MZN_scale_balance_support_calculation = yes
	MZN_constitution_amendment_reformist_vote = yes
	MZN_constitution_amendment_conservatist_vote = yes
	MZN_constitution_amendment_SWP_check = yes
	MZN_constitution_amendment_NA_attitude_check = yes
	MZN_Constitution_amendment_RS_check = yes
	MZN_Constitution_amendment_BC_check = yes
	MZN_constitution_amendment_random_calculation = yes
	add_to_variable = { MZN_CA_chance_of_pass = MZN_CA_backroom_deal_var }
}