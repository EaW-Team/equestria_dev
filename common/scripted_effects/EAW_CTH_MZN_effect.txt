MZN_start_setting = {
	set_variable = { MZN_MAP_N_var = 1 }
	set_variable = { MZN_MAP_R_C_var = 2 }

	set_variable = { MZN_RS_var = 0 }
	set_variable = { MZN_BC_var = 1 }

	set_variable = { MZN_SWP_var = 3 }

	set_variable = { MZN_jezabzella_attitude_punishment = 4 }


	#PJDI
	set_variable = { MZN_SC_attitude = 3 }
	set_variable = { MZN_NA_attitude = 1 }
	set_variable = { MZN_SWP_var = 3 }

	#Diplomacy
	set_variable = { MZN_MCW_MI_limited = 60 }
	set_variable = { MZN_MCW_IR_need = 70 }

	add_to_array = { MZN_NZ_countries_resist = TBK }
	add_to_array = { MZN_NZ_countries_resist = ZAR }
	add_to_array = { MZN_NZ_countries_resist = WAR }
}

MZN_ECO_IMPROVE_SITUATION = {
	add_to_variable = {
				var = MZN_PCWE_resources_var
				value = 0.08
			}

			add_to_variable = {
				var = MZN_PCWE_research_var
				value = 0.18
			}

			add_to_variable = {
				var =  MZN_PCWE_building_speed_var
				value = 0.18
			}

			add_to_variable = {
				var = MZN_PCWE_goods_var
				value = -0.08
			}

			add_to_variable = {
				var = MZN_PCWE_trade_var
				value = 0.19
			}

			add_to_variable = {
				var = MZN_PCWE_production_efficiency_var
				value = 0.18
			}

			add_to_variable = {
				var = MZN_PCWE_max_efficiency_var
				value = 0.18
			}
}

MZN_democratic_stability_decrease_corruption = {
	if = {
		limit = {
			check_variable = {MZN_corruption_var > 60}
		}
		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = 0
		}

		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = MZN_corruption_var
		}

		multiply_variable = {
			var = MZN_corruption_var_calculation_var
			value = 0.33
		}

		round_variable = MZN_corruption_var_calculation_var

		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = MZN_corruption_var_calculation_var
		}

			
		}
}

MZN_group_of_three_active_check = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_democracy_institution_var > 40 }
				has_country_flag = MZN_group_of_three_flag
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}

	else_if = {
		limit = {
			AND = {
				NOT = {
					has_country_flag = MZN_group_of_three_flag
				}
				has_country_flag = MZN_group_of_three_eliminated_flag
			}
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}
}

MZN_constitution_amendment_check = {
	if = {
		limit = {
		and = {
			NOT = {
				has_country_flag = MZN_constitution_amendment_done
			}
			has_country_flag = MZN_constitution_amendment_promise_unfulfilled
		}
		}

		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_promise
		}

		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_finished
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 5
		}
	}

	else_if = {
		limit = {
			not = {
				or = {
					has_country_flag = MZN_constitution_amendment_finished
					has_country_flag = MZN_constitution_amendment_promise
					has_country_flag = MZN_constitution_amendment_promise_unfulfilled
				}
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}
}

MZN_ACTS_CHECK = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = var_MZN_ACT_DIS
	}

	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = var_MZN_ACT_IEF
	}

	add_to_variable = {
		var = MZN_corruption_var
		value = var_MZN_ACT_C
	}
}

MZN_SCALE_CKECK = {
	if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 3
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 3
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 1
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 2
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 4
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_DEMOCRACY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 5
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_DEMOCRACY_DIS_COST
	}
	}
}

MZN_DECREASE_FROM_SCALE_BLANCE_COST = {
	add_to_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = 1
	}
}

MZN_SET_SCALE = {
	set_variable = {
		var = MZN_scale_balance_var
		value = 3
	}
	set_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = -3
	}
	set_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = -1
	}
	set_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	set_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = -1
	}
}
##F(index) = [��MF/2*CF���C I ( MF * 1/2 �C CF ) /50 I ]* 0.6
MZN_CEDCC_CHECK = {

##example 17MF 13CF
			set_variable = { 
			var = MZN_CEDCC_CHECK_FC 
			value = CTH.num_of_civilian_factories 
			}
#13
			set_variable = { 
			var = MZN_CEDCC_CHECK_FM 
			value = CTH.num_of_military_factories 
			}
#17 = FM
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = CTH.num_of_military_factories 
			}
#13
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_2
			value = CTH.num_of_civilian_factories
			}
#17
			multiply_variable = {
			var = MZN_CEDCC_CHECK_FC
			value = 2 
			}
#26 = FC
			divide_variable = {
			var = MZN_CEDCC_CHECK_FM 
			value = MZN_CEDCC_CHECK_FC
			}
#0.65 = FM
			divide_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = 2
			}
#8.5 = AD1
			subtract_from_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = MZN_CEDCC_CHECK_ADJUST_2
			}
#-4.5 = AD1
			divide_variable =  {
			var = MZN_CEDCC_CHECK_ADJUST_1
			value = 50
			}
#0.09 = AD1
			if = {
				limit = {
					check_variable = { MZN_CEDCC_CHECK_ADJUST_1<0 }
				}
				multiply_variable = { 
				var = MZN_CEDCC_CHECK_ADJUST_1 
				value = -1 
				}
			}
#0.09 = AD1
			subtract_from_variable = { 
			var = MZN_CEDCC_CHECK_FM
			value = MZN_CEDCC_CHECK_ADJUST_1
			}

			set_variable = { 
			var = MZN_INDEX_CEDCC 
			value = MZN_CEDCC_CHECK_FM
			}

			multiply_variable = {
				var = MZN_INDEX_CEDCC
				value = 0.6
			}

			if = {
				limit = {
					check_variable = { MZN_INDEX_CEDCC < 0 }
				}
				set_variable = {
					var = MZN_INDEX_CEDCC 
					value = 0
				}
			}

			set_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = -0.3
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = 0.6
			}
			CTH = {
			add_dynamic_modifier = { modifier = MZN_CTH_CEDDC }
			}
}

	MZN_recource_output_check = {
	set_variable = {
		var = MZN_RO_stability_factor 
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_stability_factor 
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_war_support_factor
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_war_support_factor
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_research_speed_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_research_speed_factor_var
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_political_power_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_political_power_var
		value = 0.02
	}

	set_variable = {
		var = MZN_RO_trade_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_trade_var
		value = 0.05
	}

	set_variable = {
		var = MZN_RO_local_resources_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_local_resources_factor_var
		value = 0.04
	}

	set_variable = {
		var = MZN_RO_min_export_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_min_export_var
		value = 0.02
	}

	CTH = {
		add_dynamic_modifier = { modifier = MZN_CTH_resource_output }
	}
}


MZN_SCALE_SITUATION_CHANGE_DEMOCRACY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = 1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
}

MZN_SCALE_SITUATION_CHANGE_LIBERTY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = -1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
}

MZN_advisor_change_DIS = {
	add_to_variable = { MZN_democracy_institution_var = modifier@MZN_DIS_monthly_change } 
}

MZN_advisor_change_IEF = {
	add_to_variable = { MZN_liberty_of_ecomony_var = modifier@MZN_IEF_monthly_change } 
}

MZN_advisor_change_C = {
	add_to_variable = { MZN_corruption_var = modifier@MMZN_C_monthly_change } 
}

MZN_advisor_change_ME = {
	hidden_effect = {
		add_power_balance_value = {
			id = MZN_economy_bop
			value = modifier@MZN_ME_monthly_change
			tooltip_side = MZN_Market_economy
		}
	}
	
}

MZN_advisor_change_PE = {
	hidden_effect = {
		add_power_balance_value = {
			id = MZN_economy_bop
			value = modifier@MZN_PE_monthly_change
			tooltip_side = MZN_planned_economy
		}
	}
	
}


MZN_IEF_change_DIS = {
	else_if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 60 }
		}
		set_variable = { MZN_IEF_DIS_var = MZN_democracy_institution_var }
		divide_variable = {
			var = MZN_IEF_DIS_var
			value = 20
		}

		round_variable = MZN_IEF_DIS_var

		else_if = {
			limit = {
				has_country_flag = MZN_planned_economy
			}
			subtract_from_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else_if = {
			limit = {
				has_country_flag = MZN_market_economy
			}
			add_to_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else = {
			set_variable = {
				var = MZN_IEF_DIS_var
				value = 0
			}
		}
	}
	else_if = {
		limit = {
			NOT = {
				OR = {
					has_country_flag = MZN_planned_economy
					has_country_flag = MZN_market_economy
				}
			}
		}
		set_variable = {
			var = MZN_IEF_DIS_var
			value = 0
		}
	}
}

MZN_high_DIS_idea_check = {
	if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 70 }
		}
		add_ideas = CTH_MZN_stable_of_democracy
	}
	else = {
		remove_ideas = CTH_MZN_stable_of_democracy
	}
}

MZN_C_change_IEF = {
	else_if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var > 60 }
		}
		set_variable = { MZN_C_change_IEF_var = MZN_liberty_of_ecomony_var }
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
	else_if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var < 60 }
		}
		set_variable = { MZN_C_change_IEF_var = -100 }
		add_to_variable = {
			var = MZN_C_change_IEF_var
			value = MZN_liberty_of_ecomony_var
		}
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
}

MZN_anti_c_tactics = {
	else_if = {
		limit = {
			has_country_flag = MZN_limited_C_flag
		}
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
		}
		set_variable = {
			value = MZN_corruption_var
			var = 30
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_backroom_C_flag
		}
		set_variable = {
			value = MZN_corruption_var
			var = 60
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_no_C_flag
		}
		subtract_from_variable = {
			var = MZN_corruption_var
			value = 1
		}
	}
}

MZN_C_political_power = {
	else_if = {
		limit = {
			check_variable = { MZN_corruption_var > 61 }
		}
		add_political_power = 20
	}

	else_if = {
		limit = {
			check_variable = { MZN_corruption_var <29 }
		}
		add_political_power = -20
	}
}

MZN_clear_all_anti_C_tactics = {
	clr_country_flag = MZN_limited_C_flag
	clr_country_flag = MZN_backroom_C_flag
	clr_country_flag = MZN_no_C_flag
}

MZN_economic_situation_change_detail_check = {
	activate_mission = MZN_Economic_situation_change_check
	MZN_advisor_change_ME = YES
	MZN_advisor_change_PE = YES
	if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var < 40 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = -0.02
   			tooltip_side = MZN_Planned_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}
		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = -0.02
		}
		}
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var > 60 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = 0.05
   			tooltip_side = MZN_Market_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}

		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = 0.05
		}
		}
	}
}


MZN_JUNTA_EFFECT = {
	set_country_flag = MZN_Junta_flag
	set_variable = { MZN_democracy_institution_var = -999 }
	set_variable = { MZN_liberty_of_ecomony_var = -999 }
	set_variable = { MZN_corruption_var = -999 }
	#set_variable = { MZN_scale_balance_var = 6 }
}

MZN_debug_ideas_remove = {
	remove_ideas = {
		zebrica_legacy_of_storm2
		CTH_army_of_merceneries
		CTH_political_instability
	}

	remove_dynamic_modifier = {
		modifier = CTH_factions_modifier
	}
	every_possible_country = {
		limit = {
			has_character = CVA_zanit_monzano
		}
		CVA_zanit_monzano = {
			set_nationality = CTH
		}
	}
	set_politics = {
		ruling_party = neutrality
	}
	add_country_leader_role = {
		character = CVA_zanit_monzano
		promote_leader = yes
		
		country_leader = {
			desc = "CTH_ZANIT_MONZANO_DESC"
			expire = "1965.1.1"
			ideology = conservative_liberalism
			traits = { }
		}
	}
}

MZN_CLEAR_scale_state = {
	remove_ideas = {
		CTH_MZN_scale_liberty_lead
		CTH_MZN_scale_liberty_pro
		CTH_MZN_scale_balanced
		CTH_MZN_scale_democracy_pro
		CTH_MZN_scale_democracy_lead
	}
}

MZN_SET_SCALE_STATE = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_ideas = CTH_MZN_scale_liberty_lead
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_ideas = CTH_MZN_scale_liberty_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}
		add_ideas = CTH_MZN_scale_balanced
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_ideas = CTH_MZN_scale_democracy_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_ideas = CTH_MZN_scale_democracy_lead
	}
}

MZN_scale_change_democracy = {
	add_to_variable = { MZN_scale_balance_var = 1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_democracy_tt
}

MZN_scale_change_liberty = {
	add_to_variable = { MZN_scale_balance_var = -1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_liberty_tt
}


##ACTS SET EFFECT

MZN_ACT_CLEAR_ALL_ACT = {
	clr_country_flag = MZN_ACT_cabinet
	clr_country_flag = MZN_ACT_constitution_amendment
	clr_country_flag = MZN_limited_resource_export_act
}

MZN_ACT_CLEAR_EFFECT = {
	set_variable = { MZN_TOE_ACT_BAR_var = 0 }
	set_variable = { MZN_TOE_DAYS_COUNTING_var = 0 }
	add_to_variable = { MZN_influence_NA_recently_var = -1 }
	add_to_variable = { MZN_influence_SC_recently_var = -1 }
	clamp_variable = {
		var = MZN_influence_NA_recently_var
		min = 0
	}
	set_variable = { MZN_ACT_NA_need_var = 0 }
	set_variable = { MZN_ACT_SC_need_var = 0 }
	set_country_flag = MZN_ACT_GUI_OPEN
}

MZN_successful_effect = {
	if = {
		limit = {
			has_country_flag = MZN_limited_resource_export_act
		}
		set_country_flag = MZN_limited_resource_export_act_passed
		custom_effect_tooltip = MZN_limited_resource_export_act_passed_tt
	}
}

MZN_limited_resource_export_act_requirement = {
	set_country_flag = MZN_conservative_act
	set_variable = { MZN_ACT_NA_need_var = 2 }
	set_variable = { MZN_ACT_SC_need_var = 2 }
}


##Variable change

MZN_Slightly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_DIS_TEXT
}

MZN_Slightly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_IEF_TEXT
}

MZN_Slightly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 2
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_C_TEXT
}

MZN_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_DIS_TEXT
}

MZN_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_IEF_TEXT
}

MZN_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 5
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_C_TEXT
}

MZN_significantly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_DIS_TEXT
}

MZN_significantly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_IEF_TEXT
}

MZN_significantly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 7
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_C_TEXT
}



MZN_Slightly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_DIS_TEXT
}

MZN_Slightly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_IEF_TEXT
}

MZN_Slightly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -2
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_C_TEXT
}

MZN_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_DIS_TEXT
}

MZN_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_IEF_TEXT
}

MZN_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -5
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_C_TEXT
}

MZN_significantly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_DIS_TEXT
}

MZN_significantly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_IEF_TEXT
}

MZN_significantly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -7
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_C_TEXT
}


MZN_add_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = 0.01
	}
	custom_effect_tooltip = MZN_add_ES_addition_text
}

MZN_reduce_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = -0.01
	}
	custom_effect_tooltip = MZN_reduce_ES_addition_text
}

MZN_policy_DIS_increase = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = 1
	}
	custom_effect_tooltip = MZN_policy_DIS_increase_text
}

MZN_policy_IEF_increase = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = 1
	}
	custom_effect_tooltip = MZN_policy_IEF_increase_text
}

MZN_BR_C_increase = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = 1
	}
	custom_effect_tooltip = MZN_BR_C_increase_text
}

MZN_policy_DIS_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = -1
	}
	custom_effect_tooltip = MZN_policy_DIS_decrease_text
}

MZN_policy_IEF_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = -1
	}
	custom_effect_tooltip = MZN_policy_IEF_decrease_text
}

MZN_BR_C_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = -1
	}
	custom_effect_tooltip = MZN_BR_C_decrease_text
}

MZN_AOS_var_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 5
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_increase_text
}

MZN_AOS_var_great_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 10
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_great_increase_text
}

MZN_AOS_var_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -5
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_AOS_var_great_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -10
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_SWP_decrease = {
	add_to_variable = { MZN_SWP_var = -1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		min = 0
	}
	custom_effect_tooltip = MZN_SWP_decrease_tt
}

MZN_SWP_increase = {
	add_to_variable = { MZN_SWP_var = 1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		max = 5
	}
	custom_effect_tooltip = MZN_SWP_increase_tt
}

MZN_SC_support_conservatist = {
	add_to_variable = { MZN_PJDI_SC_attitude = -1 }
	clamp_variable = {
		var = MZN_PJDI_SC_attitude
		min = 1
	}
	custom_effect_tooltip = MZN_SC_support_conservatist_tt
}

MZN_SC_support_reformist = {
	add_to_variable = { MZN_PJDI_SC_attitude = 1 }
	clamp_variable = {
		var = MZN_PJDI_SC_attitude
		max = 3
	}
	custom_effect_tooltip = MZN_SC_support_reformist_tt
}

MZN_NA_support_conservatist = {
	add_to_variable = { MZN_PJDI_NA_attitudee = -1 }
	clamp_variable = {
		var = MZN_PJDI_NA_attitude
		min = 1
	}
	custom_effect_tooltip = MZN_SC_support_conservatist_tt
}

MZN_NA_support_reformist = {
	add_to_variable = { MZN_PJDI_NA_attitude = 1 }
	clamp_variable = {
		var = MZN_PJDI_NA_attitude
		max = 3
	}
	custom_effect_tooltip = MZN_SC_support_reformist_tt
}

MZN_investigation_envidence_get = {
	add_to_variable = { MZN_investigation_envidence = 1 }
	#custom_effect_tooltip = MZN_investigation_envidence_get_tt
}

MZN_military_con_add = {
	add_to_variable = { MZN_military_con_support = 1 }
	custom_effect_tooltip = MZN_military_con_add_tt
}

MZN_military_ref_add = {
	add_to_variable = { MZN_military_con_support = 1 }
	custom_effect_tooltip = MZN_military_ref_add_tt
}

MZN_increase_IR = {
	add_to_variable = { MZN_IR_var = 10 }
	clamp_variable = {
		var = MZN_IR_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_IR_tt
}

MZN_slightly_increase_IR = {
	add_to_variable = { MZN_IR_var = 5 }
	clamp_variable = {
		var = MZN_IR_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_IR_tt
}

MZN_decrease_IR = {
	add_to_variable = { MZN_IR_var = -10 }
	clamp_variable = {
		var = MZN_IR_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_IR_tt
}

MZN_slightly_decrease_IR = {
	add_to_variable = { MZN_IR_var = -5 }
	clamp_variable = {
		var = MZN_IR_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_IR_tt
}

MZN_slightly_increase_MI = {
	add_to_variable = { MZN_MI_var = 5 }
	clamp_variable = {
		var = MZN_MI_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_MI_tt
}

MZN_slightly_decrease_MI = {
	add_to_variable = { MZN_MI_var = -5 }
	clamp_variable = {
		var = MZN_MI_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_MI_tt
}

MZN_increase_MI = {
	add_to_variable = { MZN_MI_var = 10 }
	clamp_variable = {
		var = MZN_MI_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_MI_tt
}

MZN_decrease_MI = {
	add_to_variable = { MZN_MI_var = -10 }
	clamp_variable = {
		var = MZN_MI_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_MI_tt
}

##constitution amendment

MZN_RS_VAR_increase = {
	add_to_variable = { MZN_RS_var = 1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 2
	}
	custom_effect_tooltip = MZN_RS_VAR_increase_tt
}

MZN_RS_VAR_decrease = {
	add_to_variable = { MZN_RS_var = -1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 0
	}
	custom_effect_tooltip = MZN_RS_VAR_decrease_tt
}

MZN_BC_var_increase = {
	add_to_variable = { MZN_BC_var = 1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 2
	}
	custom_effect_tooltip = MZN_BC_var_increase_tt
}

MZN_BC_var_decrease = {
	add_to_variable = { MZN_BC_var = -1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 0
	}
	custom_effect_tooltip = MZN_BC_var_increase_tt
}

MZN_reformist_support_increase = {
	add_to_variable = { MZN_reformist_support = 1 }
	custom_effect_tooltip = MZN_reformist_support_tt
}

MZN_reformist_support_decrease = {
	add_to_variable = { MZN_reformist_support = -1 }
	custom_effect_tooltip = MZN_reformist_unsupport_tt
}

MZN_conservatist_support_increase = {
	add_to_variable = { MZN_conservatist_support = 1 }
	custom_effect_tooltip = MZN_conservatist_support_tt
}

MZN_conservatist_support_DEcrease = {
	add_to_variable = { MZN_conservatist_support = -1 }
	custom_effect_tooltip = MZN_conservatist_unsupport_tt
}

MZN_scale_balance_support_calculation = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_to_variable = { MZN_reformist_support = -1 }
		add_to_variable = { MZN_conservatist_support = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_to_variable = { MZN_reformist_support = 0 }
		add_to_variable = { MZN_conservatist_support = 3 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_to_variable = { MZN_reformist_support = 3 }
		add_to_variable = { MZN_conservatist_support = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_to_variable = { MZN_reformist_support = 2 }
		add_to_variable = { MZN_conservatist_support = -1 }
	}
}

MZN_constitution_amendment_reformist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 4 }
				check_variable = { MZN_reformist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 6 }
				check_variable = { MZN_reformist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_conservatist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 4 }
				check_variable = { MZN_conservatist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 6 }
				check_variable = { MZN_conservatist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_SWP_check = {
	if = {
		limit = {
			check_variable = { MZN_SWP_var < 2 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = -5 }
	}

	if = {
		limit = {
			check_variable = { MZN_SWP_var = 3 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_SWP_var > 4 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}
}

MZN_constitution_amendment_scientifid_check = {
	if = {
		limit = {
			and = {
				has_country_flag = MZN_intervene_scientifid_internal_fight
				check_variable = { MZN_reformist_scientifid_support_var > 3 }
			}
		}

		add_to_variable = { MZN_conservatist_support = -2 }
		custom_effect_tooltip = MZN_intervene_spotted
	}

	else_if = {
		limit = {
			has_country_flag = MZN_intervene_scientifid_internal_fight
			check_variable = { MZN_reformist_scientifid_support_var < 2 }
		}
		add_to_variable = { MZN_reformist_support = 1 }
	}

	else = {

	}
}

MZN_constitution_amendment_NA_attitude_check = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var > 4 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var < 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}

	}
}

MZN_Constitution_amendment_RS_check = {
	if = {
		limit = {
			check_variable = { MZN_RS_var = 0 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 1 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}
}

MZN_Constitution_amendment_BC_check = {
	if = {
		limit = {
			check_variable = { MZN_BC_var = 0 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var > 50 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 1 }
		}
		add_to_variable = { MZN_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 2 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}
}

MZN_constitution_amendment_random_calculation = {
	random_list = {
		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -4 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -3 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -2 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -1 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = -0 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 1 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 2 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 3 }
		}

		1 = {
			add_to_variable = { MZN_CA_chance_of_pass = 4 }
		}
	}
}

MZN_constitution_amendment_final_check_1 = {
	MZN_constitution_amendment_SWP_check = yes
	MZN_constitution_amendment_NA_attitude_check = yes
	MZN_Constitution_amendment_RS_check = yes
	MZN_Constitution_amendment_BC_check = yes
}

MZN_constitution_amendment_final_check_2 = {
	MZN_scale_balance_support_calculation = yes
	MZN_constitution_amendment_scientifid_check = yes
	MZN_constitution_amendment_reformist_vote = yes
	MZN_constitution_amendment_conservatist_vote = yes
}

MZN_constitution_amendment_final_check_3 = {
	MZN_constitution_amendment_random_calculation = yes
	add_to_variable = { MZN_CA_chance_of_pass = MZN_CA_important_member_support_var }
}

##SOW effect

MZN_diplomatic_variable_set = {
	set_variable = { MZN_calculate_IR_var = MZN_AOS_var }
	multiply_variable = { MZN_calculate_IR_var = 0.5 }
	round_variable = MZN_calculate_IR_var
	add_to_variable = { MZN_IR_var = MZN_calculate_IR_var }

	set_variable = { MZN_calculate_MI_var = 100 }
	subtract_from_variable = { MZN_calculate_MI_var = MZN_AOS_var }
	add_to_variable = { MZN_calculate_MI_var = CTH.stability }
	divide_variable = { MZN_calculate_MI_var = 10 }
	round_variable = MZN_calculate_MI_var
	add_to_variable = { MZN_MI_var = MZN_calculate_MI_var }
	custom_effect_tooltip = MZN_diplomatic_variable_set_tt
}

MZN_calculate_liberation_war_counter = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 150 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 100 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 80 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 100 }
	}
}

MZN_add_war_counter_20 = {
	add_to_variable = { MZN_liberation_war_counter_var = 20 }
	custom_effect_tooltip = MZN_add_war_counter_20_tt
}

MZN_add_war_counter_30 = {
	add_to_variable = { MZN_liberation_war_counter_var = 30 }
	custom_effect_tooltip = MZN_add_war_counter_30_tt
}

MZN_add_war_counter_50 = {
	add_to_variable = { MZN_liberation_war_counter_var = 50 }
	custom_effect_tooltip = MZN_add_war_counter_50_tt
}

MZN_add_war_counter_75 = {
	add_to_variable = { MZN_liberation_war_counter_var = 75 }
	custom_effect_tooltip = MZN_add_war_counter_75_tt
}

MZN_SOW_clr_all_country_flags = {
	clr_country_flag = MZN_SOW_CTH_selected
	clr_country_flag = MZN_SOW_CVA_CDR_selected
	clr_country_flag = MZN_SOW_MCW_selected
	clr_country_flag = MZN_SOW_HIP_WAR_selected
	clr_country_flag = MZN_SOW_BAT_selected
	clr_country_flag = MZN_SOW_SNZ_selected
	clr_country_flag = MZN_SOW_CTL_selected
}

MZN_SOW_OPERATION_FLAG_clr_all = {
	clr_country_flag = MZN_SOW_one_operation_selected
	clr_country_flag = MZN_SOW_OSE_selected
	clr_country_flag = MZN_SOW_OO_selected
	clr_country_flag = MZN_SOW_OJ_selected
}

MZN_SOW_MCW_AID_EFFECT = {
	add_to_variable = { MZN_MCW_cooperation_var = 1 }
	custom_effect_tooltip = MZN_SOW_MCW_AID_EFFECT_tt
}

MZN_LIBERATION_WAR_effect = {
			if = {
				limit = {
					ZAR = {
						not = {
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = ZAR
					type = annex_everything
				}
			}

			if = {
				limit = {
					TBK = {
						not = {
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = TBK
					type = annex_everything
				}
			}
			if = {
				limit = {
					WAR = {
						not = {
							any_guaranteed_country = {
								tag = HIP
							}
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = WAR
					type = annex_everything
				}
			}
			##ur controls it - but how? maybe i should just bypass this focus if you lauch the war before this.

			if = {
				limit = {
					
				}
				if = {
					limit = {
						697 = {
							is_controlled_by_ROOT_or_ally = yes
						}
					}
					CTH = {
						declare_war_on = {
							target = BAT
							  type = annex_everything
						}
						declare_war_on = {
							target = HIP
							  type = annex_everything
						}
						set_country_flag = MZN_CTH_ally_decision_unlocks
						set_country_flag = MZN_liberation_war_start
					}
				}
				##HIP HAS ZUM
				else_if = {
					limit = {
						or = {
							HIP = {
								controls_state = 697
							}
						
							ZUM = {
								is_puppet_of = hip
							}
						}
					}
					declare_war_on = {
						target = BAT
						type = annex_everything
					}
					HIP = {
						country_event = colthage_monzano_diplomacy.22
					}
					set_country_flag = MZN_CTH_ally_decision_unlocks
					set_country_flag = MZN_liberation_war_start
				}
	
				##HIP NOT HAS ZUM
				else_if = {
					limit = {
						NOT = {
							and = {
								HIP = {
									controls_state = 697
								}
						
								ZUM = {
									controls_state = 697
								}
							}
						}
					}
	
					set_country_flag = MZN_CTH_ally_decision_unlocks
					set_country_flag = MZN_liberation_war_start

					declare_war_on = {
						target = MZN_tag_control_697
						type = annex_everything
					}
	
					if = {
						limit = {
							BAT = {
								not = {
									controls_state = 697
								}
							}
						}
	
							declare_war_on = {
								target = BAT
								type = annex_everything
							}
					}
	
					if = {
						limit = {
							HIP = {
								NOT = {
									or = {
										country_leader = HIP_skystar
									}
								}
							}
						}
	
							declare_war_on = {
								target = HIP
								type = annex_everything
							}
					}
	
					else_if = {
						limit = {
							HIP = {
								or = {
									country_leader = HIP_skystar
								}
							}
						}
						country_event = colthage_monzano_diplomacy.29
					}
				}
			}
}