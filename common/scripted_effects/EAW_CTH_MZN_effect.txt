MZN_start_setting = {
	##party
	hidden_effect = {
		set_party_name = {
			ideology = neutrality
			long_name = MZN_post_civilwar_neutrality_long
			name = MZN_post_civilwar_neutrality_short
		}

		set_party_name = {
			ideology = fascism
			long_name = MZN_post_civilwar_fascism_long
			name = MZN_post_civilwar_fascism_short
		}
	
		set_party_name = {
			ideology = democratic
			long_name = MZN_post_civilwar_democratic_long
			name = MZN_post_civilwar_democratic_short
		}
	
		set_party_name = {
			ideology = communism
			long_name = MZN_post_civilwar_communism_long
			name = MZN_post_civilwar_communism_short
		}

		##basic set
		MZN_SET_SCALE = yes
		set_variable = { MZN_democracy_institution_var = 50 }
		set_variable = { MZN_liberty_of_ecomony_var = 50 }
		set_variable = { MZN_corruption_var = 50 }
		#eco
		set_variable = { MZN_ECO_SITUATION_var = 1 }
		set_variable = { MZN_PCWE_resources_var = -0.25 }
		set_variable = { MZN_PCWE_research_var = -0.50 }
		set_variable = { MZN_PCWE_building_speed_var = -0.50 }
		set_variable = { MZN_PCWE_goods_var = 0.25 }
		set_variable = { MZN_PCWE_trade_var = -0.50 }
		set_variable = { MZN_PCWE_production_efficiency_var = -0.50 }
		set_variable = { MZN_PCWE_max_efficiency_var = -0.50 }
		##eco
		set_country_flag = MZN_path_start
	
		set_variable = { MZN_MAP_N_var = 1 }
		set_variable = { MZN_MAP_R_C_var = 2 }
	
		set_variable = { MZN_RS_var = 0 }
		set_variable = { MZN_BC_var = 1 }
	
		set_variable = { MZN_SWP_var = 3 }
	
		set_variable = { MZN_jezabzella_attitude_punishment = 4 }
		
		#PJDI
		set_variable = { MZN_SC_attitude = 3 }
		set_variable = { MZN_NA_attitude = 1 }
		set_variable = { MZN_SWP_var = 3 }
		##SOW
		set_variable = { MZN_SOW_OSE_left_days = 125 }
		#NZF
		set_variable = { MZN_NZF_reform_speed_var = 0.5 }
		set_variable = { MZN_NZF_decree_time_last = 100 }
		set_variable = { MZN_NZF_decree_cooldown = 150 }
		set_variable = { MZN_NZF_M_var = 0.05 }
		set_variable = { MZN_NZF_in_processing_reform = token:MZN_NZF_no_processing }
		set_variable = { MZN_NZF_decree_show_text = token:MZN_NZF_no_decree_implement }
		##puppet
		set_variable = { MZN_AS_MID = 0.3 }
		set_variable = { MZN_AS_SF = 0.15 }
		set_variable = { MZN_AS_DWSF = 0.25 }
		set_variable = { MZN_AS_CTOF = 0.2 }
		set_variable = { MZN_AS_MTOF = 0.3 }
		set_variable = { MZN_AS_CTOF = 0.3 }
		set_variable = { MZN_ETTORF = 0.75 }
	
		##ACT
		set_variable = { MZN_NZF_constitution_regulations_requirement_NA_NEED = 4 }
		set_variable = { MZN_NZF_constitution_regulations_requirement_SC_NEED = 4 }
	
		#Diplomacy
		set_variable = { MZN_MCW_MI_limited = 60 }
		set_variable = { MZN_MCW_IR_need = 70 }
		set_variable = { MZN_HIP_NW_need = 70 }
		set_variable = { MZN_JER_assistance_var = 50 }
		set_variable = { MZN_EQC_assistance_var = 60 }
	
		#SUZ
		set_variable = { MZN_OCP_BUTTON_frame = 1 }
	
		#OSW
		set_variable = { MZN_OSW_NAVY_VAR = 2 }
		set_variable = { MZN_OSW_LAND_VAR_1 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_2 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_3 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_4 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_5 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_6 = 2 }
		set_variable = { MZN_OSW_LAND_VAR_7 = 2 }
		set_variable = { MZN_OSW_AIR_VAR = 2 }
		set_variable = { MZN_OSW_PROCESS_VAR_NEED = 25 }
		set_variable = { MZN_OSW_progressbar_pointer_pos_var = 9.15 }
	
	
		#ARRAY THINGS
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = TBK }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = HIP }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = WAR }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = ZUM }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = BAT }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = MCW }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = HRV }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = CGI }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = LMB }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = SPL }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = HIN }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = CTL }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = SAM }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = BRS }
		#add_to_array = { MZN_MSFNCP_NZ_MEMBERS_ARRAY = ZAR }
		#SG
		add_to_array = { MZN_SG_assistance_target_array = GRY }
		add_to_array = { MZN_SG_assistance_target_array = MIT }
		add_to_array = { MZN_SG_assistance_target_array = SIC }
		#NZCDP
		add_to_array = { MZN_NZCDP_array = MGY }
		add_to_array = { MZN_NZCDP_array = ABY }
		#transfer navy
		add_to_array = { MZN_transfer_navy_array = HIP }
		add_to_array = { MZN_transfer_navy_array = MCW }

		##decision
		set_variable = { MZN_fund_company_C = 2 }
		set_variable = { MZN_out_put_allow_var = 4 }
		set_variable = { MZN_industrial_decision_cost = 60 }
	}
}

MZN_character_set = {
	hidden_effect = {
		##character
		remove_advisor_role = {
			character = CTH_zauro_ochzor
			slot = high_command
		}

		remove_advisor_role = {
			character = CTH_azizelquart_zahummid
			slot = political_advisor
		}
		
		every_possible_country = {
			limit = {
				has_character = CTH_innalas_zerutra
			}
			CTH_innalas_zerutra = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_zarani_zaalyon_zarra
			}
			CTH_zarani_zaalyon_zarra = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_zenut_zaranzid
			}
			CTH_zenut_zaranzid = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_baltazar_zakbar
			}
			CTH_baltazar_zakbar = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_azizelquart_zahummid
			}
			CTH_azizelquart_zahummid = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_innalas_zerutra
			}
			CTH_azizelquart_zahummid = {
				set_nationality = ROOT
			}
		}
		every_possible_country = {
			limit = {
				has_character = CTH_zamalad_ochzor
			}
			CTH_zamalad_ochzor = {
				set_nationality = ROOT
			}
		}
	}
}

MZN_SET_SCALE = {
	set_variable = {
		var = MZN_scale_balance_var
		value = 3
	}
	set_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = -3
	}
	set_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = -1
	}
	set_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	set_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = -1
	}
}

MZN_ECO_IMPROVE_SITUATION = {
	add_to_variable = {
				var = MZN_PCWE_resources_var
				value = 0.07
			}

			add_to_variable = {
				var = MZN_PCWE_research_var
				value = 0.12
			}

			add_to_variable = {
				var =  MZN_PCWE_building_speed_var
				value = 0.12
			}

			add_to_variable = {
				var = MZN_PCWE_goods_var
				value = -0.06
			}

			add_to_variable = {
				var = MZN_PCWE_trade_var
				value = 0.12
			}

			add_to_variable = {
				var = MZN_PCWE_production_efficiency_var
				value = 0.12
			}

			add_to_variable = {
				var = MZN_PCWE_max_efficiency_var
				value = 0.12
			}
}

MZN_democratic_stability_decrease_corruption = {
	if = {
		limit = {
			check_variable = { MZN_corruption_var > 70 }
		}
		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = 0
		}

		set_variable = {
			var = MZN_corruption_var_calculation_var
			value = MZN_corruption_var
		}

		divide_variable = {
			var = MZN_corruption_var_calculation_var
			value = -30
		}
		round_variable = MZN_corruption_var_calculation_var

		add_to_variable = { MZN_democracy_institution_var = MZN_corruption_var_calculation_var }	
	}
}

MZN_group_of_three_active_check = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_democracy_institution_var > 40 }
				has_country_flag = MZN_group_of_three_flag
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}

	else_if = {
		limit = {
			AND = {
				NOT = {
					has_country_flag = MZN_group_of_three_flag
				}
				has_country_flag = MZN_group_of_three_eliminated_flag
			}
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 2
		}
	}
}

MZN_constitution_amendment_check = {
	if = {
		limit = {
		and = {
			NOT = {
				has_country_flag = MZN_constitution_amendment_done
			}
			has_country_flag = MZN_constitution_amendment_promise_unfulfilled
		}
		}

		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_promise
		}

		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_finished
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 5
		}
	}

	else_if = {
		limit = {
			not = {
				or = {
					has_country_flag = MZN_constitution_amendment_finished
					has_country_flag = MZN_constitution_amendment_promise
					has_country_flag = MZN_constitution_amendment_promise_unfulfilled
				}
			}
		}
		subtract_from_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}
}

MZN_ACTS_CHECK = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = var_MZN_ACT_DIS
	}

	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = var_MZN_ACT_IEF
	}

	add_to_variable = {
		var = MZN_corruption_var
		value = var_MZN_ACT_C
	}
}

MZN_SCALE_CKECK = {
	if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 3
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 3
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 1
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 2
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 4
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_DEMOCRACY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_scale_balance_var
				value = 5
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_DEMOCRACY_DIS_COST
	}
	}
}

MZN_DECREASE_FROM_SCALE_BLANCE_COST = {
	add_to_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = 1
	}
}

MZN_recource_output_check = {
	set_variable = {
		var = MZN_RO_stability_factor 
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_stability_factor 
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_war_support_factor
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_war_support_factor
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = 0.025
	}

	set_variable = {
		var = MZN_RO_research_speed_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_research_speed_factor_var
		value = 0.025
	}

	set_variable = {
		var = MZN_RO_political_power_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_political_power_var
		value = 0.02
	}

	set_variable = {
		var = MZN_RO_trade_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_trade_var
		value = 0.05
	}

	set_variable = {
		var = MZN_RO_local_resources_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_local_resources_factor_var
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_min_export_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_min_export_var
		value = 0.04
	}

	CTH = {
		add_dynamic_modifier = { modifier = MZN_CTH_resource_output }
	}
}


MZN_SCALE_SITUATION_CHANGE_DEMOCRACY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = 1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
}

MZN_SCALE_SITUATION_CHANGE_LIBERTY = {
	add_to_variable = {
		var = MZN_scale_balance_var
		value = -1
	}

	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
}

MZN_advisor_change_DIS = {
	add_to_variable = { MZN_democracy_institution_var = modifier@MZN_DIS_monthly_change } 
}

MZN_advisor_change_IEF = {
	add_to_variable = { MZN_liberty_of_ecomony_var = modifier@MZN_IEF_monthly_change } 
}

MZN_advisor_change_C = {
	add_to_variable = { MZN_corruption_var = modifier@MMZN_C_monthly_change } 
}

MZN_advisor_change_ME = {
	hidden_effect = {
		add_power_balance_value = {
			id = MZN_economy_bop
			value = modifier@MZN_ME_monthly_change
			tooltip_side = MZN_Market_economy
		}
	}
	
}

MZN_advisor_change_PE = {
	hidden_effect = {
		add_power_balance_value = {
			id = MZN_economy_bop
			value = modifier@MZN_PE_monthly_change
			tooltip_side = MZN_planned_economy
		}
	}
	
}


MZN_IEF_change_DIS = {
	if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 60 }
		}
		set_variable = { MZN_IEF_DIS_var = MZN_democracy_institution_var }
		divide_variable = {
			var = MZN_IEF_DIS_var
			value = 20
		}

		round_variable = MZN_IEF_DIS_var

		if = {
			limit = {
				has_country_flag = MZN_planned_economy
			}
			subtract_from_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else_if = {
			limit = {
				has_country_flag = MZN_market_economy
			}
			add_to_variable = {
				var = MZN_liberty_of_ecomony_var
				value = MZN_IEF_DIS_var
			}
		}

		else = {
			set_variable = {
				var = MZN_IEF_DIS_var
				value = 0
			}
		}
	}
	else_if = {
		limit = {
			NOT = {
				OR = {
					has_country_flag = MZN_planned_economy
					has_country_flag = MZN_market_economy
				}
			}
		}
		set_variable = {
			var = MZN_IEF_DIS_var
			value = 0
		}
	}
}

MZN_high_DIS_idea_check = {
	if = {
		limit = {
			check_variable = { MZN_democracy_institution_var > 70 }
		}
		add_ideas = CTH_MZN_stable_of_democracy
	}
	else = {
		remove_ideas = CTH_MZN_stable_of_democracy
	}
}

MZN_C_change_IEF = {
	if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var > 60 }
		}
		set_variable = { MZN_C_change_IEF_var = MZN_liberty_of_ecomony_var }
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
	else_if = {
		limit = {
			check_variable = { MZN_liberty_of_ecomony_var < 60 }
		}
		set_variable = { MZN_C_change_IEF_var = -100 }
		add_to_variable = {
			var = MZN_C_change_IEF_var
			value = MZN_liberty_of_ecomony_var
		}
		divide_variable = {
			var = MZN_C_change_IEF_var
			value = 20
		}
		round_variable = MZN_C_change_IEF_var
		add_to_variable = {
			var = MZN_corruption_var
			value = MZN_C_change_IEF_var
		}
	}
}

MZN_anti_c_tactics = {
	if = {
		limit = {
			has_country_flag = MZN_limited_C_flag
		}
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
		}
		set_variable = {
			value = MZN_corruption_var
			var = 30
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_backroom_C_flag
		}
		set_variable = {
			value = MZN_corruption_var
			var = 60
		}
	}
	else_if = {
		limit = {
			has_country_flag = MZN_no_C_flag
		}
		subtract_from_variable = {
			var = MZN_corruption_var
			value = 1
		}
	}
}

MZN_C_political_power = {
	if = {
		limit = {
			check_variable = { MZN_corruption_var > 30 }
			check_variable = { MZN_corruption_var < 50 }
		}
		add_political_power = 30
	}

	else_if = {
		limit = {
			check_variable = { MZN_corruption_var < 29 }
		}
		add_political_power = -30
	}
}

MZN_C_decision_cost_change = {
	set_variable = { MZN_industrial_decision_cost = 60 }
	if = {
		limit = {
			check_variable = { MZN_corruption_var > 51 }
		}
		set_variable = { MZN_C_D_CHANGE_CAL_VAR = MZN_corruption_var }
		divide_variable = { MZN_C_D_CHANGE_CAL_VAR = 2 }
		round_variable = MZN_C_D_CHANGE_CAL_VAR
		add_to_variable = { MZN_industrial_decision_cost = MZN_C_D_CHANGE_CAL_VAR }
	}
}

MZN_clear_all_anti_C_tactics = {
	clr_country_flag = MZN_limited_C_flag
	clr_country_flag = MZN_backroom_C_flag
	clr_country_flag = MZN_no_C_flag
}

MZN_economic_situation_change_detail_check = {
	activate_mission = MZN_Economic_situation_change_check
	MZN_advisor_change_ME = YES
	MZN_advisor_change_PE = YES
	if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var < 40 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = -0.02
   			tooltip_side = MZN_Planned_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}
		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = -0.02
		}
		}
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_liberty_of_ecomony_var > 60 }
			}
		}
		hidden_effect = {
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = 0.05
   			tooltip_side = MZN_Market_economy
		}
		add_power_balance_value = {
    		id = MZN_economy_bop
    		value = MZN_economic_change_additional_modifier
   			tooltip_side = MZN_Market_economy
		}

		set_variable = { MZN_ES_SHOW = MZN_economic_change_additional_modifier }
		add_to_variable = { 
			var = MZN_ES_SHOW
			value = 0.05
		}
		}
	}
}


MZN_JUNTA_EFFECT = {
	set_country_flag = MZN_Junta_flag
	set_variable = { MZN_democracy_institution_var = -999 }
	set_variable = { MZN_liberty_of_ecomony_var = -999 }
	set_variable = { MZN_corruption_var = -999 }
	#set_variable = { MZN_scale_balance_var = 6 }
}

MZN_debug_ideas_remove = {
	remove_ideas = {
		zebrica_legacy_of_storm2
		CTH_army_of_merceneries
		CTH_political_instability
	}

	remove_dynamic_modifier = {
		modifier = CTH_factions_modifier
	}
	every_possible_country = {
		limit = {
			has_character = CVA_zanit_monzano
		}
		set_portraits = {
			character = CVA_zanit_monzano
			civilian = { large="gfx/leaders/CTH_MZN/CTH_MZN_Monzano_pinless.tga" }
		}
		CVA_zanit_monzano = {
			set_nationality = ROOT
		}
	}
	set_politics = {
		ruling_party = neutrality
	}
	add_country_leader_role = {
		character = CVA_zanit_monzano
		promote_leader = yes
		
		country_leader = {
			desc = "CTH_ZANIT_MONZANO_DESC"
			expire = "1965.1.1"
			ideology = conservative_liberalism
			traits = { }
		}
	}
}

MZN_CLEAR_scale_state = {
	remove_ideas = {
		CTH_MZN_scale_liberty_lead
		CTH_MZN_scale_liberty_pro
		CTH_MZN_scale_balanced
		CTH_MZN_scale_democracy_pro
		CTH_MZN_scale_democracy_lead
	}
}

MZN_SET_SCALE_STATE = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_ideas = CTH_MZN_scale_liberty_lead
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_ideas = CTH_MZN_scale_liberty_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}
		add_ideas = CTH_MZN_scale_balanced
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_ideas = CTH_MZN_scale_democracy_pro
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_ideas = CTH_MZN_scale_democracy_lead
	}
}

MZN_scale_change_democracy = {
	add_to_variable = { MZN_scale_balance_var = 1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		max = 5
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_democracy_tt
}

MZN_scale_change_liberty = {
	add_to_variable = { MZN_scale_balance_var = -1 }
	clamp_variable = {
		var = MZN_scale_balance_var
		min = 1
	}
	hidden_effect = {
		MZN_CLEAR_scale_state = yes
		MZN_SET_SCALE_STATE = yes
	}
	custom_effect_tooltip = MZN_scale_change_liberty_tt
}


##ACTS SET EFFECT

MZN_ACT_CLEAR_ALL_ACT = {
	clr_country_flag = MZN_ACT_cabinet
	clr_country_flag = MZN_ACT_constitution_amendment
	clr_country_flag = MZN_limited_resource_export_act_flag
	clr_country_flag = MZN_military_production_expansion_act_flag
	clr_country_flag = MZN_national_emergency_act_flag
	clr_country_flag = MZN_enterprise_investment_freedom_act_flag
	clr_country_flag = MZN_colthaginian_energe_protection_act_flag
	clr_country_flag = MZN_NZ_free_trade_act_flag
	clr_country_flag = MZN_NZF_constitution_regulations_flag
	clr_country_flag = MZN_colthaginian_labor_right_protection_act_flag
}

MZN_ACT_CLEAR_EFFECT = {
	set_variable = { MZN_TOE_ACT_BAR_var = 0 }
	set_variable = { MZN_TOE_DAYS_COUNTING_var = 0 }
	add_to_variable = { MZN_influence_NA_recently_var = -1 }
	IF = {
		limit = {
			check_variable = { MZN_influence_SC_recently_var > 1 }
		}
		add_to_variable = { MZN_influence_SC_recently_var = -1 }
	}
	clamp_variable = {
		var = MZN_influence_NA_recently_var
		min = 0
	}
	MZN_ACT_CLEAR_ALL_ACT = yes
	set_variable = { MZN_ACT_NA_need_var = 0 }
	set_variable = { MZN_ACT_SC_need_var = 0 }
	clr_country_flag = MZN_ACT_under_voting
}

MZN_successful_effect = {
	if = {
		limit = {
			has_country_flag = MZN_limited_resource_export_act_flag
		}
		set_country_flag = MZN_limited_resource_export_act_passed
		add_to_variable = { MZN_ACT_modifier_PP = 0.1 }
		add_to_variable = { MZN_ACT_modifier_ME = 0.05 }
		add_to_variable = { var_MZN_ACT_IEF = -1 }
		add_to_variable = { var_MZN_ACT_DIS = 1 }
		add_to_variable = { MZN_economic_change_additional_modifier = -0.01 }
		custom_effect_tooltip = MZN_limited_resource_export_act_passed_tt
	}

	else_if = {
		limit = {
			has_country_flag = MZN_military_production_expansion_act_flag
		}
		add_to_variable = { MZN_ACT_modifier_PP = -0.1 }
		add_to_variable = { MZN_ACT_modifier_SF = -0.10 }
		add_to_variable = { MZN_ACT_modifier_PSAFF = 0.25 }
		add_to_variable = { var_MZN_ACT_DIS = -1 }
		add_to_variable = { MZN_ACT_modifier_MIOFG = 0.2 }
		add_to_variable = { MZN_economic_change_additional_modifier = -0.01 }
	}

	else_if = {
		limit = {
			has_country_flag = MZN_national_emergency_act_flag
		}
		MZN_AOS_var_great_increase = YES
		MZN_decrease_IR = yes
		mzn_increase_MI = yes
		add_to_variable = { MZN_ACT_modifier_PP = -0.1 }
		add_to_variable = { var_MZN_ACT_DIS = -1 }
		add_to_variable = { MZN_ACT_modifier_WSF = 0.2 }
		add_to_variable = { MZN_ACT_modifier_SF = -0.10 }
		add_to_variable = { MZN_ACT_modifier_MS = 0.2 }
		add_to_variable = { MZN_ACT_modifier_C = 0.05 }
		add_to_variable = { MZN_ACT_modifier_ICF = 0.10 }
	}

	else_if = {
		limit = {
			has_country_flag = MZN_colthaginian_labor_right_protection_act_flag
		}
		add_to_variable = { MZN_ACT_modifier_PP = -0.05 }
		add_to_variable = { MZN_ACT_modifier_ICF = 0.05 }
		add_to_variable = { MZN_ACT_modifier_PSBF = 0.05 }
		add_to_variable = { MZN_ACT_modifier_CD = 0.002 }
		add_to_variable = { var_MZN_ACT_DIS = 1 }
	}

	else_if = {
		limit = {
			has_country_flag = MZN_enterprise_investment_freedom_act_flag
		}
		add_to_variable = { MZN_ACT_modifier_PP = 0.1 }
		add_to_variable = { var_MZN_ACT_IEF = 1 }
		add_to_variable = { MZN_C_BD_var = 1 }
		add_to_variable = { MZN_ACT_modifier_ME = -0.10 }
		add_to_variable = { MZN_ACT_modifier_ICD = 0.20 }
		add_to_variable = { MZN_economic_change_additional_modifier = 0.01 }
	}

	else_if = {
		limit = {
			has_country_flag = MZN_colthaginian_energe_protection_act_flag
		}
		add_to_variable = { MZN_ACT_modifier_PP = -0.1 }
		add_to_variable = { MZN_ACT_modifier_SF = 0.10 }
		add_to_variable = { MZN_ACT_modifier_LRF = 0.10 }
		add_to_variable = { MZN_C_BD_var = -1 }
		add_to_variable = { MZN_ACT_modifier_ME = -0.15 }
		add_to_variable = { MZN_economic_change_additional_modifier = -0.01 }
	}

	else_if = {
		limit = {
			has_country_flag = MZN_NZ_free_trade_act_flag
		}
		MZN_INCREASE_IR = YES
		add_to_variable = { MZN_ACT_modifier_PP = 0.05 }
		add_to_variable = { MZN_ACT_modifier_ME = 0.10 }
		add_to_variable = { MZN_ACT_modifier_ICF = 0.10 }
		add_to_variable = { MZN_ACT_modifier_PSBF = 0.10 }
		add_to_variable = { MZN_C_BD_var = 1 }
		add_to_variable = { var_MZN_ACT_IEF = 1 }
		add_to_variable = { MZN_out_put_allow_var = 2 }
		add_to_variable = { MZN_economic_change_additional_modifier = 0.02 }
		set_country_flag = MZN_NZ_free_trade_act_pass

		if = {
			limit = {
				has_country_flag = MZN_trading_big_succeed
			}
			add_to_variable = { MZN_ACT_modifier_PP = 0.05 }
			add_to_variable = { MZN_ACT_modifier_ICF = 0.05 }
			add_to_variable = { MZN_ACT_modifier_PSBF = 0.05 }
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_NZF_constitution_regulations_flag
		}
		MZN_INCREASE_IR = YES
		MZN_decrease_MI = yes
		add_to_variable = { MZN_ACT_modifier_PP = 0.15 }
		add_to_variable = { MZN_NZFCC_remform_day_requirement_var = -60 }
	}

	else = {

	}
	set_country_flag = MZN_ACT_GUI_OPEN
}

MZN_limited_resource_export_act_requirement = {
	set_country_flag = MZN_conservative_act
	set_country_flag = MZN_limited_resource_export_act_flag
	set_variable = { MZN_ACT_NA_need_var = 2 }
	set_variable = { MZN_ACT_SC_need_var = 2 }
}

MZN_military_production_expansion_act_requirement = {
	set_country_flag = MZN_conservative_act
	set_country_flag = MZN_military_production_expansion_act_flag
	set_variable = { MZN_ACT_NA_need_var = 1 }
	set_variable = { MZN_ACT_SC_need_var = 1 }
}

MZN_national_emergency_act_requirement = {
	set_country_flag = MZN_conservative_act
	set_country_flag = MZN_national_emergency_act_flag
	set_variable = { MZN_ACT_NA_need_var = 1 }
	set_variable = { MZN_ACT_SC_need_var = 1 }
}

MZN_colthaginian_labor_right_protection_act_requirement = {
	set_country_flag = MZN_progressive_act
	set_country_flag = MZN_colthaginian_labor_right_protection_act_flag
	set_variable = { MZN_ACT_NA_need_var = 3 }
	set_variable = { MZN_ACT_SC_need_var = 2 }
}

MZN_enterprise_investment_freedom_act_requirement = {
	set_country_flag = MZN_progressive_act
	set_country_flag = MZN_enterprise_investment_freedom_act_flag
	set_variable = { MZN_ACT_NA_need_var = 3 }
	set_variable = { MZN_ACT_SC_need_var = 3 }
}

MZN_colthaginian_energe_protection_act_requirement = {
	set_country_flag = MZN_conservative_act
	set_country_flag = MZN_colthaginian_energe_protection_act_flag
	set_variable = { MZN_ACT_NA_need_var = 1 }
	set_variable = { MZN_ACT_SC_need_var = 2 }
}

MZN_NZ_free_trade_act_requirement = {
	set_country_flag = MZN_progressive_act
	set_country_flag = MZN_NZ_free_trade_act_flag
	set_variable = { MZN_ACT_NA_need_var = 3 }
	set_variable = { MZN_ACT_SC_need_var = 3 }
}

MZN_NZF_constitution_regulations_requirement = {
	set_country_flag = MZN_progressive_act
	set_country_flag = MZN_NZF_constitution_regulations_flag
	set_variable = { MZN_ACT_NA_need_var = MZN_NZF_constitution_regulations_requirement_NA_NEED }
	set_variable = { MZN_ACT_SC_need_var = MZN_NZF_constitution_regulations_requirement_SC_NEED }
}

##Variable change

MZN_Slightly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_DIS_TEXT
}

MZN_Slightly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_IEF_TEXT
}

MZN_Slightly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 2
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_C_TEXT
}

MZN_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_DIS_TEXT
}

MZN_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_IEF_TEXT
}

MZN_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 5
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_C_TEXT
}

MZN_significantly_increase_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_DIS_TEXT
}

MZN_significantly_increase_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = 7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_IEF_TEXT
}

MZN_significantly_increase_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = 7
	}
	clamp_variable = {
		var = MZN_corruption_var
		max = 100
	}
	custom_effect_tooltip = MZN_significantly_increase_C_TEXT
}



MZN_Slightly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -2
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_DIS_TEXT
}

MZN_Slightly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -2
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_IEF_TEXT
}

MZN_Slightly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -2
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_C_TEXT
}

MZN_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -5
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_DIS_TEXT
}

MZN_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -5
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_IEF_TEXT
}

MZN_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -5
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_C_TEXT
}

MZN_significantly_decrease_DIS = {
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = -7
	}

	clamp_variable = {
		var = MZN_democracy_institution_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_DIS_TEXT
}

MZN_significantly_decrease_IEF = {
	add_to_variable = {
		var = MZN_liberty_of_ecomony_var
		value = -7
	}

	clamp_variable = {
		var = MZN_liberty_of_ecomony_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_IEF_TEXT
}

MZN_significantly_decrease_C = {
	add_to_variable = {
		var = MZN_corruption_var
		value = -7
	}
	clamp_variable = {
		var = MZN_corruption_var
		min = 0
	}
	custom_effect_tooltip = MZN_significantly_decrease_C_TEXT
}


MZN_add_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = 0.01
	}
	custom_effect_tooltip = MZN_add_ES_addition_text
}

MZN_reduce_ES_addition = {
	add_to_variable = {
		var = MZN_economic_change_additional_modifier
		value = -0.01
	}
	custom_effect_tooltip = MZN_reduce_ES_addition_text
}

MZN_policy_DIS_increase = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = 1
	}
	custom_effect_tooltip = MZN_policy_DIS_increase_text
}

MZN_policy_IEF_increase = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = 1
	}
	custom_effect_tooltip = MZN_policy_IEF_increase_text
}

MZN_BR_C_increase = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = 1
	}
	custom_effect_tooltip = MZN_BR_C_increase_text
}

MZN_policy_DIS_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_DIS
		value = -1
	}
	custom_effect_tooltip = MZN_policy_DIS_decrease_text
}

MZN_policy_IEF_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_IEF
		value = -1
	}
	custom_effect_tooltip = MZN_policy_IEF_decrease_text
}

MZN_BR_C_decrease = {
	add_to_variable = {
		var = var_MZN_ACT_C
		value = -1
	}
	custom_effect_tooltip = MZN_BR_C_decrease_text
}

MZN_AOS_var_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 5
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_increase_text
}

MZN_AOS_var_great_increase = {
	add_to_variable = {
		var = MZN_AOS_var
		value = 10
	}

	clamp_variable = {
		var = MZN_AOS_var
		max = 100
	}
	custom_effect_tooltip = MZN_AOS_var_great_increase_text
}

MZN_AOS_var_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -5
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_AOS_var_great_decrease = {
	add_to_variable = {
		var = MZN_AOS_var
		value = -10
	}

	clamp_variable = {
		var = MZN_AOS_var
		min = 0
	}
	custom_effect_tooltip = MZN_AOS_var_great_decrease_text
}

MZN_SWP_decrease = {
	add_to_variable = { MZN_SWP_var = -1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		min = 0
	}
	custom_effect_tooltip = MZN_SWP_decrease_tt
}

MZN_SWP_increase = {
	add_to_variable = { MZN_SWP_var = 1 }
	clamp_variable = {
		var = MZN_AOS_var_great_decrease
		max = 5
	}
	custom_effect_tooltip = MZN_SWP_increase_tt
}

MZN_SC_support_conservatist = {
	add_to_variable = { MZN_PJDI_SC_attitude = -1 }
	clamp_variable = {
		var = MZN_PJDI_SC_attitude
		min = 1
	}
	custom_effect_tooltip = MZN_SC_support_conservatist_tt
}

MZN_SC_support_reformist = {
	add_to_variable = { MZN_PJDI_SC_attitude = 1 }
	clamp_variable = {
		var = MZN_PJDI_SC_attitude
		max = 3
	}
	custom_effect_tooltip = MZN_SC_support_reformist_tt
}

MZN_NA_support_conservatist = {
	add_to_variable = { MZN_PJDI_NA_attitudee = -1 }
	clamp_variable = {
		var = MZN_PJDI_NA_attitude
		min = 1
	}
	custom_effect_tooltip = MZN_SC_support_conservatist_tt
}

MZN_NA_support_reformist = {
	add_to_variable = { MZN_PJDI_NA_attitude = 1 }
	clamp_variable = {
		var = MZN_PJDI_NA_attitude
		max = 3
	}
	custom_effect_tooltip = MZN_SC_support_reformist_tt
}

MZN_investigation_envidence_get = {
	add_to_variable = { MZN_investigation_envidence = 1 }
	#custom_effect_tooltip = MZN_investigation_envidence_get_tt
}

MZN_military_con_add = {
	add_to_variable = { MZN_military_con_support = 1 }
	custom_effect_tooltip = MZN_military_con_add_tt
}

MZN_military_ref_add = {
	add_to_variable = { MZN_military_con_support = 1 }
	custom_effect_tooltip = MZN_military_ref_add_tt
}

MZN_increase_IR = {
	add_to_variable = { MZN_IR_var = 10 }
	clamp_variable = {
		var = MZN_IR_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_IR_tt
}

MZN_slightly_increase_IR = {
	add_to_variable = { MZN_IR_var = 5 }
	clamp_variable = {
		var = MZN_IR_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_IR_tt
}

MZN_decrease_IR = {
	add_to_variable = { MZN_IR_var = -10 }
	clamp_variable = {
		var = MZN_IR_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_IR_tt
}

MZN_slightly_decrease_IR = {
	add_to_variable = { MZN_IR_var = -5 }
	clamp_variable = {
		var = MZN_IR_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_IR_tt
}

MZN_slightly_increase_MI = {
	add_to_variable = { MZN_MI_var = 5 }
	clamp_variable = {
		var = MZN_MI_var
		max = 100
	}
	custom_effect_tooltip = MZN_slightly_increase_MI_tt
}

MZN_slightly_decrease_MI = {
	add_to_variable = { MZN_MI_var = -5 }
	clamp_variable = {
		var = MZN_MI_var
		min = 0
	}
	custom_effect_tooltip = MZN_slightly_decrease_MI_tt
}

MZN_increase_MI = {
	add_to_variable = { MZN_MI_var = 10 }
	clamp_variable = {
		var = MZN_MI_var
		max = 100
	}
	custom_effect_tooltip = MZN_increase_MI_tt
}

MZN_decrease_MI = {
	add_to_variable = { MZN_MI_var = -10 }
	clamp_variable = {
		var = MZN_MI_var
		min = 0
	}
	custom_effect_tooltip = MZN_decrease_MI_tt
}

##constitution amendment

MZN_RS_VAR_increase = {
	add_to_variable = { MZN_RS_var = 1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 2
	}
	custom_effect_tooltip = MZN_RS_VAR_increase_tt
}

MZN_RS_VAR_decrease = {
	add_to_variable = { MZN_RS_var = -1 }]
	clamp_variable = {
		var = MZN_RS_var
		max = 0
	}
	custom_effect_tooltip = MZN_RS_VAR_decrease_tt
}

MZN_BC_var_increase = {
	add_to_variable = { MZN_BC_var = 1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 2
	}
	custom_effect_tooltip = MZN_BC_var_increase_tt
}

MZN_BC_var_decrease = {
	add_to_variable = { MZN_BC_var = -1 }]
	clamp_variable = {
		var = MZN_BC_var
		max = 0
	}
	custom_effect_tooltip = MZN_BC_var_increase_tt
}

MZN_reformist_support_increase = {
	add_to_variable = { MZN_reformist_support = 1 }
	custom_effect_tooltip = MZN_reformist_support_tt
}

MZN_reformist_support_decrease = {
	add_to_variable = { MZN_reformist_support = -1 }
	custom_effect_tooltip = MZN_reformist_unsupport_tt
}

MZN_conservatist_support_increase = {
	add_to_variable = { MZN_conservatist_support = 1 }
	custom_effect_tooltip = MZN_conservatist_support_tt
}

MZN_conservatist_support_DEcrease = {
	add_to_variable = { MZN_conservatist_support = -1 }
	custom_effect_tooltip = MZN_conservatist_unsupport_tt
}

MZN_scale_balance_support_calculation = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}
		add_to_variable = { MZN_reformist_support = -1 }
		add_to_variable = { MZN_conservatist_support = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}
		add_to_variable = { MZN_reformist_support = 0 }
		add_to_variable = { MZN_conservatist_support = 3 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}
		add_to_variable = { MZN_reformist_support = 3 }
		add_to_variable = { MZN_conservatist_support = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}
		add_to_variable = { MZN_reformist_support = 2 }
		add_to_variable = { MZN_conservatist_support = -1 }
	}
}

MZN_constitution_amendment_reformist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 4 }
				check_variable = { MZN_reformist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 6 }
				check_variable = { MZN_reformist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_reformist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_conservatist_vote = {
	if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support < 3 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 4 }
				check_variable = { MZN_conservatist_support < 5 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 6 }
				check_variable = { MZN_conservatist_support < 7 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			and = {
				check_variable = { MZN_conservatist_support > 8 }
			}
		}
		add_to_variable = { MZN_CA_chance_of_pass = 15 }
	}
}

MZN_constitution_amendment_SWP_check = {
	if = {
		limit = {
			check_variable = { MZN_SWP_var < 2 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = -5 }
	}

	if = {
		limit = {
			check_variable = { MZN_SWP_var = 3 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 0 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_SWP_var > 4 }
		}
		add_to_variable = { MZN_CA_chance_of_pass = 5 }
	}
}

MZN_constitution_amendment_scientifid_check = {
	if = {
		limit = {
			and = {
				has_country_flag = MZN_intervene_scientifid_internal_fight
				check_variable = { MZN_reformist_scientifid_support_var > 3 }
			}
		}

		add_to_variable = { MZN_conservatist_support = -2 }
		custom_effect_tooltip = MZN_intervene_spotted
	}

	else_if = {
		limit = {
			has_country_flag = MZN_intervene_scientifid_internal_fight
			check_variable = { MZN_reformist_scientifid_support_var < 2 }
		}
		hidden_effect = {
			MZN_NA_support_reformist = yes
		}
		add_to_variable = { MZN_reformist_support = 1 }
	}

	else = {

	}
}

MZN_constitution_amendment_NA_attitude_check = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var > 4 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var < 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 1 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 30 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_NA_attitude = 2 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 20 }
		}

		if = {
			limit = {
				check_variable = { MZN_NA_attitude = 3 }
			}
			add_to_variable = { MZN_CA_chance_of_pass = 10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 3 }
		}

	}
}

MZN_Constitution_amendment_RS_check = {
	if = {
		limit = {
			check_variable = { MZN_RS_var = 0 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 1 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_RS_var = 2 }
		}

		if = {
			limit = {
				check_variable = { MZN_scale_balance_var < 2 }
			}
			add_to_variable = { MZN_chance_of_pass = -15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = 15 }
		}

		else_if = {
			limit = {
				check_variable = { MZN_scale_balance_var = 3 }
			}
		}
	}
}

MZN_Constitution_amendment_BC_check = {
	if = {
		limit = {
			check_variable = { MZN_BC_var = 0 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var > 50 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 1 }
		}
		add_to_variable = { MZN_chance_of_pass = 10 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_BC_var = 2 }
		}
		add_to_variable = { MZN_chance_of_pass = 5 }
		if = {
			limit = {
				check_variable = { MZN_corruption_var < 30 }
			}
			add_to_variable = { MZN_chance_of_pass = 10 }
		}
		if = {
			limit = {
				check_variable = { MZN_scale_balance_var > 4 }
			}
			add_to_variable = { MZN_chance_of_pass = -10 }
		}
	}
}

MZN_constitution_amendment_random_calculation = {
	hidden_effect = {
		random_list = {
			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = -4 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = -3 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = -2 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = -1 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = -0 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = 1 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = 2 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = 3 }
			}

			1 = {
				add_to_variable = { MZN_CA_chance_of_pass = 4 }
			}
		}	
	}
}

MZN_constitution_amendment_final_check_1 = {
	MZN_constitution_amendment_SWP_check = yes
	MZN_constitution_amendment_NA_attitude_check = yes
	MZN_Constitution_amendment_RS_check = yes
	MZN_Constitution_amendment_BC_check = yes
}

MZN_constitution_amendment_final_check_2 = {
	MZN_scale_balance_support_calculation = yes
	MZN_constitution_amendment_scientifid_check = yes
	MZN_constitution_amendment_reformist_vote = yes
	MZN_constitution_amendment_conservatist_vote = yes
}

MZN_constitution_amendment_final_check_3 = {
	MZN_constitution_amendment_random_calculation = yes
	add_to_variable = { MZN_CA_chance_of_pass = MZN_CA_important_member_support_var }
}

##SOW effect

MZN_diplomatic_variable_set = {
	set_variable = { MZN_calculate_IR_var = MZN_AOS_var }
	multiply_variable = { MZN_calculate_IR_var = 0.5 }
	round_variable = MZN_calculate_IR_var
	add_to_variable = { MZN_IR_var = MZN_calculate_IR_var }

	set_variable = { MZN_calculate_MI_var = 100 }
	subtract_from_variable = { MZN_calculate_MI_var = MZN_AOS_var }
	add_to_variable = { MZN_calculate_MI_var = ROOT.stability }
	divide_variable = { MZN_calculate_MI_var = 10 }
	round_variable = MZN_calculate_MI_var
	add_to_variable = { MZN_MI_var = MZN_calculate_MI_var }
	custom_effect_tooltip = MZN_diplomatic_variable_set_tt
}

MZN_calculate_liberation_war_counter = {
	if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 1 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 150 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 2 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 100 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 4 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 80 }
	}
	else_if = {
		limit = {
			check_variable = { MZN_scale_balance_var = 5 }
		}

		add_to_variable = { MZN_liberation_war_counter_var = 100 }
	}
}

MZN_add_war_counter_20 = {
	add_to_variable = { MZN_liberation_war_counter_var = 20 }
	custom_effect_tooltip = MZN_add_war_counter_20_tt
}

MZN_add_war_counter_30 = {
	add_to_variable = { MZN_liberation_war_counter_var = 30 }
	custom_effect_tooltip = MZN_add_war_counter_30_tt
}

MZN_add_war_counter_50 = {
	add_to_variable = { MZN_liberation_war_counter_var = 50 }
	custom_effect_tooltip = MZN_add_war_counter_50_tt
}

MZN_add_war_counter_75 = {
	add_to_variable = { MZN_liberation_war_counter_var = 75 }
	custom_effect_tooltip = MZN_add_war_counter_75_tt
}

MZN_SOW_clr_all_country_flags = {
	clr_country_flag = MZN_SOW_CTH_selected
	clr_country_flag = MZN_SOW_CVA_CDR_selected
	clr_country_flag = MZN_SOW_MCW_selected
	clr_country_flag = MZN_SOW_HIP_WAR_selected
	clr_country_flag = MZN_SOW_BAT_selected
	clr_country_flag = MZN_SOW_SNZ_selected
	clr_country_flag = MZN_SOW_CTL_selected
}

MZN_SOW_OPERATION_FLAG_clr_all = {
	clr_country_flag = MZN_SOW_one_operation_selected
	clr_country_flag = MZN_SOW_OSE_selected
	clr_country_flag = MZN_SOW_OO_selected
	clr_country_flag = MZN_SOW_OJ_selected
}

MZN_SOW_MCW_AID_EFFECT = {
	add_to_variable = { MZN_MCW_cooperation_var = 1 }
	custom_effect_tooltip = MZN_SOW_MCW_AID_EFFECT_tt
}

MZN_LIBERATION_WAR_effect = {
			set_country_flag = MZN_NZ_liberation_war_started
			if = {
				limit = {
					ZAR = {
						not = {
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = ZAR
					type = annex_everything
				}
			}

			if = {
				limit = {
					TBK = {
						not = {
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = TBK
					type = annex_everything
				}
			}
			if = {
				limit = {
					WAR = {
						not = {
							any_guaranteed_country = {
								tag = HIP
							}
							controls_state = 697
						}
					}
				}

				declare_war_on = {
					target = WAR
					type = annex_everything
				}
			}
			##ur controls it - but how? maybe i should just bypass this focus if you lauch the war before this.

			if = {
				limit = {
					
				}
				if = {
					limit = {
						697 = {
							is_controlled_by_ROOT_or_ally = yes
						}
					}
					CTH = {
						declare_war_on = {
							target = BAT
							  type = annex_everything
						}
						declare_war_on = {
							target = HIP
							type = annex_everything
						}
						set_country_flag = MZN_CTH_ally_decision_unlocks
						set_country_flag = MZN_liberation_war_start
					}
				}
				##HIP HAS ZUM
				else_if = {
					limit = {
						or = {
							HIP = {
								controls_state = 697
							}
						
							ZUM = {
								is_puppet_of = hip
							}
						}
					}
					declare_war_on = {
						target = BAT
						type = annex_everything
					}
					HIP = {
						country_event = colthage_monzano_diplomacy.22
					}
					set_country_flag = MZN_CTH_ally_decision_unlocks
					set_country_flag = MZN_liberation_war_start
				}
	
				##HIP NOT HAS ZUM
				else_if = {
					limit = {
						NOT = {
							and = {
								HIP = {
									controls_state = 697
								}
						
								ZUM = {
									controls_state = 697
								}
							}
						}
					}
	
					set_country_flag = MZN_CTH_ally_decision_unlocks
					set_country_flag = MZN_liberation_war_start

					declare_war_on = {
						target = MZN_tag_control_697
						type = annex_everything
					}
	
					if = {
						limit = {
							BAT = {
								not = {
									controls_state = 697
								}
							}
						}
	
							declare_war_on = {
								target = BAT
								type = annex_everything
							}
					}
	
					if = {
						limit = {
							HIP = {
								NOT = {
									or = {
										has_country_leader = {
											ruling_only = yes
											character = HIP_skystar
										}
									}
								}
							}
						}
	
							declare_war_on = {
								target = HIP
								type = annex_everything
							}
					}
	
					else_if = {
						limit = {
							HIP = {
								or = {
									has_country_leader = {
										ruling_only = yes
										character = HIP_skystar
									}
								}
							}
						}
						country_event = colthage_monzano_diplomacy.29
					}
				}
			}
}

MZN_MCW_sanction_calculation = {
	if = {
		limit = {
			MIT = {
				exists = yes
			}
			has_country_flag = MZN_MIT_favor
		}
		add_to_variable = { MZN_sanction_var = 1 }
	}
	if = {
		limit = {
			GRU = {
				exists = yes
			}
			has_country_flag = MZN_GRU_favor
		}
		add_to_variable = { MZN_sanction_var = 1 }
	}
	if = {
		limit = {
			and = {
				HIP = {
					NOT = {
						has_war_with = ROOT
					}
				}
				or = {
					has_country_flag = MZN_HIP_favor
					HIP = {
						is_puppet_of = ROOT
					}
				}
			}
		}
		add_to_variable = { MZN_sanction_var = 1 }
	}
	if = {
		limit = {
			ZES = {
				exists = yes
				is_in_faction_with = ROOT
			}
		}
		add_to_variable = { MZN_sanction_var = 1 }
	}

	if = {
		limit = {
			has_country_flag = MZN_new_mareland_favor
		}
		add_to_variable = { MZN_sanction_var = 1 }
	}
	set_variable = { MZN_sanction_cal_1_var = MZN_sanction_var }
	set_variable = { MZN_sanction_cal_2_var = MZN_sanction_var }
	multiply_variable = { MZN_sanction_cal_1_var = -0.04 }
	set_variable = { MZN_MCW_WAR_TS_CGF_var = MZN_sanction_cal_1_var }
	set_variable = { MZN_MCW_WAR_TS_ICF_var = MZN_sanction_cal_1_var }
	multiply_variable = { MZN_sanction_cal_2_var = -0.001 }
	set_variable = { MZN_MCW_WAR_TS_SWF_var = MZN_sanction_cal_2_var }
	set_variable = { MZN_MCW_WAR_TS_WSWF_var = MZN_sanction_cal_2_var }
}

##NZF effect

MZN_NZF_clr_allset = {
	set_variable = { MZN_NZF_top_bar_CF_var = 1 }
	set_variable = { MZN_NZF_top_bar_GR_var = 1 }
	set_variable = { MZN_NZF_top_bar_SB_var = 1 }
	clr_country_flag = MZN_NZF_CF_chosen_flag
	clr_country_flag = MZN_NZF_GR_chosen_flag
	clr_country_flag = MZN_NZF_SB_chosen_flag
}

MZN_NZF_quit_panel_set = {
	MZN_NZF_clr_allset = yes
	set_variable = { MZN_NZF_top_bar_GR_var = 2 }
	set_country_flag = MZN_NZF_GR_chosen_flag
}

MZN_reform_choose_clear = {
	set_country_flag = { MZN_NZF_reform_finished_text_check_var_CF = 0 }
	set_country_flag = { MZN_NZF_reform_finished_text_check_var_PR = 0 }
	set_country_flag = { MZN_NZF_reform_finished_text_check_var_FF = 0 }
}

MZN_NZF_reform_effects = {
	##CF
	if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_CF_1_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 0.05 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PPF = 0.05 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_MID = 0.03}
		add_to_array = {
			array = MZN_NZF_CF_finished_array
			value = 1
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_CF_2_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_MID = 0.03 }
		set_country_flag = MZN_MOFA_decision_unlocks
		add_to_array = {
			array = MZN_NZF_CF_finished_array
			value = 2
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_CF_3_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_IFRF = 0.2 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_POF = 0.2 }
		add_to_variable = { MZN_AS_CTOF = 0.10 }
		add_to_variable = { MZN_AS_MTOF = -0.5 }
		add_to_array = {
			array = MZN_NZF_CF_finished_array
			value = 3
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_CF_4_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_ICF = -0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_CGF = -0.15}
		add_to_array = {
			array = MZN_NZF_CF_finished_array
			value = 4
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_CF_5_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = -0.10 }
		set_variable = { MZN_NZF_M_var = 0.10 }
		add_to_array = {
			array = MZN_NZF_CF_finished_array
			value = 5
		}
	}
	##GR

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_1_t }
		}
		add_to_variable = { local_resources_factor = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PSBF = 0.10 }
		set_country_flag = MZN_more_resource_decisions
		set_country_flag = MZN_R_I_decree_unlocks
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 1
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_2_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PPF = 0.10 }
		add_to_variable = { MZN_NZF_reform_speed_var = 0.1 }
		MZN_decrease_mi = yes
		set_country_flag = MZN_P_decree_unlocks
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 2
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_3_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_FTOF = 0.25 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PSBF = 0.10 }
		MZN_INCREASE_IR = YES
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 3
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_4_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_LBS = 2 }
		set_country_flag = MZN_Infrastructure_SC_unlocks
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 4
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_5_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_CF = 0.15 }
		set_country_flag = MZN_M_decree_unlocks
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 5
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_6_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_CGF = -0.10}
		if = {
			limit = {
				has_country_flag = MZN_fair_fail
			}

		}

		else_if = {
			limit = {
				has_country_flag = MZN_fair_small_success
			}
			add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PPF = 0.07}
			add_to_variable = { MZN_AS_CTOF = 0.07 }
		}

		else_if = {
			limit = {
				has_country_flag = MZN_trading_big_succeed
			}
			add_to_variable = { MZN_AS_CTOF = 0.15 }
		}
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 6
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_7_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 0.07 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PPF = 0.08 }
		set_country_flag = MZN_law_making_locked
		for_each_scope_loop = {
			array = MZN_MSFNCP_NZ_MEMBERS_ARRAY
			add_dynamic_modifier = {
				modifier = MZN_ACT_modifier
			}
		}
		set_country_flag = MZN_INT_decree_unlocks
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 7
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_PR_8_t }
		}
		for_each_scope_loop = {
			array = MZN_MSFNCP_NZ_MEMBERS_ARRAY
			CTH = {
				annex_country = {
					target = PREV
					transfer_troops = yes
				}
			}
		}
		add_to_array = {
			array = MZN_NZF_PR_finished_array
			value = 8
		}
	}
	
	##SB

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_FF_1_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_ICF = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PSBF = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_CGF = -0.03 }
		add_to_variable = { MZN_NZF_reform_speed_var = 0.05 }
		add_to_variable = { MZN_DIS_monthly_change = 1 }
		add_to_array = {
			array = MZN_NZF_FF_finished_array
			value = 1
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_FF_2_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_PPF = 0.05 }
		if = {
			limit = {
				HIP = {
					is_puppet_of = ROOT
				}
			}
			end_puppet = HIP
			HIP = {
				set_country_flag = MZN_NZF_decision_unlocks
				set_country_flag = MZN_FO_unlocks
			}
		}
		if = {
			limit = {
				MCW = {
					is_puppet_of = ROOT
				}
			}
			end_puppet = HIP
			MCW = {
				set_country_flag = MZN_NZF_decision_unlocks
				set_country_flag = MZN_FO_unlocks
			}
		}
		MZN_increase_IR = YES
		MZN_decrease_MI = yes
		add_to_array = {
			array = MZN_NZF_FF_finished_array
			value = 2
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_FF_3_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 0.10 }
		add_to_variable = { MZN_NZF_decree_time_last = 50 }
		add_to_variable  = { MZN_NZF_decree_cooldown = -20 }
		add_to_array = {
			array = MZN_NZF_FF_finished_array
			value = 3
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_FF_4_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_AOF = 0.10 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_AAF = 0.12 }
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_ADF = 0.12 }
		set_variable = { MZN_NZF_M_var = 0.03 }
		add_to_array = {
			array = MZN_NZF_FF_finished_array
			value = 4
		}
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_in_processing_refor = token:MZN_NZF_reform_FF_5_t }
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_SF = 10 }
		add_to_variable = { MZN_NZF_decree_time_last = 50 }
		add_to_variable  = { MZN_NZF_decree_cooldown = -40 }
		add_to_array = {
			array = MZN_NZF_FF_finished_array
			value = 5
		}
	}
}

MZN_NZF_policies_effect = {
	add_to_variable = { MZN_NZF_policy_cooldown_days_left_var = MZN_NZF_decree_cooldown }
	if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 1 }
		}
		add_timed_idea = {
			idea = MZN_policy_1_idea
			days = MZN_NZF_decree_time_last
		}
		set_variable = { MZN_NZF_policy_1_frame_var = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 2 }
		}
		add_timed_idea = {
			idea = MZN_policy_2_idea
			days = MZN_NZF_decree_time_last
		}
		add_to_variable = { MZN_MSFNCP_MEMBER_modifier_LRF = 0.3 }
		set_variable = { MZN_NZF_policy_2_frame_var = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 3 }
		}
		add_timed_idea = {
			idea = MZN_policy_3_idea
			days = MZN_NZF_decree_time_last
		}
		set_variable = { MZN_NZF_policy_3_frame_var = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 4 }
		}
		add_timed_idea = {
			idea = MZN_policy_4_idea
			days = MZN_NZF_decree_time_last
		}
		set_variable = { MZN_NZF_policy_4_frame_var = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 5 }
		}
		for_each_scope_loop = {
			array = MZN_MSFNCP_NZ_MEMBERS_ARRAY
			set_variable = { MZN_P4_manpower_cal_var = This.manpower }
			multiply_variable = { MZN_P4_manpower_cal_var = MZN_NZF_M_var }
			subtract_from_variable = { This.manpower = MZN_P4_manpower_cal_var }
			CTH = {
				add_manpower = MZN_P4_manpower_cal_var
			}
			set_variable = { MZN_P4_manpower_cal_var = 0 }
		}
		set_variable = { MZN_NZF_policy_5_frame_var = 2 }
	}

	else_if = {
		limit = {
			check_variable = { MZN_NZF_policy_effect_var = 6 }
		}
		add_to_variable = { MZN_AS_CTOF = 0.05 }
		add_to_variable = { MZN_AS_MTOF = 0.05 }
		set_variable = { MZN_NZF_policy_6_frame_var = 2 }
	}
}

MZN_decrease_requirement_the_CR_pass_in_NA = {
	add_to_variable = { MZN_NZF_constitution_regulations_requirement_NA_NEED = -1 }
	custom_effect_tooltip = MZN_decrease_requirement_the_CR_pass_in_NA_tt
}

MZN_decrease_requirement_the_CR_pass_in_SC = {
	add_to_variable = { MZN_NZF_constitution_regulations_requirement_SC_NEED = -1 }
	custom_effect_tooltip = MZN_decrease_requirement_the_CR_pass_in_SC_tt
}

MZN_GOT_investigation_evidence_EFFECT = {
	subtract_from_variable = { MZN_GOT_evidence_var = 1 }
	custom_effect_tooltip = MZN_GOT_investigation_evidence_tt
}

MZN_OSW_take_ABY = {
	ABY = {
		if = {
			limit = {
				exists = no
			}
			every_core_state = {
				limit = {
					is_owned_by = WNG
				}
				transfer_state_to = ROOT
			}
		}

		if = {
			limit = {
				exists = yes
			}
			every_core_state = {
				limit = {
					or = {
						is_owned_by = ABY
						is_owned_by = WNG
					}
				}
				transfer_state_to = ROOT
			}
		}

		764 = { transfer_state_to = ROOT }
		741 = { transfer_state_to = ROOT }
	}
}

MZN_OSW_peace_effect = {
	clr_country_flag = MZN_OSW_SHOWS
	clr_country_flag = MZN_OSW_ENABLED_FLAG
	clr_country_flag = MZN_OSW_start
	if = { #only aby
		limit = {
			check_variable = { MZN_OSW_WAR_LEVEL = 1 }
		}

		white_peace = WNG
		MZN_OSW_take_ABY = yes
		if = {
			limit = {
				WNG = {
					has_country_leader = {
						ruling_only = yes
						character = WNG_giulio_beakolini
					}
				}
			}
			country_event = colthage_monzano_OSW.20
		}

		else = {
			country_event = colthage_monzano_OSW.23
		}
	}

	else_if = { #SIC, MIT and ABY
		limit = {
			check_variable = { MZN_OSW_WAR_LEVEL = 2 }
		}

		white_peace = WNG
		MZN_OSW_take_ABY = yes
		for_each_scope_loop = {
			array = MZN_OSW_2_array
			if = {
				limit = {
					exists = no
				}
				every_core_state = {
					limit = {
						is_owned_by = WNG
					}
					transfer_state_to = ROOT
				}
			}
	
			if = {
				limit = {
					exists = yes
				}
				every_core_state = {
					limit = {
						or = {
							is_owned_by = PREV
							is_owned_by = WNG
						}
					}
					transfer_state_to = ROOT
				}
			}
		}
		if = {
			limit = {
				WNG = {
					has_country_leader = {
						ruling_only = yes
						 character = WNG_giulio_beakolini
					}
				}
			}
			country_event = colthage_monzano_OSW.21
		}

		else = {
			country_event = colthage_monzano_OSW.23
		}
	}

	else_if = { #east of karthin region and aby
		limit = {
			check_variable = { MZN_OSW_WAR_LEVEL = 3 }
		}

		white_peace = WNG
		MZN_OSW_take_ABY = yes
		for_each_scope_loop = {
			array = MZN_OSW_3_array
			if = {
				limit = {
					exists = no
				}
				every_core_state = {
					limit = {
						is_owned_by = WNG
					}
					transfer_state_to = ROOT
				}
			}
	
			if = {
				limit = {
					exists = yes
				}
				every_core_state = {
					limit = {
						or = {
							is_owned_by = PREV
							is_owned_by = WNG
						}
					}
					transfer_state_to = ROOT
				}
			}
		}
		if = {
			limit = {
				WNG = {
					has_country_leader = {
						ruling_only = yes
						 character = WNG_giulio_beakolini
					}
				}
			}
			country_event = colthage_monzano_OSW.21
		}

		else = {
			country_event = colthage_monzano_OSW.23
		}
	}
}

MZN_OSW_START_WAR = {
	declare_war_on = {
		target = WNG
		type = annex_everything
	}
	if = {
		limit = {
			has_country_flag = MZN_GOAL_1
		}
		set_variable = { MZN_OSW_war_level = 1 }
	}

	if = {
		limit = {
			has_country_flag = MZN_GOAL_2
		}
		set_variable = { MZN_OSW_war_level = 2 }
		set_country_flag = { MZN_OSW_PROCESS_VAR_NEED = 50 }
	}

	if = {
		limit = {
			has_country_flag = MZN_GOAL_3
		}
		set_variable = { MZN_OSW_war_level = 3 }
		set_country_flag = { MZN_OSW_PROCESS_VAR_NEED = 75 }
	}

	if = {
		limit = {
			has_country_flag = MZN_GOAL_4
		}
		set_variable = { MZN_OSW_war_level = 4 }
	}
	set_country_flag = MZN_OSW_start
	add_to_variable = { MZN_OSW_stage_var = 1 }
	set_variable = { MZN_OSW_level_pointer_pos_var = MZN_OSW_war_level }
	multiply_variable = { MZN_OSW_level_pointer_pos_var = 54 }
}

MZN_war_process_pointer_position = {
	set_variable = { MZN_OSW_progressbar_pointer_pos_var = MZN_OSW_PROCESS_VAR }
	multiply_variable = { MZN_OSW_progressbar_pointer_pos_var = 9.15 }
	clamp_variable = { var = MZN_OSW_progressbar_pointer_pos_var min = 9.15}
}

MZN_ETNOIOZ = {
	if = {
		limit = {
			any_state = {
				has_state_flag = SIC_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		SIC = {
			every_state = {
				LIMIT = {
					has_state_flag = SIC_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = SIC_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = SIC
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = MIT_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		MIT = {
			every_state = {
				LIMIT = {
					has_state_flag = MIT_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = MIT_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = MIT
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = BRF_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		BRF = {
			every_state = {
				LIMIT = {
					has_state_flag = BRF_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}	

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = BRF_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = BRF
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = CYA_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		CYA = {
			every_state = {
				LIMIT = {
					has_state_flag = CYA_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = CYA_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = CYA
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = LAK_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		LAK = {
			every_state = {
				LIMIT = {
					has_state_flag = LAK_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = LAK
			}
			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = LAK_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = BAN
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = BAN_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		BAN = {
			every_state = {
				LIMIT = {
					has_state_flag = BAN_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = BAN
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = BAN_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = BAN
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = BOI_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		BOI = {
			every_state = {
				LIMIT = {
					has_state_flag = BOI_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}
			if = {
				limit = {
					BAN = {
						is_subject_of = ROOT
					}
				}
				annex_country = { target = BAN }
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = BOI_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = BOI
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = ARA_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		ARA = {
			every_state = {
				LIMIT = {
					has_state_flag = ARA_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}
			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = ARA_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = ARA
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = FRN_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		FRN = {
			every_state = {
				LIMIT = {
					has_state_flag = FRN_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}
			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = FRN_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = FRN
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = TAL_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		TAL = {
			every_state = {
				LIMIT = {
					has_state_flag = TAL_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = TAL_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = TAL
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = WNG_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		WNG = {
			every_state = {
				LIMIT = {
					has_state_flag = WNG_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}

			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = WNG_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = WNG
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				not = {
					state = 535
				}
				has_state_flag = FAL_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		FAL = {
			every_state = {
				LIMIT = {
					has_state_flag = FAL_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}
			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = FAL_CTH_MZN_puppet
			load_focus_tree = generic_griffon_focus
			add_to_array = { MZN_SG_PUPPET_array = THIS }
		}
		set_autonomy = {
			target = FAL
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = ABY_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		CTH = {
			764 = { transfer_state_to = ABY }
			741 = { transfer_state_to = ABY }
		}

		ABY = {
			every_state = {
				LIMIT = {
					has_state_flag = ABY_ORIGINAL_CORE_FLAG
					is_controlled_by_ROOT_or_ally = yes
				}
				transfer_state_to = PREV
			}
			
			every_owned_state = {
				add_core_of = THIS
			}
			set_cosmetic_tag = ABY_CTH_MZN_puppet
			load_focus_tree = generic_zebra_focus

			CTH = {
				add_to_faction = ABY
			}
		}
		set_autonomy = {
			target = ABY
			autonomous_state = transitional_civil_administration
		}
	}

	if = {
		limit = {
			any_state = {
				has_state_flag = JES_ORIGINAL_CORE_FLAG
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		if = {
			limit = {
				JER = {
					exists = yes
					has_completed_focus = JER_state_of_aquileia
				}
			}

			JES = {
				every_state = {
					LIMIT = {
						has_state_flag = JES_ORIGINAL_CORE_FLAG
						is_controlled_by_ROOT_or_ally = yes
					}
					transfer_state_to = PREV
				}

				every_owned_state = {
					add_core_of = THIS
				}
				set_cosmetic_tag = JES_CTH_MZN_puppet
				load_focus_tree = generic_griffon_focus
				add_to_array = { MZN_SG_PUPPET_array = THIS }
			}
			set_autonomy = {
				target = JES
				autonomous_state = transitional_civil_administration
			}
		}

		else = {
			every_state = {
				limit = {
					has_state_flag = JES_ORIGINAL_CORE_FLAG
				}
				transfer_state_to = JER
			}
		}
	}

	if = {
		limit = {
			owns_state = 675
		}
		675 = { transfer_state_to = EQC }
	}

	for_each_scope_loop = {
		array = MZN_SG_PUPPET_array
		add_ideas = MZN_SGCSP_member
	}
}

MZN_ENDING_RATION_increase_Z_var = {
	add_to_variable = { MZN_Z_R_var = 1 }
	clamp_variable = { var = MZN_Z_R_var max = 5}
}

MZN_ENDING_RATION_increase_R_var = {
	add_to_variable = { MZN_Z_R_var = -1 }
	clamp_variable = { var = MZN_Z_R_var min = -5}
}

MZN_ENDING_RATION_increase_P_var = {
	add_to_variable = { MZN_P_I_var = -1 }
	clamp_variable = { var = MZN_P_I_var min = -5}
}

MZN_ENDING_RATION_increase_I_var = {
	add_to_variable = { MZN_P_I_var = 1 }
	clamp_variable = { var = MZN_P_I_var max = 5}
}

MZN_ENDING_RATING = {
	set_variable= { MZN_SES_P_monzano_y = MZN_Z_R_var }
	set_variable= { MZN_SES_P_monzano_x = MZN_P_I_var }
	multiply_variable = { MZN_SES_P_monzano_x = 67 }
	multiply_variable = { MZN_SES_P_monzano_y = -67 }
}