ZUG_recalculate_factions_support = {
	set_temp_variable = { ZUG_mukisa_loyalty_temp = ZUG_mukisa_loyalty }
	clamp_temp_variable = {
		var = ZUG_mukisa_loyalty_temp
		min = 0
		max = 10
	}
	set_variable = { current_mukisa_bar_frame = ZUG_mukisa_loyalty_temp }

	set_temp_variable = { ZUG_military_control_temp = ZUG_military_control }
	clamp_temp_variable = {
		var = ZUG_military_control_temp
		min = 0
		max = 10
	}
	set_variable = { current_military_bar_frame = ZUG_military_control_temp }

	set_temp_variable = { ZUG_gulu_influence_temp = ZUG_gulu_influence }
	clamp_temp_variable = {
		var = ZUG_gulu_influence_temp
		min = 0
		max = 10
	}
	set_variable = { current_gulu_bar_frame = ZUG_gulu_influence_temp }
}

ZUG_marshal_influence_towards_ekiso = {
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_balanced
		}
		custom_effect_tooltip = ZUG_strenghten_ekiso_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_balanced
				add_idea = ZUG_marshal_influence_ekiso_strenghtened
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_ekiso_strenghtened
		}
		custom_effect_tooltip = ZUG_strenghten_ekiso_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_ekiso_strenghtened
				add_idea = ZUG_marshal_influence_ekiso_dominant
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_olukalu_strenghtened
		}
		custom_effect_tooltip = ZUG_strenghten_ekiso_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_olukalu_strenghtened
				add_idea = ZUG_marshal_influence_balanced
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_olukalu_dominant
		}
		custom_effect_tooltip = ZUG_strenghten_ekiso_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_olukalu_dominant
				add_idea = ZUG_marshal_influence_olukalu_strenghtened
			}
		}
	}
}

ZUG_marshal_influence_towards_olukalu = {
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_balanced
		}
		custom_effect_tooltip = ZUG_strenghten_olukalu_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_balanced
				add_idea = ZUG_marshal_influence_olukalu_strenghtened
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_olukalu_strenghtened
		}
		custom_effect_tooltip = ZUG_strenghten_olukalu_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_olukalu_strenghtened
				add_idea = ZUG_marshal_influence_olukalu_dominant
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_ekiso_strenghtened
		}
		custom_effect_tooltip = ZUG_strenghten_olukalu_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_ekiso_strenghtened
				add_idea = ZUG_marshal_influence_balanced
			}
		}
	}
	if = {
		limit = {
			has_idea = ZUG_marshal_influence_ekiso_dominant
		}
		custom_effect_tooltip = ZUG_strenghten_olukalu_tp
		hidden_effect = {
			swap_ideas = {
				remove_idea = ZUG_marshal_influence_ekiso_dominant
				add_idea = ZUG_marshal_influence_ekiso_strenghtened
			}
		}
	}
}

ZUG_dominion_resistance_lower = {
	custom_effect_tooltip = ZUG_dominion_lower_resistance_tp
	if = {
		limit = {
			has_idea = ZUG_dominion_resistance_activities
		}
		swap_ideas = {
			remove_idea = ZUG_dominion_resistance_activities
			add_idea = ZUG_dominion_resistance_activities_1
		}
	}
	if = {
		limit = {
			has_idea = ZUG_dominion_resistance_activities_1
		}
		swap_ideas = {
			remove_idea = ZUG_dominion_resistance_activities_1
			add_idea = ZUG_dominion_resistance_activities_2
		}
	}
	if = {
		limit = {
			has_idea = ZUG_dominion_resistance_activities_2
		}
		swap_ideas = {
			remove_idea = ZUG_dominion_resistance_activities_2
			add_idea = ZUG_dominion_resistance_activities_3
		}
	}
	if = {
		limit = {
			has_idea = ZUG_dominion_resistance_activities_3
		}
		remove_ideas = ZUG_dominion_resistance_activities_3
	}
}