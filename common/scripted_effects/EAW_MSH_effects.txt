calculate_MSH_piety = {
    set_temp_variable = { MSH_piety_temp = MSH_piety } # Copy variable between 0 and 100

    set_temp_variable = { MSH_reverse_piety_temp = 100 }
    subtract_from_temp_variable = { MSH_reverse_piety_temp = MSH_piety_temp } #While piety temp increases, reverse piety decreases

    divide_temp_variable = { MSH_piety_temp = 100 } #Variable is now -1 to 1
    divide_temp_variable = { MSH_reverse_piety_temp = 100 }

    set_temp_variable = { MSH_piety_min_moralf = 0.10 }
	set_temp_variable = { MSH_piety_min_compgain = 0.05 }
	set_temp_variable = { MSH_piety_min_consgood = -0.05 }
    set_temp_variable = { MSH_piety_min_supplycomp = -0.10 }
	set_temp_variable = { MSH_piety_max_wkstab = 0.003 }
    set_temp_variable = { MSH_piety_max_indcap = 0.05 }
	set_temp_variable = { MSH_piety_max_respeed = 0.05 }
	set_temp_variable = { MSH_piety_max_locresf = 0.10 }

    multiply_temp_variable = { MSH_piety_min_moralf = MSH_piety_temp }
    multiply_temp_variable = { MSH_piety_min_compgain = MSH_piety_temp }
    multiply_temp_variable = { MSH_piety_min_consgood = MSH_piety_temp }
    multiply_temp_variable = { MSH_piety_min_supplycomp = MSH_piety_temp }
    multiply_temp_variable = { MSH_piety_max_wkstab = MSH_reverse_piety_temp }
    multiply_temp_variable = { MSH_piety_max_indcap = MSH_reverse_piety_temp }
    multiply_temp_variable = { MSH_piety_max_respeed = MSH_reverse_piety_temp }
    multiply_temp_variable = { MSH_piety_max_locresf = MSH_reverse_piety_temp }

    set_variable = { modif_MSH_piety_min_moralf = MSH_piety_min_moralf }
    set_variable = { modif_MSH_piety_min_compgain = MSH_piety_min_compgain }
    set_variable = { modif_MSH_piety_min_consgood = MSH_piety_min_consgood }
    set_variable = { modif_MSH_piety_min_supplycomp = MSH_piety_min_supplycomp }
    set_variable = { modif_MSH_piety_max_wkstab = MSH_piety_max_wkstab }
    set_variable = { modif_MSH_piety_max_indcap = MSH_piety_max_indcap }
    set_variable = { modif_MSH_piety_max_respeed = MSH_piety_max_respeed }
    set_variable = { modif_MSH_piety_max_locresf = MSH_piety_max_locresf }
    force_update_dynamic_modifier = yes
}