MZN_ACT_CLEAR_ALL_ACT = {
	clr_country_flag = MZN_ACT_cabinet
	clr_country_flag = MZN_ACT_constitution_amendment
}

MZN_ECO_IMPROVE_SITUATION = {
	add_to_variable = {
				var = MZN_PCWE_resources_var
				value = 0.05
			}

			add_to_variable = {
				var = MZN_PCWE_research_var
				value = 0.10
			}

			add_to_variable = {
				var =  MZN_PCWE_building_speed_var
				value = 0.10
			}

			add_to_variable = {
				var = MZN_PCWE_goods_var
				value = -0.05
			}

			add_to_variable = {
				var = MZN_PCWE_trade_var
				value = 0.10
			}

			add_to_variable = {
				var = MZN_PCWE_production_efficiency_var
				value = 0.10
			}

			add_to_variable = {
				var = MZN_PCWE_max_efficiency_var
				value = 0.10
			}
}

MZN_democratic_stability_decrease_corruption = {
	if = {
				limit = {
					check_variable = {
						var = MZN_corruption_var
						value = 60
						compare = greater_than_or_equals
					}
				}
			
			set_variable = {
				var = MZN_corruption_var_calculation_var
				value = MZN_corruption_var
			}

			multiply_variable = {
				var = MZN_corruption_var_calculation_var
				value = 0.33
			}

			round_variable = MZN_corruption_var_calculation_var

			subtract_from_variable = {
				var = MZN_democracy_institution_var
				value = MZN_corruption_var_calculation_var
			}

			set_variable = {
				var = MZN_corruption_var_calculation_var
				value = 0
			}
			}
}

MZN_group_of_three_active = {
	if = {
		limit = {
			and = {
				check_variable = {
					var = MZN_democracy_institution_var
					value = 40
					compare = greater_than_or_equals
					}
				has_country_flag = MZN_group_of_three_flag
			}
			
		}
		subtract_from_variable = {
				var = MZN_democracy_institution_var
				value = 2
			}
	}
}

MZN_constitution_amendment_check = {
	if = {
		limit = {
		and = {
			NOT = {
				has_country_flag = MZN_constitution_amendment_done
			}
			has_country_flag = MZN_constitution_amendment_promise_unfulfilled
		}
		}

		subtract_from_variable = {
				var = MZN_democracy_institution_var
				value = 3
			}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_promise
		}

		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 3
		}
	}

	else_if = {
		limit = {
			has_country_flag = MZN_constitution_amendment_finished
		}
		add_to_variable = {
			var = MZN_democracy_institution_var
			value = 5
		}
	}
}

MZN_ACTS_CHECK = {
	set_variable = {
		var = MZN_ACT_BOOST_DIS_VAR_CALCULATION
		value = MZN_ACT_BOOST_DIS_VAR
	}
	set_variable = {
		var = MZN_ACT_REDUCE_DIS_VAR_CALCULATION
		value = MZN_ACT_REDUCE_DIS_VAR
	}
	subtract_from_variable = {
				var = MZN_ACT_BOOST_DIS_VAR_CALCULATION
				value = MZN_ACT_REDUCE_DIS_VAR_CALCULATION
			}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_ACT_BOOST_DIS_VAR_CALCULATION
	}
	set_variable = {
		var = MZN_ACT_BOOST_DIS_VAR_CALCULATION
		value = 0
	}
	set_variable = {
		var = MZN_ACT_REDUCE_DIS_VAR_CALCULATION
		value = 0
	}
}

MZN_SCALE_CKECK = {
	if = {
		limit = {
			check_variable = {
				var = MZN_SCALE_VAR
				value = 3
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = 3
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_SCALE_VAR
				value = 1
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_SCALE_VAR
				value = 2
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_LIBERTY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_SCALE_VAR
				value = 4
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_DEMOCRACY_DIS_COST
	}
	}

	else_if = {
		limit = {
			check_variable = {
				var = MZN_SCALE_VAR
				value = 5
			}
		}
	add_to_variable = {
		var = MZN_democracy_institution_var
		value = MZN_TOTALLY_DEMOCRACY_DIS_COST
	}
	}
}

MZN_DECREASE_FROM_SCALE_BLANCE_COST = {
	add_to_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = 1
	}
	add_to_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = 1
	}
}

MZN_SET_SCALE = {
	set_variable = {
		var = MZN_SCALE_VAR
		value = 3
	}
	set_variable = {
		var = MZN_TOTALLY_LIBERTY_DIS_COST
		value = -3
	}
	set_variable = {
		var = MZN_LIBERTY_DIS_COST
		value = 1-
	}
	set_variable = {
		var = MZN_DEMOCRACY_DIS_COST
		value = -1
	}
	set_variable = {
		var = MZN_TOTALLY_DEMOCRACY_DIS_COST
		value = -3
	}
}
##F(index) = [��MF/2*CF���C I ( MF * 1/2 �C CF ) /50 I ]* 0.6
MZN_CEDCC_CHECK = {

##example 17MF 13CF
			set_variable = { 
			var = MZN_CEDCC_CHECK_FC 
			value = CTH.num_of_civilian_factories 
			}
#13
			set_variable = { 
			var = MZN_CEDCC_CHECK_FM 
			value = CTH.num_of_military_factories 
			}
#17 = FM
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = CTH.num_of_military_factories 
			}
#13
			set_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_2
			value = CTH.num_of_civilian_factories
			}
#17
			multiply_variable = {
			var = MZN_CEDCC_CHECK_FC
			value = 2 
			}
#26 = FC
			divide_variable = {
			var = MZN_CEDCC_CHECK_FM 
			value = MZN_CEDCC_CHECK_FC
			}
#0.65 = FM
			divide_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = 2
			}
#8.5 = AD1
			subtract_from_variable = {
			var = MZN_CEDCC_CHECK_ADJUST_1 
			value = MZN_CEDCC_CHECK_ADJUST_2
			}
#-4.5 = AD1
			divide_variable =  {
			var = MZN_CEDCC_CHECK_ADJUST_1
			value = 50
			}
#0.09 = AD1
			if = {
				limit = {
					check_variable = { MZN_CEDCC_CHECK_ADJUST_1<0 }
				}
				multiply_variable = { 
				var = MZN_CEDCC_CHECK_ADJUST_1 
				value = -1 
				}
			}
#0.09 = AD1
			subtract_from_variable = { 
			var = MZN_CEDCC_CHECK_FM
			value = MZN_CEDCC_CHECK_ADJUST_1
			}

			set_variable = { 
			var = MZN_INDEX_CEDCC 
			value = MZN_CEDCC_CHECK_FM
			}

			multiply_variable = {
				var = MZN_INDEX_CEDCC
				value = 0.6
			}

			if = {
				limit = {
					check_variable = { MZN_INDEX_CEDCC < 0 }
				}
				set_variable = {
					var = MZN_INDEX_CEDCC 
					value = 0
				}
			}

			set_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_speed_buildings_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_dockyard
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_industrial_capacity_factory
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_consumer_goods_factor 
				value = -0.3
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_efficiency_gain_factor
				value = 0.6
			}

			set_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = MZN_INDEX_CEDCC
			}

			multiply_variable = {
				var = MZN_CEDDC_production_factory_max_efficiency_factor 
				value = 0.6
			}
			CTH = {
			add_dynamic_modifier = { modifier = MZN_CTH_CEDDC }
			}
}

MZN_recource_output_check = {
	set_variable = {
		var = MZN_RO_stability_factor 
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_stability_factor 
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_war_support_factor
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_war_support_factor
		value = -0.02
	}

	set_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_industrial_capacity_factory
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_research_speed_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_research_speed_factor_var
		value = 0.03
	}

	set_variable = {
		var = MZN_RO_political_power_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_political_power_var
		value = 0.02
	}

	set_variable = {
		var = MZN_RO_trade_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_trade_var
		value = 0.05
	}

	set_variable = {
		var = MZN_RO_local_resources_factor_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_local_resources_factor_var
		value = 0.04
	}

	set_variable = {
		var = MZN_RO_min_export_var
		value = MZN_output_index
	}

	multiply_variable = {
		var = MZN_RO_min_export_var
		value = 0.02
	}

	CTH = {
		add_dynamic_modifier = { modifier = MZN_CTH_resource_output }
	}
}

MZN_gain_Azizelqart_Zahummid_support = {
	if = {
		limit = {
			not = {
				has_country_flag = MZN_cabinet_Azizelqart_Zahummid_support
			}
		}
		set_country_flag = MZN_cabinet_Azizelqart_Zahummid_support
		add_to_variable = {
			var = MZN_CABINET_SUPPORTER
			value = 1
		}
	}
}

MZN_gain_ Baltazar_Zakbar_support = {
	if = {
		limit = {
			not = {
				has_country_flag = MZN_cabinet_Baltazar_Zakbar_support
			}
		}
		set_country_flag = MZN_cabinet_Baltazar_Zakbar_support
		add_to_variable = {
			var = MZN_CABINET_SUPPORTER
			value = 1
		}
	}
}