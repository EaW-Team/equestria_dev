#Console command for setting day/night overrides. Takes an integer arguement.
#0 - clear overrides
#1 - night override
#2 - day override
#Example usage: setDayNightOverride 1
d_setDayNightOverride = {
	if = {
		limit = {
			check_variable = { args^num < 1 }
		}
		log = "RPlease enter an arguement!!"
	}
	else = {
		if = {
			limit = {
				check_variable = { args^0 = 0 }
			}
			EaW_clear_day_night_overrides = yes
			log = "Cleared override"
		}
		else_if = {
			limit = {
				check_variable = { args^0 = 1 }
			}
			EaW_night_override = yes
			log = "Set override to Ynight!"
		}
		else_if = {
			limit = {
				check_variable = { args^0 = 2 }
			}
			EaW_day_override = yes
			log = "Set override to Yday!"
		}
		else = {
			log = "RInvalid arguement!!"
		}
	}
}
EaW_clear_day_night_overrides = {
	hidden_effect = {
		if = {
			limit = {
				has_global_flag = EaW_night_override
			}
			every_possible_country = {
				limit = {
					NOT = { tag = ZZZ }
				}
				#Un-night stuff
				ZZZ = {
					remove_opinion_modifier = {
						target = PREV
						modifier = ZZZ_night_override_opinion
					}
				}
			}
			clr_global_flag = EaW_night_override
		}
		if = {
			limit = {
				has_global_flag = EaW_day_override
			}
			every_possible_country = {
				limit = {
					NOT = { tag = ZZZ }
				}
				remove_dynamic_modifier = {
					modifier = EaW_day_override_modifier
				}
				ZZZ = {
					remove_opinion_modifier = {
						target = PREV
						modifier = ZZZ_day_override_opinion
					}
				}
			}
			clr_global_flag = EaW_day_override
		}
		ZZZ = {
			drop_cosmetic_tag = yes
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
	}
}
EaW_night_override = {
	hidden_effect = {
		EaW_clear_day_night_overrides = yes
		set_global_flag = EaW_night_override
		every_possible_country = {
			limit = {
				NOT = { tag = ZZZ }
			}
			add_dynamic_modifier = {
				modifier = EaW_day_override_modifier
			}
			reverse_add_opinion_modifier = {
				target = ZZZ
				modifier = ZZZ_night_override_opinion
			}
		}
		ZZZ = {
			set_cosmetic_tag = ZZZ_night_override
			set_politics = {
				ruling_party = democratic
				elections_allowed = no
			}
		}
	}
}
EaW_day_override = {
	hidden_effect = {
		EaW_clear_day_night_overrides = yes
		set_global_flag = EaW_day_override
		every_possible_country = {
			limit = {
				NOT = { tag = ZZZ }
			}
			add_dynamic_modifier = {
				modifier = EaW_day_override_modifier
			}
			reverse_add_opinion_modifier = {
				target = ZZZ
				modifier = ZZZ_day_override_opinion
			}
		}
		force_update_dynamic_modifier = yes
		ZZZ = {
			set_cosmetic_tag = ZZZ_day_override
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
		}
	}
}