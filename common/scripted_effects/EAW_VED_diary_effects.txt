# This file contain the effect to interact with the diary GUI

@DIARY_NB_CATEGORIES = 4

# Function    : f_VED_open_diary
# Description : Open the diary GUI 
# Inputs      : i_diary_category - Indicate which content will be displayed when the diary is opened
# Outputs     : None
f_VED_open_diary = {
	# Display the diary using the flag
	set_country_flag = VED_display_quest_diary
	# Sanity checks on inputs
	if = {
		limit = { check_variable = { i_diary_category < 0 } }
		set_temp_variable = { i_diary_category = 0 }
	}
	if = {
		limit = {
			check_variable = {
				var = i_diary_category
				value = @DIARY_NB_CATEGORIES
				compare = greater_than_or_equals
			}
		}
		set_temp_variable = { i_diary_category = @DIARY_NB_CATEGORIES }
		add_to_temp_variable = { i_diary_category = -1 }
	}

	clear_array = VED_quest_diary_content_array
	add_to_array = { VED_quest_diary_content_array = i_diary_category }

	# Populate the bookmark arrays
	resize_array = {
		array = VED_quest_diary_left_bookmark_array
		size = 4
	}
	resize_array = {
		array = VED_quest_diary_right_bookmark_array
		size = 4
	}

	# Update the diary GUI
	add_to_variable = { VED_quest_diary_gui_update = 1 }
}

# Function    : f_VED_open_diary
# Description : Open the diary GUI 
# Inputs      : i_diary_category - Indicate which content will be displayed when the diary is opened
# Outputs     : None
f_VED_display_log = {
	# Display from a display array
	# We need a list of entries, and the number of lines used
	# When displaying, we modify the display data with the correct index in the list until we run out of lines or of data
}