on_actions = {

	on_startup = { # on_daily is executed before on_startup
		effect = {
			add_to_variable = { global.next_month = 1 }
		}
	}

	# ROOT is country, this is ran for every country
	on_daily = {
		effect = {
			# ON YEARLY
			if = {
				#don't touch!
				limit = { 
					NOT = { 
						check_variable = { global.last_year = global.year }
						has_global_flag = on_yearly_done
					}
				}
				#this is done only ONCE per year, even though on_daily fires for every country
				#will also be done on startup
				log = "[GetDateText] on_yearly"

				#your code here
				SRS = { country_event = socrep_grif.76 }
				
				#don't touch!
				set_variable = { global.last_year = global.year }
				set_global_flag = { flag = on_yearly_done value = 1 days = 1 }
			}

			# ON MONTHLY
			if = {
				# don't touch!
				limit = {
					NOT = { 
						has_global_flag = on_monthly_done
					}
					meta_trigger = {
						text = {
							date > [YEAR].[MONTH].1
						}
						YEAR = "[?global.year]"
						MONTH = "[?global.next_month]"
					}
				}
				add_to_variable = { global.month = 1 }
				add_to_variable = { global.next_month = 1 }
				set_global_flag = { flag = on_monthly_done value = 1 days = 27 }
				if = {
					limit = { check_variable = { global.month > 12 } }
					set_variable = { global.month = 1 }
				}
				if = {
					limit = { check_variable = { global.next_month > 12 } }
					set_variable = { global.next_month = 1 }
					set_global_flag = { flag = on_monthly_done value = 1 days = 31 }
				}
				# this is done only ONCE per month, even though on_daily fires for every country
				# will also be done on startup

				# your code here
				if = {
					limit = {
						NOT = { has_global_flag = christmas_truce_fired }
						check_variable = { global.month = 12 }
						event_target:equestria = {
							exists = yes
							has_government = democratic
							has_war_with = CHN
							CHN = { has_government = fascism }
							fascism < 0.1
						}
					}
					event_target:equestria = { country_event = { id = equestria.181 days = 24 random = 48 } }#days to hours applied
				}
			}

			# ON WEEKLY
			if = {
				#don't touch!
				limit = { 
					NOT = { 
						has_global_flag = on_weekly_done
					}
				}
				if = {
					limit = {
						check_variable = { global.weekdays_counter < 6 }
					}
					add_to_variable = { global.weekdays_counter = 1 }
				}
				else = {
					#this is done only ONCE per week, even though on_daily fires for every country
					#will also be done on startup
					log = "[GetDateText] on_weekly"

					MAN = {
						if = {
							limit = {
								has_country_flag = MAN_continuous_love_distribution_country_flag
							}
							add_political_power = var:MAN_continuous_love_distribution_pp_var
							add_stability = var:MAN_continuous_love_distribution_stab_var
							set_temp_variable = { MAN_continuous_love_distribution_pp_var_TEMP = MAN_lovetax_variable }
							multiply_temp_variable = { MAN_continuous_love_distribution_pp_var_TEMP = 20 }
							set_variable = { MAN_continuous_love_distribution_pp_var = MAN_continuous_love_distribution_pp_var_TEMP }
							round_variable = MAN_continuous_love_distribution_pp_var
							set_temp_variable = { MAN_continuous_love_distribution_stab_var_TEMP = MAN_lovetax_variable }
							divide_temp_variable = { MAN_continuous_love_distribution_stab_var_TEMP = 200 }
							set_variable = { MAN_continuous_love_distribution_stab_var = MAN_continuous_love_distribution_stab_var_TEMP }
						}
						if = {
							limit = {
								has_country_flag = MAN_continuous_love_tax_sucking_country_flag
							}
							add_to_variable = { var = MAN_lovetax_variable value = 0.005 }
							add_to_variable = { MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable = 1 }
							add_to_variable = { var = MAN_lovetax_variable value = MAN_continuous_love_tax_sucking_bonus_variable }
							### calculations for the next weekly love harvest ###
							clear_variable = MAN_continuous_love_tax_sucking_bonus_variable
							clear_variable = MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable
							set_variable = { MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable = num_of_available_civilian_factories }
							set_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable }
							multiply_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = 0.015 }
							set_temp_variable = { MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable_TEMP = MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable } ## base value should always be one (1) ##
							multiply_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable_TEMP }
							set_variable = { MAN_continuous_love_tax_sucking_bonus_variable = MAN_continuous_love_tax_sucking_bonus_variable_TEMP }
						}
					}
					
					#don't touch!
					set_variable = { global.weekdays_counter = 0 }
				}
				set_global_flag = { flag = on_weekly_done value = 1 days = 1 }
			}
		}
	}

}