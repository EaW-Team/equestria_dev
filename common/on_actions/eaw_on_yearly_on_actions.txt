on_actions = {
	# Months counter initialization
	on_startup = {
		effect = {
			set_variable = { global.month = 1 }
		}
	}
	
	# Months counter
	on_monthly = {
		effect = {
			if = {
				limit = {
					NOT = { has_global_flag = on_monthly_done }
				}
				log = "[GetDateText]: global on_monthly"
				add_to_variable = { global.month = 1 }
				if = {
					limit = {
						check_variable = { global.month > 12 }
					}
					set_variable = { global.month = 1 }
				}
				set_global_flag = { flag = on_monthly_done value = 1 days = 1 }
			}
		}
	}
	
	# ROOT is country, this is ran for every country
	on_monthly = {
		effect = {
			# ON YEARLY
			if = {
				#don't touch!
				limit = {
					NOT = {
						check_variable = { global.last_year = global.year }
						has_global_flag = on_yearly_done
					}
				}
				#this is done only ONCE per year, even though on_daily fires for every country
				#will also be done on startup
				log = "[GetDateText]: global on_yearly"

				#your code here
				SRS = { country_event = socrep_grif.76 }
				
				#don't touch!
				set_variable = { global.last_year = global.year }
				set_global_flag = { flag = on_yearly_done value = 1 days = 1 }
			}

			if = {
				limit = {
					check_variable = { occupied_countries^num > 0 }
				}
				core_all_occupied_through_compliance = yes
			}
		}
	}

	on_monthly_CHN = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_monthly_CHN"
			if = {
				limit = {
					NOT = { has_global_flag = christmas_truce_fired }
					check_variable = { global.month = 12 }
					event_target:equestria = {
						exists = yes
						has_government = democratic
						has_war_with = CHN
						CHN = { has_government = fascism }
						fascism < 0.1
					}
				}
				event_target:equestria = { country_event = { id = equestria.181 days = 24 random = 48 } }#days to hours applied
			}
		}
	}

	on_weekly_CHN = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_CHN"
			if = {
				limit = {
					has_active_mission = CHN_acornage_colonisation_decision
				}
				CHN = {
					save_current_manpower = yes
				}
				136 = {
					add_manpower = -5000
				}
				137 = {
					add_manpower = 1250
				}
				138 = {
					add_manpower = 1250
				}
				172 = {
					add_manpower = 1250
				}
				175 = {
					add_manpower = 1250
				}
				CHN = {
					restore_previous_manpower = yes
				}
			}
			if = {
				limit = {
					has_active_mission = CHN_vanhoover_colonisation_decision
					NOT = { 
						has_country_flag = CHN_vanhoover_colonisation_decision_updated_flag
					}
				}
				CHN = {
					save_current_manpower = yes
				}
				14 = {
					add_manpower = -5000
				}
				45 = {
					add_manpower = 1250
				}
				72 = {
					add_manpower = 1250
				}
				73 = {
					add_manpower = 1250
				}
				172 = {
					add_manpower = 1250
				}
				CHN = {
					restore_previous_manpower = yes
				}
			}
			if = {
				limit = {
					has_active_mission = CHN_vanhoover_colonisation_decision
					has_country_flag = CHN_vanhoover_colonisation_decision_updated_flag
				}
				CHN = {
					save_current_manpower = yes
				}
				14 = {
					add_manpower = -100
				}
				45 = {
					add_manpower = 25
				}
				72 = {
					add_manpower = 25
				}
				73 = {
					add_manpower = 25
				}
				172 = {
					add_manpower = 25
				}
				CHN = {
					restore_previous_manpower = yes
				}
			}
			if = {
				limit = {
					has_idea = CHN_equestria_chaos3
				}
				every_controlled_state = {
					limit = {
						is_core_of = EQS
						compliance > 40
					}
					set_compliance = 40
				}
			}
			if = {
				limit = {
					has_idea = CHN_equestria_chaos2
				}
				every_controlled_state = {
					limit = {
						is_core_of = EQS
						compliance > 60
					}
					set_compliance = 60
				}
			}
			if = {
				limit = {
					has_idea = CHN_equestria_chaos1
				}
				every_controlled_state = {
					limit = {
						is_core_of = EQS
						compliance > 80
					}
					set_compliance = 80
				}
			}
			if = {
				limit = {
					has_completed_focus = CHN_post_war_5
					is_ai = yes
					check_variable = { CHN_amount_of_allowed_battalions < num_battalions }
				}
				set_temp_variable = { disband_fraction = num_battalions }
				subtract_from_temp_variable = { disband_fraction = CHN_amount_of_allowed_battalions }
				divide_temp_variable = { disband_fraction = num_battalions }
				clamp_temp_variable = {
					var = divide_temp_variable
					min = 0
					max = 0.1
				}
				disband_units_fraction = yes
			}
			if = {
				limit = {
					has_completed_focus = CHN_post_war_5
					check_variable = { CHN_amount_of_allowed_battalions < CHN.num_battalions }
				}
				subtract_from_variable = { CHN_love_variable = CHN_excess_battalions_cost }
			}
		}
	}

	on_monthly_JER = {
		effect = {
			# log = "[GetDateText]: ROOT: [Root.GetName] on_monthly_JER"
			if = {
				limit = {
					has_global_flag = update_JER_parliament_max_fired
					has_completed_focus = JER_the_triumph
				}
				update_JER_parliament_max = yes
			}
		}
	}

	on_weekly_MAN = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_MAN"
			if = {
				limit = {
					has_country_flag = MAN_continuous_love_distribution_country_flag
				}
				add_political_power = var:MAN_continuous_love_distribution_pp_var
				add_stability = var:MAN_continuous_love_distribution_stab_var
				set_temp_variable = { MAN_continuous_love_distribution_pp_var_TEMP = MAN_lovetax_variable }
				multiply_temp_variable = { MAN_continuous_love_distribution_pp_var_TEMP = 20 }
				set_variable = { MAN_continuous_love_distribution_pp_var = MAN_continuous_love_distribution_pp_var_TEMP }
				round_variable = MAN_continuous_love_distribution_pp_var
				set_temp_variable = { MAN_continuous_love_distribution_stab_var_TEMP = MAN_lovetax_variable }
				divide_temp_variable = { MAN_continuous_love_distribution_stab_var_TEMP = 200 }
				set_variable = { MAN_continuous_love_distribution_stab_var = MAN_continuous_love_distribution_stab_var_TEMP }
			}
			if = {
				limit = {
					has_country_flag = MAN_continuous_love_tax_sucking_country_flag
				}
				add_to_variable = { var = MAN_lovetax_variable value = 0.50}
				add_to_variable = { MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable = 1 }
				add_to_variable = { var = MAN_lovetax_variable value = MAN_continuous_love_tax_sucking_bonus_variable }
				### calculations for the next weekly love harvest ###
				clear_variable = MAN_continuous_love_tax_sucking_bonus_variable
				clear_variable = MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable
				set_variable = { MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable = num_of_available_civilian_factories }
				set_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = MAN_continuous_love_tax_sucking_bonus_civ_factories_display_variable }
				multiply_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = 0.015 }
				set_temp_variable = { MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable_TEMP = MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable } ## base value should always be one (1) ##
				multiply_temp_variable = { MAN_continuous_love_tax_sucking_bonus_variable_TEMP = MAN_continuous_love_tax_sucking_how_many_weeks_elasped_variable_TEMP }
				set_variable = { MAN_continuous_love_tax_sucking_bonus_variable = MAN_continuous_love_tax_sucking_bonus_variable_TEMP }
			}
			if = {
				limit = {
					has_idea = MAN_internal_migration
				}
				save_current_manpower = yes
				every_owned_state = {
					limit = { has_state_category = megalopolis }
					add_manpower = 2500
				}
				every_owned_state = {
					limit = { has_state_category = metropolis }
					add_manpower = 2000
				}
				every_owned_state = {
					limit = { has_state_category = large_city }
					add_manpower = 1500
				}
				every_owned_state = {
					limit = { has_state_category = city }
					add_manpower = 1000
				}
				restore_previous_manpower = yes
			}
		}
	}

	on_weekly_ELF = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_ELF"
			if = {
				limit = {
					has_country_flag = ELF_bits_gun_weekly_shipments
					has_idea = ELF_bits_gun_idea
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 200
					producer = ELF
				}
			}
		}
	}
	
	on_weekly_CVA = {
	    effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_CVA"
			if = {
				limit = {
					has_country_flag = CVA_crisis_of_authority_flag
				}
				log = "[GetDateText]: ROOT: [Root.GetName] CVA_crisis_of_authority_flag"
				if = {
					limit = {
						has_idea = CVA_CTH_collapsed_authority
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 1.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 1.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 1.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 1.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 1.25
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 1.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 1.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 1.25
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_collapsed_authority_2
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 1.00
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 1.00
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 1.00
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 1.00
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.01
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 1.00
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 1.00
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 1.00
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_collapsed_authority_3
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.75
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.75 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.75 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.75 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.75
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.75 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.75
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.75
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_collapsed_authority_4
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.50
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.50
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.50
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.50
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.50
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.50
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.50
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.50
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_redefining_the_plan_idea
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.25
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_anti_intellectual_proscriptions
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.25
					}
				}
				if = {
					limit = {
					    OR = {
							has_idea = CVA_CTH_corrective_labour_idea
							has_idea = CVA_CTH_corrective_labour_idea_2
						}
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.25
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_streamlined_judicial_process
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.25
					}
				}
				if = {
					limit = {
						has_country_flag = CVA_CTH_alcoholism
					}
					if = {
						limit = {
							has_country_flag = CVA_coltva_fed_up
						}
						subtract_from_variable = { #Coltva
							var = CVA_CO_Authority 
							value = 0.25 
						}
					}
					subtract_from_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.25 
					}
					subtract_from_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.25 
					}
					if = {
					    limit = {
							NOT = {
							    has_completed_focus = CVA_CTH_c2
							}
						}
						subtract_from_variable = { #Zur-Zamitha
							var = CVA_ZZ_Authority 
							value = 0.25
						}
					}
					subtract_from_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.25
					}
				}
				if = {
					limit = {
					    OR = {
							has_idea = CVA_CTH_industrial_reconstruction_idea
							has_idea = CVA_CTH_industrial_reconstruction_idea_2
						}
					}
					add_to_variable = { #Coltva
						var = CVA_CO_Authority 
						value = 0.30 
					}
					add_to_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.30 
					}
					add_to_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.30 
					}
					add_to_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zur-Zamitha
						var = CVA_ZZ_Authority 
						value = 0.30
					}
					add_to_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.30
					}
				}
				if = {
					limit = {
					    OR = {
							has_idea = CVA_CTH_restructure_academia_idea
							has_idea = CVA_CTH_restructure_academia_idea_2
						}
					}
					add_to_variable = { #Coltva
						var = CVA_CO_Authority 
						value = 0.30 
					}
					add_to_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.30 
					}
					add_to_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.30 
					}
					add_to_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zur-Zamitha
						var = CVA_ZZ_Authority 
						value = 0.30
					}
					add_to_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.30
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_building_navy
					}
					add_to_variable = { #Coltva
						var = CVA_CO_Authority 
						value = 0.30 
					}
					add_to_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.30 
					}
					add_to_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.30 
					}
					add_to_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zur-Zamitha
						var = CVA_ZZ_Authority 
						value = 0.30
					}
					add_to_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.30
					}
				}
				if = {
					limit = {
						has_idea = CVA_CTH_national_pacification_campaign
					}
					add_to_variable = { #Coltva
						var = CVA_CO_Authority 
						value = 0.30 
					}
					add_to_variable = { #Trotkart-Zeordu
						var = CVA_TZ_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zebinop-Amanesya
						var = CVA_ZA_Authority 
						value = 0.30 
					}
					add_to_variable = { #Colthage
						var = CVA_CH_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zalihli-Sophoovene
						var = CVA_ZS_Authority 
						value = 0.30 
					}
					add_to_variable = { #Sivmareas-Karamane
						var = CVA_SK_Authority 
						value = 0.30 
					}
					add_to_variable = { #Zur-Zamitha
						var = CVA_ZZ_Authority 
						value = 0.30
					}
					add_to_variable = { #Hippone
						var = CVA_HI_Authority 
						value = 0.30
					}
				}
				clamp_variable = {
					var = CVA_CO_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_TZ_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_ZA_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_CH_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_ZS_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_SK_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_ZZ_Authority
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_HI_Authority
					min = 0
					max = 100
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_CO_Authority < 20 
						}
						1093 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						1094 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						1095 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					1093 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					1094 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					1095 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_TZ_Authority < 20 
						}
						705 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						706 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					705 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					706 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_ZA_Authority < 20 
						}
						703 = {
							NOT = {
							    OR = {
			    					has_state_flag = CVA_state_in_anarchy
									has_state_flag = CVA_special_circumstances
								}
							}
						}
						704 = {
							NOT = {
							    OR = {
			    					has_state_flag = CVA_state_in_anarchy
									has_state_flag = CVA_special_circumstances
								}
							}
						}
					}
					703 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					704 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_CH_Authority < 20 
						}
						875 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					875 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_ZS_Authority < 20 
						}
						702 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						876 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					702 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					876 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_SK_Authority < 20 
						}
						700 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						709 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					700 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					709 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_ZZ_Authority < 20 
						}
						701 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
						852 = {
							NOT = {
			    				has_state_flag = CVA_state_in_anarchy
							}
						}
					}
					701 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					852 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				if = {
				    limit = {
					    check_variable = {
							CVA_HI_Authority < 20 
						}
						699 = {
							NOT = {
							    OR = {
			    					has_state_flag = CVA_state_in_anarchy
									has_state_flag = CVA_special_circumstances
								}
							}
						}
						877 = {
							NOT = {
							    OR = {
			    					has_state_flag = CVA_state_in_anarchy
									has_state_flag = CVA_special_circumstances
								}
							}
						}
					}
					699 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					877 = {
		    			set_demilitarized_zone = yes
						set_state_flag = CVA_state_in_anarchy
					}
					add_to_variable = {
			            var = CVA_collapsed_states 
				        value = 1 
			        }
				}
				clamp_variable = {
					var = CVA_collapsed_states
					min = 0
					max = 8
				}
				if = {
				    limit = {
					    check_variable = {
							var = CVA_collapsed_states
							value = 4
							compare = greater_than_or_equals
						}
					}
					country_event = {
						id = colthaginian_federation.50
					}
				}
			}
			if = {
				limit = {
					has_country_flag = CVA_zapatista_factions_flag
				}
				if = {
					limit = { 
					    OR = { 
				            has_idea = CVA_CTH_educational_democraticisation
					        has_idea = CVA_CTH_educational_democraticisation_2
				        }
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.25 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.25 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.50 
					}
				}
				if = {
					limit = { 
					    OR = { 
				            has_idea = CVA_CTH_technoratic_guidence
					        has_idea = CVA_CTH_technoratic_guidence_2
				        }
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.25 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.25 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.50 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_implementing_the_plan
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.50 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.25 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.25
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_implementing_the_plan_2
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.50 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.25 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.25 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Ahirom_Zadadid_idea
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zammo_Jazelid_idea
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zanuzel_Zala_idea
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zenarvo_Ozid_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Jezabzella_Zeshmid_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zasdrubal_Zalvarado_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zannido_Bandolier_Zidon_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zarishat_Zeirutid_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Zanit_Monzano_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_Azizelquart_Zahummid_2_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_internal_policy_idea_1
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_internal_policy_idea_2
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_internal_policy_idea_3
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.30 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.15 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_internal_policy_idea_4
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_internal_policy_idea_1
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_internal_policy_idea_2
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_internal_policy_idea_3
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.15 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.30 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.15
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_internal_policy_idea_4
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_internal_policy_idea_1
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_internal_policy_idea_2
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.30 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_internal_policy_idea_3
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.30
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_internal_policy_idea_4
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_military_policy_idea_1
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_military_policy_idea_2
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_military_policy_idea_3
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.30 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.15 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_evolutionary_military_policy_idea_4
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_military_policy_idea_1
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_military_policy_idea_2
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_military_policy_idea_3
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.15 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.30 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.15
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_orthodox_military_policy_idea_4
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_military_policy_idea_1
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_military_policy_idea_2
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.30 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_military_policy_idea_3
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.15 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.30
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_pragmatist_military_policy_idea_4
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_centralized_armament_evolutionary
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_centralized_armament_orthodox
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_centralized_armament_pragmatist
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_special_forces_command_evolutionary
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_special_forces_command_orthodox
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_special_forces_command_pragmatist
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.10 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_combined_arms_tactics
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_lighting_warfare_theorem
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.05 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.10 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.05 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_radio_influence_evolutionary
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_radio_influence_orthodox
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_radio_influence_pragmatist
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.80 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_popular_mobilisation_evolutionary
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_popular_mobilisation_orthodox
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_popular_mobilisation_pragmatist
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.80 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_armoury_training_idea
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_coordination_idea
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_extra_funding_to_MWT
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_constitution_evolutionary
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_constitution_orthodox
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.80 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_constitution_pragmatist
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.80 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_not_subordinating_assemblies
					}
					add_to_variable = {
						var = CVA_left_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_rebuilding_cultural_sites
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					add_to_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.40 
					}
					subtract_from_variable = {
						var = CVA_right_zapatistas 
						value = 0.20 
					}
				}
				if = {
					limit = { 
				        has_idea = CVA_CTH_buying_out_private_banks
					}
					subtract_from_variable = {
						var = CVA_left_zapatistas 
						value = 0.20 
					}
					subtract_from_variable = {
						var = CVA_orthodox_zapatistas 
						value = 0.20 
					}
					add_to_variable = {
						var = CVA_right_zapatistas 
						value = 0.40 
					}
				}
				clamp_variable = {
					var = CVA_left_zapatistas
					min = 0
					max = 99.9
				}
				clamp_variable = {
					var = CVA_orthodox_zapatistas
					min = 0
					max = 100
				}
				clamp_variable = {
					var = CVA_right_zapatistas
					min = 0
					max = 99.8
				}
			}
        }
    }
	on_weekly_HIP = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_HIP"
			if = {
				limit = {
					has_completed_focus = HIP_power_of_the_sun
				}
				every_owned_state = {
					limit = {
						check_variable = { building_level@nuclear_reactor > 0 }						
					}
					if = {
						limit = {
							NOT = { has_dynamic_modifier = { modifier = HIP_reactor_modifier } }
						}
						add_dynamic_modifier = { modifier = HIP_reactor_modifier }	
					}
				}			  
			}
		}
	}
	
	on_monthly_BAR = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_monthly_BAR"
			if = {
				limit = {
					original_tag = BAR
				}
				if = {
					limit = { 
						country_exists = BAR
						BAR = {
							has_country_flag = { flag = barrad_endgame value = 0 }
							has_country_flag = barrad_silver_star_alive
							OR = {
								AND = {
									has_country_flag = barrad_asinti_alive
									check_variable = { BAR_relations_asinti_silver < 70 }
								}
								AND = {
									has_country_flag = barrad_leopold_alive
									check_variable = { BAR_relations_silver_leopold < 70 }
								}
								AND = {
									has_country_flag = barrad_viira_alive
									check_variable = { BAR_relations_silver_viira < 70 }
								}
							}
						}
					}
					BAR = {
						if = {
							limit = {
								has_country_flag = BAR_silver_sad
							}
							country_event = { days = 1 random_days = 14 id = barrad_silver_star.11 }
						}
						else = {
							country_event = { days = 1 random_days = 14 id = barrad_silver_star.1 }
						}
					}
				}
				if = {
					limit = {
						country_exists = BAR
						BAR = {
							OR = {
								has_variable = BAR_viira_pup
								has_variable = BAR_viira_control
							}	
							check_variable = { viira_mana_overload > 9 }
						}
					}
					BAR = {
						subtract_from_variable = { viira_mana_overload = 10 }
					}
					
				}
				if = {
					limit = {
						has_country_flag = { flag = barrad_endgame value = 0 }
						OR = {
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_silver_star_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_viira_alive
								has_country_flag = barrad_asinti_alive
							}
							AND = {
								has_country_flag = barrad_viira_alive
								has_country_flag = barrad_silver_star_alive
							}
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_viira_alive
							}
							AND = {
								has_country_flag = barrad_leopold_alive
								has_country_flag = barrad_silver_star_alive
							}
						}
					}
					random_list = {
						30 = {
							if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive	
								}
								random_list = {
									16 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									16 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
									17 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.2 days = 8 }
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.5 days = 8 }
							}
							else_if = {
								limit = {
									has_country_flag = barrad_silver_star_alive
									NOT = { has_country_flag = barrad_asinti_alive }
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.6 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								random_list = {
									34 = {
										country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
									}
									33 = {
										country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
									}
								}
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									has_country_flag = barrad_viira_alive
									NOT = { has_country_flag = barrad_leopold_alive }
								}
								country_event = { id = barrad_monthy_relation_hit_event.3 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									has_country_flag = barrad_asinti_alive
									NOT = { has_country_flag = barrad_viira_alive }
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.1 days = 8 }
							}
							else_if = {
								limit = {
									NOT = { has_country_flag = barrad_silver_star_alive }
									NOT = { has_country_flag = barrad_asinti_alive }
									has_country_flag = barrad_viira_alive
									has_country_flag = barrad_leopold_alive
								}
								country_event = { id = barrad_monthy_relation_hit_event.4 days = 8 }
							}
						}
						70 = {

						}
					}
				}
				if = {
					limit = {
						BAR = {
							has_war = yes
							has_country_flag = BAR_asinti_ded_count
						}
					}
					BAR = {
						divide_variable = { BAR_asinti_blood_resource = 2 }
						round_variable = BAR_asinti_blood_resource
						set_variable = { inflicted_casualties_last_month = inflicted_casualties }
						count_inflicted_casualties_on_current_enemies = yes
						subtract_from_variable = { inflicted_casualties_last_month = inflicted_casualties }
						multiply_variable = { inflicted_casualties_last_month = -1 }
						if = {
							limit = {
								check_variable = { BAR_asinti_blood_resource < 2100000 }
							}
							add_to_variable = { BAR_asinti_blood_resource = inflicted_casualties_last_month }
						}
						else = {
							set_variable = { BAR_asinti_blood_resource = 2100000 }
						}
					}	
				}
			}	
		}
	}

	on_yearly_TBK_moneys = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] on_yearly_TBK_moneys"
			if = {
				limit = {
					check_variable = { global.month = 12 }
					TBK = {
						exists = yes
						OR = {
							has_completed_focus = TBK_house_of_trade
							has_completed_focus = TBK_criminal_ministry
						}
					}
				}
				TBK = {
					add_to_variable = {
						var = TBK_dirty_money
						value = TBK_yearly_money 
					}
				}
			}
		}
	}
	on_weekly_ZAR = {
        effect = {
            log = "[GetDateText]: ROOT: [Root.GetName] on_weekly_ZAR"
            if = {
                limit = {
                    has_idea = ZAR_trans_zebharan_caravans
                }
				add_equipment_to_stockpile = { 
					type = infantry_equipment 
					amount = 15 
            	}
        	}
            if = {
                limit = {
                    has_idea = ZAR_flourishing_trans_zebharan_caravans
                }
				add_equipment_to_stockpile = { 
					type = infantry_equipment 
					amount = 25 
				}
				add_equipment_to_stockpile = { 
					type = support_equipment
					amount = 5
				}
			}
			
			if = {
                limit = {
            	    NOT = {
						has_completed_focus = ZAR_emerald_fields
		        	}
           		}
				every_owned_state = {
					limit = {
						has_dynamic_modifier = {
							modifier = ZAR_the_flowering
						}
					}
					ROOT = {
						 if = {
							limit = {
								has_completed_focus = ZAR_emerald_fields
								NOT = {
									has_completed_focus = ZAR_the_desert_blossoms
								}
							}
							add_manpower = 100 
						}
						else_if = {
							limit = {
								has_completed_focus = ZAR_the_desert_blossoms
							}
							add_manpower = 200 
						}
						else = {
							add_manpower = 50
						}
					}
				}
			}
           
		}
    }
	on_monthly_HIE = {
		effect = {
			if = {
				limit = {
					has_completed_focus = HIE_CTH_e1
					has_war = yes
				}
				set_variable = { inflicted_casualties_last_month = inflicted_casualties }
				count_inflicted_casualties_on_current_enemies = yes
				subtract_from_variable = { inflicted_casualties_last_month = inflicted_casualties }
				multiply_variable = { inflicted_casualties_last_month = -1 }

				add_to_variable = { inflicted_casualties_last_month = inflicted_casualties_last_month_remainer }

				set_temp_variable = { crystals_var_remainer = inflicted_casualties_last_month }
				set_temp_variable = { crystals_var_remainer_decimal = inflicted_casualties_last_month }
				modulo_temp_variable = { crystals_var_remainer = 10 }
				subtract_from_temp_variable = { crystals_var_remainer_decimal = 0.499 }
				round_temp_variable = crystals_var_remainer_decimal
				set_temp_variable = { crystals_var_remainer_decimal_2 = inflicted_casualties_last_month }
				subtract_from_temp_variable = { crystals_var_remainer_decimal_2 = crystals_var_remainer_decimal }
				add_to_temp_variable = { crystals_var_remainer = crystals_var_remainer_decimal_2 }

				set_temp_variable = { crystals_var = inflicted_casualties_last_month }
				divide_temp_variable = { crystals_var = 10 }
				subtract_from_temp_variable = { crystals_var = 0.499 }
				round_temp_variable = crystals_var

				set_variable = { inflicted_casualties_last_month_remainer = crystals_var_remainer }

				875 = {
					add_to_variable = { HIE_CTH_e1_crystals_var_temp = crystals_var }
					if = {
						limit = { is_owned_and_controlled_by = PREV	}
						set_variable = { HIE_CTH_e1_crystals_var = HIE_CTH_e1_crystals_var_temp }
						force_update_dynamic_modifier = yes
					}
				}
			}
		}
	}
}
