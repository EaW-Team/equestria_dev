on_actions = {
	on_state_control_changed = {
		effect = {
			# Check if the state has unrest or not, and removes the modifier if necessary
			if = {
				limit = {
					FROM = {
						original_tag = MGY
					}
				}
				MGY_Unrest_onStateOwnershipChange_effect = yes
			}
		}
	}
	on_unit_leader_created = {
		# Effect to assign the "Maredjay Officer" trait to new commanders
		effect = {
			character = {
				if = {
					limit = {
						is_army_leader = yes
					}
					if = {
						limit = {
							FROM = {
								has_idea = MGY_MaredjayArmy
							}
						}
						ROOT = {
							add_unit_leader_trait = maredjay_officer
						}
					}
				}
			}
		}
	}
	on_startup = {
		effect = {
			MGY = {
				country_event = {
					id = MGY_Lore.1
					days = 2
				}
			}
		}
	}
	on_weekly_MGY = {
		effect = {
			if = {
				#To update how much food is gained per week
				limit = {
					has_completed_focus = MGY_AgrarianCensus
				}
				MGY_Granary_OnWeek_effect = yes
			}
		}
	}
	on_daily_MGY = {
		effect = {
			if = {
				# To keep tracks of days remaining with the "Legacy of the Storm" penalties
				limit = {
					has_completed_focus = MGY_EconomyDevelopment
					OR = {
						has_idea = MGY_legacy_of_storm1
						has_idea = MGY_legacy_of_storm2
						has_idea = MGY_legacy_of_storm3
					}
				}
				add_to_variable = {
					var = MGY_LegacyOfStormCounter_var
					value = -1
				}
				clamp_variable = {
					var = MGY_LegacyOfStormCounter_var
					min = 0
				}
				if = {
					limit = {
						has_idea = MGY_legacy_of_storm1
						check_variable = {
							var = MGY_LegacyOfStormCounter_var
							value = 400
							compare = less_than
						}
					}
					remove_ideas = MGY_legacy_of_storm1
					add_timed_idea = {
						idea = MGY_legacy_of_storm2
						days = MGY_LegacyOfStormCounter_var
					}
					#
					country_event = MGY_FocusEconomy.2
				}
				else_if = {
					limit = {
						has_idea = MGY_legacy_of_storm2
						check_variable = {
							var = MGY_LegacyOfStormCounter_var
							value = 200
							compare = less_than
						}
					}
					remove_ideas = MGY_legacy_of_storm2
					add_timed_idea = {
						idea = MGY_legacy_of_storm3
						days = MGY_LegacyOfStormCounter_var
					}
					#
					country_event = MGY_FocusEconomy.2
				}
				else_if = {
					limit = {
						has_idea = MGY_legacy_of_storm3
						check_variable = {
							var = MGY_LegacyOfStormCounter_var
							value = 1
							compare = less_than
						}
					}
					remove_ideas = MGY_legacy_of_storm3
					#
					country_event = MGY_FocusEconomy.23
				}
			}
		}
	}
}