on_actions = {

	#FROM is war target
	on_declare_war = {
		effect = {
			log = "[GetDateText]: ROOT: [Root.GetName] FROM: [From.GetName] on_declare_war"
			hidden_effect = {
				save_puppet_wargoals = yes
				country_event = griffonian.2
				fire_GRD_cosmetic_handling = yes
				FROM = {
					fire_GRD_cosmetic_handling = yes
				}
			}
			if = {
				limit = {
					OR = {
						AND = {
							FROM = { tag = DED }
							tag = HLR
						}
						AND = {
							FROM = { tag = HLR }
							tag = DED
						}
					}
				}
				if = {
					limit = {
						DED = {
							NOT = {has_country_flag = DED_AP_disable_weird_ded_shit}
						}
					}
					426 = { add_core_of = DED }
					564 = { add_core_of = DED }
				}
			}
			if = {
				limit = {
					is_trading_with_NCH = yes
					FROM = { tag = NCH }
				}
				remove_opinion_modifier = { modifier = NCH_negative_trading target = FROM }
				remove_opinion_modifier = { modifier = trading target = FROM }
				if = {
					limit = {
						has_idea = NCH_trading_with_NCH_harmonic
					}
					remove_ideas = NCH_trading_with_NCH_harmonic
				}
				if = {
					limit = {
						has_idea = NCH_trading_with_NCH_fascist
					}
					remove_ideas = NCH_trading_with_NCH_fascist
				}
				FROM = {
					add_to_variable = {
						var = NCH_trade_partners_iter
						value = -1
					}
					add_to_variable = { var = gytha_sanity value = 1 }
					NCH_get_trading_idea = yes
				}
			}
			else_if = {
				limit = {
					FROM = { is_trading_with_NCH = yes }
					tag = NCH
				}
				FROM = {
					remove_opinion_modifier = { modifier = NCH_negative_trading target = ROOT }
					remove_opinion_modifier = { modifier = trading target = ROOT }
					if = {
						limit = {
							has_idea = NCH_trading_with_NCH_harmonic
						}
						remove_ideas = NCH_trading_with_NCH_harmonic
					}
					if = {
						limit = {
							has_idea = NCH_trading_with_NCH_fascist
						}
						remove_ideas = NCH_trading_with_NCH_fascist
					}
				}
				add_to_variable = {
					var = NCH_trade_partners_iter
					value = -1
				}
				add_to_variable = { var = gytha_sanity value = 1 }
				NCH_get_trading_idea = yes
			}
			if = {
				limit = {
					FROM = {
						is_in_faction = yes
						is_river_fed_member = yes
						NOT = { original_tag = ROOT }
					}
				}
				FROM = { save_event_target_as = defender }
				every_country = {
					limit = {
						NOT = { tag = FROM }
						is_in_faction_with = FROM
						is_subject = no
					}
					country_event = {
						id = riverfed.30
						days = 1
					}
				}
			}
			clear_variable = delayed_merc_payment_@FROM
			FROM = { clear_variable = delayed_merc_payment_@ROOT }
			if = {
				limit = {
					OR = {
						original_tag = ERI
						original_tag = EYR
					}
					FROM = {
						OR = {
							original_tag = ERI
							original_tag = EYR
						}
					}
				}
				set_country_flag = { flag = block_white_peace value = 1 days = 21 }
				FROM = { set_country_flag = { flag = block_white_peace value = 1 days = 21 } }
			}
			else_if = {
				limit = { FROM = { tag = GRW } }
				if = {
					limit = {
						tag = BRF
					}
					country_event = brodfeld.26
				}
				if = {
					limit = {
						tag = LUS
					}
					if = {
						limit = { has_poverty = yes }
						country_event = { id = lushi.31 days = 1 }
					}
					if = {
						limit = {
							has_idea = LUS_prywhen_communist_influence
							NOT = {
								has_government = communism
							}
						}
						country_event = { id = lushi.30 days = 1 }
						add_ideas = LUS_munities_and_disorder
						FROM = {
							load_oob = "GRW_militia_against_LUS"
						}
					}
				}
			}
			if = {
				limit = {
					OR = {
						AND = {
							tag = GRW
							FROM = { tag = BAN }
						}
						AND = {
							tag = BAN
							FROM = { tag = GRW }
						}
						AND = {
							tag = GRW
							FROM = { tag = BRF }
						}
						AND = {
							tag = BRF
							FROM = { tag = GRW }
						}
					}
				}
				GRW = { load_oob = "GRW_fun_for_player" }
			}
			if = {
				limit = { tag = DED FROM = { tag = HLR } }
				FROM = { add_timed_idea = {idea = HLR_Dreads_Incoming_idea days = 200} }
			}
			if = {
				limit = {
					original_tag = OLE
					FROM = { original_tag = OLE }
				}
				if = {
					limit = {
						NOT = { tag = OLE }
						original_tag = OLE
					}
					if = {
						limit = {
							OR = {
								has_government = neutrality
								has_government = fascism
							}
						}
						set_cosmetic_tag = OLE_NEU
						else = {
							set_cosmetic_tag = OLE_DEM
						}
					}
				}
				FROM = {
					if = {
						limit = {
							NOT = { tag = OLE }
							original_tag = OLE
						}
						if = {
							limit = {
								OR = {
									has_government = neutrality
									has_government = fascism
								}
							}
							set_cosmetic_tag = OLE_NEU
							else = {
								set_cosmetic_tag = OLE_DEM
							}
						}
					}
				}
				if = {
					limit = {
						tag = OLE
						OR = {
							has_government = neutrality
							has_government = fascism
						}
					}
					set_cosmetic_tag = OLE_NEU
				}
			}
			else_if = {
				limit = {
					original_tag = CRY
					FROM = { original_tag = CRY }
				}
				if = {
					limit = {
						has_government = democratic
						NOT = { has_completed_focus = CRY_oldorder }
					}
					complete_national_focus = CRY_oldorder
					else = {
						FROM = {
							if = {
								limit = {
									has_government = democratic
									NOT = { has_completed_focus = CRY_oldorder }
								}
								complete_national_focus = CRY_oldorder
							}
						}
					}
				}
			}
			if = {
				limit = {
					original_tag = CRY has_government = democratic
				}
				country_event = { id = crysom.39 days = 1 }
			}
			else_if = {
				limit = {
					FROM = { original_tag = CRY has_government = democratic }
				}
				FROM = { country_event = { id = crysom.39 days = 1 } }
			}
			if = {
				limit = {
					original_tag = EQS
				}
				if = {
					limit = {
						FROM = {
							original_tag = BUF
							is_subject = no
						}
					}
					country_event = news.2001
				}
				else_if = {
					limit = {
						FROM = { original_tag = CHN }
					}
					set_variable = {
						var = mane_six_event_counter
						value = 0
					}
					country_event = {
						id = equestria.172
						days = 5
					}
				}
				else_if = {
					limit = {
						is_EQS_SOL = yes
						NOT = { has_completed_focus = SOL_bat_problems }
						FROM = { original_tag = EQS }
					}
					every_owned_state = {
						limit = { has_state_flag = eqs_bat_state }
						clr_state_flag = eqs_bat_state
						add_core_of = FROM
						FROM = { set_state_controller = PREV }
					}
				}
				else_if = {
					limit = {
						FROM = {
							is_EQS_SOL = yes
							NOT = { has_completed_focus = SOL_bat_problems }
						}
					}
					every_owned_state = {
						limit = { has_state_flag = eqs_bat_state }
						clr_state_flag = eqs_bat_state
						add_core_of = ROOT
						ROOT = { set_state_controller = PREV }
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							original_tag = EQS
							FROM = { original_tag = CRY has_government = fascism }
						}
						AND = {
							original_tag = CRY has_government = fascism
							FROM = { original_tag = EQS }
						}
					}
				}
				news_event = { id = news.45 days = 1 }
			}
			else_if = {
				limit = { tag = CHN }
				if = {
					limit = {
						NOT = { has_global_flag = the_war }
						FROM = {
							original_tag = EQS
						}
					}
					country_event = { id = changelingattache.13 days = 1 }
					news_event = { id = news.3 days = 1 }
					EQS = {
						set_variable = {
							var = mane_six_event_counter
							value = 0
						}
						country_event = {
							id = equestria.172
							days = 5
						}
						if = {
							limit = {
								EQC = { is_ally_with = PREV }
							}
							EQC = { set_country_flag = together_with_EQS }
						}
					}
				}
				if = {
					limit = {
						has_government = fascism
						has_completed_focus = demand_equestria
						NOT = { country_exists = VAN EQS = { is_ai = yes } }
						FROM = {
							OR = {
								original_tag = EQS
								tag = NLR
							}
						}
					}
					country_event = { id = changelings.32 days = 1 random_hours = 48 }#days to hours applied
				}
				if = {
					limit = {
						has_country_leader = { ruling_only = yes character = CHN_queen_chrysalis }
						FROM = {
							original_tag = OLE
						}
					}
					for_each_scope_loop = {
						array = global.majors
						if = {
							limit = {
								exists = yes
								is_major = yes
								is_on_equestrian_continent = yes
								NOT = {
									original_tag = CHN
									original_tag = OLE
									has_war_with = CHN
									has_capitulated = yes
									is_subject_of = CHN
								}
							}
							country_event = { id = changeling_diplo.4 days = 2 }
						}
					}
				}
			}
			else_if = {
				limit = {
					GRI = { GRI_synovial = { is_unit_leader = yes } }
					OR = {
						AND = {
							tag = CHN
							FROM = { tag = GRI }
						}
						AND = {
							tag = GRI
							FROM = { tag = CHN }
						}
					}
				}
				CHN = { remove_ideas = CHN_GRI_Attache_For_CHN }
				GRI = {
					remove_ideas = CHN_GRI_Attache_For_GRI
					GRI_thranx = { set_nationality = CHN }
					GRI_synovial = {
						set_nationality = CHN
						set_portraits = {
							army = { large ="GFX_Synovial_CHN_cap" }
						}
					}
					delete_unit_template_and_units = {
						division_template = "Panzergrenadier Division"
					}
				}
			}
			else_if = {
				limit = {
					STG = {
						exists = yes
						has_government = communism
						is_subject = no
					}
				}
				if = {
					limit = {
						OR = {
							AND = {
								tag = BAL
								FROM = { tag = EQS }
							}
							AND = {
								tag = EQS
								FROM = { tag = BAL }
							}
						}
					}
					BAL = { country_event = { id = civwar.14 days = 1 } }
				}
				else_if = {
					limit = {
						OR = {
							AND = {
								tag = BAL
								FROM = { tag = NLR }
							}
							AND = {
								tag = NLR
								FROM = { tag = BAL }
							}
						}
					}
					BAL = { country_event = { id = civwar.15 days = 1 } }
				}
			}
			#Remove BNPL bills if New Mareland goes to war
			if = {
				limit = {
					ROOT = { original_tag = EQC }
					ROOT = { EQC_has_bnpl_bills = yes }
					NOT = { FROM = { original_tag = EQC } } # Don't remove in a civil war
				}
				ROOT = {
					EQC_remove_bnpl_bills = yes
					set_country_flag = bnpl_bills_removed_through_war
				}
			}

			#Remove BNPL bills if New Mareland is declared war on
			else_if = {
				limit = {
					FROM = { original_tag = EQC }
					FROM = { EQC_has_bnpl_bills = yes }
				}
				FROM = {
					EQC_remove_bnpl_bills = yes
					set_country_flag = bnpl_bills_removed_through_war
				}
			}

			#Gang up on Lake City
			if = {
				limit = {
					has_global_flag = LCT_holy_pony_empire_founded
					ROOT = { is_griffon_continent_griffon_country = yes }
					FROM = { original_tag = LCT }
				}
				ROOT = {
					country_event = { id = lakecity.91 days = 1 }
				}
			}

			#Gang up on Griffking Empire
			if = {
				limit = {
					ROOT = { is_griffon_continent_griffon_country = yes }
					FROM = {
						original_tag = LSC
						has_cosmetic_tag = LSC_griffking_empire_cosmetic
					}
				}
				ROOT = {
					country_event = { id = longsword.125 days = 1 }
				}
			}

			#Remove from LCT pact
			if = {
				limit = {
					tag = LCT
					FROM = {
						OR = {
							has_opinion_modifier = anti_comintern_pact_opinion
							has_idea = LCT_anti_commie_pact
						}
					}
				}
				FROM = {
					remove_opinion_modifier = { target = LCT modifier = anti_comintern_pact_opinion }
					remove_ideas = LCT_anti_commie_pact
				}
			}

			#Call LCT Anti-Commie pact members to war
			if = {
				limit = {
					ROOT = { has_government = communism }
					FROM = { has_idea = LCT_anti_commie_pact }
				}
				FROM = {
					country_event = { id = lakecity.81 days = 1 }
				}
				ROOT = {
					save_global_event_target_as = LCT_pact_war_starter
				}
			}



			if = {#If someone goes to war with Nova Whirl while they're infiltrated with her partisans
				limit = {
					FROM = {
						original_tag = RCT
					}
					ROOT = {
						OR = {
							has_idea = RCT_militants1
							has_idea = RCT_militants2
							has_idea = RCT_militants3
						}
					}
				}
				ROOT = {
					country_event = { id = rivercity.1920 days = 2}
				}
			}
			else_if = {#If Nova Whirl goes to war with someone while they're infiltrated with her partisans
				limit = {
					FROM = {
						OR = {
							has_idea = RCT_militants1
							has_idea = RCT_militants2
							has_idea = RCT_militants3
						}
					}
					ROOT = {
						original_tag = RCT
					}
				}
				FROM = {
					country_event = { id = rivercity.1920 days = 2}
				}
			}
			#Spawn the Scotts for FRe if fre declares war
			if = {
				limit = {
					ROOT = { original_tag = FRE }
					NOT = {
						has_country_flag = FRE_Scotts_arrived_already
					}
					NOT = { FROM = { original_tag = EQC } } # Don't spawn in cicil war
				}
				ROOT = {
					country_event = { id = freeponies.15 days = 2}
					set_country_flag = FRE_Scotts_arrived_already
				}
			}

			#Spawn the Scotts for FRe if Fre is attacked
			else_if = {
				limit = {
					FROM = { original_tag = FRE }
					NOT = {
						has_country_flag = FRE_Scotts_arrived_already
					}
				}
				FROM = {
					country_event = { id = freeponies.15 days = 2}
					set_country_flag = FRE_Scotts_arrived_already
				}
			}



			#Civil war transfer society/science ideas
			if = {
				limit = {
					OR = {
						has_idea = dummy_idea_society
						NOT = { has_idea_with_trait = society_idea }
					}
				}
				if = {
					limit = {
						FROM = {
							NOT = {
								has_idea = modern_society
							}
						}
					}
					FROM = { ROOT = { transfer_society_ideas = yes } }
					else = { add_ideas = modern_society }
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = dummy_idea_science
						NOT = { has_idea_with_trait = science_idea }
					}
				}
				if = {
					limit = {
						FROM = {
							NOT = {
								has_idea = proper_science_base
							}
						}
					}
					FROM = { ROOT = { transfer_science_ideas = yes } }
					else = { add_ideas = proper_science_base }
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = dummy_idea_literacy
						NOT = { has_idea_with_trait = illiteracy_idea }
					}
				}
				if = {
					limit = {
						FROM = {
							NOT = {
								has_idea = no_lack_of_scientists
							}
						}
					}
					FROM = { ROOT = { transfer_illiteracy_ideas = yes } }
					else = { add_ideas = no_lack_of_scientists }
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = dummy_idea_poverty
						NOT = { has_idea_with_trait = poverty_idea }
					}
				}
				if = {
					limit = {
						FROM = {
							NOT = {
								has_idea = no_poverty
							}
						}
					}
					FROM = { ROOT = { transfer_poverty_ideas = yes } }
					else = { add_ideas = no_poverty }
				}
			}
			if = {
				limit = {
					original_tag = FROM
				}
				log = "on_declare_war: is civil war root: [?root.GetTag] from: [?from.GetTag]"
				#WORKAROUND_civil_war_load_tree_for_revolter = yes
				FROM = { ROOT = { transfer_race_ideas = yes } }
				if = {
					limit = { FROM = { has_country_flag = started_out_as_landlocked } }
					set_country_flag = started_out_as_landlocked
				}
				if = {
					limit = { has_country_flag = started_out_as_landlocked }
					FROM = { set_country_flag = started_out_as_landlocked }
				}
				if = {
					limit = {
						OR = {
							tag = FAT
							FROM = { has_focus_tree = generic_griffon_focus }
						}
						has_focus_tree = generic_griffon_focus
					}
					if = {
						limit = {
							#TODO make sure which countries can have monarchist civil wars
							always = yes
						}
						set_country_flag = have_regular_puppets
					}
				}
				set_rule = {
					can_generate_female_aces = yes
				}
				FROM = {
					set_rule = {
						can_generate_female_aces = yes
					}
				}
			}
			if = {
				limit = {
					tag = FAT
					has_country_leader = {
						ruling_only = yes
						character = FAT_warmaster_dawnclaw
					}
					FROM = { original_tag = VED }
				}

				country_event = {
					id = chaos.27
					days = 7
					random_days = 7
				}
			}
			if = {
				limit = {
					FROM = {
						OR = {
							tag = BRF
							tag = SIC
							tag = WNG
							tag = FAL
							tag = BOI
							tag = LAK
							tag = TAL
							tag = FRN
							tag = ARA
							tag = EYR
							tag = ERI
							tag = AVI
							tag = POM
							tag = HEL
							tag = AET
							tag = FEZ
							tag = TRD
							tag = JER
							tag = JEB
							tag = JRR
							tag = VIN
							tag = JFT
							tag = PYT
							tag = YAL
							tag = ANG
							tag = GRI
							tag = KAT
							tag = STW
							tag = FEA
							tag = FAT
							tag = VED
						}
					}
					ROOT = {
						original_tag = GRY
						has_country_flag = GRY_has_imperial_patronage
					}
				}
				GRI = { country_event = { id = gryphianhost.129 days = 2 } }
				ROOT = { country_event = { id = gryphianhost.130 days = 2 } }
			}
			if = {
				limit = {
					FROM = {
						tag = GRY
					}
					ROOT = {
						original_tag = LCT
					}
				}
				FROM = { country_event = { id = gryphianhost.163 days = 2 } }
			}
			if = {
				limit = {
					ROOT = {
						OR = {
							tag = GRD
							is_in_faction_with = GRD
							is_subject_of = GRD
						}
					}
					FROM = { has_idea = FAT_republican_pact }
				}
				FROM = {
					country_event = griffonRepublic.79
				}
			}
			if = {
				limit = {
					FROM = {
						OR = {
							tag = GRD
							is_in_faction_with = GRD
							is_subject_of = GRD
						}
					}
					ROOT = { tag = FAT has_idea = FAT_republican_pact }
				}
				ROOT = {
					country_event = griffonRepublic.79
				}
			}
			if = {
				limit = { FROM = { is_river_fed_member = yes } }
				custom_effect_tooltip = RivCol_capitulation_TT
			}
			if = {
				limit = {
					FROM = {
						original_tag = BRZ
						OR = {
							has_idea = BRZ_pacifism1
							has_idea = BRZ_pacifism2
							has_idea = BRZ_pacifism3
							has_idea = BRZ_pacifism4
						}
					}
				}
				FROM = {
					remove_ideas = BRZ_pacifism1
					remove_ideas = BRZ_pacifism2
					remove_ideas = BRZ_pacifism3
					remove_ideas = BRZ_pacifism4
				}
			}

			if = {
				limit = {
					OR = {
						is_ai = no
						NOT = { has_country_flag = recently_fixed_weapons }
					}
				}
				actually_fix_weapon_techs = yes
				set_country_flag = { flag = recently_fixed_weapons days = 1 value = 1 }
			}
			FROM = {
				if = {
					limit = {
						OR = {
							is_ai = no
							NOT = { has_country_flag = recently_fixed_weapons }
						}
					}
					actually_fix_weapon_techs = yes
					set_country_flag = { flag = recently_fixed_weapons days = 1 value = 1 }
				}
			}
			if = {
				limit = {
					ROOT = {
						original_tag = HLQ
						has_country_flag = HLQ_commies_attack_lushi
					}
					FROM = {
						original_tag = LUS
					}
				}
				LUS = {
					country_event = { id = hellquill.251 }
				}
				HLQ = {
					country_event = { id = hellquill.253 days = 3 random_days = 7 }
				}
			}
			if = {
				limit = {
				    OR = {
					    tag = SCS
						tag = LSP
						tag = BUF
						tag = BAL
						tag = NMS
						tag = JUN
						tag = CES
						tag = OLE
						tag = CRY
						tag = CHN
						tag = CCN
						tag = DRG
						tag = EQC
						tag = PLB
						tag = PNG
						tag = GRF
						tag = GFF
						tag = YAK
						tag = JAK
					}
					FROM = {
						tag = NLR
						has_country_flag = NLR_preparing_to_attack_country
					}
				}
				FROM = {
					clr_country_flag = NLR_preparing_to_attack_country
				}
				clr_country_flag = NLR_preparing_to_attack_country
			}
			if = {
				limit = {
					tag = FRN
					FROM = {
						tag = JES
					}
				}
				FRN = {
					activate_targeted_decision = {
						target = JES
						decision = FRN_JES_war_timer
					}
				}
				JES = {
					country_event = {
						id = tarrin.1
						days = 1
					}
				}
			}
			if = {
				limit = {
					OR = {
						AND = {
							tag = WNG
							FROM = {
								tag = FAL
							}
						}
						AND = {
							tag = FAL
							FROM = {
								tag = WNG
							}
						}
					}
				}
				FRN = {
					country_event = {
						id = francistria.87
						days = 1
					}
				}
			}
			if = {
				limit = {
					tag = KXN
					is_ai = no
					is_subject = no
					has_government = fascism
					FROM = { capital_scope = { is_on_continent = africa } }
					NOT = { has_global_flag = KXN_The_Shattering_Happened }
				}
				if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_1_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_1 }
						set_country_flag = KXN_Conquest_Mission_1_Active
						### Calculate Duration ###
						set_variable = { KXN_Conquest_Mission_1_Days_Timeout = FROM.num_owned_states }
						# subtract_from_variable = { KXN_Conquest_Mission_1_Days_Timeout = 6 }
						multiply_variable = { KXN_Conquest_Mission_1_Days_Timeout = 30 }
						# clamp_variable = { var = KXN_Conquest_Mission_1_Days_Timeout min = 0 }
						# add_to_variable = { KXN_Conquest_Mission_1_Days_Timeout = 180 } ## Base of 180 days - DEPRECATED
						### Calculate Regular (First) Stage Duration ###
						set_variable = { KXN_Conquest_Mission_1_Regular_Stage = KXN_Conquest_Mission_1_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_1_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_1_Regular_Stage = 0.5 } ## Round down
						round_variable = KXN_Conquest_Mission_1_Regular_Stage
						### Set Caspy Stage ###
						set_variable = { KXN_Conquest_Mission_1_Caspy_Stage = KXN_Conquest_Mission_1_Regular_Stage }
						### Limit Stage I to 60 Days ###
						clamp_variable = { var = KXN_Conquest_Mission_1_Regular_Stage max = 60 }
						### Calculate Second Stage Duration ###
						set_variable = { KXN_Conquest_Mission_1_Second_Stage = KXN_Conquest_Mission_1_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_1_Second_Stage = KXN_Conquest_Mission_1_Caspy_Stage }
						### Limit Stage II to 90 Days ###
						clamp_variable = { var = KXN_Conquest_Mission_1_Second_Stage max = 150 }
						### Calculate Third Stage Duration ###
						set_variable = { KXN_Conquest_Mission_1_Third_Stage = KXN_Conquest_Mission_1_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_1_Third_Stage = KXN_Conquest_Mission_1_Caspy_Stage }
						### Limit Stage III to 90 Days ###
						clamp_variable = { var = KXN_Conquest_Mission_1_Third_Stage max = 240 }
						### Calculate Fourth Stage Duration ###
						set_variable = { KXN_Conquest_Mission_1_Fourth_Stage = KXN_Conquest_Mission_1_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_1_Fourth_Stage = KXN_Conquest_Mission_1_Caspy_Stage }
						### Limit Stage IV to 180 Days ###
						clamp_variable = { var = KXN_Conquest_Mission_1_Fourth_Stage max = 420 }
						### Calculate Last Stage Duration ###
						set_variable = { KXN_Conquest_Mission_1_Last_Stage = KXN_Conquest_Mission_1_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_1_Last_Stage = KXN_Conquest_Mission_1_Fourth_Stage }
						### Events for Modifiers ###
						country_event = { id = lan_kir_utility.10 days = KXN.KXN_Conquest_Mission_1_Regular_Stage }
						country_event = { id = lan_kir_utility.11 days = KXN.KXN_Conquest_Mission_1_Second_Stage }
						country_event = { id = lan_kir_utility.12 days = KXN.KXN_Conquest_Mission_1_Third_Stage }
						country_event = { id = lan_kir_utility.13 days = KXN.KXN_Conquest_Mission_1_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_1 modifier = KXN_Stage_1_Modifiers }
					}
					### Activate! ###
					activate_mission = KXN_Conquest_Mission_1
					set_temp_variable = { KXN_Conquest_Mission_1_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_1_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_1_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_2_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_2 }
						set_country_flag = KXN_Conquest_Mission_2_Active
						set_variable = { KXN_Conquest_Mission_2_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_2_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_2_Regular_Stage = KXN_Conquest_Mission_2_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_2_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_2_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_2_Regular_Stage
						set_variable = { KXN_Conquest_Mission_2_Caspy_Stage = KXN_Conquest_Mission_2_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_2_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_2_Second_Stage = KXN_Conquest_Mission_2_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_2_Second_Stage = KXN_Conquest_Mission_2_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_2_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_2_Third_Stage = KXN_Conquest_Mission_2_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_2_Third_Stage = KXN_Conquest_Mission_2_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_2_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_2_Fourth_Stage = KXN_Conquest_Mission_2_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_2_Fourth_Stage = KXN_Conquest_Mission_2_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_2_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_2_Last_Stage = KXN_Conquest_Mission_2_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_2_Last_Stage = KXN_Conquest_Mission_2_Fourth_Stage }
						country_event = { id = lan_kir_utility.20 days = KXN.KXN_Conquest_Mission_2_Regular_Stage }
						country_event = { id = lan_kir_utility.21 days = KXN.KXN_Conquest_Mission_2_Second_Stage }
						country_event = { id = lan_kir_utility.22 days = KXN.KXN_Conquest_Mission_2_Third_Stage }
						country_event = { id = lan_kir_utility.23 days = KXN.KXN_Conquest_Mission_2_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_2 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_2
					set_temp_variable = { KXN_Conquest_Mission_2_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_2_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_2_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_3_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_3 }
						set_country_flag = KXN_Conquest_Mission_3_Active
						set_variable = { KXN_Conquest_Mission_3_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_3_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_3_Regular_Stage = KXN_Conquest_Mission_3_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_3_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_3_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_3_Regular_Stage
						set_variable = { KXN_Conquest_Mission_3_Caspy_Stage = KXN_Conquest_Mission_3_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_3_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_3_Second_Stage = KXN_Conquest_Mission_3_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_3_Second_Stage = KXN_Conquest_Mission_3_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_3_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_3_Third_Stage = KXN_Conquest_Mission_3_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_3_Third_Stage = KXN_Conquest_Mission_3_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_3_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_3_Fourth_Stage = KXN_Conquest_Mission_3_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_3_Fourth_Stage = KXN_Conquest_Mission_3_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_3_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_3_Last_Stage = KXN_Conquest_Mission_3_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_3_Last_Stage = KXN_Conquest_Mission_3_Fourth_Stage }
						country_event = { id = lan_kir_utility.30 days = KXN.KXN_Conquest_Mission_3_Regular_Stage }
						country_event = { id = lan_kir_utility.31 days = KXN.KXN_Conquest_Mission_3_Second_Stage }
						country_event = { id = lan_kir_utility.32 days = KXN.KXN_Conquest_Mission_3_Third_Stage }
						country_event = { id = lan_kir_utility.33 days = KXN.KXN_Conquest_Mission_3_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_3 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_3
					set_temp_variable = { KXN_Conquest_Mission_3_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_3_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_3_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_4_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_4 }
						set_country_flag = KXN_Conquest_Mission_4_Active
						set_variable = { KXN_Conquest_Mission_4_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_4_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_4_Regular_Stage = KXN_Conquest_Mission_4_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_4_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_4_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_4_Regular_Stage
						set_variable = { KXN_Conquest_Mission_4_Caspy_Stage = KXN_Conquest_Mission_4_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_4_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_4_Second_Stage = KXN_Conquest_Mission_4_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_4_Second_Stage = KXN_Conquest_Mission_4_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_4_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_4_Third_Stage = KXN_Conquest_Mission_4_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_4_Third_Stage = KXN_Conquest_Mission_4_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_4_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_4_Fourth_Stage = KXN_Conquest_Mission_4_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_4_Fourth_Stage = KXN_Conquest_Mission_4_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_4_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_4_Last_Stage = KXN_Conquest_Mission_4_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_4_Last_Stage = KXN_Conquest_Mission_4_Fourth_Stage }
						country_event = { id = lan_kir_utility.40 days = KXN.KXN_Conquest_Mission_4_Regular_Stage }
						country_event = { id = lan_kir_utility.41 days = KXN.KXN_Conquest_Mission_4_Second_Stage }
						country_event = { id = lan_kir_utility.42 days = KXN.KXN_Conquest_Mission_4_Third_Stage }
						country_event = { id = lan_kir_utility.43 days = KXN.KXN_Conquest_Mission_4_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_4 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_4
					set_temp_variable = { KXN_Conquest_Mission_4_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_4_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_4_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_5_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_5 }
						set_country_flag = KXN_Conquest_Mission_5_Active
						set_variable = { KXN_Conquest_Mission_5_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_5_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_5_Regular_Stage = KXN_Conquest_Mission_5_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_5_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_5_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_5_Regular_Stage
						set_variable = { KXN_Conquest_Mission_5_Caspy_Stage = KXN_Conquest_Mission_5_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_5_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_5_Second_Stage = KXN_Conquest_Mission_5_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_5_Second_Stage = KXN_Conquest_Mission_5_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_5_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_5_Third_Stage = KXN_Conquest_Mission_5_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_5_Third_Stage = KXN_Conquest_Mission_5_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_5_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_5_Fourth_Stage = KXN_Conquest_Mission_5_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_5_Fourth_Stage = KXN_Conquest_Mission_5_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_5_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_5_Last_Stage = KXN_Conquest_Mission_5_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_5_Last_Stage = KXN_Conquest_Mission_5_Fourth_Stage }
						country_event = { id = lan_kir_utility.50 days = KXN.KXN_Conquest_Mission_5_Regular_Stage }
						country_event = { id = lan_kir_utility.51 days = KXN.KXN_Conquest_Mission_5_Second_Stage }
						country_event = { id = lan_kir_utility.52 days = KXN.KXN_Conquest_Mission_5_Third_Stage }
						country_event = { id = lan_kir_utility.53 days = KXN.KXN_Conquest_Mission_5_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_5 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_5
					set_temp_variable = { KXN_Conquest_Mission_5_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_5_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_5_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_6_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_6 }
						set_country_flag = KXN_Conquest_Mission_6_Active
						set_variable = { KXN_Conquest_Mission_6_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_6_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_6_Regular_Stage = KXN_Conquest_Mission_6_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_6_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_6_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_6_Regular_Stage
						set_variable = { KXN_Conquest_Mission_6_Caspy_Stage = KXN_Conquest_Mission_6_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_6_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_6_Second_Stage = KXN_Conquest_Mission_6_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_6_Second_Stage = KXN_Conquest_Mission_6_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_6_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_6_Third_Stage = KXN_Conquest_Mission_6_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_6_Third_Stage = KXN_Conquest_Mission_6_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_6_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_6_Fourth_Stage = KXN_Conquest_Mission_6_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_6_Fourth_Stage = KXN_Conquest_Mission_6_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_6_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_6_Last_Stage = KXN_Conquest_Mission_6_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_6_Last_Stage = KXN_Conquest_Mission_6_Fourth_Stage }
						country_event = { id = lan_kir_utility.60 days = KXN.KXN_Conquest_Mission_6_Regular_Stage }
						country_event = { id = lan_kir_utility.61 days = KXN.KXN_Conquest_Mission_6_Second_Stage }
						country_event = { id = lan_kir_utility.62 days = KXN.KXN_Conquest_Mission_6_Third_Stage }
						country_event = { id = lan_kir_utility.63 days = KXN.KXN_Conquest_Mission_6_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_6 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_6
					set_temp_variable = { KXN_Conquest_Mission_6_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_6_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_6_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_7_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_7 }
						set_country_flag = KXN_Conquest_Mission_7_Active
						set_variable = { KXN_Conquest_Mission_7_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_7_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_7_Regular_Stage = KXN_Conquest_Mission_7_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_7_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_7_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_7_Regular_Stage
						set_variable = { KXN_Conquest_Mission_7_Caspy_Stage = KXN_Conquest_Mission_7_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_7_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_7_Second_Stage = KXN_Conquest_Mission_7_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_7_Second_Stage = KXN_Conquest_Mission_7_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_7_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_7_Third_Stage = KXN_Conquest_Mission_7_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_7_Third_Stage = KXN_Conquest_Mission_7_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_7_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_7_Fourth_Stage = KXN_Conquest_Mission_7_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_7_Fourth_Stage = KXN_Conquest_Mission_7_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_7_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_7_Last_Stage = KXN_Conquest_Mission_7_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_7_Last_Stage = KXN_Conquest_Mission_7_Fourth_Stage }
						country_event = { id = lan_kir_utility.70 days = KXN.KXN_Conquest_Mission_7_Regular_Stage }
						country_event = { id = lan_kir_utility.71 days = KXN.KXN_Conquest_Mission_7_Second_Stage }
						country_event = { id = lan_kir_utility.72 days = KXN.KXN_Conquest_Mission_7_Third_Stage }
						country_event = { id = lan_kir_utility.73 days = KXN.KXN_Conquest_Mission_7_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_7 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_7
					set_temp_variable = { KXN_Conquest_Mission_7_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_7_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_7_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_8_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_8 }
						set_country_flag = KXN_Conquest_Mission_8_Active
						set_variable = { KXN_Conquest_Mission_8_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_8_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_8_Regular_Stage = KXN_Conquest_Mission_8_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_8_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_8_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_8_Regular_Stage
						set_variable = { KXN_Conquest_Mission_8_Caspy_Stage = KXN_Conquest_Mission_8_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_8_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_8_Second_Stage = KXN_Conquest_Mission_8_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_8_Second_Stage = KXN_Conquest_Mission_8_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_8_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_8_Third_Stage = KXN_Conquest_Mission_8_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_8_Third_Stage = KXN_Conquest_Mission_8_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_8_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_8_Fourth_Stage = KXN_Conquest_Mission_8_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_8_Fourth_Stage = KXN_Conquest_Mission_8_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_8_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_8_Last_Stage = KXN_Conquest_Mission_8_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_8_Last_Stage = KXN_Conquest_Mission_8_Fourth_Stage }
						country_event = { id = lan_kir_utility.80 days = KXN.KXN_Conquest_Mission_8_Regular_Stage }
						country_event = { id = lan_kir_utility.81 days = KXN.KXN_Conquest_Mission_8_Second_Stage }
						country_event = { id = lan_kir_utility.82 days = KXN.KXN_Conquest_Mission_8_Third_Stage }
						country_event = { id = lan_kir_utility.83 days = KXN.KXN_Conquest_Mission_8_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_8 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_8
					set_temp_variable = { KXN_Conquest_Mission_8_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_8_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_8_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_9_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_9 }
						set_country_flag = KXN_Conquest_Mission_9_Active
						set_variable = { KXN_Conquest_Mission_9_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_9_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_9_Regular_Stage = KXN_Conquest_Mission_9_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_9_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_9_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_9_Regular_Stage
						set_variable = { KXN_Conquest_Mission_9_Caspy_Stage = KXN_Conquest_Mission_9_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_9_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_9_Second_Stage = KXN_Conquest_Mission_9_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_9_Second_Stage = KXN_Conquest_Mission_9_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_9_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_9_Third_Stage = KXN_Conquest_Mission_9_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_9_Third_Stage = KXN_Conquest_Mission_9_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_9_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_9_Fourth_Stage = KXN_Conquest_Mission_9_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_9_Fourth_Stage = KXN_Conquest_Mission_9_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_9_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_9_Last_Stage = KXN_Conquest_Mission_9_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_9_Last_Stage = KXN_Conquest_Mission_9_Fourth_Stage }
						country_event = { id = lan_kir_utility.90 days = KXN.KXN_Conquest_Mission_9_Regular_Stage }
						country_event = { id = lan_kir_utility.91 days = KXN.KXN_Conquest_Mission_9_Second_Stage }
						country_event = { id = lan_kir_utility.92 days = KXN.KXN_Conquest_Mission_9_Third_Stage }
						country_event = { id = lan_kir_utility.93 days = KXN.KXN_Conquest_Mission_9_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_9 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_9
					set_temp_variable = { KXN_Conquest_Mission_9_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_9_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_9_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_10_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_10 }
						set_country_flag = KXN_Conquest_Mission_10_Active
						set_variable = { KXN_Conquest_Mission_10_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_10_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_10_Regular_Stage = KXN_Conquest_Mission_10_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_10_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_10_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_10_Regular_Stage
						set_variable = { KXN_Conquest_Mission_10_Caspy_Stage = KXN_Conquest_Mission_10_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_10_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_10_Second_Stage = KXN_Conquest_Mission_10_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_10_Second_Stage = KXN_Conquest_Mission_10_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_10_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_10_Third_Stage = KXN_Conquest_Mission_10_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_10_Third_Stage = KXN_Conquest_Mission_10_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_10_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_10_Fourth_Stage = KXN_Conquest_Mission_10_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_10_Fourth_Stage = KXN_Conquest_Mission_10_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_10_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_10_Last_Stage = KXN_Conquest_Mission_10_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_10_Last_Stage = KXN_Conquest_Mission_10_Fourth_Stage }
						country_event = { id = lan_kir_utility.100 days = KXN.KXN_Conquest_Mission_10_Regular_Stage }
						country_event = { id = lan_kir_utility.101 days = KXN.KXN_Conquest_Mission_10_Second_Stage }
						country_event = { id = lan_kir_utility.102 days = KXN.KXN_Conquest_Mission_10_Third_Stage }
						country_event = { id = lan_kir_utility.103 days = KXN.KXN_Conquest_Mission_10_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_10 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_10
					set_temp_variable = { KXN_Conquest_Mission_10_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_10_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_10_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_11_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_11 }
						set_country_flag = KXN_Conquest_Mission_11_Active
						set_variable = { KXN_Conquest_Mission_11_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_11_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_11_Regular_Stage = KXN_Conquest_Mission_11_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_11_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_11_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_11_Regular_Stage
						set_variable = { KXN_Conquest_Mission_11_Caspy_Stage = KXN_Conquest_Mission_11_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_11_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_11_Second_Stage = KXN_Conquest_Mission_11_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_11_Second_Stage = KXN_Conquest_Mission_11_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_11_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_11_Third_Stage = KXN_Conquest_Mission_11_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_11_Third_Stage = KXN_Conquest_Mission_11_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_11_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_11_Fourth_Stage = KXN_Conquest_Mission_11_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_11_Fourth_Stage = KXN_Conquest_Mission_11_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_11_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_11_Last_Stage = KXN_Conquest_Mission_11_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_11_Last_Stage = KXN_Conquest_Mission_11_Fourth_Stage }
						country_event = { id = lan_kir_utility.110 days = KXN.KXN_Conquest_Mission_11_Regular_Stage }
						country_event = { id = lan_kir_utility.111 days = KXN.KXN_Conquest_Mission_11_Second_Stage }
						country_event = { id = lan_kir_utility.112 days = KXN.KXN_Conquest_Mission_11_Third_Stage }
						country_event = { id = lan_kir_utility.113 days = KXN.KXN_Conquest_Mission_11_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_11 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_11
					set_temp_variable = { KXN_Conquest_Mission_11_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_11_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_11_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_12_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_12 }
						set_country_flag = KXN_Conquest_Mission_12_Active
						set_variable = { KXN_Conquest_Mission_12_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_12_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_12_Regular_Stage = KXN_Conquest_Mission_12_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_12_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_12_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_12_Regular_Stage
						set_variable = { KXN_Conquest_Mission_12_Caspy_Stage = KXN_Conquest_Mission_12_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_12_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_12_Second_Stage = KXN_Conquest_Mission_12_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_12_Second_Stage = KXN_Conquest_Mission_12_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_12_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_12_Third_Stage = KXN_Conquest_Mission_12_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_12_Third_Stage = KXN_Conquest_Mission_12_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_12_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_12_Fourth_Stage = KXN_Conquest_Mission_12_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_12_Fourth_Stage = KXN_Conquest_Mission_12_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_12_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_12_Last_Stage = KXN_Conquest_Mission_12_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_12_Last_Stage = KXN_Conquest_Mission_12_Fourth_Stage }
						country_event = { id = lan_kir_utility.120 days = KXN.KXN_Conquest_Mission_12_Regular_Stage }
						country_event = { id = lan_kir_utility.121 days = KXN.KXN_Conquest_Mission_12_Second_Stage }
						country_event = { id = lan_kir_utility.122 days = KXN.KXN_Conquest_Mission_12_Third_Stage }
						country_event = { id = lan_kir_utility.123 days = KXN.KXN_Conquest_Mission_12_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_12 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_12
					set_temp_variable = { KXN_Conquest_Mission_12_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_12_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_12_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_13_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_13 }
						set_country_flag = KXN_Conquest_Mission_13_Active
						set_variable = { KXN_Conquest_Mission_13_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_13_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_13_Regular_Stage = KXN_Conquest_Mission_13_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_13_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_13_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_13_Regular_Stage
						set_variable = { KXN_Conquest_Mission_13_Caspy_Stage = KXN_Conquest_Mission_13_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_13_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_13_Second_Stage = KXN_Conquest_Mission_13_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_13_Second_Stage = KXN_Conquest_Mission_13_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_13_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_13_Third_Stage = KXN_Conquest_Mission_13_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_13_Third_Stage = KXN_Conquest_Mission_13_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_13_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_13_Fourth_Stage = KXN_Conquest_Mission_13_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_13_Fourth_Stage = KXN_Conquest_Mission_13_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_13_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_13_Last_Stage = KXN_Conquest_Mission_13_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_13_Last_Stage = KXN_Conquest_Mission_13_Fourth_Stage }
						country_event = { id = lan_kir_utility.130 days = KXN.KXN_Conquest_Mission_13_Regular_Stage }
						country_event = { id = lan_kir_utility.131 days = KXN.KXN_Conquest_Mission_13_Second_Stage }
						country_event = { id = lan_kir_utility.132 days = KXN.KXN_Conquest_Mission_13_Third_Stage }
						country_event = { id = lan_kir_utility.133 days = KXN.KXN_Conquest_Mission_13_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_13 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_13
					set_temp_variable = { KXN_Conquest_Mission_13_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_13_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_13_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_14_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_14 }
						set_country_flag = KXN_Conquest_Mission_14_Active
						set_variable = { KXN_Conquest_Mission_14_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_14_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_14_Regular_Stage = KXN_Conquest_Mission_14_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_14_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_14_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_14_Regular_Stage
						set_variable = { KXN_Conquest_Mission_14_Caspy_Stage = KXN_Conquest_Mission_14_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_14_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_14_Second_Stage = KXN_Conquest_Mission_14_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_14_Second_Stage = KXN_Conquest_Mission_14_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_14_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_14_Third_Stage = KXN_Conquest_Mission_14_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_14_Third_Stage = KXN_Conquest_Mission_14_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_14_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_14_Fourth_Stage = KXN_Conquest_Mission_14_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_14_Fourth_Stage = KXN_Conquest_Mission_14_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_14_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_14_Last_Stage = KXN_Conquest_Mission_14_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_14_Last_Stage = KXN_Conquest_Mission_14_Fourth_Stage }
						country_event = { id = lan_kir_utility.140 days = KXN.KXN_Conquest_Mission_14_Regular_Stage }
						country_event = { id = lan_kir_utility.141 days = KXN.KXN_Conquest_Mission_14_Second_Stage }
						country_event = { id = lan_kir_utility.142 days = KXN.KXN_Conquest_Mission_14_Third_Stage }
						country_event = { id = lan_kir_utility.143 days = KXN.KXN_Conquest_Mission_14_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_14 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_14
					set_temp_variable = { KXN_Conquest_Mission_14_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_14_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_14_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_15_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_15 }
						set_country_flag = KXN_Conquest_Mission_15_Active
						set_variable = { KXN_Conquest_Mission_15_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_15_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_15_Regular_Stage = KXN_Conquest_Mission_15_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_15_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_15_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_15_Regular_Stage
						set_variable = { KXN_Conquest_Mission_15_Caspy_Stage = KXN_Conquest_Mission_15_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_15_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_15_Second_Stage = KXN_Conquest_Mission_15_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_15_Second_Stage = KXN_Conquest_Mission_15_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_15_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_15_Third_Stage = KXN_Conquest_Mission_15_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_15_Third_Stage = KXN_Conquest_Mission_15_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_15_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_15_Fourth_Stage = KXN_Conquest_Mission_15_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_15_Fourth_Stage = KXN_Conquest_Mission_15_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_15_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_15_Last_Stage = KXN_Conquest_Mission_15_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_15_Last_Stage = KXN_Conquest_Mission_15_Fourth_Stage }
						country_event = { id = lan_kir_utility.150 days = KXN.KXN_Conquest_Mission_15_Regular_Stage }
						country_event = { id = lan_kir_utility.151 days = KXN.KXN_Conquest_Mission_15_Second_Stage }
						country_event = { id = lan_kir_utility.152 days = KXN.KXN_Conquest_Mission_15_Third_Stage }
						country_event = { id = lan_kir_utility.153 days = KXN.KXN_Conquest_Mission_15_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_15 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_15
					set_temp_variable = { KXN_Conquest_Mission_15_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_15_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_15_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_16_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_16 }
						set_country_flag = KXN_Conquest_Mission_16_Active
						set_variable = { KXN_Conquest_Mission_16_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_16_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_16_Regular_Stage = KXN_Conquest_Mission_16_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_16_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_16_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_16_Regular_Stage
						set_variable = { KXN_Conquest_Mission_16_Caspy_Stage = KXN_Conquest_Mission_16_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_16_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_16_Second_Stage = KXN_Conquest_Mission_16_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_16_Second_Stage = KXN_Conquest_Mission_16_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_16_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_16_Third_Stage = KXN_Conquest_Mission_16_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_16_Third_Stage = KXN_Conquest_Mission_16_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_16_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_16_Fourth_Stage = KXN_Conquest_Mission_16_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_16_Fourth_Stage = KXN_Conquest_Mission_16_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_16_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_16_Last_Stage = KXN_Conquest_Mission_16_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_16_Last_Stage = KXN_Conquest_Mission_16_Fourth_Stage }
						country_event = { id = lan_kir_utility.160 days = KXN.KXN_Conquest_Mission_16_Regular_Stage }
						country_event = { id = lan_kir_utility.161 days = KXN.KXN_Conquest_Mission_16_Second_Stage }
						country_event = { id = lan_kir_utility.162 days = KXN.KXN_Conquest_Mission_16_Third_Stage }
						country_event = { id = lan_kir_utility.163 days = KXN.KXN_Conquest_Mission_16_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_16 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_16
					set_temp_variable = { KXN_Conquest_Mission_16_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_16_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_16_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_17_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_17 }
						set_country_flag = KXN_Conquest_Mission_17_Active
						set_variable = { KXN_Conquest_Mission_17_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_17_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_17_Regular_Stage = KXN_Conquest_Mission_17_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_17_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_17_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_17_Regular_Stage
						set_variable = { KXN_Conquest_Mission_17_Caspy_Stage = KXN_Conquest_Mission_17_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_17_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_17_Second_Stage = KXN_Conquest_Mission_17_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_17_Second_Stage = KXN_Conquest_Mission_17_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_17_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_17_Third_Stage = KXN_Conquest_Mission_17_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_17_Third_Stage = KXN_Conquest_Mission_17_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_17_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_17_Fourth_Stage = KXN_Conquest_Mission_17_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_17_Fourth_Stage = KXN_Conquest_Mission_17_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_17_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_17_Last_Stage = KXN_Conquest_Mission_17_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_17_Last_Stage = KXN_Conquest_Mission_17_Fourth_Stage }
						country_event = { id = lan_kir_utility.170 days = KXN.KXN_Conquest_Mission_17_Regular_Stage }
						country_event = { id = lan_kir_utility.171 days = KXN.KXN_Conquest_Mission_17_Second_Stage }
						country_event = { id = lan_kir_utility.172 days = KXN.KXN_Conquest_Mission_17_Third_Stage }
						country_event = { id = lan_kir_utility.173 days = KXN.KXN_Conquest_Mission_17_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_17 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_17
					set_temp_variable = { KXN_Conquest_Mission_17_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_17_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_17_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_18_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_18 }
						set_country_flag = KXN_Conquest_Mission_18_Active
						set_variable = { KXN_Conquest_Mission_18_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_18_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_18_Regular_Stage = KXN_Conquest_Mission_18_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_18_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_18_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_18_Regular_Stage
						set_variable = { KXN_Conquest_Mission_18_Caspy_Stage = KXN_Conquest_Mission_18_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_18_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_18_Second_Stage = KXN_Conquest_Mission_18_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_18_Second_Stage = KXN_Conquest_Mission_18_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_18_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_18_Third_Stage = KXN_Conquest_Mission_18_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_18_Third_Stage = KXN_Conquest_Mission_18_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_18_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_18_Fourth_Stage = KXN_Conquest_Mission_18_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_18_Fourth_Stage = KXN_Conquest_Mission_18_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_18_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_18_Last_Stage = KXN_Conquest_Mission_18_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_18_Last_Stage = KXN_Conquest_Mission_18_Fourth_Stage }
						country_event = { id = lan_kir_utility.180 days = KXN.KXN_Conquest_Mission_18_Regular_Stage }
						country_event = { id = lan_kir_utility.181 days = KXN.KXN_Conquest_Mission_18_Second_Stage }
						country_event = { id = lan_kir_utility.182 days = KXN.KXN_Conquest_Mission_18_Third_Stage }
						country_event = { id = lan_kir_utility.183 days = KXN.KXN_Conquest_Mission_18_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_18 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_18
					set_temp_variable = { KXN_Conquest_Mission_18_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_18_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_18_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_19_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_19 }
						set_country_flag = KXN_Conquest_Mission_19_Active
						set_variable = { KXN_Conquest_Mission_19_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_19_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_19_Regular_Stage = KXN_Conquest_Mission_19_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_19_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_19_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_19_Regular_Stage
						set_variable = { KXN_Conquest_Mission_19_Caspy_Stage = KXN_Conquest_Mission_19_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_19_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_19_Second_Stage = KXN_Conquest_Mission_19_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_19_Second_Stage = KXN_Conquest_Mission_19_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_19_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_19_Third_Stage = KXN_Conquest_Mission_19_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_19_Third_Stage = KXN_Conquest_Mission_19_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_19_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_19_Fourth_Stage = KXN_Conquest_Mission_19_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_19_Fourth_Stage = KXN_Conquest_Mission_19_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_19_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_19_Last_Stage = KXN_Conquest_Mission_19_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_19_Last_Stage = KXN_Conquest_Mission_19_Fourth_Stage }
						country_event = { id = lan_kir_utility.190 days = KXN.KXN_Conquest_Mission_19_Regular_Stage }
						country_event = { id = lan_kir_utility.191 days = KXN.KXN_Conquest_Mission_19_Second_Stage }
						country_event = { id = lan_kir_utility.192 days = KXN.KXN_Conquest_Mission_19_Third_Stage }
						country_event = { id = lan_kir_utility.193 days = KXN.KXN_Conquest_Mission_19_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_19 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_19
					set_temp_variable = { KXN_Conquest_Mission_19_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_19_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_19_Capitulate_tt
				}
				else_if = {
					limit = { NOT = { has_country_flag = KXN_Conquest_Mission_20_Active } }
					hidden_effect = {
						FROM = { save_global_event_target_as = KXN_Conquest_Target_20 }
						set_country_flag = KXN_Conquest_Mission_20_Active
						set_variable = { KXN_Conquest_Mission_20_Days_Timeout = FROM.num_owned_states }
						multiply_variable = { KXN_Conquest_Mission_20_Days_Timeout = 30 }
						set_variable = { KXN_Conquest_Mission_20_Regular_Stage = KXN_Conquest_Mission_20_Days_Timeout }
						divide_variable = { KXN_Conquest_Mission_20_Regular_Stage = 5 }
						subtract_from_variable = { KXN_Conquest_Mission_20_Regular_Stage = 0.5 }
						round_variable = KXN_Conquest_Mission_20_Regular_Stage
						set_variable = { KXN_Conquest_Mission_20_Caspy_Stage = KXN_Conquest_Mission_20_Regular_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_20_Regular_Stage max = 60 }
						set_variable = { KXN_Conquest_Mission_20_Second_Stage = KXN_Conquest_Mission_20_Regular_Stage }
						add_to_variable = { KXN_Conquest_Mission_20_Second_Stage = KXN_Conquest_Mission_20_Caspy_Stage  }
						clamp_variable = { var = KXN_Conquest_Mission_20_Second_Stage max = 150 }
						set_variable = { KXN_Conquest_Mission_20_Third_Stage = KXN_Conquest_Mission_20_Second_Stage }
						add_to_variable = { KXN_Conquest_Mission_20_Third_Stage = KXN_Conquest_Mission_20_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_20_Third_Stage max = 240 }
						set_variable = { KXN_Conquest_Mission_20_Fourth_Stage = KXN_Conquest_Mission_20_Third_Stage }
						add_to_variable = { KXN_Conquest_Mission_20_Fourth_Stage = KXN_Conquest_Mission_20_Caspy_Stage }
						clamp_variable = { var = KXN_Conquest_Mission_20_Fourth_Stage max = 420 }
						set_variable = { KXN_Conquest_Mission_20_Last_Stage = KXN_Conquest_Mission_20_Days_Timeout }
						subtract_from_variable = { KXN_Conquest_Mission_20_Last_Stage = KXN_Conquest_Mission_20_Fourth_Stage }
						country_event = { id = lan_kir_utility.200 days = KXN.KXN_Conquest_Mission_20_Regular_Stage }
						country_event = { id = lan_kir_utility.201 days = KXN.KXN_Conquest_Mission_20_Second_Stage }
						country_event = { id = lan_kir_utility.202 days = KXN.KXN_Conquest_Mission_20_Third_Stage }
						country_event = { id = lan_kir_utility.203 days = KXN.KXN_Conquest_Mission_20_Fourth_Stage }
						add_relation_modifier = { target = event_target:KXN_Conquest_Target_20 modifier = KXN_Stage_1_Modifiers }
					}
					activate_mission = KXN_Conquest_Mission_20
					set_temp_variable = { KXN_Conquest_Mission_20_Days_Timeout = FROM.num_owned_states }
					multiply_temp_variable = { KXN_Conquest_Mission_20_Days_Timeout = 30 }
					custom_effect_tooltip = KXN_Conquest_Mission_20_Capitulate_tt
				}
			}
			else_if = {
				limit = {
					OR = {
						AND = {
							tag = WNG
							FROM = {
								tag = ABY
							}
						}
						AND = {
							tag = ABY
							FROM = {
								tag = WNG
							}
						}
					}
					ABY = {
						has_idea = ABY_risk_of_famine
					}
				}
				ABY = {
					country_event = {
						id = abyssinia.44
						days = 1
					}
				}
			}
		}
	}
}