scripted_gui = {
    MZN_SOW_GUI = {
        window_name = MZN_SOW_GUI
		context_type = decision_category

        triggers = {
            MZN_SOW_map_frame_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_E_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_N_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_S_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_W_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_C_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_R_C_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_MAP_BAT_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_SOW_country_selected_visible = {
                not = {
                    has_country_flag = MZN_SOW_one_operation_selected
                }
            }

            MZN_SOW_Operation_shade_visible = {
                has_country_flag = MZN_SOW_one_operation_selected
            }

            MZN_SOW_back_button_visible = {
                has_country_flag = MZN_SOW_one_operation_selected
            }

            #OSE

            MZN_OSE_TITLE_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_OSE_RADIO_STATE_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_ose_batmap_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_ose_counter_bar_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_ose_counter_frame_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_ose_lines_frame_visible = {
                has_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_ose_flag_shade_visible = {
                has_country_flag = MZN_SOW_OSE_selected
                check_variable = {
                    MZN_SOW_OSE_var = 100
                }
            }

            MZN_OSE_FLAG_shade_text_visible = {
                has_country_flag = MZN_SOW_OSE_selected
                check_variable = {
                    MZN_SOW_OSE_var = 100
                }
            }

            ##Operation Osprey

            MZN_SOW_oo_hipmap_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_SOW_oo_bar_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_SOW_oo_normal_frame_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_SOW_oo_blocked_frame_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_OO_TITLE_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_OO_information_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_OO_negotiation_willing_visible = {
                has_country_flag = MZN_SOW_OO_selected
            }

            MZN_OO_NO_negotiation_possibility_visible = {
                has_country_flag = MZN_SOW_OO_selected
                has_country_flag = MZN_HIP_refuze_to_negotiate
            }

            #Operation Javelin

            MZN_OJ_TITLE_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }

            MZN_OJ_information_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }

            MZN_OJ_Capitulation_tendency_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }

            MZN_SOW_oo_mcwmap_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }

            MZN_SOW_oj_bar_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }

            MZN_SOW_OJ_frame_visible = {
                has_country_flag = MZN_SOW_OJ_selected
            }
        }

        effects = {
            MZN_MAP_E_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_CTL_selected
            }

            MZN_MAP_N_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_MCW_selected
                set_country_flag = MZN_SOW_one_operation_selected
                set_country_flag = MZN_SOW_OJ_selected
            }

            MZN_MAP_S_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_SNZ_selected
            }

            MZN_MAP_W_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_HIP_WAR_selected
                set_country_flag = MZN_SOW_one_operation_selected
                set_country_flag = MZN_SOW_OO_selected
            }

            MZN_MAP_C_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_CTH_selected
            }

            MZN_MAP_R_C_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_CVA_CDR_selected
            }

            MZN_MAP_BAT_click = {
                MZN_SOW_clr_all_country_flags = yes
                set_country_flag = MZN_SOW_BAT_selected
                set_country_flag = MZN_SOW_one_operation_selected
                set_country_flag = MZN_SOW_OSE_selected
            }

            MZN_SOW_back_button_click = {
                MZN_SOW_OPERATION_FLAG_clr_all = yes
                MZN_SOW_clr_all_country_flags = yes
            }
        }

        properties = {
            #520 to the top
            MZN_SOW_pointer_left = {
                y = MZN_MI_POINTER_COUNT_BAR_VAR
            }
            MZN_SOW_pointer_right = {
                y = MZN_IR_POINTER_COUNT_BAR_VAR
            }
            MZN_MAP_N = {
                frame = MZN_MAP_N_var
            }
            MZN_MAP_R_C = {
                frame = MZN_MAP_R_C_var
            }

            #OSE

            MZN_SOW_ose_lines_frame = {
                frame = MZN_SOW_OSE_var
            }

            MZN_SOW_ose_counter_bar = {
                frame = MZN_SOW_OSE_var
            }

            #OO

            MZN_SOW_oo_bar = {
                frame = MZN_SOW_OO_var
            }

            #OJ

            MZN_SOW_oj_bar = {
                frame = MZN_SOW_OJ_var
            }
        }
    }
} 