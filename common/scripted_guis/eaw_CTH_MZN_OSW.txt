scripted_gui = {
    MZN_OSW_OPEN_BUTTON = {
        window_name = "MZN_OSW_OPEN_BUTTON"
        context_type = player_content
        visible = {
            tag = CTH
            has_country_flag = MZN_OSW_ENABLED_FLAG
        }

        effects = {
            MZN_OSW_open_button_click = {
                if = {
                    limit = {
                        has_country_flag = MZN_OSW_SHOWS
                    }
                    clr_country_flag = MZN_OSW_SHOWS
                }

                else = {
                    set_country_flag = MZN_OSW_SHOWS
                }
            }
        }
    }

    MZN_OSW_SIDE_PANEL = {
        window_name = "MZN_OSW_SIDE_PANEL"
        context_type = player_content
        visible = {
            has_country_flag = MZN_OSW_SHOWS
            has_country_flag = MZN_OSW_side_panel_show_flag
        }

        triggers = {

        }

        effects = {
            MZN_OSW_side_bg_click = {
                clr_country_flag = MZN_OSW_side_panel_show_flag
            }
        }

        properties = {
            
        }
    }

    MZN_OSW_MAIN_PANEL = {
        window_name = "MZN_OSW_MAIN_PANEL"
        context_type = player_content
        visible = {
            has_country_flag = MZN_OSW_SHOWS
        }

        triggers = {
            MZN_OSW_side_panel_open_button_visible = {
                not = {
                    has_country_flag = MZN_OSW_side_panel_show_flag
                }
            }

            MZN_OSW_dove_button_click_enabled = {
                has_country_flag = MZN_ABY_TAKEN_FLAG
			    check_variable = { MZN_OSW_war_level < 4 }
			    check_variable = { MZN_OSW_PROCESS_VAR > MZN_OSW_PROCESS_VAR_NEED }
            }
        }

        effects = {
            MZN_OSW_close_button_click = {
                clr_country_flag = MZN_OSW_SHOWS
            }
            MZN_OSW_side_panel_open_button_click = {
                set_country_flag = MZN_OSW_side_panel_show_flag
                add_to_variable = { MZN_OSW_DIRTY = 1 }
            }
            MZN_OSW_dove_button_click = {
                MZN_OSW_peace_effect = yes
            }
        }

        properties = {
            MZN_OSW_progress_bar_bar = {
                frame = MZN_OSW_PROCESS_VAR
            }
            MZN_OSW_level_pointer = {
                #53 for each block - 1 level
                X = MZN_OSW_level_pointer_pos_var
            }
            MZN_OSW_progress_bar_pointer = {
                #175 for each block - 25%
                X = MZN_OSW_progressbar_pointer_pos_var
            }
        }
    }

    MZN_OSW_pins_and_marks = {
        window_name = "MZN_OSW_pins_and_marks"
        context_type = player_content
        parent_window_token = MZN_OSW_MAIN_PANEL

        visible = {
            has_country_flag = MZN_OSW_SHOWS
        }

        triggers = {
            MZN_OSW_attack_mark_A_MIT_LANDING_SIC_1_visible = {
                has_country_flag = MZN_OSW_A_1_chosen
            }

            MZN_OSW_attack_mark_A_SIC_LANDING_GROUND_2_visible = {
                has_country_flag = MZN_OSW_A_2_chosen
            }

            MZN_OSW_attack_mark_A_GO_MIT_MAIN_LAND_3_visible = {
                has_country_flag = MZN_OSW_A_3_chosen
            }

            MZN_OSW_attack_mark_A_take_SIC_4_visible = {
                has_country_flag = MZN_OSW_A_4_chosen
            }

            MZN_OSW_attack_mark_A_GS_5_visible = {
                has_country_flag = MZN_OSW_A_5_chosen
            }

            MZN_OSW_attack_mark_A_GO_EVI_6_visible = {
                has_country_flag = MZN_OSW_A_6_chosen
            }

            MZN_OSW_attack_mark_A_DOWN_WINGBARDY_7_visible = {
                has_country_flag = MZN_OSW_A_7_chosen
            }

            MZN_OSW_attack_mark_B_landing_WNG_1_visible = {
                has_country_flag = MZN_OSW_B_1_chosen
            }

            MZN_OSW_attack_mark_B_landing_ground_2_visible = {
                has_country_flag = MZN_OSW_B_2_chosen
            }

            MZN_OSW_attack_mark_B_go_north_3_visible = {
                has_country_flag = MZN_OSW_B_3_chosen
            }

            MZN_OSW_attack_mark_B_go_west_4_visible = {
                has_country_flag = MZN_OSW_B_4_chosen
            }

            MZN_OSW_attack_mark_B_down_fal_5_visible = {
                has_country_flag = MZN_OSW_B_5_chosen
            }

            MZN_OSW_attack_mark_JER_assistance_visible = {
                has_country_flag = MZN_OSW_JER_offer_assistance
            }
        }

        effects = {

        }

        properties = {
            MZN_OSW_PIN_navy_1 = {
                frame = MZN_OSW_NAVY_VAR
            }

            MZN_OSW_PIN_land_asterion_islands_1 = {
                frame = MZN_OSW_LAND_VAR_1
            }

            MZN_OSW_PIN_land_sicameon_2 = {
                frame = MZN_OSW_LAND_VAR_2
            }

            MZN_OSW_PIN_land_asterion_main_island_3 = {
                frame = MZN_OSW_LAND_VAR_3
            }

            MZN_OSW_PIN_griffion_stone_4 = {
                frame = MZN_OSW_LAND_VAR_4
            }

            MZN_OSW_PIN_talouse_5 = {
                frame = MZN_OSW_LAND_VAR_5
            }

            MZN_OSW_PIN_wngbardy_mainland_6 = {
                frame = MZN_OSW_LAND_VAR_6
            }

            MZN_OSW_PIN_abyssinia_7 = {
                frame = MZN_OSW_LAND_VAR_7
            }

            MZN_OSW_PIN_air_1 = {
                frame = MZN_OSW_AIR_VAR
            }
        }
    }
}