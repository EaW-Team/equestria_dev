scripted_gui = {
	eaw_LCT_Diet_GUI = {
		window_name = "eaw_LCT_Diet_GUI"
		context_type = decision_category
		dirty = LCT_Diet_Dirty
		
		dynamic_lists = {
			seats_grid = {
				array = LCT_DIET_seats_display_array
				entry_container = LCT_DIET_seat_entry
				index = u
			}
		}
		triggers = {
			seat_visible = { # converts id's (0-3) to frames (1-4)
				set_temp_variable = { seat_frame = v }
				add_to_temp_variable = { seat_frame = 1 }
			}
			seat_supporting_visible = { # check whether seat should glow if this seat supports the bill
				has_country_flag = LCT_bill_on_the_floor
				check_variable = { LCT_DIET_is_seat_supporting^u = 1 }
			}
		}
		properties = {
			seat = {
				frame = seat_frame
			}
		}
		
		triggers = {
			num_seats_0_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_1_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_2_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_3_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			
			num_seats_bill_0_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_1_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_2_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_3_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
		}
		properties = {
			tbd_leader = {
				image = "GFX_LCT_DIET_leader_tbd_[?LCT_TBD_leader_status]"
			}
			ldp_leader = {
				image = "GFX_LCT_DIET_leader_ldp_[?LCT_LDP_leader_status]"
			}
			ctt_leader = {
				image = "GFX_LCT_DIET_leader_ctt_[?LCT_CTT_leader_status]"
			}
		}
	}
	eaw_LCT_Propaganda_Campaign_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_Propaganda_Campaign_GUI"
	}
	eaw_LCT_Resistance_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_Resistance_GUI"
		
		properties = {
			LCT_resistance_map_jezeragrad = {
				frame = 3
			}
			LCT_resistance_map_svetazemlja = {
				frame = 4
			}
			LCT_resistance_map_shayrmia = {
				frame = 1
			}
			LCT_resistance_map_coltubar = {
				frame = 1
			}
			LCT_resistance_map_coltsovo = {
				frame = 2
			}
			LCT_resistance_map_bucka = {
				frame = 1
			}
			LCT_resistance_map_swordsson = {
				frame = 1
			}
			LCT_resistance_map_panacea = {
				frame = 1
			}
			LCT_resistance_map_longbowgriff = {
				frame = 1
			}
			LCT_resistance_map_sondersune = {
				frame = 1
			}
			LCT_resistance_map_lone_domain = {
				frame = 1
			}
			LCT_resistance_map_hellquill = {
				frame = 1
			}
			LCT_resistance_map_brightcreeks = {
				frame = 1
			}
		}
		effects = {
			LCT_resistance_map_jezeragrad_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 387
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 387.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 387.id }
				}
			}
			LCT_resistance_map_svetazemlja_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 550
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 550.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 550.id }
				}
			}
			LCT_resistance_map_shayrmia_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 551
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 551.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 551.id }
				}
			}
			LCT_resistance_map_coltubar_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 560
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 560.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 560.id }
				}
			}
			LCT_resistance_map_coltsovo_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 541
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 541.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 541.id }
				}
			}
			LCT_resistance_map_bucka_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 499
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 499.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 499.id }
				}
			}
			LCT_resistance_map_swordsson_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 552
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 552.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 552.id }
				}
			}
			LCT_resistance_map_panacea_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 540
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 540.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 540.id }
				}
			}
			LCT_resistance_map_longbowgriff_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 505
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 505.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 505.id }
				}
			}
			LCT_resistance_map_sondersune_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 634
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 634.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 634.id }
				}
			}
			LCT_resistance_map_lone_domain_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 553
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 553.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 553.id }
				}
			}
			LCT_resistance_map_hellquill_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 537
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 537.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 537.id }
				}
			}
			LCT_resistance_map_brightcreeks_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						var:LCT_selected_state = {
							state = 633
						}
					}
					clr_country_flag = LCT_resistance_popup_visible
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					set_variable = { LCT_selected_state = 633.id }
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_variable = { LCT_selected_state = 633.id }
				}
			}
		}
	}
	
	eaw_LCT_Resistance_popup_GUI = {
		context_type = top_bar
		window_name = "eaw_LCT_Resistance_popup_GUI"
		
		visible = {
			tag = LCT
			has_country_flag = LCT_resistance_popup_visible
        }
		
		effects = {
			LCT_resistance_popup_close_click = {
				clr_country_flag = LCT_resistance_popup_visible
				LCT_resistance_system_clear_state_selected_flags = yes
			}
		}
	}
	
	eaw_LCT_Resistance_state_button = {
		context_type = selected_state_context
		window_name = "eaw_LCT_Resistance_state_GUI"
		parent_window_token = selected_state_view
		
		visible = {
			ROOT = {
				tag = LCT
			}
			has_state_flag = LCT_resistance_active
        }
		
		effects = {
			LCT_state_view_button_button_click = {
				log = "[THIS.GetName]"
				if = {
					limit = {
						ROOT = {
							has_country_flag = LCT_resistance_popup_visible
							var:LCT_selected_state = {
								state = PREV.PREV
							}
						}
					}
					ROOT = {
						clr_country_flag = LCT_resistance_popup_visible
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_country_flag = LCT_resistance_popup_visible
						}
					}
					ROOT = {
						set_variable = { LCT_selected_state = PREV.id }
					}
				}
				else = {
					ROOT = {
						set_country_flag = LCT_resistance_popup_visible
						set_variable = { LCT_selected_state = PREV.id }
					}
				}
			}
		}
	}
}