scripted_gui = {
	eaw_LCT_Diet_GUI = {
		window_name = "eaw_LCT_Diet_GUI"
		context_type = decision_category
		dirty = LCT_Diet_Dirty
		
		dynamic_lists = {
			seats_grid = {
				array = LCT_DIET_seats_display_array
				entry_container = LCT_DIET_seat_entry
				index = u
			}
		}
		triggers = {
			seat_visible = { # converts id's (0-3) to frames (1-4)
				set_temp_variable = { seat_frame = v }
				add_to_temp_variable = { seat_frame = 1 }
			}
			seat_supporting_visible = { # check whether seat should glow if this seat supports the bill
				has_country_flag = LCT_bill_on_the_floor
				check_variable = { LCT_DIET_is_seat_supporting^u = 1 }
			}
		}
		properties = {
			seat = {
				frame = seat_frame
			}
		}
		
		triggers = {
			num_seats_0_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_1_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_2_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_3_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			
			num_seats_bill_0_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_1_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_2_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_3_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
		}
		properties = {
			tbd_leader = {
				image = "GFX_LCT_DIET_leader_tbd_[?LCT_TBD_leader_status]"
			}
			ldp_leader = {
				image = "GFX_LCT_DIET_leader_ldp_[?LCT_LDP_leader_status]"
			}
			ctt_leader = {
				image = "GFX_LCT_DIET_leader_ctt_[?LCT_CTT_leader_status]"
			}
		}
	}
	eaw_LCT_Propaganda_Campaign_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_Propaganda_Campaign_GUI"
	}
	eaw_LCT_Resistance_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_Resistance_GUI"
		
		properties = {
			LCT_resistance_map_jezeragrad = {
				frame = 3
			}
			LCT_resistance_map_svetazemlja = {
				frame = 4
			}
			LCT_resistance_map_shayrmia = {
				frame = 1
			}
			LCT_resistance_map_coltubar = {
				frame = 1
			}
			LCT_resistance_map_coltsovo = {
				frame = 2
			}
			LCT_resistance_map_bucka = {
				frame = 1
			}
			LCT_resistance_map_swordsson = {
				frame = 1
			}
			LCT_resistance_map_panacea = {
				frame = 1
			}
			LCT_resistance_map_longbowgriff = {
				frame = 1
			}
			LCT_resistance_map_sondersune = {
				frame = 1
			}
			LCT_resistance_map_lone_domain = {
				frame = 1
			}
			LCT_resistance_map_hellquill = {
				frame = 1
			}
			LCT_resistance_map_brightcreeks = {
				frame = 1
			}
		}
		effects = {
			LCT_resistance_map_jezeragrad_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_jezeragrad_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_jezeragrad_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_jezeragrad_selected
				}
			}
			LCT_resistance_map_svetazemlja_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_svetazemlja_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_svetazemlja_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_svetazemlja_selected
				}
			}
			LCT_resistance_map_shayrmia_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_shayrmia_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_shayrmia_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_shayrmia_selected
				}
			}
			LCT_resistance_map_coltubar_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_coltubar_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_coltubar_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_coltubar_selected
				}
			}
			LCT_resistance_map_coltsovo_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_coltsovo_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_coltsovo_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_coltsovo_selected
				}
			}
			LCT_resistance_map_bucka_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_bucka_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_bucka_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_bucka_selected
				}
			}
			LCT_resistance_map_swordsson_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_swordsson_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_swordsson_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_swordsson_selected
				}
			}
			LCT_resistance_map_panacea_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_panacea_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_panacea_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_panacea_selected
				}
			}
			LCT_resistance_map_longbowgriff_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_longbowgriff_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_longbowgriff_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_longbowgriff_selected
				}
			}
			LCT_resistance_map_sondersune_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_sondersune_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_sondersune_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_sondersune_selected
				}
			}
			LCT_resistance_map_lone_domain_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_lone_domain_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_lone_domain_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_lone_domain_selected
				}
			}
			LCT_resistance_map_hellquill_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_hellquill_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_hellquill_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_hellquill_selected
				}
			}
			LCT_resistance_map_brightcreeks_click = {
				if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
						has_country_flag = LCT_resistance_popup_brightcreeks_selected
					}
					clr_country_flag = LCT_resistance_popup_visible
					LCT_resistance_system_clear_state_selected_flags = yes
				}
				else_if = {
					limit = {
						has_country_flag = LCT_resistance_popup_visible
					}
					LCT_resistance_system_clear_state_selected_flags = yes
					set_country_flag = LCT_resistance_popup_brightcreeks_selected
				}
				else = {
					set_country_flag = LCT_resistance_popup_visible
					set_country_flag = LCT_resistance_popup_brightcreeks_selected
				}
			}
		}
	}
	
	eaw_LCT_Resistance_popup_GUI = {
		context_type = top_bar
		window_name = "eaw_LCT_Resistance_popup_GUI"
		
		visible = {
			tag = LCT
			has_country_flag = LCT_resistance_popup_visible
        }
		
		effects = {
			LCT_resistance_popup_close_click = {
				clr_country_flag = LCT_resistance_popup_visible
				LCT_resistance_system_clear_state_selected_flags = yes
			}
		}
	}
}