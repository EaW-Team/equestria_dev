scripted_gui = {
	eaw_LCT_Diet_GUI = {
		window_name = "eaw_LCT_Diet_GUI"
		context_type = decision_category
		dirty = LCT_Diet_Dirty
		
		dynamic_lists = {
			seats_grid = {
				array = LCT_DIET_seats_display_array
				entry_container = LCT_DIET_seat_entry
				index = u
			}
		}
		triggers = {
			seat_visible = { # converts id's (0-3) to frames (1-4)
				set_temp_variable = { seat_frame = v }
				add_to_temp_variable = { seat_frame = 1 }
			}
			seat_supporting_visible = { # check whether seat should glow if this seat supports the bill
				has_country_flag = LCT_bill_on_the_floor
				check_variable = { LCT_DIET_is_seat_supporting^u = 1 }
			}
		}
		properties = {
			seat = {
				frame = seat_frame
			}
		}
		
		triggers = {
			num_seats_0_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_1_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_2_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			num_seats_3_visible = {
				NOT = { has_country_flag = LCT_bill_on_the_floor }
			}
			
			num_seats_bill_0_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_1_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_2_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
			num_seats_bill_3_visible = {
				has_country_flag = LCT_bill_on_the_floor
			}
		}
		properties = {
			umj_leader = {
				image = "GFX_[?LCT_UMJ_leader_status.GetTokenKey]"
			}
			tjs_leader = {
				image = "GFX_[?LCT_TJS_leader_status.GetTokenKey]"
			}
			pd_leader = {
				image = "GFX_[?LCT_PD_leader_status.GetTokenKey]"
			}
		}
	}
	eaw_LCT_Propaganda_Campaign_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_Propaganda_Campaign_GUI"
	}
	eaw_LCT_six_lords_HPE_GUI = {
		context_type = decision_category
		window_name = "eaw_LCT_six_lords_HPE_GUI"
	}
	eaw_LCT_Resistance_GUI = {
		context_type = decision_category
		window_name = eaw_LCT_Resistance_GUI
		dirty = LCT_resistance_dirty
		
		dynamic_lists = {
			main_display_tabs = {
				array = LCT_resistance_dummy_array
				entry_container = "eaw_LCT_Resistance_tab_[?LCT_resistance_active_tab]"
			}
		}
		
		effects = {
			tab_map_bg_click = {
				if = {
					limit = {
						check_variable = { LCT_tab_map_bg_frame = 2 }
					}
					set_variable = { LCT_tab_map_bg_frame = 1 }
					set_variable = { LCT_tab_resistance_bg = 2 }
					set_variable = { LCT_resistance_active_tab = 0 }
				}
				add_to_variable = { LCT_resistance_dirty = 0.01 }
				scoped_sound_effect = open_sub_window
			}
			tab_resistance_bg_click = {
				if = {
					limit = {
						check_variable = { LCT_tab_resistance_bg = 2 }
					}
					set_variable = { LCT_tab_resistance_bg = 1 }
					set_variable = { LCT_tab_map_bg_frame = 2 }
					
					if = {
						limit = {
							has_country_flag = LCT_resistance_with_reformisten
						}
						set_variable = { LCT_resistance_active_tab = 2 }
					}
					else = {
						set_variable = { LCT_resistance_active_tab = 1 }
					}
				}
				add_to_variable = { LCT_resistance_dirty = 0.01 }
				scoped_sound_effect = open_sub_window
			}
		}
		properties = {
			tab_map_bg = {
				frame = LCT_tab_map_bg_frame
			}
			tab_map_icon = {
				frame = LCT_tab_map_bg_frame
			}
			tab_resistance_bg = {
				frame = LCT_tab_resistance_bg
			}
			tab_resistance_icon = {
				frame = LCT_tab_resistance_bg
			}
		}
		
		### MAP ###
	
		dynamic_lists = {
			map_grid = {
				array = LCT_resistance_map_array
				entry_container = eaw_LCT_Resistance_map_entry
				value = w
				index = j
			}
		}
		
		effects = {
			map_button_click = {
				set_variable = { LCT_selected_resistance_state = w }
				LCT_resistance_update_gui = yes
			}
		}
		
		triggers = {
			map_icon_visible = {
				set_temp_variable = { map_icon_frame = w:LCT_resistance_control_ruling_id }
				add_to_temp_variable = { map_icon_frame = 1 }
				set_temp_variable = { map_icon_y = LCT_resistance_map_array_y^j }
				subtract_from_temp_variable = { map_icon_y = 1 }
			}
			map_highlight_visible = {
				check_variable = { w = LCT_selected_resistance_state }
			}
			
			progressbar_text_0_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^0 > 5 }
			}
			progressbar_text_1_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^1 > 5 }
			}
			progressbar_text_2_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^2 > 5 }
			}
			progressbar_text_3_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^3 > 5 }
			}
			progressbar_text_4_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^4 > 5 }
			}
			
			progressbar_0_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^0 > 0 }
			}
			progressbar_1_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^1 > 0 }
			}
			progressbar_2_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^2 > 0 }
			}
			progressbar_3_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^3 > 0 }
			}
			progressbar_4_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control^4 > 0 }
			}

			controller_0_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control_ruling_id = 0 }
			}
			controller_1_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control_ruling_id = 1 }
			}
			controller_2_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control_ruling_id = 2 }
			}
			controller_3_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control_ruling_id = 3 }
			}
			controller_4_visible = {
				check_variable = { LCT_selected_resistance_state:LCT_resistance_control_ruling_id = 4 }
			}
		}
		
		properties = {
			progressbar_0 = {
				frame = LCT_selected_resistance_state:LCT_resistance_control^0
			}
			progressbar_1 = {
				frame = progressbar_1_frame
			}
			progressbar_2 = {
				frame = progressbar_2_frame
			}
			progressbar_3 = {
				frame = progressbar_3_frame
			}
			progressbar_4 = {
				frame = progressbar_4_frame
			}
			
			progressbar_text_0 = {
				x = progressbar_txt_0_x
			}
			progressbar_text_1 = {
				x = progressbar_txt_1_x
			}
			progressbar_text_2 = {
				x = progressbar_txt_2_x
			}
			progressbar_text_3 = {
				x = progressbar_txt_3_x
			}
			progressbar_text_4 = {
				x = progressbar_txt_4_x
			}
			
			controller_0 = {
				x = progressbar_txt_0_x
			}
			controller_1 = {
				x = progressbar_txt_1_x
			}
			controller_2 = {
				x = progressbar_txt_2_x
			}
			controller_3 = {
				x = progressbar_txt_3_x
			}
			controller_4 = {
				x = progressbar_txt_4_x
			}
		
			map_icon = {
				x = LCT_resistance_map_array_x^j
				y = LCT_resistance_map_array_y^j
				image = "GFX_LCT_resistance_map_[?w]"
				frame = map_icon_frame
			}
			map_button = {
				x = LCT_resistance_map_array_x^j
				y = LCT_resistance_map_array_y^j
				image = "GFX_LCT_resistance_map_[?w]_dupe"
			}
			map_highlight = {
				x = LCT_resistance_map_array_x^j
				y = LCT_resistance_map_array_y^j
				image = "GFX_LCT_resistance_map_[?w]_highlight"
			}
		}
	}
	eaw_LCT_six_lords_HPE_GUI = {
		context_type = national_focus_context
		window_name = "LCT_six_lords_focus_gui"
		parent_window_token = national_focus
		
		visible = {
			has_country_flag = LCT_six_lords_auto_focus_active
		}
		
		triggers = {
			DD_icon_visible = {
				has_country_flag = LCT_auto_focus_in_progress_flag_LCT_daring_dream
			}
			FH_icon_visible = {
				has_country_flag = LCT_auto_focus_in_progress_flag_LCT_flaming_hot
			}
			SR_icon_visible = {
				has_country_flag = LCT_auto_focus_in_progress_flag_LCT_solid_rocks
			}
			ST_icon_visible = {
				has_country_flag = LCT_auto_focus_in_progress_flag_LCT_star_talent
			}
			SS_icon_visible = {
				has_country_flag = LCT_auto_focus_in_progress_flag_LCT_smoke_signal
			}
		}
		
		#X gap between focuses: 192p (96)
		#Y gap between focuses: 130p
		properties = {
			DD_icon = {
				x = LCT_lord_icon_pos_x@var:LCT_active_focus_token@token:LCT_daring_dream
				y = LCT_lord_icon_pos_y@var:LCT_active_focus_token@token:LCT_daring_dream
			}
			FH_icon = {
				x = LCT_lord_icon_pos_x@var:LCT_active_focus_token@token:LCT_flaming_hot
				y = LCT_lord_icon_pos_y@var:LCT_active_focus_token@token:LCT_flaming_hot
			}
			SR_icon = {
				x = LCT_lord_icon_pos_x@var:LCT_active_focus_token@token:LCT_solid_rocks
				y = LCT_lord_icon_pos_y@var:LCT_active_focus_token@token:LCT_solid_rocks
			}
			ST_icon = {
				x = LCT_lord_icon_pos_x@var:LCT_active_focus_token@token:LCT_star_talent
				y = LCT_lord_icon_pos_y@var:LCT_active_focus_token@token:LCT_star_talent
			}
			SS_icon = {
				x = LCT_lord_icon_pos_x@var:LCT_active_focus_token@token:LCT_smoke_signal
				y = LCT_lord_icon_pos_y@var:LCT_active_focus_token@token:LCT_smoke_signal
			}
		}
	}
}