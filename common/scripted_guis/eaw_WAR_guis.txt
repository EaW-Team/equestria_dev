scripted_gui = {

	eaw_WAR_revolution_gui = {
		context_type = decision_category
		window_name = "eaw_WAR_revolution"
		dirty = WAR_revolution_dirty_bit
        visible = {
            always = yes
        }
		dynamic_lists = {
			map_grid = {
				entry_container = eaw_WAR_revolution_map_entry
				array = WAR_revolution_map_array
				index = l
				value = map_id
			}
            map_tag_grid = {
				entry_container = eaw_WAR_revolution_map_tag_entry
				array = WAR_revolution_map_tag_array
				index = t
				value = tag_id
			}
		}

		## Map section

		triggers = {
			map_entry_visible = {
                if = {
                    limit = {
                        check_variable = { map_id:WAR_revolution_value < 0 }
                    }
                    set_temp_variable = { color = 51 }
                }
                else = {
                    set_temp_variable = { color = map_id:WAR_revolution_value }
                    multiply_temp_variable = { color = 51 }
                    divide_temp_variable = { color = 100 }
                }
				add_to_temp_variable = { color = 1 }
			}
            map_tag_entry_visible = {
                var:tag_id = {
                    set_temp_variable = { tag_color = WAR_satellite_value }
					add_to_temp_variable = { tag_color = -0.5 }
					round_temp_variable = tag_color
				    add_to_temp_variable = { tag_color = 1 }
                    log = "[THIS.GetName]"
                }
			}
		}

		properties = {
			tooltip_entry = {
				image = "GFX_WAR_revolution_tt_[?map_id]"
				x = WAR_revolution_map_x^l
				y = WAR_revolution_map_y^l
			}
            tooltip_tag_entry = {
				image = "GFX_WAR_revolution_tt_[?tag_id.GetTag]"
				x = WAR_revolution_map_tag_x^t
				y = WAR_revolution_map_tag_y^t
			}
            map_entry = {
				image = "GFX_WAR_revolution_map_[?map_id]"
				frame = color
				x = WAR_revolution_map_x^l
				y = WAR_revolution_map_y^l
			}
            map_tag_entry = {
				image = "GFX_WAR_revolution_map_[?tag_id.GetTag]"
				frame = tag_color
				x = WAR_revolution_map_tag_x^t
				y = WAR_revolution_map_tag_y^t
			}
		}
	}

	eaw_WAR_lunar_gui = {
		context_type = decision_category
		window_name = "eaw_WAR_delunarization"
		dirty = WAR_lunar_dirty_bit
        visible = {
            always = yes
        }
		dynamic_lists = {
			map_grid = {
				entry_container = eaw_WAR_lunar_map_entry
				array = WAR_lunar_map_array
				index = l
				value = lunar_id
			}
		}

		## Map section

		triggers = {
			map_entry_visible = {
                if = {
                    limit = {
                        check_variable = { lunar_id:WAR_lunar_value < 0 }
                    }
                    set_temp_variable = { color = 51 }
                }
                else = {
                    set_temp_variable = { color = lunar_id:WAR_lunar_value }
                    multiply_temp_variable = { color = 51 }
                    divide_temp_variable = { color = 100 }
                }
				add_to_temp_variable = { color = 1 }
			}
		}

		properties = {
			tooltip_entry = {
				image = "GFX_WAR_lunar_tt_[?lunar_id]"
				x = WAR_lunar_map_x^l
				y = WAR_lunar_map_y^l
			}
            map_entry = {
				image = "GFX_WAR_lunar_map_[?lunar_id]"
				frame = color
				x = WAR_lunar_map_x^l
				y = WAR_lunar_map_y^l
			}
		}
	}
}
