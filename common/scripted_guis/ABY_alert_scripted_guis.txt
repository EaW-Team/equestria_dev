#Credit to Fire-Lord-Sozin
scripted_gui = {
	ABY_alert_icon_gui = {
		window_name = "ABY_alert_icon_window"
		context_type = player_context
		parent_window_name = "after_intel_agency_button"
		dirty = ABY_alert_type_array^num
		visible = {
			check_variable = {
				ABY_alert_type_array^num > 0
			}
		}
		dynamic_lists = {
			ABY_alert_icon_window_list = {
				array = ABY_alert_type_array
				change_scope = no
				entry_container = ABY_alert_icon_entry
				index = ABY_alert_index
				value = ABY_alert_id
			}
		}
		properties = {
			ABY_alert_icon = { frame = ABY_alert_type_array^ABY_alert_index } #You can use a forth array if you want the frame of the alert to be discoupled from id
		}
		effects = {
			#ABY_alert_icon_click = { ABY_alert_icon_click_effect = yes } #Use this if you want clicking on the alert to have an effect
			ABY_alert_icon_right_click = { #Dismisses the alert by removing its array entry from the list
				hidden_effect = {
					remove_from_array = { array = ABY_alert_type_array index = ABY_alert_index }
					remove_from_array = { array = ABY_alert_location_array index = ABY_alert_index }
					remove_from_array = { array = ABY_alert_special_array index = ABY_alert_index }
				}
			}
			ABY_alert_icon_shift_right_click = { #Marks the alert type as hidden and removes all alerts of that type currently active
				add_to_array = { ABY_alert_icon_hidden_array = ABY_alert_id }
				set_temp_variable = { ABY_alert_index_to_remove = ABY_alert_type_array^num }
				while_loop_effect = {
					limit = { check_variable = { ABY_alert_index_to_remove > 0 } }
					subtract_from_temp_variable = { ABY_alert_index_to_remove = 1 }
					if = {
						limit = { check_variable = { ABY_alert_type_array^ABY_alert_index_to_remove = ABY_alert_id } }
						remove_from_array = { array = ABY_alert_type_array index = ABY_alert_index_to_remove }
						remove_from_array = { array = ABY_alert_location_array index = ABY_alert_index_to_remove }
						remove_from_array = { array = ABY_alert_special_array index = ABY_alert_index_to_remove }
					}
				}
			}
		}
		triggers = {
			ABY_alert_icon_glow_red_visible = { ABY_alert_icon_red = yes }
			ABY_alert_icon_glow_yellow_visible = { ABY_alert_icon_red = no }
		}
	}
}