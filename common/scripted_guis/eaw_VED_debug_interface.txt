# Contain the scripted gui for the debug interface

scripted_gui = {
	VED_debug_interface_top_button_scripted_gui = {
		window_name = VED_debug_interface_top_button_gui
		parent_window_token = top_bar
		context_type = player_context
		dirty = dummy_never_updated

		visible = {
			has_country_flag = VED_activated_debug_gui
		}

		effects = {
			debug_button_click = {
				if = {
					limit = { has_country_flag = VED_display_debug_interface }
					clr_country_flag = VED_display_debug_interface
				} else = {
					set_country_flag = VED_display_debug_interface
				}
			}
		}
	}

	VED_debug_interface_scripted_gui = {
		window_name = VED_debug_interface_gui
		context_type = player_context
		dirty = VED_debug_interface_update

		dynamic_lists = {
			debug_interface_tab_buttons_gridbox = {
				entry_container = "VED_debug_interface_button_tabs_gui"
				array = VED_debug_interface_tab_button_array
				index = VED_debug_interface_tab_button_index
				value = VED_debug_interface_tab_button_value
			}

			debug_interface_content_gridbox = {
				entry_container = "VED_debug_interface_tab_[?VED_debug_interface_current_tab]_gui"
				array = VED_debug_interface_content_array
				index = VED_debug_interface_content_index
				value = VED_debug_interface_content_value
			}
		}

		visible = {
			has_country_flag = VED_display_debug_interface
		}

		effects = {
			tab_button_click = {
				set_variable = { VED_debug_interface_current_tab = VED_debug_interface_tab_button_index }
				log = "Tab [?VED_debug_interface_tab_button_value.GetTokenLocalizedKey]"
				f_VED_debug_interface_update_display = yes
			}
		}
	}
}